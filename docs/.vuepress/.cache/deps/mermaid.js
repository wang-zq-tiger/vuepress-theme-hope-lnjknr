import {
  __commonJS,
  __esm,
  __export,
  __require,
  __toCommonJS,
  __toESM
} from "./chunk-IKJM6GHQ.js";

// node_modules/moment-mini/moment.min.js
var require_moment_min = __commonJS({
  "node_modules/moment-mini/moment.min.js"(exports2, module2) {
    !function(e, t) {
      "object" == typeof exports2 && "undefined" != typeof module2 ? module2.exports = t() : "function" == typeof define && define.amd ? define(t) : e.moment = t();
    }(exports2, function() {
      "use strict";
      var H;
      function f2() {
        return H.apply(null, arguments);
      }
      function a3(e3) {
        return e3 instanceof Array || "[object Array]" === Object.prototype.toString.call(e3);
      }
      function F(e3) {
        return null != e3 && "[object Object]" === Object.prototype.toString.call(e3);
      }
      function c7(e3, t4) {
        return Object.prototype.hasOwnProperty.call(e3, t4);
      }
      function L(e3) {
        if (Object.getOwnPropertyNames)
          return 0 === Object.getOwnPropertyNames(e3).length;
        for (var t4 in e3)
          if (c7(e3, t4))
            return;
        return 1;
      }
      function o(e3) {
        return void 0 === e3;
      }
      function u4(e3) {
        return "number" == typeof e3 || "[object Number]" === Object.prototype.toString.call(e3);
      }
      function V(e3) {
        return e3 instanceof Date || "[object Date]" === Object.prototype.toString.call(e3);
      }
      function G(e3, t4) {
        for (var n2 = [], s4 = e3.length, i2 = 0; i2 < s4; ++i2)
          n2.push(t4(e3[i2], i2));
        return n2;
      }
      function E7(e3, t4) {
        for (var n2 in t4)
          c7(t4, n2) && (e3[n2] = t4[n2]);
        return c7(t4, "toString") && (e3.toString = t4.toString), c7(t4, "valueOf") && (e3.valueOf = t4.valueOf), e3;
      }
      function l(e3, t4, n2, s4) {
        return Pt(e3, t4, n2, s4, true).utc();
      }
      function m(e3) {
        return null == e3._pf && (e3._pf = { empty: false, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: false, invalidEra: null, invalidMonth: null, invalidFormat: false, userInvalidated: false, iso: false, parsedDateParts: [], era: null, meridiem: null, rfc2822: false, weekdayMismatch: false }), e3._pf;
      }
      function A9(e3) {
        if (null == e3._isValid) {
          var t4 = m(e3), n2 = j.call(t4.parsedDateParts, function(e4) {
            return null != e4;
          }), n2 = !isNaN(e3._d.getTime()) && t4.overflow < 0 && !t4.empty && !t4.invalidEra && !t4.invalidMonth && !t4.invalidWeekday && !t4.weekdayMismatch && !t4.nullInput && !t4.invalidFormat && !t4.userInvalidated && (!t4.meridiem || t4.meridiem && n2);
          if (e3._strict && (n2 = n2 && 0 === t4.charsLeftOver && 0 === t4.unusedTokens.length && void 0 === t4.bigHour), null != Object.isFrozen && Object.isFrozen(e3))
            return n2;
          e3._isValid = n2;
        }
        return e3._isValid;
      }
      function I(e3) {
        var t4 = l(NaN);
        return null != e3 ? E7(m(t4), e3) : m(t4).userInvalidated = true, t4;
      }
      var j = Array.prototype.some || function(e3) {
        for (var t4 = Object(this), n2 = t4.length >>> 0, s4 = 0; s4 < n2; s4++)
          if (s4 in t4 && e3.call(this, t4[s4], s4, t4))
            return true;
        return false;
      }, Z = f2.momentProperties = [], z = false;
      function $(e3, t4) {
        var n2, s4, i2, r2 = Z.length;
        if (o(t4._isAMomentObject) || (e3._isAMomentObject = t4._isAMomentObject), o(t4._i) || (e3._i = t4._i), o(t4._f) || (e3._f = t4._f), o(t4._l) || (e3._l = t4._l), o(t4._strict) || (e3._strict = t4._strict), o(t4._tzm) || (e3._tzm = t4._tzm), o(t4._isUTC) || (e3._isUTC = t4._isUTC), o(t4._offset) || (e3._offset = t4._offset), o(t4._pf) || (e3._pf = m(t4)), o(t4._locale) || (e3._locale = t4._locale), 0 < r2)
          for (n2 = 0; n2 < r2; n2++)
            o(i2 = t4[s4 = Z[n2]]) || (e3[s4] = i2);
        return e3;
      }
      function q(e3) {
        $(this, e3), this._d = new Date(null != e3._d ? e3._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), false === z && (z = true, f2.updateOffset(this), z = false);
      }
      function h(e3) {
        return e3 instanceof q || null != e3 && null != e3._isAMomentObject;
      }
      function B8(e3) {
        false === f2.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e3);
      }
      function e(r2, a4) {
        var o2 = true;
        return E7(function() {
          if (null != f2.deprecationHandler && f2.deprecationHandler(null, r2), o2) {
            for (var e3, t4, n2 = [], s4 = arguments.length, i2 = 0; i2 < s4; i2++) {
              if (e3 = "", "object" == typeof arguments[i2]) {
                for (t4 in e3 += "\n[" + i2 + "] ", arguments[0])
                  c7(arguments[0], t4) && (e3 += t4 + ": " + arguments[0][t4] + ", ");
                e3 = e3.slice(0, -2);
              } else
                e3 = arguments[i2];
              n2.push(e3);
            }
            B8(r2 + "\nArguments: " + Array.prototype.slice.call(n2).join("") + "\n" + new Error().stack), o2 = false;
          }
          return a4.apply(this, arguments);
        }, a4);
      }
      var J = {};
      function Q(e3, t4) {
        null != f2.deprecationHandler && f2.deprecationHandler(e3, t4), J[e3] || (B8(t4), J[e3] = true);
      }
      function d(e3) {
        return "undefined" != typeof Function && e3 instanceof Function || "[object Function]" === Object.prototype.toString.call(e3);
      }
      function X3(e3, t4) {
        var n2, s4 = E7({}, e3);
        for (n2 in t4)
          c7(t4, n2) && (F(e3[n2]) && F(t4[n2]) ? (s4[n2] = {}, E7(s4[n2], e3[n2]), E7(s4[n2], t4[n2])) : null != t4[n2] ? s4[n2] = t4[n2] : delete s4[n2]);
        for (n2 in e3)
          c7(e3, n2) && !c7(t4, n2) && F(e3[n2]) && (s4[n2] = E7({}, s4[n2]));
        return s4;
      }
      function K7(e3) {
        null != e3 && this.set(e3);
      }
      f2.suppressDeprecationWarnings = false, f2.deprecationHandler = null;
      var ee = Object.keys || function(e3) {
        var t4, n2 = [];
        for (t4 in e3)
          c7(e3, t4) && n2.push(t4);
        return n2;
      };
      function r(e3, t4, n2) {
        var s4 = "" + Math.abs(e3);
        return (0 <= e3 ? n2 ? "+" : "" : "-") + Math.pow(10, Math.max(0, t4 - s4.length)).toString().substr(1) + s4;
      }
      var te = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, ne = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, se = {}, ie = {};
      function s3(e3, t4, n2, s4) {
        var i2 = "string" == typeof s4 ? function() {
          return this[s4]();
        } : s4;
        e3 && (ie[e3] = i2), t4 && (ie[t4[0]] = function() {
          return r(i2.apply(this, arguments), t4[1], t4[2]);
        }), n2 && (ie[n2] = function() {
          return this.localeData().ordinal(i2.apply(this, arguments), e3);
        });
      }
      function re4(e3, t4) {
        return e3.isValid() ? (t4 = ae(t4, e3.localeData()), se[t4] = se[t4] || function(s4) {
          for (var e4, i2 = s4.match(te), t5 = 0, r2 = i2.length; t5 < r2; t5++)
            ie[i2[t5]] ? i2[t5] = ie[i2[t5]] : i2[t5] = (e4 = i2[t5]).match(/\[[\s\S]/) ? e4.replace(/^\[|\]$/g, "") : e4.replace(/\\/g, "");
          return function(e6) {
            for (var t6 = "", n2 = 0; n2 < r2; n2++)
              t6 += d(i2[n2]) ? i2[n2].call(e6, s4) : i2[n2];
            return t6;
          };
        }(t4), se[t4](e3)) : e3.localeData().invalidDate();
      }
      function ae(e3, t4) {
        var n2 = 5;
        function s4(e4) {
          return t4.longDateFormat(e4) || e4;
        }
        for (ne.lastIndex = 0; 0 <= n2 && ne.test(e3); )
          e3 = e3.replace(ne, s4), ne.lastIndex = 0, --n2;
        return e3;
      }
      var oe = {};
      function t(e3, t4) {
        var n2 = e3.toLowerCase();
        oe[n2] = oe[n2 + "s"] = oe[t4] = e3;
      }
      function _2(e3) {
        return "string" == typeof e3 ? oe[e3] || oe[e3.toLowerCase()] : void 0;
      }
      function ue(e3) {
        var t4, n2, s4 = {};
        for (n2 in e3)
          c7(e3, n2) && (t4 = _2(n2)) && (s4[t4] = e3[n2]);
        return s4;
      }
      var le = {};
      function n(e3, t4) {
        le[e3] = t4;
      }
      function he(e3) {
        return e3 % 4 == 0 && e3 % 100 != 0 || e3 % 400 == 0;
      }
      function y7(e3) {
        return e3 < 0 ? Math.ceil(e3) || 0 : Math.floor(e3);
      }
      function g(e3) {
        var e3 = +e3, t4 = 0;
        return t4 = 0 != e3 && isFinite(e3) ? y7(e3) : t4;
      }
      function de2(t4, n2) {
        return function(e3) {
          return null != e3 ? (fe(this, t4, e3), f2.updateOffset(this, n2), this) : ce2(this, t4);
        };
      }
      function ce2(e3, t4) {
        return e3.isValid() ? e3._d["get" + (e3._isUTC ? "UTC" : "") + t4]() : NaN;
      }
      function fe(e3, t4, n2) {
        e3.isValid() && !isNaN(n2) && ("FullYear" === t4 && he(e3.year()) && 1 === e3.month() && 29 === e3.date() ? (n2 = g(n2), e3._d["set" + (e3._isUTC ? "UTC" : "") + t4](n2, e3.month(), We(n2, e3.month()))) : e3._d["set" + (e3._isUTC ? "UTC" : "") + t4](n2));
      }
      var i = /\d/, w2 = /\d\d/, me = /\d{3}/, _e = /\d{4}/, ye = /[+-]?\d{6}/, p = /\d\d?/, ge = /\d\d\d\d?/, we = /\d\d\d\d\d\d?/, pe = /\d{1,3}/, ke = /\d{1,4}/, ve = /[+-]?\d{1,6}/, Me = /\d+/, De = /[+-]?\d+/, Se = /Z|[+-]\d\d:?\d\d/gi, Ye = /Z|[+-]\d\d(?::?\d\d)?/gi, k3 = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;
      function v2(e3, n2, s4) {
        be[e3] = d(n2) ? n2 : function(e4, t4) {
          return e4 && s4 ? s4 : n2;
        };
      }
      function Oe(e3, t4) {
        return c7(be, e3) ? be[e3](t4._strict, t4._locale) : new RegExp(M3(e3.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e4, t5, n2, s4, i2) {
          return t5 || n2 || s4 || i2;
        })));
      }
      function M3(e3) {
        return e3.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
      }
      var be = {}, xe = {};
      function D8(e3, n2) {
        var t4, s4, i2 = n2;
        for ("string" == typeof e3 && (e3 = [e3]), u4(n2) && (i2 = function(e4, t5) {
          t5[n2] = g(e4);
        }), s4 = e3.length, t4 = 0; t4 < s4; t4++)
          xe[e3[t4]] = i2;
      }
      function Te(e3, i2) {
        D8(e3, function(e4, t4, n2, s4) {
          n2._w = n2._w || {}, i2(e4, n2._w, n2, s4);
        });
      }
      var S, Y3 = 0, O = 1, b = 2, x7 = 3, T = 4, N = 5, Ne = 6, Pe = 7, Re = 8;
      function We(e3, t4) {
        if (isNaN(e3) || isNaN(t4))
          return NaN;
        var n2 = (t4 % (n2 = 12) + n2) % n2;
        return e3 += (t4 - n2) / 12, 1 == n2 ? he(e3) ? 29 : 28 : 31 - n2 % 7 % 2;
      }
      S = Array.prototype.indexOf || function(e3) {
        for (var t4 = 0; t4 < this.length; ++t4)
          if (this[t4] === e3)
            return t4;
        return -1;
      }, s3("M", ["MM", 2], "Mo", function() {
        return this.month() + 1;
      }), s3("MMM", 0, 0, function(e3) {
        return this.localeData().monthsShort(this, e3);
      }), s3("MMMM", 0, 0, function(e3) {
        return this.localeData().months(this, e3);
      }), t("month", "M"), n("month", 8), v2("M", p), v2("MM", p, w2), v2("MMM", function(e3, t4) {
        return t4.monthsShortRegex(e3);
      }), v2("MMMM", function(e3, t4) {
        return t4.monthsRegex(e3);
      }), D8(["M", "MM"], function(e3, t4) {
        t4[O] = g(e3) - 1;
      }), D8(["MMM", "MMMM"], function(e3, t4, n2, s4) {
        s4 = n2._locale.monthsParse(e3, s4, n2._strict);
        null != s4 ? t4[O] = s4 : m(n2).invalidMonth = e3;
      });
      var Ce = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), Ue = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), He = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, Fe = k3, Le = k3;
      function Ve(e3, t4) {
        var n2;
        if (e3.isValid()) {
          if ("string" == typeof t4) {
            if (/^\d+$/.test(t4))
              t4 = g(t4);
            else if (!u4(t4 = e3.localeData().monthsParse(t4)))
              return;
          }
          n2 = Math.min(e3.date(), We(e3.year(), t4)), e3._d["set" + (e3._isUTC ? "UTC" : "") + "Month"](t4, n2);
        }
      }
      function Ge(e3) {
        return null != e3 ? (Ve(this, e3), f2.updateOffset(this, true), this) : ce2(this, "Month");
      }
      function Ee() {
        function e3(e4, t5) {
          return t5.length - e4.length;
        }
        for (var t4, n2 = [], s4 = [], i2 = [], r2 = 0; r2 < 12; r2++)
          t4 = l([2e3, r2]), n2.push(this.monthsShort(t4, "")), s4.push(this.months(t4, "")), i2.push(this.months(t4, "")), i2.push(this.monthsShort(t4, ""));
        for (n2.sort(e3), s4.sort(e3), i2.sort(e3), r2 = 0; r2 < 12; r2++)
          n2[r2] = M3(n2[r2]), s4[r2] = M3(s4[r2]);
        for (r2 = 0; r2 < 24; r2++)
          i2[r2] = M3(i2[r2]);
        this._monthsRegex = new RegExp("^(" + i2.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + s4.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + n2.join("|") + ")", "i");
      }
      function Ae(e3) {
        return he(e3) ? 366 : 365;
      }
      s3("Y", 0, 0, function() {
        var e3 = this.year();
        return e3 <= 9999 ? r(e3, 4) : "+" + e3;
      }), s3(0, ["YY", 2], 0, function() {
        return this.year() % 100;
      }), s3(0, ["YYYY", 4], 0, "year"), s3(0, ["YYYYY", 5], 0, "year"), s3(0, ["YYYYYY", 6, true], 0, "year"), t("year", "y"), n("year", 1), v2("Y", De), v2("YY", p, w2), v2("YYYY", ke, _e), v2("YYYYY", ve, ye), v2("YYYYYY", ve, ye), D8(["YYYYY", "YYYYYY"], Y3), D8("YYYY", function(e3, t4) {
        t4[Y3] = 2 === e3.length ? f2.parseTwoDigitYear(e3) : g(e3);
      }), D8("YY", function(e3, t4) {
        t4[Y3] = f2.parseTwoDigitYear(e3);
      }), D8("Y", function(e3, t4) {
        t4[Y3] = parseInt(e3, 10);
      }), f2.parseTwoDigitYear = function(e3) {
        return g(e3) + (68 < g(e3) ? 1900 : 2e3);
      };
      var Ie = de2("FullYear", true);
      function je(e3, t4, n2, s4, i2, r2, a4) {
        var o2;
        return e3 < 100 && 0 <= e3 ? (o2 = new Date(e3 + 400, t4, n2, s4, i2, r2, a4), isFinite(o2.getFullYear()) && o2.setFullYear(e3)) : o2 = new Date(e3, t4, n2, s4, i2, r2, a4), o2;
      }
      function Ze(e3) {
        var t4;
        return e3 < 100 && 0 <= e3 ? ((t4 = Array.prototype.slice.call(arguments))[0] = e3 + 400, t4 = new Date(Date.UTC.apply(null, t4)), isFinite(t4.getUTCFullYear()) && t4.setUTCFullYear(e3)) : t4 = new Date(Date.UTC.apply(null, arguments)), t4;
      }
      function ze(e3, t4, n2) {
        n2 = 7 + t4 - n2;
        return n2 - (7 + Ze(e3, 0, n2).getUTCDay() - t4) % 7 - 1;
      }
      function $e(e3, t4, n2, s4, i2) {
        var r2, t4 = 1 + 7 * (t4 - 1) + (7 + n2 - s4) % 7 + ze(e3, s4, i2), n2 = t4 <= 0 ? Ae(r2 = e3 - 1) + t4 : t4 > Ae(e3) ? (r2 = e3 + 1, t4 - Ae(e3)) : (r2 = e3, t4);
        return { year: r2, dayOfYear: n2 };
      }
      function qe(e3, t4, n2) {
        var s4, i2, r2 = ze(e3.year(), t4, n2), r2 = Math.floor((e3.dayOfYear() - r2 - 1) / 7) + 1;
        return r2 < 1 ? s4 = r2 + P(i2 = e3.year() - 1, t4, n2) : r2 > P(e3.year(), t4, n2) ? (s4 = r2 - P(e3.year(), t4, n2), i2 = e3.year() + 1) : (i2 = e3.year(), s4 = r2), { week: s4, year: i2 };
      }
      function P(e3, t4, n2) {
        var s4 = ze(e3, t4, n2), t4 = ze(e3 + 1, t4, n2);
        return (Ae(e3) - s4 + t4) / 7;
      }
      s3("w", ["ww", 2], "wo", "week"), s3("W", ["WW", 2], "Wo", "isoWeek"), t("week", "w"), t("isoWeek", "W"), n("week", 5), n("isoWeek", 5), v2("w", p), v2("ww", p, w2), v2("W", p), v2("WW", p, w2), Te(["w", "ww", "W", "WW"], function(e3, t4, n2, s4) {
        t4[s4.substr(0, 1)] = g(e3);
      });
      function Be(e3, t4) {
        return e3.slice(t4, 7).concat(e3.slice(0, t4));
      }
      s3("d", 0, "do", "day"), s3("dd", 0, 0, function(e3) {
        return this.localeData().weekdaysMin(this, e3);
      }), s3("ddd", 0, 0, function(e3) {
        return this.localeData().weekdaysShort(this, e3);
      }), s3("dddd", 0, 0, function(e3) {
        return this.localeData().weekdays(this, e3);
      }), s3("e", 0, 0, "weekday"), s3("E", 0, 0, "isoWeekday"), t("day", "d"), t("weekday", "e"), t("isoWeekday", "E"), n("day", 11), n("weekday", 11), n("isoWeekday", 11), v2("d", p), v2("e", p), v2("E", p), v2("dd", function(e3, t4) {
        return t4.weekdaysMinRegex(e3);
      }), v2("ddd", function(e3, t4) {
        return t4.weekdaysShortRegex(e3);
      }), v2("dddd", function(e3, t4) {
        return t4.weekdaysRegex(e3);
      }), Te(["dd", "ddd", "dddd"], function(e3, t4, n2, s4) {
        s4 = n2._locale.weekdaysParse(e3, s4, n2._strict);
        null != s4 ? t4.d = s4 : m(n2).invalidWeekday = e3;
      }), Te(["d", "e", "E"], function(e3, t4, n2, s4) {
        t4[s4] = g(e3);
      });
      var Je = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), Qe = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), Xe = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), Ke = k3, et = k3, tt = k3;
      function nt() {
        function e3(e4, t5) {
          return t5.length - e4.length;
        }
        for (var t4, n2, s4, i2 = [], r2 = [], a4 = [], o2 = [], u5 = 0; u5 < 7; u5++)
          s4 = l([2e3, 1]).day(u5), t4 = M3(this.weekdaysMin(s4, "")), n2 = M3(this.weekdaysShort(s4, "")), s4 = M3(this.weekdays(s4, "")), i2.push(t4), r2.push(n2), a4.push(s4), o2.push(t4), o2.push(n2), o2.push(s4);
        i2.sort(e3), r2.sort(e3), a4.sort(e3), o2.sort(e3), this._weekdaysRegex = new RegExp("^(" + o2.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + a4.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + r2.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + i2.join("|") + ")", "i");
      }
      function st() {
        return this.hours() % 12 || 12;
      }
      function it(e3, t4) {
        s3(e3, 0, 0, function() {
          return this.localeData().meridiem(this.hours(), this.minutes(), t4);
        });
      }
      function rt(e3, t4) {
        return t4._meridiemParse;
      }
      s3("H", ["HH", 2], 0, "hour"), s3("h", ["hh", 2], 0, st), s3("k", ["kk", 2], 0, function() {
        return this.hours() || 24;
      }), s3("hmm", 0, 0, function() {
        return "" + st.apply(this) + r(this.minutes(), 2);
      }), s3("hmmss", 0, 0, function() {
        return "" + st.apply(this) + r(this.minutes(), 2) + r(this.seconds(), 2);
      }), s3("Hmm", 0, 0, function() {
        return "" + this.hours() + r(this.minutes(), 2);
      }), s3("Hmmss", 0, 0, function() {
        return "" + this.hours() + r(this.minutes(), 2) + r(this.seconds(), 2);
      }), it("a", true), it("A", false), t("hour", "h"), n("hour", 13), v2("a", rt), v2("A", rt), v2("H", p), v2("h", p), v2("k", p), v2("HH", p, w2), v2("hh", p, w2), v2("kk", p, w2), v2("hmm", ge), v2("hmmss", we), v2("Hmm", ge), v2("Hmmss", we), D8(["H", "HH"], x7), D8(["k", "kk"], function(e3, t4, n2) {
        e3 = g(e3);
        t4[x7] = 24 === e3 ? 0 : e3;
      }), D8(["a", "A"], function(e3, t4, n2) {
        n2._isPm = n2._locale.isPM(e3), n2._meridiem = e3;
      }), D8(["h", "hh"], function(e3, t4, n2) {
        t4[x7] = g(e3), m(n2).bigHour = true;
      }), D8("hmm", function(e3, t4, n2) {
        var s4 = e3.length - 2;
        t4[x7] = g(e3.substr(0, s4)), t4[T] = g(e3.substr(s4)), m(n2).bigHour = true;
      }), D8("hmmss", function(e3, t4, n2) {
        var s4 = e3.length - 4, i2 = e3.length - 2;
        t4[x7] = g(e3.substr(0, s4)), t4[T] = g(e3.substr(s4, 2)), t4[N] = g(e3.substr(i2)), m(n2).bigHour = true;
      }), D8("Hmm", function(e3, t4, n2) {
        var s4 = e3.length - 2;
        t4[x7] = g(e3.substr(0, s4)), t4[T] = g(e3.substr(s4));
      }), D8("Hmmss", function(e3, t4, n2) {
        var s4 = e3.length - 4, i2 = e3.length - 2;
        t4[x7] = g(e3.substr(0, s4)), t4[T] = g(e3.substr(s4, 2)), t4[N] = g(e3.substr(i2));
      });
      k3 = de2("Hours", true);
      var at, ot = { calendar: { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, longDateFormat: { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, invalidDate: "Invalid date", ordinal: "%d", dayOfMonthOrdinalParse: /\d{1,2}/, relativeTime: { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", w: "a week", ww: "%d weeks", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, months: Ce, monthsShort: Ue, week: { dow: 0, doy: 6 }, weekdays: Je, weekdaysMin: Xe, weekdaysShort: Qe, meridiemParse: /[ap]\.?m?\.?/i }, R = {}, ut = {};
      function lt(e3) {
        return e3 && e3.toLowerCase().replace("_", "-");
      }
      function ht(e3) {
        for (var t4, n2, s4, i2, r2 = 0; r2 < e3.length; ) {
          for (t4 = (i2 = lt(e3[r2]).split("-")).length, n2 = (n2 = lt(e3[r2 + 1])) ? n2.split("-") : null; 0 < t4; ) {
            if (s4 = dt(i2.slice(0, t4).join("-")))
              return s4;
            if (n2 && n2.length >= t4 && function(e4, t5) {
              for (var n3 = Math.min(e4.length, t5.length), s5 = 0; s5 < n3; s5 += 1)
                if (e4[s5] !== t5[s5])
                  return s5;
              return n3;
            }(i2, n2) >= t4 - 1)
              break;
            t4--;
          }
          r2++;
        }
        return at;
      }
      function dt(t4) {
        var e3;
        if (void 0 === R[t4] && "undefined" != typeof module2 && module2 && module2.exports && null != t4.match("^[^/\\\\]*$"))
          try {
            e3 = at._abbr, __require("./locale/" + t4), ct(e3);
          } catch (e4) {
            R[t4] = null;
          }
        return R[t4];
      }
      function ct(e3, t4) {
        return e3 && ((t4 = o(t4) ? mt(e3) : ft(e3, t4)) ? at = t4 : "undefined" != typeof console && console.warn && console.warn("Locale " + e3 + " not found. Did you forget to load it?")), at._abbr;
      }
      function ft(e3, t4) {
        if (null === t4)
          return delete R[e3], null;
        var n2, s4 = ot;
        if (t4.abbr = e3, null != R[e3])
          Q("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), s4 = R[e3]._config;
        else if (null != t4.parentLocale)
          if (null != R[t4.parentLocale])
            s4 = R[t4.parentLocale]._config;
          else {
            if (null == (n2 = dt(t4.parentLocale)))
              return ut[t4.parentLocale] || (ut[t4.parentLocale] = []), ut[t4.parentLocale].push({ name: e3, config: t4 }), null;
            s4 = n2._config;
          }
        return R[e3] = new K7(X3(s4, t4)), ut[e3] && ut[e3].forEach(function(e4) {
          ft(e4.name, e4.config);
        }), ct(e3), R[e3];
      }
      function mt(e3) {
        var t4;
        if (!(e3 = e3 && e3._locale && e3._locale._abbr ? e3._locale._abbr : e3))
          return at;
        if (!a3(e3)) {
          if (t4 = dt(e3))
            return t4;
          e3 = [e3];
        }
        return ht(e3);
      }
      function _t(e3) {
        var t4 = e3._a;
        return t4 && -2 === m(e3).overflow && (t4 = t4[O] < 0 || 11 < t4[O] ? O : t4[b] < 1 || t4[b] > We(t4[Y3], t4[O]) ? b : t4[x7] < 0 || 24 < t4[x7] || 24 === t4[x7] && (0 !== t4[T] || 0 !== t4[N] || 0 !== t4[Ne]) ? x7 : t4[T] < 0 || 59 < t4[T] ? T : t4[N] < 0 || 59 < t4[N] ? N : t4[Ne] < 0 || 999 < t4[Ne] ? Ne : -1, m(e3)._overflowDayOfYear && (t4 < Y3 || b < t4) && (t4 = b), m(e3)._overflowWeeks && -1 === t4 && (t4 = Pe), m(e3)._overflowWeekday && -1 === t4 && (t4 = Re), m(e3).overflow = t4), e3;
      }
      var yt = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, gt = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, wt = /Z|[+-]\d\d(?::?\d\d)?/, pt = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, false], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, false], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, false], ["YYYYDDD", /\d{7}/], ["YYYYMM", /\d{6}/, false], ["YYYY", /\d{4}/, false]], kt = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], vt = /^\/?Date\((-?\d+)/i, Mt = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, Dt = { UT: 0, GMT: 0, EDT: -240, EST: -300, CDT: -300, CST: -360, MDT: -360, MST: -420, PDT: -420, PST: -480 };
      function St(e3) {
        var t4, n2, s4, i2, r2, a4, o2 = e3._i, u5 = yt.exec(o2) || gt.exec(o2), o2 = pt.length, l2 = kt.length;
        if (u5) {
          for (m(e3).iso = true, t4 = 0, n2 = o2; t4 < n2; t4++)
            if (pt[t4][1].exec(u5[1])) {
              i2 = pt[t4][0], s4 = false !== pt[t4][2];
              break;
            }
          if (null == i2)
            e3._isValid = false;
          else {
            if (u5[3]) {
              for (t4 = 0, n2 = l2; t4 < n2; t4++)
                if (kt[t4][1].exec(u5[3])) {
                  r2 = (u5[2] || " ") + kt[t4][0];
                  break;
                }
              if (null == r2)
                return void (e3._isValid = false);
            }
            if (s4 || null == r2) {
              if (u5[4]) {
                if (!wt.exec(u5[4]))
                  return void (e3._isValid = false);
                a4 = "Z";
              }
              e3._f = i2 + (r2 || "") + (a4 || ""), Tt(e3);
            } else
              e3._isValid = false;
          }
        } else
          e3._isValid = false;
      }
      function Yt(e3, t4, n2, s4, i2, r2) {
        e3 = [function(e4) {
          e4 = parseInt(e4, 10);
          {
            if (e4 <= 49)
              return 2e3 + e4;
            if (e4 <= 999)
              return 1900 + e4;
          }
          return e4;
        }(e3), Ue.indexOf(t4), parseInt(n2, 10), parseInt(s4, 10), parseInt(i2, 10)];
        return r2 && e3.push(parseInt(r2, 10)), e3;
      }
      function Ot(e3) {
        var t4, n2, s4, i2, r2 = Mt.exec(e3._i.replace(/\([^()]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, ""));
        r2 ? (t4 = Yt(r2[4], r2[3], r2[2], r2[5], r2[6], r2[7]), n2 = r2[1], s4 = t4, i2 = e3, n2 && Qe.indexOf(n2) !== new Date(s4[0], s4[1], s4[2]).getDay() ? (m(i2).weekdayMismatch = true, i2._isValid = false) : (e3._a = t4, e3._tzm = (n2 = r2[8], s4 = r2[9], i2 = r2[10], n2 ? Dt[n2] : s4 ? 0 : 60 * (((n2 = parseInt(i2, 10)) - (s4 = n2 % 100)) / 100) + s4), e3._d = Ze.apply(null, e3._a), e3._d.setUTCMinutes(e3._d.getUTCMinutes() - e3._tzm), m(e3).rfc2822 = true)) : e3._isValid = false;
      }
      function bt(e3, t4, n2) {
        return null != e3 ? e3 : null != t4 ? t4 : n2;
      }
      function xt(e3) {
        var t4, n2, s4, i2, r2, a4, o2, u5, l2, h2, d2, c8 = [];
        if (!e3._d) {
          for (s4 = e3, i2 = new Date(f2.now()), n2 = s4._useUTC ? [i2.getUTCFullYear(), i2.getUTCMonth(), i2.getUTCDate()] : [i2.getFullYear(), i2.getMonth(), i2.getDate()], e3._w && null == e3._a[b] && null == e3._a[O] && (null != (i2 = (s4 = e3)._w).GG || null != i2.W || null != i2.E ? (u5 = 1, l2 = 4, r2 = bt(i2.GG, s4._a[Y3], qe(W(), 1, 4).year), a4 = bt(i2.W, 1), ((o2 = bt(i2.E, 1)) < 1 || 7 < o2) && (h2 = true)) : (u5 = s4._locale._week.dow, l2 = s4._locale._week.doy, d2 = qe(W(), u5, l2), r2 = bt(i2.gg, s4._a[Y3], d2.year), a4 = bt(i2.w, d2.week), null != i2.d ? ((o2 = i2.d) < 0 || 6 < o2) && (h2 = true) : null != i2.e ? (o2 = i2.e + u5, (i2.e < 0 || 6 < i2.e) && (h2 = true)) : o2 = u5), a4 < 1 || a4 > P(r2, u5, l2) ? m(s4)._overflowWeeks = true : null != h2 ? m(s4)._overflowWeekday = true : (d2 = $e(r2, a4, o2, u5, l2), s4._a[Y3] = d2.year, s4._dayOfYear = d2.dayOfYear)), null != e3._dayOfYear && (i2 = bt(e3._a[Y3], n2[Y3]), (e3._dayOfYear > Ae(i2) || 0 === e3._dayOfYear) && (m(e3)._overflowDayOfYear = true), h2 = Ze(i2, 0, e3._dayOfYear), e3._a[O] = h2.getUTCMonth(), e3._a[b] = h2.getUTCDate()), t4 = 0; t4 < 3 && null == e3._a[t4]; ++t4)
            e3._a[t4] = c8[t4] = n2[t4];
          for (; t4 < 7; t4++)
            e3._a[t4] = c8[t4] = null == e3._a[t4] ? 2 === t4 ? 1 : 0 : e3._a[t4];
          24 === e3._a[x7] && 0 === e3._a[T] && 0 === e3._a[N] && 0 === e3._a[Ne] && (e3._nextDay = true, e3._a[x7] = 0), e3._d = (e3._useUTC ? Ze : je).apply(null, c8), r2 = e3._useUTC ? e3._d.getUTCDay() : e3._d.getDay(), null != e3._tzm && e3._d.setUTCMinutes(e3._d.getUTCMinutes() - e3._tzm), e3._nextDay && (e3._a[x7] = 24), e3._w && void 0 !== e3._w.d && e3._w.d !== r2 && (m(e3).weekdayMismatch = true);
        }
      }
      function Tt(e3) {
        if (e3._f === f2.ISO_8601)
          St(e3);
        else if (e3._f === f2.RFC_2822)
          Ot(e3);
        else {
          e3._a = [], m(e3).empty = true;
          for (var t4, n2, s4, i2, r2, a4 = "" + e3._i, o2 = a4.length, u5 = 0, l2 = ae(e3._f, e3._locale).match(te) || [], h2 = l2.length, d2 = 0; d2 < h2; d2++)
            n2 = l2[d2], (t4 = (a4.match(Oe(n2, e3)) || [])[0]) && (0 < (s4 = a4.substr(0, a4.indexOf(t4))).length && m(e3).unusedInput.push(s4), a4 = a4.slice(a4.indexOf(t4) + t4.length), u5 += t4.length), ie[n2] ? (t4 ? m(e3).empty = false : m(e3).unusedTokens.push(n2), s4 = n2, r2 = e3, null != (i2 = t4) && c7(xe, s4) && xe[s4](i2, r2._a, r2, s4)) : e3._strict && !t4 && m(e3).unusedTokens.push(n2);
          m(e3).charsLeftOver = o2 - u5, 0 < a4.length && m(e3).unusedInput.push(a4), e3._a[x7] <= 12 && true === m(e3).bigHour && 0 < e3._a[x7] && (m(e3).bigHour = void 0), m(e3).parsedDateParts = e3._a.slice(0), m(e3).meridiem = e3._meridiem, e3._a[x7] = function(e4, t5, n3) {
            if (null == n3)
              return t5;
            return null != e4.meridiemHour ? e4.meridiemHour(t5, n3) : null != e4.isPM ? ((e4 = e4.isPM(n3)) && t5 < 12 && (t5 += 12), t5 = e4 || 12 !== t5 ? t5 : 0) : t5;
          }(e3._locale, e3._a[x7], e3._meridiem), null !== (o2 = m(e3).era) && (e3._a[Y3] = e3._locale.erasConvertYear(o2, e3._a[Y3])), xt(e3), _t(e3);
        }
      }
      function Nt(e3) {
        var t4, n2, s4, i2 = e3._i, r2 = e3._f;
        if (e3._locale = e3._locale || mt(e3._l), null === i2 || void 0 === r2 && "" === i2)
          return I({ nullInput: true });
        if ("string" == typeof i2 && (e3._i = i2 = e3._locale.preparse(i2)), h(i2))
          return new q(_t(i2));
        if (V(i2))
          e3._d = i2;
        else if (a3(r2))
          !function(e4) {
            var t5, n3, s5, i3, r3, a4, o2 = false, u5 = e4._f.length;
            if (0 === u5)
              return m(e4).invalidFormat = true, e4._d = new Date(NaN);
            for (i3 = 0; i3 < u5; i3++)
              r3 = 0, a4 = false, t5 = $({}, e4), null != e4._useUTC && (t5._useUTC = e4._useUTC), t5._f = e4._f[i3], Tt(t5), A9(t5) && (a4 = true), r3 = (r3 += m(t5).charsLeftOver) + 10 * m(t5).unusedTokens.length, m(t5).score = r3, o2 ? r3 < s5 && (s5 = r3, n3 = t5) : (null == s5 || r3 < s5 || a4) && (s5 = r3, n3 = t5, a4 && (o2 = true));
            E7(e4, n3 || t5);
          }(e3);
        else if (r2)
          Tt(e3);
        else if (o(r2 = (i2 = e3)._i))
          i2._d = new Date(f2.now());
        else
          V(r2) ? i2._d = new Date(r2.valueOf()) : "string" == typeof r2 ? (n2 = i2, null !== (t4 = vt.exec(n2._i)) ? n2._d = new Date(+t4[1]) : (St(n2), false === n2._isValid && (delete n2._isValid, Ot(n2), false === n2._isValid && (delete n2._isValid, n2._strict ? n2._isValid = false : f2.createFromInputFallback(n2))))) : a3(r2) ? (i2._a = G(r2.slice(0), function(e4) {
            return parseInt(e4, 10);
          }), xt(i2)) : F(r2) ? (t4 = i2)._d || (s4 = void 0 === (n2 = ue(t4._i)).day ? n2.date : n2.day, t4._a = G([n2.year, n2.month, s4, n2.hour, n2.minute, n2.second, n2.millisecond], function(e4) {
            return e4 && parseInt(e4, 10);
          }), xt(t4)) : u4(r2) ? i2._d = new Date(r2) : f2.createFromInputFallback(i2);
        return A9(e3) || (e3._d = null), e3;
      }
      function Pt(e3, t4, n2, s4, i2) {
        var r2 = {};
        return true !== t4 && false !== t4 || (s4 = t4, t4 = void 0), true !== n2 && false !== n2 || (s4 = n2, n2 = void 0), (F(e3) && L(e3) || a3(e3) && 0 === e3.length) && (e3 = void 0), r2._isAMomentObject = true, r2._useUTC = r2._isUTC = i2, r2._l = n2, r2._i = e3, r2._f = t4, r2._strict = s4, (i2 = new q(_t(Nt(i2 = r2))))._nextDay && (i2.add(1, "d"), i2._nextDay = void 0), i2;
      }
      function W(e3, t4, n2, s4) {
        return Pt(e3, t4, n2, s4, false);
      }
      f2.createFromInputFallback = e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(e3) {
        e3._d = new Date(e3._i + (e3._useUTC ? " UTC" : ""));
      }), f2.ISO_8601 = function() {
      }, f2.RFC_2822 = function() {
      };
      ge = e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var e3 = W.apply(null, arguments);
        return this.isValid() && e3.isValid() ? e3 < this ? this : e3 : I();
      }), we = e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var e3 = W.apply(null, arguments);
        return this.isValid() && e3.isValid() ? this < e3 ? this : e3 : I();
      });
      function Rt(e3, t4) {
        var n2, s4;
        if (!(t4 = 1 === t4.length && a3(t4[0]) ? t4[0] : t4).length)
          return W();
        for (n2 = t4[0], s4 = 1; s4 < t4.length; ++s4)
          t4[s4].isValid() && !t4[s4][e3](n2) || (n2 = t4[s4]);
        return n2;
      }
      var Wt = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"];
      function Ct(e3) {
        var e3 = ue(e3), t4 = e3.year || 0, n2 = e3.quarter || 0, s4 = e3.month || 0, i2 = e3.week || e3.isoWeek || 0, r2 = e3.day || 0, a4 = e3.hour || 0, o2 = e3.minute || 0, u5 = e3.second || 0, l2 = e3.millisecond || 0;
        this._isValid = function(e4) {
          var t5, n3, s5 = false, i3 = Wt.length;
          for (t5 in e4)
            if (c7(e4, t5) && (-1 === S.call(Wt, t5) || null != e4[t5] && isNaN(e4[t5])))
              return false;
          for (n3 = 0; n3 < i3; ++n3)
            if (e4[Wt[n3]]) {
              if (s5)
                return false;
              parseFloat(e4[Wt[n3]]) !== g(e4[Wt[n3]]) && (s5 = true);
            }
          return true;
        }(e3), this._milliseconds = +l2 + 1e3 * u5 + 6e4 * o2 + 1e3 * a4 * 60 * 60, this._days = +r2 + 7 * i2, this._months = +s4 + 3 * n2 + 12 * t4, this._data = {}, this._locale = mt(), this._bubble();
      }
      function Ut(e3) {
        return e3 instanceof Ct;
      }
      function Ht(e3) {
        return e3 < 0 ? -1 * Math.round(-1 * e3) : Math.round(e3);
      }
      function Ft(e3, n2) {
        s3(e3, 0, 0, function() {
          var e4 = this.utcOffset(), t4 = "+";
          return e4 < 0 && (e4 = -e4, t4 = "-"), t4 + r(~~(e4 / 60), 2) + n2 + r(~~e4 % 60, 2);
        });
      }
      Ft("Z", ":"), Ft("ZZ", ""), v2("Z", Ye), v2("ZZ", Ye), D8(["Z", "ZZ"], function(e3, t4, n2) {
        n2._useUTC = true, n2._tzm = Vt(Ye, e3);
      });
      var Lt = /([\+\-]|\d\d)/gi;
      function Vt(e3, t4) {
        var t4 = (t4 || "").match(e3);
        return null === t4 ? null : 0 === (t4 = 60 * (e3 = ((t4[t4.length - 1] || []) + "").match(Lt) || ["-", 0, 0])[1] + g(e3[2])) ? 0 : "+" === e3[0] ? t4 : -t4;
      }
      function Gt(e3, t4) {
        var n2;
        return t4._isUTC ? (t4 = t4.clone(), n2 = (h(e3) || V(e3) ? e3 : W(e3)).valueOf() - t4.valueOf(), t4._d.setTime(t4._d.valueOf() + n2), f2.updateOffset(t4, false), t4) : W(e3).local();
      }
      function Et(e3) {
        return -Math.round(e3._d.getTimezoneOffset());
      }
      function At() {
        return !!this.isValid() && (this._isUTC && 0 === this._offset);
      }
      f2.updateOffset = function() {
      };
      var It = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/, jt = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
      function C7(e3, t4) {
        var n2, s4 = e3, i2 = null;
        return Ut(e3) ? s4 = { ms: e3._milliseconds, d: e3._days, M: e3._months } : u4(e3) || !isNaN(+e3) ? (s4 = {}, t4 ? s4[t4] = +e3 : s4.milliseconds = +e3) : (i2 = It.exec(e3)) ? (n2 = "-" === i2[1] ? -1 : 1, s4 = { y: 0, d: g(i2[b]) * n2, h: g(i2[x7]) * n2, m: g(i2[T]) * n2, s: g(i2[N]) * n2, ms: g(Ht(1e3 * i2[Ne])) * n2 }) : (i2 = jt.exec(e3)) ? (n2 = "-" === i2[1] ? -1 : 1, s4 = { y: Zt(i2[2], n2), M: Zt(i2[3], n2), w: Zt(i2[4], n2), d: Zt(i2[5], n2), h: Zt(i2[6], n2), m: Zt(i2[7], n2), s: Zt(i2[8], n2) }) : null == s4 ? s4 = {} : "object" == typeof s4 && ("from" in s4 || "to" in s4) && (t4 = function(e4, t5) {
          var n3;
          if (!e4.isValid() || !t5.isValid())
            return { milliseconds: 0, months: 0 };
          t5 = Gt(t5, e4), e4.isBefore(t5) ? n3 = zt(e4, t5) : ((n3 = zt(t5, e4)).milliseconds = -n3.milliseconds, n3.months = -n3.months);
          return n3;
        }(W(s4.from), W(s4.to)), (s4 = {}).ms = t4.milliseconds, s4.M = t4.months), i2 = new Ct(s4), Ut(e3) && c7(e3, "_locale") && (i2._locale = e3._locale), Ut(e3) && c7(e3, "_isValid") && (i2._isValid = e3._isValid), i2;
      }
      function Zt(e3, t4) {
        e3 = e3 && parseFloat(e3.replace(",", "."));
        return (isNaN(e3) ? 0 : e3) * t4;
      }
      function zt(e3, t4) {
        var n2 = {};
        return n2.months = t4.month() - e3.month() + 12 * (t4.year() - e3.year()), e3.clone().add(n2.months, "M").isAfter(t4) && --n2.months, n2.milliseconds = +t4 - +e3.clone().add(n2.months, "M"), n2;
      }
      function $t(s4, i2) {
        return function(e3, t4) {
          var n2;
          return null === t4 || isNaN(+t4) || (Q(i2, "moment()." + i2 + "(period, number) is deprecated. Please use moment()." + i2 + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), n2 = e3, e3 = t4, t4 = n2), qt(this, C7(e3, t4), s4), this;
        };
      }
      function qt(e3, t4, n2, s4) {
        var i2 = t4._milliseconds, r2 = Ht(t4._days), t4 = Ht(t4._months);
        e3.isValid() && (s4 = null == s4 || s4, t4 && Ve(e3, ce2(e3, "Month") + t4 * n2), r2 && fe(e3, "Date", ce2(e3, "Date") + r2 * n2), i2 && e3._d.setTime(e3._d.valueOf() + i2 * n2), s4 && f2.updateOffset(e3, r2 || t4));
      }
      C7.fn = Ct.prototype, C7.invalid = function() {
        return C7(NaN);
      };
      Ce = $t(1, "add"), Je = $t(-1, "subtract");
      function Bt(e3) {
        return "string" == typeof e3 || e3 instanceof String;
      }
      function Jt(e3) {
        return h(e3) || V(e3) || Bt(e3) || u4(e3) || function(t4) {
          var e4 = a3(t4), n2 = false;
          e4 && (n2 = 0 === t4.filter(function(e6) {
            return !u4(e6) && Bt(t4);
          }).length);
          return e4 && n2;
        }(e3) || function(e4) {
          var t4, n2, s4 = F(e4) && !L(e4), i2 = false, r2 = ["years", "year", "y", "months", "month", "M", "days", "day", "d", "dates", "date", "D", "hours", "hour", "h", "minutes", "minute", "m", "seconds", "second", "s", "milliseconds", "millisecond", "ms"], a4 = r2.length;
          for (t4 = 0; t4 < a4; t4 += 1)
            n2 = r2[t4], i2 = i2 || c7(e4, n2);
          return s4 && i2;
        }(e3) || null == e3;
      }
      function Qt(e3, t4) {
        if (e3.date() < t4.date())
          return -Qt(t4, e3);
        var n2 = 12 * (t4.year() - e3.year()) + (t4.month() - e3.month()), s4 = e3.clone().add(n2, "months"), t4 = t4 - s4 < 0 ? (t4 - s4) / (s4 - e3.clone().add(n2 - 1, "months")) : (t4 - s4) / (e3.clone().add(1 + n2, "months") - s4);
        return -(n2 + t4) || 0;
      }
      function Xt(e3) {
        return void 0 === e3 ? this._locale._abbr : (null != (e3 = mt(e3)) && (this._locale = e3), this);
      }
      f2.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", f2.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
      Xe = e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e3) {
        return void 0 === e3 ? this.localeData() : this.locale(e3);
      });
      function Kt() {
        return this._locale;
      }
      var en = 126227808e5;
      function tn(e3, t4) {
        return (e3 % t4 + t4) % t4;
      }
      function nn(e3, t4, n2) {
        return e3 < 100 && 0 <= e3 ? new Date(e3 + 400, t4, n2) - en : new Date(e3, t4, n2).valueOf();
      }
      function sn(e3, t4, n2) {
        return e3 < 100 && 0 <= e3 ? Date.UTC(e3 + 400, t4, n2) - en : Date.UTC(e3, t4, n2);
      }
      function rn(e3, t4) {
        return t4.erasAbbrRegex(e3);
      }
      function an() {
        for (var e3 = [], t4 = [], n2 = [], s4 = [], i2 = this.eras(), r2 = 0, a4 = i2.length; r2 < a4; ++r2)
          t4.push(M3(i2[r2].name)), e3.push(M3(i2[r2].abbr)), n2.push(M3(i2[r2].narrow)), s4.push(M3(i2[r2].name)), s4.push(M3(i2[r2].abbr)), s4.push(M3(i2[r2].narrow));
        this._erasRegex = new RegExp("^(" + s4.join("|") + ")", "i"), this._erasNameRegex = new RegExp("^(" + t4.join("|") + ")", "i"), this._erasAbbrRegex = new RegExp("^(" + e3.join("|") + ")", "i"), this._erasNarrowRegex = new RegExp("^(" + n2.join("|") + ")", "i");
      }
      function on(e3, t4) {
        s3(0, [e3, e3.length], 0, t4);
      }
      function un(e3, t4, n2, s4, i2) {
        var r2;
        return null == e3 ? qe(this, s4, i2).year : (r2 = P(e3, s4, i2), function(e4, t5, n3, s5, i3) {
          e4 = $e(e4, t5, n3, s5, i3), t5 = Ze(e4.year, 0, e4.dayOfYear);
          return this.year(t5.getUTCFullYear()), this.month(t5.getUTCMonth()), this.date(t5.getUTCDate()), this;
        }.call(this, e3, t4 = r2 < t4 ? r2 : t4, n2, s4, i2));
      }
      s3("N", 0, 0, "eraAbbr"), s3("NN", 0, 0, "eraAbbr"), s3("NNN", 0, 0, "eraAbbr"), s3("NNNN", 0, 0, "eraName"), s3("NNNNN", 0, 0, "eraNarrow"), s3("y", ["y", 1], "yo", "eraYear"), s3("y", ["yy", 2], 0, "eraYear"), s3("y", ["yyy", 3], 0, "eraYear"), s3("y", ["yyyy", 4], 0, "eraYear"), v2("N", rn), v2("NN", rn), v2("NNN", rn), v2("NNNN", function(e3, t4) {
        return t4.erasNameRegex(e3);
      }), v2("NNNNN", function(e3, t4) {
        return t4.erasNarrowRegex(e3);
      }), D8(["N", "NN", "NNN", "NNNN", "NNNNN"], function(e3, t4, n2, s4) {
        s4 = n2._locale.erasParse(e3, s4, n2._strict);
        s4 ? m(n2).era = s4 : m(n2).invalidEra = e3;
      }), v2("y", Me), v2("yy", Me), v2("yyy", Me), v2("yyyy", Me), v2("yo", function(e3, t4) {
        return t4._eraYearOrdinalRegex || Me;
      }), D8(["y", "yy", "yyy", "yyyy"], Y3), D8(["yo"], function(e3, t4, n2, s4) {
        var i2;
        n2._locale._eraYearOrdinalRegex && (i2 = e3.match(n2._locale._eraYearOrdinalRegex)), n2._locale.eraYearOrdinalParse ? t4[Y3] = n2._locale.eraYearOrdinalParse(e3, i2) : t4[Y3] = parseInt(e3, 10);
      }), s3(0, ["gg", 2], 0, function() {
        return this.weekYear() % 100;
      }), s3(0, ["GG", 2], 0, function() {
        return this.isoWeekYear() % 100;
      }), on("gggg", "weekYear"), on("ggggg", "weekYear"), on("GGGG", "isoWeekYear"), on("GGGGG", "isoWeekYear"), t("weekYear", "gg"), t("isoWeekYear", "GG"), n("weekYear", 1), n("isoWeekYear", 1), v2("G", De), v2("g", De), v2("GG", p, w2), v2("gg", p, w2), v2("GGGG", ke, _e), v2("gggg", ke, _e), v2("GGGGG", ve, ye), v2("ggggg", ve, ye), Te(["gggg", "ggggg", "GGGG", "GGGGG"], function(e3, t4, n2, s4) {
        t4[s4.substr(0, 2)] = g(e3);
      }), Te(["gg", "GG"], function(e3, t4, n2, s4) {
        t4[s4] = f2.parseTwoDigitYear(e3);
      }), s3("Q", 0, "Qo", "quarter"), t("quarter", "Q"), n("quarter", 7), v2("Q", i), D8("Q", function(e3, t4) {
        t4[O] = 3 * (g(e3) - 1);
      }), s3("D", ["DD", 2], "Do", "date"), t("date", "D"), n("date", 9), v2("D", p), v2("DD", p, w2), v2("Do", function(e3, t4) {
        return e3 ? t4._dayOfMonthOrdinalParse || t4._ordinalParse : t4._dayOfMonthOrdinalParseLenient;
      }), D8(["D", "DD"], b), D8("Do", function(e3, t4) {
        t4[b] = g(e3.match(p)[0]);
      });
      ke = de2("Date", true);
      s3("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), t("dayOfYear", "DDD"), n("dayOfYear", 4), v2("DDD", pe), v2("DDDD", me), D8(["DDD", "DDDD"], function(e3, t4, n2) {
        n2._dayOfYear = g(e3);
      }), s3("m", ["mm", 2], 0, "minute"), t("minute", "m"), n("minute", 14), v2("m", p), v2("mm", p, w2), D8(["m", "mm"], T);
      var ln, _e = de2("Minutes", false), ve = (s3("s", ["ss", 2], 0, "second"), t("second", "s"), n("second", 15), v2("s", p), v2("ss", p, w2), D8(["s", "ss"], N), de2("Seconds", false));
      for (s3("S", 0, 0, function() {
        return ~~(this.millisecond() / 100);
      }), s3(0, ["SS", 2], 0, function() {
        return ~~(this.millisecond() / 10);
      }), s3(0, ["SSS", 3], 0, "millisecond"), s3(0, ["SSSS", 4], 0, function() {
        return 10 * this.millisecond();
      }), s3(0, ["SSSSS", 5], 0, function() {
        return 100 * this.millisecond();
      }), s3(0, ["SSSSSS", 6], 0, function() {
        return 1e3 * this.millisecond();
      }), s3(0, ["SSSSSSS", 7], 0, function() {
        return 1e4 * this.millisecond();
      }), s3(0, ["SSSSSSSS", 8], 0, function() {
        return 1e5 * this.millisecond();
      }), s3(0, ["SSSSSSSSS", 9], 0, function() {
        return 1e6 * this.millisecond();
      }), t("millisecond", "ms"), n("millisecond", 16), v2("S", pe, i), v2("SS", pe, w2), v2("SSS", pe, me), ln = "SSSS"; ln.length <= 9; ln += "S")
        v2(ln, Me);
      function hn(e3, t4) {
        t4[Ne] = g(1e3 * ("0." + e3));
      }
      for (ln = "S"; ln.length <= 9; ln += "S")
        D8(ln, hn);
      ye = de2("Milliseconds", false), s3("z", 0, 0, "zoneAbbr"), s3("zz", 0, 0, "zoneName");
      i = q.prototype;
      function dn(e3) {
        return e3;
      }
      i.add = Ce, i.calendar = function(e3, t4) {
        1 === arguments.length && (arguments[0] ? Jt(arguments[0]) ? (e3 = arguments[0], t4 = void 0) : function(e4) {
          for (var t5 = F(e4) && !L(e4), n3 = false, s4 = ["sameDay", "nextDay", "lastDay", "nextWeek", "lastWeek", "sameElse"], i2 = 0; i2 < s4.length; i2 += 1)
            n3 = n3 || c7(e4, s4[i2]);
          return t5 && n3;
        }(arguments[0]) && (t4 = arguments[0], e3 = void 0) : t4 = e3 = void 0);
        var e3 = e3 || W(), n2 = Gt(e3, this).startOf("day"), n2 = f2.calendarFormat(this, n2) || "sameElse", t4 = t4 && (d(t4[n2]) ? t4[n2].call(this, e3) : t4[n2]);
        return this.format(t4 || this.localeData().calendar(n2, this, W(e3)));
      }, i.clone = function() {
        return new q(this);
      }, i.diff = function(e3, t4, n2) {
        var s4, i2, r2;
        if (!this.isValid())
          return NaN;
        if (!(s4 = Gt(e3, this)).isValid())
          return NaN;
        switch (i2 = 6e4 * (s4.utcOffset() - this.utcOffset()), t4 = _2(t4)) {
          case "year":
            r2 = Qt(this, s4) / 12;
            break;
          case "month":
            r2 = Qt(this, s4);
            break;
          case "quarter":
            r2 = Qt(this, s4) / 3;
            break;
          case "second":
            r2 = (this - s4) / 1e3;
            break;
          case "minute":
            r2 = (this - s4) / 6e4;
            break;
          case "hour":
            r2 = (this - s4) / 36e5;
            break;
          case "day":
            r2 = (this - s4 - i2) / 864e5;
            break;
          case "week":
            r2 = (this - s4 - i2) / 6048e5;
            break;
          default:
            r2 = this - s4;
        }
        return n2 ? r2 : y7(r2);
      }, i.endOf = function(e3) {
        var t4, n2;
        if (void 0 === (e3 = _2(e3)) || "millisecond" === e3 || !this.isValid())
          return this;
        switch (n2 = this._isUTC ? sn : nn, e3) {
          case "year":
            t4 = n2(this.year() + 1, 0, 1) - 1;
            break;
          case "quarter":
            t4 = n2(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;
            break;
          case "month":
            t4 = n2(this.year(), this.month() + 1, 1) - 1;
            break;
          case "week":
            t4 = n2(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;
            break;
          case "isoWeek":
            t4 = n2(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;
            break;
          case "day":
          case "date":
            t4 = n2(this.year(), this.month(), this.date() + 1) - 1;
            break;
          case "hour":
            t4 = this._d.valueOf(), t4 += 36e5 - tn(t4 + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5) - 1;
            break;
          case "minute":
            t4 = this._d.valueOf(), t4 += 6e4 - tn(t4, 6e4) - 1;
            break;
          case "second":
            t4 = this._d.valueOf(), t4 += 1e3 - tn(t4, 1e3) - 1;
            break;
        }
        return this._d.setTime(t4), f2.updateOffset(this, true), this;
      }, i.format = function(e3) {
        return e3 = e3 || (this.isUtc() ? f2.defaultFormatUtc : f2.defaultFormat), e3 = re4(this, e3), this.localeData().postformat(e3);
      }, i.from = function(e3, t4) {
        return this.isValid() && (h(e3) && e3.isValid() || W(e3).isValid()) ? C7({ to: this, from: e3 }).locale(this.locale()).humanize(!t4) : this.localeData().invalidDate();
      }, i.fromNow = function(e3) {
        return this.from(W(), e3);
      }, i.to = function(e3, t4) {
        return this.isValid() && (h(e3) && e3.isValid() || W(e3).isValid()) ? C7({ from: this, to: e3 }).locale(this.locale()).humanize(!t4) : this.localeData().invalidDate();
      }, i.toNow = function(e3) {
        return this.to(W(), e3);
      }, i.get = function(e3) {
        return d(this[e3 = _2(e3)]) ? this[e3]() : this;
      }, i.invalidAt = function() {
        return m(this).overflow;
      }, i.isAfter = function(e3, t4) {
        return e3 = h(e3) ? e3 : W(e3), !(!this.isValid() || !e3.isValid()) && ("millisecond" === (t4 = _2(t4) || "millisecond") ? this.valueOf() > e3.valueOf() : e3.valueOf() < this.clone().startOf(t4).valueOf());
      }, i.isBefore = function(e3, t4) {
        return e3 = h(e3) ? e3 : W(e3), !(!this.isValid() || !e3.isValid()) && ("millisecond" === (t4 = _2(t4) || "millisecond") ? this.valueOf() < e3.valueOf() : this.clone().endOf(t4).valueOf() < e3.valueOf());
      }, i.isBetween = function(e3, t4, n2, s4) {
        return e3 = h(e3) ? e3 : W(e3), t4 = h(t4) ? t4 : W(t4), !!(this.isValid() && e3.isValid() && t4.isValid()) && (("(" === (s4 = s4 || "()")[0] ? this.isAfter(e3, n2) : !this.isBefore(e3, n2)) && (")" === s4[1] ? this.isBefore(t4, n2) : !this.isAfter(t4, n2)));
      }, i.isSame = function(e3, t4) {
        var e3 = h(e3) ? e3 : W(e3);
        return !(!this.isValid() || !e3.isValid()) && ("millisecond" === (t4 = _2(t4) || "millisecond") ? this.valueOf() === e3.valueOf() : (e3 = e3.valueOf(), this.clone().startOf(t4).valueOf() <= e3 && e3 <= this.clone().endOf(t4).valueOf()));
      }, i.isSameOrAfter = function(e3, t4) {
        return this.isSame(e3, t4) || this.isAfter(e3, t4);
      }, i.isSameOrBefore = function(e3, t4) {
        return this.isSame(e3, t4) || this.isBefore(e3, t4);
      }, i.isValid = function() {
        return A9(this);
      }, i.lang = Xe, i.locale = Xt, i.localeData = Kt, i.max = we, i.min = ge, i.parsingFlags = function() {
        return E7({}, m(this));
      }, i.set = function(e3, t4) {
        if ("object" == typeof e3)
          for (var n2 = function(e4) {
            var t5, n3 = [];
            for (t5 in e4)
              c7(e4, t5) && n3.push({ unit: t5, priority: le[t5] });
            return n3.sort(function(e6, t6) {
              return e6.priority - t6.priority;
            }), n3;
          }(e3 = ue(e3)), s4 = n2.length, i2 = 0; i2 < s4; i2++)
            this[n2[i2].unit](e3[n2[i2].unit]);
        else if (d(this[e3 = _2(e3)]))
          return this[e3](t4);
        return this;
      }, i.startOf = function(e3) {
        var t4, n2;
        if (void 0 === (e3 = _2(e3)) || "millisecond" === e3 || !this.isValid())
          return this;
        switch (n2 = this._isUTC ? sn : nn, e3) {
          case "year":
            t4 = n2(this.year(), 0, 1);
            break;
          case "quarter":
            t4 = n2(this.year(), this.month() - this.month() % 3, 1);
            break;
          case "month":
            t4 = n2(this.year(), this.month(), 1);
            break;
          case "week":
            t4 = n2(this.year(), this.month(), this.date() - this.weekday());
            break;
          case "isoWeek":
            t4 = n2(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));
            break;
          case "day":
          case "date":
            t4 = n2(this.year(), this.month(), this.date());
            break;
          case "hour":
            t4 = this._d.valueOf(), t4 -= tn(t4 + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5);
            break;
          case "minute":
            t4 = this._d.valueOf(), t4 -= tn(t4, 6e4);
            break;
          case "second":
            t4 = this._d.valueOf(), t4 -= tn(t4, 1e3);
            break;
        }
        return this._d.setTime(t4), f2.updateOffset(this, true), this;
      }, i.subtract = Je, i.toArray = function() {
        var e3 = this;
        return [e3.year(), e3.month(), e3.date(), e3.hour(), e3.minute(), e3.second(), e3.millisecond()];
      }, i.toObject = function() {
        var e3 = this;
        return { years: e3.year(), months: e3.month(), date: e3.date(), hours: e3.hours(), minutes: e3.minutes(), seconds: e3.seconds(), milliseconds: e3.milliseconds() };
      }, i.toDate = function() {
        return new Date(this.valueOf());
      }, i.toISOString = function(e3) {
        if (!this.isValid())
          return null;
        var t4 = (e3 = true !== e3) ? this.clone().utc() : this;
        return t4.year() < 0 || 9999 < t4.year() ? re4(t4, e3 ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : d(Date.prototype.toISOString) ? e3 ? this.toDate().toISOString() : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3).toISOString().replace("Z", re4(t4, "Z")) : re4(t4, e3 ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ");
      }, i.inspect = function() {
        if (!this.isValid())
          return "moment.invalid(/* " + this._i + " */)";
        var e3, t4 = "moment", n2 = "";
        return this.isLocal() || (t4 = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", n2 = "Z"), t4 = "[" + t4 + '("]', e3 = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", this.format(t4 + e3 + "-MM-DD[T]HH:mm:ss.SSS" + (n2 + '[")]'));
      }, "undefined" != typeof Symbol && null != Symbol.for && (i[Symbol.for("nodejs.util.inspect.custom")] = function() {
        return "Moment<" + this.format() + ">";
      }), i.toJSON = function() {
        return this.isValid() ? this.toISOString() : null;
      }, i.toString = function() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
      }, i.unix = function() {
        return Math.floor(this.valueOf() / 1e3);
      }, i.valueOf = function() {
        return this._d.valueOf() - 6e4 * (this._offset || 0);
      }, i.creationData = function() {
        return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict };
      }, i.eraName = function() {
        for (var e3, t4 = this.localeData().eras(), n2 = 0, s4 = t4.length; n2 < s4; ++n2) {
          if (e3 = this.clone().startOf("day").valueOf(), t4[n2].since <= e3 && e3 <= t4[n2].until)
            return t4[n2].name;
          if (t4[n2].until <= e3 && e3 <= t4[n2].since)
            return t4[n2].name;
        }
        return "";
      }, i.eraNarrow = function() {
        for (var e3, t4 = this.localeData().eras(), n2 = 0, s4 = t4.length; n2 < s4; ++n2) {
          if (e3 = this.clone().startOf("day").valueOf(), t4[n2].since <= e3 && e3 <= t4[n2].until)
            return t4[n2].narrow;
          if (t4[n2].until <= e3 && e3 <= t4[n2].since)
            return t4[n2].narrow;
        }
        return "";
      }, i.eraAbbr = function() {
        for (var e3, t4 = this.localeData().eras(), n2 = 0, s4 = t4.length; n2 < s4; ++n2) {
          if (e3 = this.clone().startOf("day").valueOf(), t4[n2].since <= e3 && e3 <= t4[n2].until)
            return t4[n2].abbr;
          if (t4[n2].until <= e3 && e3 <= t4[n2].since)
            return t4[n2].abbr;
        }
        return "";
      }, i.eraYear = function() {
        for (var e3, t4, n2 = this.localeData().eras(), s4 = 0, i2 = n2.length; s4 < i2; ++s4)
          if (e3 = n2[s4].since <= n2[s4].until ? 1 : -1, t4 = this.clone().startOf("day").valueOf(), n2[s4].since <= t4 && t4 <= n2[s4].until || n2[s4].until <= t4 && t4 <= n2[s4].since)
            return (this.year() - f2(n2[s4].since).year()) * e3 + n2[s4].offset;
        return this.year();
      }, i.year = Ie, i.isLeapYear = function() {
        return he(this.year());
      }, i.weekYear = function(e3) {
        return un.call(this, e3, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
      }, i.isoWeekYear = function(e3) {
        return un.call(this, e3, this.isoWeek(), this.isoWeekday(), 1, 4);
      }, i.quarter = i.quarters = function(e3) {
        return null == e3 ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e3 - 1) + this.month() % 3);
      }, i.month = Ge, i.daysInMonth = function() {
        return We(this.year(), this.month());
      }, i.week = i.weeks = function(e3) {
        var t4 = this.localeData().week(this);
        return null == e3 ? t4 : this.add(7 * (e3 - t4), "d");
      }, i.isoWeek = i.isoWeeks = function(e3) {
        var t4 = qe(this, 1, 4).week;
        return null == e3 ? t4 : this.add(7 * (e3 - t4), "d");
      }, i.weeksInYear = function() {
        var e3 = this.localeData()._week;
        return P(this.year(), e3.dow, e3.doy);
      }, i.weeksInWeekYear = function() {
        var e3 = this.localeData()._week;
        return P(this.weekYear(), e3.dow, e3.doy);
      }, i.isoWeeksInYear = function() {
        return P(this.year(), 1, 4);
      }, i.isoWeeksInISOWeekYear = function() {
        return P(this.isoWeekYear(), 1, 4);
      }, i.date = ke, i.day = i.days = function(e3) {
        if (!this.isValid())
          return null != e3 ? this : NaN;
        var t4, n2, s4 = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != e3 ? (t4 = e3, n2 = this.localeData(), e3 = "string" != typeof t4 ? t4 : isNaN(t4) ? "number" == typeof (t4 = n2.weekdaysParse(t4)) ? t4 : null : parseInt(t4, 10), this.add(e3 - s4, "d")) : s4;
      }, i.weekday = function(e3) {
        if (!this.isValid())
          return null != e3 ? this : NaN;
        var t4 = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == e3 ? t4 : this.add(e3 - t4, "d");
      }, i.isoWeekday = function(e3) {
        return this.isValid() ? null != e3 ? (t4 = e3, n2 = this.localeData(), n2 = "string" == typeof t4 ? n2.weekdaysParse(t4) % 7 || 7 : isNaN(t4) ? null : t4, this.day(this.day() % 7 ? n2 : n2 - 7)) : this.day() || 7 : null != e3 ? this : NaN;
        var t4, n2;
      }, i.dayOfYear = function(e3) {
        var t4 = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == e3 ? t4 : this.add(e3 - t4, "d");
      }, i.hour = i.hours = k3, i.minute = i.minutes = _e, i.second = i.seconds = ve, i.millisecond = i.milliseconds = ye, i.utcOffset = function(e3, t4, n2) {
        var s4, i2 = this._offset || 0;
        if (!this.isValid())
          return null != e3 ? this : NaN;
        if (null == e3)
          return this._isUTC ? i2 : Et(this);
        if ("string" == typeof e3) {
          if (null === (e3 = Vt(Ye, e3)))
            return this;
        } else
          Math.abs(e3) < 16 && !n2 && (e3 *= 60);
        return !this._isUTC && t4 && (s4 = Et(this)), this._offset = e3, this._isUTC = true, null != s4 && this.add(s4, "m"), i2 !== e3 && (!t4 || this._changeInProgress ? qt(this, C7(e3 - i2, "m"), 1, false) : this._changeInProgress || (this._changeInProgress = true, f2.updateOffset(this, true), this._changeInProgress = null)), this;
      }, i.utc = function(e3) {
        return this.utcOffset(0, e3);
      }, i.local = function(e3) {
        return this._isUTC && (this.utcOffset(0, e3), this._isUTC = false, e3 && this.subtract(Et(this), "m")), this;
      }, i.parseZone = function() {
        var e3;
        return null != this._tzm ? this.utcOffset(this._tzm, false, true) : "string" == typeof this._i && (null != (e3 = Vt(Se, this._i)) ? this.utcOffset(e3) : this.utcOffset(0, true)), this;
      }, i.hasAlignedHourOffset = function(e3) {
        return !!this.isValid() && (e3 = e3 ? W(e3).utcOffset() : 0, (this.utcOffset() - e3) % 60 == 0);
      }, i.isDST = function() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
      }, i.isLocal = function() {
        return !!this.isValid() && !this._isUTC;
      }, i.isUtcOffset = function() {
        return !!this.isValid() && this._isUTC;
      }, i.isUtc = At, i.isUTC = At, i.zoneAbbr = function() {
        return this._isUTC ? "UTC" : "";
      }, i.zoneName = function() {
        return this._isUTC ? "Coordinated Universal Time" : "";
      }, i.dates = e("dates accessor is deprecated. Use date instead.", ke), i.months = e("months accessor is deprecated. Use month instead", Ge), i.years = e("years accessor is deprecated. Use year instead", Ie), i.zone = e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function(e3, t4) {
        return null != e3 ? (this.utcOffset(e3 = "string" != typeof e3 ? -e3 : e3, t4), this) : -this.utcOffset();
      }), i.isDSTShifted = e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function() {
        if (!o(this._isDSTShifted))
          return this._isDSTShifted;
        var e3, t4 = {};
        return $(t4, this), (t4 = Nt(t4))._a ? (e3 = (t4._isUTC ? l : W)(t4._a), this._isDSTShifted = this.isValid() && 0 < function(e4, t5, n2) {
          for (var s4 = Math.min(e4.length, t5.length), i2 = Math.abs(e4.length - t5.length), r2 = 0, a4 = 0; a4 < s4; a4++)
            (n2 && e4[a4] !== t5[a4] || !n2 && g(e4[a4]) !== g(t5[a4])) && r2++;
          return r2 + i2;
        }(t4._a, e3.toArray())) : this._isDSTShifted = false, this._isDSTShifted;
      });
      w2 = K7.prototype;
      function cn(e3, t4, n2, s4) {
        var i2 = mt(), s4 = l().set(s4, t4);
        return i2[n2](s4, e3);
      }
      function fn(e3, t4, n2) {
        if (u4(e3) && (t4 = e3, e3 = void 0), e3 = e3 || "", null != t4)
          return cn(e3, t4, n2, "month");
        for (var s4 = [], i2 = 0; i2 < 12; i2++)
          s4[i2] = cn(e3, i2, n2, "month");
        return s4;
      }
      function mn(e3, t4, n2, s4) {
        t4 = ("boolean" == typeof e3 ? u4(t4) && (n2 = t4, t4 = void 0) : (t4 = e3, e3 = false, u4(n2 = t4) && (n2 = t4, t4 = void 0)), t4 || "");
        var i2, r2 = mt(), a4 = e3 ? r2._week.dow : 0, o2 = [];
        if (null != n2)
          return cn(t4, (n2 + a4) % 7, s4, "day");
        for (i2 = 0; i2 < 7; i2++)
          o2[i2] = cn(t4, (i2 + a4) % 7, s4, "day");
        return o2;
      }
      w2.calendar = function(e3, t4, n2) {
        return d(e3 = this._calendar[e3] || this._calendar.sameElse) ? e3.call(t4, n2) : e3;
      }, w2.longDateFormat = function(e3) {
        var t4 = this._longDateFormat[e3], n2 = this._longDateFormat[e3.toUpperCase()];
        return t4 || !n2 ? t4 : (this._longDateFormat[e3] = n2.match(te).map(function(e4) {
          return "MMMM" === e4 || "MM" === e4 || "DD" === e4 || "dddd" === e4 ? e4.slice(1) : e4;
        }).join(""), this._longDateFormat[e3]);
      }, w2.invalidDate = function() {
        return this._invalidDate;
      }, w2.ordinal = function(e3) {
        return this._ordinal.replace("%d", e3);
      }, w2.preparse = dn, w2.postformat = dn, w2.relativeTime = function(e3, t4, n2, s4) {
        var i2 = this._relativeTime[n2];
        return d(i2) ? i2(e3, t4, n2, s4) : i2.replace(/%d/i, e3);
      }, w2.pastFuture = function(e3, t4) {
        return d(e3 = this._relativeTime[0 < e3 ? "future" : "past"]) ? e3(t4) : e3.replace(/%s/i, t4);
      }, w2.set = function(e3) {
        var t4, n2;
        for (n2 in e3)
          c7(e3, n2) && (d(t4 = e3[n2]) ? this[n2] = t4 : this["_" + n2] = t4);
        this._config = e3, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source);
      }, w2.eras = function(e3, t4) {
        for (var n2, s4 = this._eras || mt("en")._eras, i2 = 0, r2 = s4.length; i2 < r2; ++i2) {
          switch (typeof s4[i2].since) {
            case "string":
              n2 = f2(s4[i2].since).startOf("day"), s4[i2].since = n2.valueOf();
              break;
          }
          switch (typeof s4[i2].until) {
            case "undefined":
              s4[i2].until = 1 / 0;
              break;
            case "string":
              n2 = f2(s4[i2].until).startOf("day").valueOf(), s4[i2].until = n2.valueOf();
              break;
          }
        }
        return s4;
      }, w2.erasParse = function(e3, t4, n2) {
        var s4, i2, r2, a4, o2, u5 = this.eras();
        for (e3 = e3.toUpperCase(), s4 = 0, i2 = u5.length; s4 < i2; ++s4)
          if (r2 = u5[s4].name.toUpperCase(), a4 = u5[s4].abbr.toUpperCase(), o2 = u5[s4].narrow.toUpperCase(), n2)
            switch (t4) {
              case "N":
              case "NN":
              case "NNN":
                if (a4 === e3)
                  return u5[s4];
                break;
              case "NNNN":
                if (r2 === e3)
                  return u5[s4];
                break;
              case "NNNNN":
                if (o2 === e3)
                  return u5[s4];
                break;
            }
          else if (0 <= [r2, a4, o2].indexOf(e3))
            return u5[s4];
      }, w2.erasConvertYear = function(e3, t4) {
        var n2 = e3.since <= e3.until ? 1 : -1;
        return void 0 === t4 ? f2(e3.since).year() : f2(e3.since).year() + (t4 - e3.offset) * n2;
      }, w2.erasAbbrRegex = function(e3) {
        return c7(this, "_erasAbbrRegex") || an.call(this), e3 ? this._erasAbbrRegex : this._erasRegex;
      }, w2.erasNameRegex = function(e3) {
        return c7(this, "_erasNameRegex") || an.call(this), e3 ? this._erasNameRegex : this._erasRegex;
      }, w2.erasNarrowRegex = function(e3) {
        return c7(this, "_erasNarrowRegex") || an.call(this), e3 ? this._erasNarrowRegex : this._erasRegex;
      }, w2.months = function(e3, t4) {
        return e3 ? (a3(this._months) ? this._months : this._months[(this._months.isFormat || He).test(t4) ? "format" : "standalone"])[e3.month()] : a3(this._months) ? this._months : this._months.standalone;
      }, w2.monthsShort = function(e3, t4) {
        return e3 ? (a3(this._monthsShort) ? this._monthsShort : this._monthsShort[He.test(t4) ? "format" : "standalone"])[e3.month()] : a3(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone;
      }, w2.monthsParse = function(e3, t4, n2) {
        var s4, i2;
        if (this._monthsParseExact)
          return function(e4, t5, n3) {
            var s5, i3, r2, e4 = e4.toLocaleLowerCase();
            if (!this._monthsParse)
              for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], s5 = 0; s5 < 12; ++s5)
                r2 = l([2e3, s5]), this._shortMonthsParse[s5] = this.monthsShort(r2, "").toLocaleLowerCase(), this._longMonthsParse[s5] = this.months(r2, "").toLocaleLowerCase();
            return n3 ? "MMM" === t5 ? -1 !== (i3 = S.call(this._shortMonthsParse, e4)) ? i3 : null : -1 !== (i3 = S.call(this._longMonthsParse, e4)) ? i3 : null : "MMM" === t5 ? -1 !== (i3 = S.call(this._shortMonthsParse, e4)) || -1 !== (i3 = S.call(this._longMonthsParse, e4)) ? i3 : null : -1 !== (i3 = S.call(this._longMonthsParse, e4)) || -1 !== (i3 = S.call(this._shortMonthsParse, e4)) ? i3 : null;
          }.call(this, e3, t4, n2);
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), s4 = 0; s4 < 12; s4++) {
          if (i2 = l([2e3, s4]), n2 && !this._longMonthsParse[s4] && (this._longMonthsParse[s4] = new RegExp("^" + this.months(i2, "").replace(".", "") + "$", "i"), this._shortMonthsParse[s4] = new RegExp("^" + this.monthsShort(i2, "").replace(".", "") + "$", "i")), n2 || this._monthsParse[s4] || (i2 = "^" + this.months(i2, "") + "|^" + this.monthsShort(i2, ""), this._monthsParse[s4] = new RegExp(i2.replace(".", ""), "i")), n2 && "MMMM" === t4 && this._longMonthsParse[s4].test(e3))
            return s4;
          if (n2 && "MMM" === t4 && this._shortMonthsParse[s4].test(e3))
            return s4;
          if (!n2 && this._monthsParse[s4].test(e3))
            return s4;
        }
      }, w2.monthsRegex = function(e3) {
        return this._monthsParseExact ? (c7(this, "_monthsRegex") || Ee.call(this), e3 ? this._monthsStrictRegex : this._monthsRegex) : (c7(this, "_monthsRegex") || (this._monthsRegex = Le), this._monthsStrictRegex && e3 ? this._monthsStrictRegex : this._monthsRegex);
      }, w2.monthsShortRegex = function(e3) {
        return this._monthsParseExact ? (c7(this, "_monthsRegex") || Ee.call(this), e3 ? this._monthsShortStrictRegex : this._monthsShortRegex) : (c7(this, "_monthsShortRegex") || (this._monthsShortRegex = Fe), this._monthsShortStrictRegex && e3 ? this._monthsShortStrictRegex : this._monthsShortRegex);
      }, w2.week = function(e3) {
        return qe(e3, this._week.dow, this._week.doy).week;
      }, w2.firstDayOfYear = function() {
        return this._week.doy;
      }, w2.firstDayOfWeek = function() {
        return this._week.dow;
      }, w2.weekdays = function(e3, t4) {
        return t4 = a3(this._weekdays) ? this._weekdays : this._weekdays[e3 && true !== e3 && this._weekdays.isFormat.test(t4) ? "format" : "standalone"], true === e3 ? Be(t4, this._week.dow) : e3 ? t4[e3.day()] : t4;
      }, w2.weekdaysMin = function(e3) {
        return true === e3 ? Be(this._weekdaysMin, this._week.dow) : e3 ? this._weekdaysMin[e3.day()] : this._weekdaysMin;
      }, w2.weekdaysShort = function(e3) {
        return true === e3 ? Be(this._weekdaysShort, this._week.dow) : e3 ? this._weekdaysShort[e3.day()] : this._weekdaysShort;
      }, w2.weekdaysParse = function(e3, t4, n2) {
        var s4, i2;
        if (this._weekdaysParseExact)
          return function(e4, t5, n3) {
            var s5, i3, r2, e4 = e4.toLocaleLowerCase();
            if (!this._weekdaysParse)
              for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], s5 = 0; s5 < 7; ++s5)
                r2 = l([2e3, 1]).day(s5), this._minWeekdaysParse[s5] = this.weekdaysMin(r2, "").toLocaleLowerCase(), this._shortWeekdaysParse[s5] = this.weekdaysShort(r2, "").toLocaleLowerCase(), this._weekdaysParse[s5] = this.weekdays(r2, "").toLocaleLowerCase();
            return n3 ? "dddd" === t5 ? -1 !== (i3 = S.call(this._weekdaysParse, e4)) ? i3 : null : "ddd" === t5 ? -1 !== (i3 = S.call(this._shortWeekdaysParse, e4)) ? i3 : null : -1 !== (i3 = S.call(this._minWeekdaysParse, e4)) ? i3 : null : "dddd" === t5 ? -1 !== (i3 = S.call(this._weekdaysParse, e4)) || -1 !== (i3 = S.call(this._shortWeekdaysParse, e4)) || -1 !== (i3 = S.call(this._minWeekdaysParse, e4)) ? i3 : null : "ddd" === t5 ? -1 !== (i3 = S.call(this._shortWeekdaysParse, e4)) || -1 !== (i3 = S.call(this._weekdaysParse, e4)) || -1 !== (i3 = S.call(this._minWeekdaysParse, e4)) ? i3 : null : -1 !== (i3 = S.call(this._minWeekdaysParse, e4)) || -1 !== (i3 = S.call(this._weekdaysParse, e4)) || -1 !== (i3 = S.call(this._shortWeekdaysParse, e4)) ? i3 : null;
          }.call(this, e3, t4, n2);
        for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), s4 = 0; s4 < 7; s4++) {
          if (i2 = l([2e3, 1]).day(s4), n2 && !this._fullWeekdaysParse[s4] && (this._fullWeekdaysParse[s4] = new RegExp("^" + this.weekdays(i2, "").replace(".", "\\.?") + "$", "i"), this._shortWeekdaysParse[s4] = new RegExp("^" + this.weekdaysShort(i2, "").replace(".", "\\.?") + "$", "i"), this._minWeekdaysParse[s4] = new RegExp("^" + this.weekdaysMin(i2, "").replace(".", "\\.?") + "$", "i")), this._weekdaysParse[s4] || (i2 = "^" + this.weekdays(i2, "") + "|^" + this.weekdaysShort(i2, "") + "|^" + this.weekdaysMin(i2, ""), this._weekdaysParse[s4] = new RegExp(i2.replace(".", ""), "i")), n2 && "dddd" === t4 && this._fullWeekdaysParse[s4].test(e3))
            return s4;
          if (n2 && "ddd" === t4 && this._shortWeekdaysParse[s4].test(e3))
            return s4;
          if (n2 && "dd" === t4 && this._minWeekdaysParse[s4].test(e3))
            return s4;
          if (!n2 && this._weekdaysParse[s4].test(e3))
            return s4;
        }
      }, w2.weekdaysRegex = function(e3) {
        return this._weekdaysParseExact ? (c7(this, "_weekdaysRegex") || nt.call(this), e3 ? this._weekdaysStrictRegex : this._weekdaysRegex) : (c7(this, "_weekdaysRegex") || (this._weekdaysRegex = Ke), this._weekdaysStrictRegex && e3 ? this._weekdaysStrictRegex : this._weekdaysRegex);
      }, w2.weekdaysShortRegex = function(e3) {
        return this._weekdaysParseExact ? (c7(this, "_weekdaysRegex") || nt.call(this), e3 ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (c7(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = et), this._weekdaysShortStrictRegex && e3 ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);
      }, w2.weekdaysMinRegex = function(e3) {
        return this._weekdaysParseExact ? (c7(this, "_weekdaysRegex") || nt.call(this), e3 ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (c7(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = tt), this._weekdaysMinStrictRegex && e3 ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);
      }, w2.isPM = function(e3) {
        return "p" === (e3 + "").toLowerCase().charAt(0);
      }, w2.meridiem = function(e3, t4, n2) {
        return 11 < e3 ? n2 ? "pm" : "PM" : n2 ? "am" : "AM";
      }, ct("en", { eras: [{ since: "0001-01-01", until: 1 / 0, offset: 1, name: "Anno Domini", narrow: "AD", abbr: "AD" }, { since: "0000-12-31", until: -1 / 0, offset: 1, name: "Before Christ", narrow: "BC", abbr: "BC" }], dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function(e3) {
        var t4 = e3 % 10;
        return e3 + (1 === g(e3 % 100 / 10) ? "th" : 1 == t4 ? "st" : 2 == t4 ? "nd" : 3 == t4 ? "rd" : "th");
      } }), f2.lang = e("moment.lang is deprecated. Use moment.locale instead.", ct), f2.langData = e("moment.langData is deprecated. Use moment.localeData instead.", mt);
      var _n = Math.abs;
      function yn(e3, t4, n2, s4) {
        t4 = C7(t4, n2);
        return e3._milliseconds += s4 * t4._milliseconds, e3._days += s4 * t4._days, e3._months += s4 * t4._months, e3._bubble();
      }
      function gn(e3) {
        return e3 < 0 ? Math.floor(e3) : Math.ceil(e3);
      }
      function wn(e3) {
        return 4800 * e3 / 146097;
      }
      function pn(e3) {
        return 146097 * e3 / 4800;
      }
      function kn(e3) {
        return function() {
          return this.as(e3);
        };
      }
      pe = kn("ms"), me = kn("s"), Ce = kn("m"), we = kn("h"), ge = kn("d"), Je = kn("w"), k3 = kn("M"), _e = kn("Q"), ve = kn("y");
      function vn(e3) {
        return function() {
          return this.isValid() ? this._data[e3] : NaN;
        };
      }
      var ye = vn("milliseconds"), ke = vn("seconds"), Ie = vn("minutes"), w2 = vn("hours"), Mn = vn("days"), Dn = vn("months"), Sn = vn("years");
      var Yn7 = Math.round, On = { ss: 44, s: 45, m: 45, h: 22, d: 26, w: null, M: 11 };
      function bn(e3, t4, n2, s4) {
        var i2 = C7(e3).abs(), r2 = Yn7(i2.as("s")), a4 = Yn7(i2.as("m")), o2 = Yn7(i2.as("h")), u5 = Yn7(i2.as("d")), l2 = Yn7(i2.as("M")), h2 = Yn7(i2.as("w")), i2 = Yn7(i2.as("y")), r2 = (r2 <= n2.ss ? ["s", r2] : r2 < n2.s && ["ss", r2]) || a4 <= 1 && ["m"] || a4 < n2.m && ["mm", a4] || o2 <= 1 && ["h"] || o2 < n2.h && ["hh", o2] || u5 <= 1 && ["d"] || u5 < n2.d && ["dd", u5];
        return (r2 = (r2 = null != n2.w ? r2 || h2 <= 1 && ["w"] || h2 < n2.w && ["ww", h2] : r2) || l2 <= 1 && ["M"] || l2 < n2.M && ["MM", l2] || i2 <= 1 && ["y"] || ["yy", i2])[2] = t4, r2[3] = 0 < +e3, r2[4] = s4, function(e4, t5, n3, s5, i3) {
          return i3.relativeTime(t5 || 1, !!n3, e4, s5);
        }.apply(null, r2);
      }
      var xn = Math.abs;
      function Tn(e3) {
        return (0 < e3) - (e3 < 0) || +e3;
      }
      function Nn() {
        if (!this.isValid())
          return this.localeData().invalidDate();
        var e3, t4, n2, s4, i2, r2, a4, o2 = xn(this._milliseconds) / 1e3, u5 = xn(this._days), l2 = xn(this._months), h2 = this.asSeconds();
        return h2 ? (e3 = y7(o2 / 60), t4 = y7(e3 / 60), o2 %= 60, e3 %= 60, n2 = y7(l2 / 12), l2 %= 12, s4 = o2 ? o2.toFixed(3).replace(/\.?0+$/, "") : "", i2 = Tn(this._months) !== Tn(h2) ? "-" : "", r2 = Tn(this._days) !== Tn(h2) ? "-" : "", a4 = Tn(this._milliseconds) !== Tn(h2) ? "-" : "", (h2 < 0 ? "-" : "") + "P" + (n2 ? i2 + n2 + "Y" : "") + (l2 ? i2 + l2 + "M" : "") + (u5 ? r2 + u5 + "D" : "") + (t4 || e3 || o2 ? "T" : "") + (t4 ? a4 + t4 + "H" : "") + (e3 ? a4 + e3 + "M" : "") + (o2 ? a4 + s4 + "S" : "")) : "P0D";
      }
      var U = Ct.prototype;
      return U.isValid = function() {
        return this._isValid;
      }, U.abs = function() {
        var e3 = this._data;
        return this._milliseconds = _n(this._milliseconds), this._days = _n(this._days), this._months = _n(this._months), e3.milliseconds = _n(e3.milliseconds), e3.seconds = _n(e3.seconds), e3.minutes = _n(e3.minutes), e3.hours = _n(e3.hours), e3.months = _n(e3.months), e3.years = _n(e3.years), this;
      }, U.add = function(e3, t4) {
        return yn(this, e3, t4, 1);
      }, U.subtract = function(e3, t4) {
        return yn(this, e3, t4, -1);
      }, U.as = function(e3) {
        if (!this.isValid())
          return NaN;
        var t4, n2, s4 = this._milliseconds;
        if ("month" === (e3 = _2(e3)) || "quarter" === e3 || "year" === e3)
          switch (t4 = this._days + s4 / 864e5, n2 = this._months + wn(t4), e3) {
            case "month":
              return n2;
            case "quarter":
              return n2 / 3;
            case "year":
              return n2 / 12;
          }
        else
          switch (t4 = this._days + Math.round(pn(this._months)), e3) {
            case "week":
              return t4 / 7 + s4 / 6048e5;
            case "day":
              return t4 + s4 / 864e5;
            case "hour":
              return 24 * t4 + s4 / 36e5;
            case "minute":
              return 1440 * t4 + s4 / 6e4;
            case "second":
              return 86400 * t4 + s4 / 1e3;
            case "millisecond":
              return Math.floor(864e5 * t4) + s4;
            default:
              throw new Error("Unknown unit " + e3);
          }
      }, U.asMilliseconds = pe, U.asSeconds = me, U.asMinutes = Ce, U.asHours = we, U.asDays = ge, U.asWeeks = Je, U.asMonths = k3, U.asQuarters = _e, U.asYears = ve, U.valueOf = function() {
        return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * g(this._months / 12) : NaN;
      }, U._bubble = function() {
        var e3 = this._milliseconds, t4 = this._days, n2 = this._months, s4 = this._data;
        return 0 <= e3 && 0 <= t4 && 0 <= n2 || e3 <= 0 && t4 <= 0 && n2 <= 0 || (e3 += 864e5 * gn(pn(n2) + t4), n2 = t4 = 0), s4.milliseconds = e3 % 1e3, e3 = y7(e3 / 1e3), s4.seconds = e3 % 60, e3 = y7(e3 / 60), s4.minutes = e3 % 60, e3 = y7(e3 / 60), s4.hours = e3 % 24, t4 += y7(e3 / 24), n2 += e3 = y7(wn(t4)), t4 -= gn(pn(e3)), e3 = y7(n2 / 12), n2 %= 12, s4.days = t4, s4.months = n2, s4.years = e3, this;
      }, U.clone = function() {
        return C7(this);
      }, U.get = function(e3) {
        return e3 = _2(e3), this.isValid() ? this[e3 + "s"]() : NaN;
      }, U.milliseconds = ye, U.seconds = ke, U.minutes = Ie, U.hours = w2, U.days = Mn, U.weeks = function() {
        return y7(this.days() / 7);
      }, U.months = Dn, U.years = Sn, U.humanize = function(e3, t4) {
        if (!this.isValid())
          return this.localeData().invalidDate();
        var n2 = false, s4 = On;
        return "object" == typeof e3 && (t4 = e3, e3 = false), "boolean" == typeof e3 && (n2 = e3), "object" == typeof t4 && (s4 = Object.assign({}, On, t4), null != t4.s && null == t4.ss && (s4.ss = t4.s - 1)), e3 = this.localeData(), t4 = bn(this, !n2, s4, e3), n2 && (t4 = e3.pastFuture(+this, t4)), e3.postformat(t4);
      }, U.toISOString = Nn, U.toString = Nn, U.toJSON = Nn, U.locale = Xt, U.localeData = Kt, U.toIsoString = e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Nn), U.lang = Xe, s3("X", 0, 0, "unix"), s3("x", 0, 0, "valueOf"), v2("x", De), v2("X", /[+-]?\d+(\.\d{1,3})?/), D8("X", function(e3, t4, n2) {
        n2._d = new Date(1e3 * parseFloat(e3));
      }), D8("x", function(e3, t4, n2) {
        n2._d = new Date(g(e3));
      }), f2.version = "2.29.4", H = W, f2.fn = i, f2.min = function() {
        return Rt("isBefore", [].slice.call(arguments, 0));
      }, f2.max = function() {
        return Rt("isAfter", [].slice.call(arguments, 0));
      }, f2.now = function() {
        return Date.now ? Date.now() : +new Date();
      }, f2.utc = l, f2.unix = function(e3) {
        return W(1e3 * e3);
      }, f2.months = function(e3, t4) {
        return fn(e3, t4, "months");
      }, f2.isDate = V, f2.locale = ct, f2.invalid = I, f2.duration = C7, f2.isMoment = h, f2.weekdays = function(e3, t4, n2) {
        return mn(e3, t4, n2, "weekdays");
      }, f2.parseZone = function() {
        return W.apply(null, arguments).parseZone();
      }, f2.localeData = mt, f2.isDuration = Ut, f2.monthsShort = function(e3, t4) {
        return fn(e3, t4, "monthsShort");
      }, f2.weekdaysMin = function(e3, t4, n2) {
        return mn(e3, t4, n2, "weekdaysMin");
      }, f2.defineLocale = ft, f2.updateLocale = function(e3, t4) {
        var n2, s4;
        return null != t4 ? (s4 = ot, null != R[e3] && null != R[e3].parentLocale ? R[e3].set(X3(R[e3]._config, t4)) : (t4 = X3(s4 = null != (n2 = dt(e3)) ? n2._config : s4, t4), null == n2 && (t4.abbr = e3), (s4 = new K7(t4)).parentLocale = R[e3], R[e3] = s4), ct(e3)) : null != R[e3] && (null != R[e3].parentLocale ? (R[e3] = R[e3].parentLocale, e3 === ct() && ct(e3)) : null != R[e3] && delete R[e3]), R[e3];
      }, f2.locales = function() {
        return ee(R);
      }, f2.weekdaysShort = function(e3, t4, n2) {
        return mn(e3, t4, n2, "weekdaysShort");
      }, f2.normalizeUnits = _2, f2.relativeTimeRounding = function(e3) {
        return void 0 === e3 ? Yn7 : "function" == typeof e3 && (Yn7 = e3, true);
      }, f2.relativeTimeThreshold = function(e3, t4) {
        return void 0 !== On[e3] && (void 0 === t4 ? On[e3] : (On[e3] = t4, "s" === e3 && (On.ss = t4 - 1), true));
      }, f2.calendarFormat = function(e3, t4) {
        return (e3 = e3.diff(t4, "days", true)) < -6 ? "sameElse" : e3 < -1 ? "lastWeek" : e3 < 0 ? "lastDay" : e3 < 1 ? "sameDay" : e3 < 2 ? "nextDay" : e3 < 7 ? "nextWeek" : "sameElse";
      }, f2.prototype = i, f2.HTML5_FMT = { DATETIME_LOCAL: "YYYY-MM-DDTHH:mm", DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss", DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS", DATE: "YYYY-MM-DD", TIME: "HH:mm", TIME_SECONDS: "HH:mm:ss", TIME_MS: "HH:mm:ss.SSS", WEEK: "GGGG-[W]WW", MONTH: "YYYY-MM" }, f2;
    });
  }
});

// node_modules/@braintree/sanitize-url/dist/index.js
var require_dist = __commonJS({
  "node_modules/@braintree/sanitize-url/dist/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.sanitizeUrl = void 0;
    var invalidProtocolRegex = /^([^\w]*)(javascript|data|vbscript)/im;
    var htmlEntitiesRegex = /&#(\w+)(^\w|;)?/g;
    var htmlTabEntityRegex = /&tab;/gi;
    var ctrlCharactersRegex = /[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;
    var urlSchemeRegex = /^.+(:|&colon;)/gim;
    var relativeFirstCharacters = [".", "/"];
    function isRelativeUrlWithoutProtocol(url) {
      return relativeFirstCharacters.indexOf(url[0]) > -1;
    }
    function decodeHtmlCharacters(str) {
      str = str.replace(htmlTabEntityRegex, "&#9;");
      return str.replace(htmlEntitiesRegex, function(match2, dec) {
        return String.fromCharCode(dec);
      });
    }
    function sanitizeUrl2(url) {
      var sanitizedUrl = decodeHtmlCharacters(url || "").replace(ctrlCharactersRegex, "").trim();
      if (!sanitizedUrl) {
        return "about:blank";
      }
      if (isRelativeUrlWithoutProtocol(sanitizedUrl)) {
        return sanitizedUrl;
      }
      var urlSchemeParseResults = sanitizedUrl.match(urlSchemeRegex);
      if (!urlSchemeParseResults) {
        return sanitizedUrl;
      }
      var urlScheme = urlSchemeParseResults[0];
      if (invalidProtocolRegex.test(urlScheme)) {
        return "about:blank";
      }
      return sanitizedUrl;
    }
    exports2.sanitizeUrl = sanitizeUrl2;
  }
});

// node_modules/lodash/_listCacheClear.js
var require_listCacheClear = __commonJS({
  "node_modules/lodash/_listCacheClear.js"(exports2, module2) {
    function listCacheClear2() {
      this.__data__ = [];
      this.size = 0;
    }
    module2.exports = listCacheClear2;
  }
});

// node_modules/lodash/eq.js
var require_eq = __commonJS({
  "node_modules/lodash/eq.js"(exports2, module2) {
    function eq2(value, other) {
      return value === other || value !== value && other !== other;
    }
    module2.exports = eq2;
  }
});

// node_modules/lodash/_assocIndexOf.js
var require_assocIndexOf = __commonJS({
  "node_modules/lodash/_assocIndexOf.js"(exports2, module2) {
    var eq2 = require_eq();
    function assocIndexOf2(array12, key) {
      var length3 = array12.length;
      while (length3--) {
        if (eq2(array12[length3][0], key)) {
          return length3;
        }
      }
      return -1;
    }
    module2.exports = assocIndexOf2;
  }
});

// node_modules/lodash/_listCacheDelete.js
var require_listCacheDelete = __commonJS({
  "node_modules/lodash/_listCacheDelete.js"(exports2, module2) {
    var assocIndexOf2 = require_assocIndexOf();
    var arrayProto2 = Array.prototype;
    var splice2 = arrayProto2.splice;
    function listCacheDelete2(key) {
      var data = this.__data__, index6 = assocIndexOf2(data, key);
      if (index6 < 0) {
        return false;
      }
      var lastIndex = data.length - 1;
      if (index6 == lastIndex) {
        data.pop();
      } else {
        splice2.call(data, index6, 1);
      }
      --this.size;
      return true;
    }
    module2.exports = listCacheDelete2;
  }
});

// node_modules/lodash/_listCacheGet.js
var require_listCacheGet = __commonJS({
  "node_modules/lodash/_listCacheGet.js"(exports2, module2) {
    var assocIndexOf2 = require_assocIndexOf();
    function listCacheGet2(key) {
      var data = this.__data__, index6 = assocIndexOf2(data, key);
      return index6 < 0 ? void 0 : data[index6][1];
    }
    module2.exports = listCacheGet2;
  }
});

// node_modules/lodash/_listCacheHas.js
var require_listCacheHas = __commonJS({
  "node_modules/lodash/_listCacheHas.js"(exports2, module2) {
    var assocIndexOf2 = require_assocIndexOf();
    function listCacheHas2(key) {
      return assocIndexOf2(this.__data__, key) > -1;
    }
    module2.exports = listCacheHas2;
  }
});

// node_modules/lodash/_listCacheSet.js
var require_listCacheSet = __commonJS({
  "node_modules/lodash/_listCacheSet.js"(exports2, module2) {
    var assocIndexOf2 = require_assocIndexOf();
    function listCacheSet2(key, value) {
      var data = this.__data__, index6 = assocIndexOf2(data, key);
      if (index6 < 0) {
        ++this.size;
        data.push([key, value]);
      } else {
        data[index6][1] = value;
      }
      return this;
    }
    module2.exports = listCacheSet2;
  }
});

// node_modules/lodash/_ListCache.js
var require_ListCache = __commonJS({
  "node_modules/lodash/_ListCache.js"(exports2, module2) {
    var listCacheClear2 = require_listCacheClear();
    var listCacheDelete2 = require_listCacheDelete();
    var listCacheGet2 = require_listCacheGet();
    var listCacheHas2 = require_listCacheHas();
    var listCacheSet2 = require_listCacheSet();
    function ListCache2(entries) {
      var index6 = -1, length3 = entries == null ? 0 : entries.length;
      this.clear();
      while (++index6 < length3) {
        var entry = entries[index6];
        this.set(entry[0], entry[1]);
      }
    }
    ListCache2.prototype.clear = listCacheClear2;
    ListCache2.prototype["delete"] = listCacheDelete2;
    ListCache2.prototype.get = listCacheGet2;
    ListCache2.prototype.has = listCacheHas2;
    ListCache2.prototype.set = listCacheSet2;
    module2.exports = ListCache2;
  }
});

// node_modules/lodash/_stackClear.js
var require_stackClear = __commonJS({
  "node_modules/lodash/_stackClear.js"(exports2, module2) {
    var ListCache2 = require_ListCache();
    function stackClear() {
      this.__data__ = new ListCache2();
      this.size = 0;
    }
    module2.exports = stackClear;
  }
});

// node_modules/lodash/_stackDelete.js
var require_stackDelete = __commonJS({
  "node_modules/lodash/_stackDelete.js"(exports2, module2) {
    function stackDelete(key) {
      var data = this.__data__, result = data["delete"](key);
      this.size = data.size;
      return result;
    }
    module2.exports = stackDelete;
  }
});

// node_modules/lodash/_stackGet.js
var require_stackGet = __commonJS({
  "node_modules/lodash/_stackGet.js"(exports2, module2) {
    function stackGet(key) {
      return this.__data__.get(key);
    }
    module2.exports = stackGet;
  }
});

// node_modules/lodash/_stackHas.js
var require_stackHas = __commonJS({
  "node_modules/lodash/_stackHas.js"(exports2, module2) {
    function stackHas(key) {
      return this.__data__.has(key);
    }
    module2.exports = stackHas;
  }
});

// node_modules/lodash/_freeGlobal.js
var require_freeGlobal = __commonJS({
  "node_modules/lodash/_freeGlobal.js"(exports2, module2) {
    var freeGlobal2 = typeof global == "object" && global && global.Object === Object && global;
    module2.exports = freeGlobal2;
  }
});

// node_modules/lodash/_root.js
var require_root = __commonJS({
  "node_modules/lodash/_root.js"(exports2, module2) {
    var freeGlobal2 = require_freeGlobal();
    var freeSelf2 = typeof self == "object" && self && self.Object === Object && self;
    var root7 = freeGlobal2 || freeSelf2 || Function("return this")();
    module2.exports = root7;
  }
});

// node_modules/lodash/_Symbol.js
var require_Symbol = __commonJS({
  "node_modules/lodash/_Symbol.js"(exports2, module2) {
    var root7 = require_root();
    var Symbol3 = root7.Symbol;
    module2.exports = Symbol3;
  }
});

// node_modules/lodash/_getRawTag.js
var require_getRawTag = __commonJS({
  "node_modules/lodash/_getRawTag.js"(exports2, module2) {
    var Symbol3 = require_Symbol();
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    var nativeObjectToString = objectProto2.toString;
    var symToStringTag = Symbol3 ? Symbol3.toStringTag : void 0;
    function getRawTag(value) {
      var isOwn = hasOwnProperty3.call(value, symToStringTag), tag = value[symToStringTag];
      try {
        value[symToStringTag] = void 0;
        var unmasked = true;
      } catch (e) {
      }
      var result = nativeObjectToString.call(value);
      if (unmasked) {
        if (isOwn) {
          value[symToStringTag] = tag;
        } else {
          delete value[symToStringTag];
        }
      }
      return result;
    }
    module2.exports = getRawTag;
  }
});

// node_modules/lodash/_objectToString.js
var require_objectToString = __commonJS({
  "node_modules/lodash/_objectToString.js"(exports2, module2) {
    var objectProto2 = Object.prototype;
    var nativeObjectToString = objectProto2.toString;
    function objectToString(value) {
      return nativeObjectToString.call(value);
    }
    module2.exports = objectToString;
  }
});

// node_modules/lodash/_baseGetTag.js
var require_baseGetTag = __commonJS({
  "node_modules/lodash/_baseGetTag.js"(exports2, module2) {
    var Symbol3 = require_Symbol();
    var getRawTag = require_getRawTag();
    var objectToString = require_objectToString();
    var nullTag = "[object Null]";
    var undefinedTag = "[object Undefined]";
    var symToStringTag = Symbol3 ? Symbol3.toStringTag : void 0;
    function baseGetTag(value) {
      if (value == null) {
        return value === void 0 ? undefinedTag : nullTag;
      }
      return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);
    }
    module2.exports = baseGetTag;
  }
});

// node_modules/lodash/isObject.js
var require_isObject = __commonJS({
  "node_modules/lodash/isObject.js"(exports2, module2) {
    function isObject2(value) {
      var type4 = typeof value;
      return value != null && (type4 == "object" || type4 == "function");
    }
    module2.exports = isObject2;
  }
});

// node_modules/lodash/isFunction.js
var require_isFunction = __commonJS({
  "node_modules/lodash/isFunction.js"(exports2, module2) {
    var baseGetTag = require_baseGetTag();
    var isObject2 = require_isObject();
    var asyncTag = "[object AsyncFunction]";
    var funcTag = "[object Function]";
    var genTag = "[object GeneratorFunction]";
    var proxyTag = "[object Proxy]";
    function isFunction2(value) {
      if (!isObject2(value)) {
        return false;
      }
      var tag = baseGetTag(value);
      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
    }
    module2.exports = isFunction2;
  }
});

// node_modules/lodash/_coreJsData.js
var require_coreJsData = __commonJS({
  "node_modules/lodash/_coreJsData.js"(exports2, module2) {
    var root7 = require_root();
    var coreJsData2 = root7["__core-js_shared__"];
    module2.exports = coreJsData2;
  }
});

// node_modules/lodash/_isMasked.js
var require_isMasked = __commonJS({
  "node_modules/lodash/_isMasked.js"(exports2, module2) {
    var coreJsData2 = require_coreJsData();
    var maskSrcKey2 = function() {
      var uid = /[^.]+$/.exec(coreJsData2 && coreJsData2.keys && coreJsData2.keys.IE_PROTO || "");
      return uid ? "Symbol(src)_1." + uid : "";
    }();
    function isMasked2(func) {
      return !!maskSrcKey2 && maskSrcKey2 in func;
    }
    module2.exports = isMasked2;
  }
});

// node_modules/lodash/_toSource.js
var require_toSource = __commonJS({
  "node_modules/lodash/_toSource.js"(exports2, module2) {
    var funcProto2 = Function.prototype;
    var funcToString2 = funcProto2.toString;
    function toSource2(func) {
      if (func != null) {
        try {
          return funcToString2.call(func);
        } catch (e) {
        }
        try {
          return func + "";
        } catch (e) {
        }
      }
      return "";
    }
    module2.exports = toSource2;
  }
});

// node_modules/lodash/_baseIsNative.js
var require_baseIsNative = __commonJS({
  "node_modules/lodash/_baseIsNative.js"(exports2, module2) {
    var isFunction2 = require_isFunction();
    var isMasked2 = require_isMasked();
    var isObject2 = require_isObject();
    var toSource2 = require_toSource();
    var reRegExpChar2 = /[\\^$.*+?()[\]{}|]/g;
    var reIsHostCtor2 = /^\[object .+?Constructor\]$/;
    var funcProto2 = Function.prototype;
    var objectProto2 = Object.prototype;
    var funcToString2 = funcProto2.toString;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    var reIsNative2 = RegExp(
      "^" + funcToString2.call(hasOwnProperty3).replace(reRegExpChar2, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
    );
    function baseIsNative2(value) {
      if (!isObject2(value) || isMasked2(value)) {
        return false;
      }
      var pattern = isFunction2(value) ? reIsNative2 : reIsHostCtor2;
      return pattern.test(toSource2(value));
    }
    module2.exports = baseIsNative2;
  }
});

// node_modules/lodash/_getValue.js
var require_getValue = __commonJS({
  "node_modules/lodash/_getValue.js"(exports2, module2) {
    function getValue2(object2, key) {
      return object2 == null ? void 0 : object2[key];
    }
    module2.exports = getValue2;
  }
});

// node_modules/lodash/_getNative.js
var require_getNative = __commonJS({
  "node_modules/lodash/_getNative.js"(exports2, module2) {
    var baseIsNative2 = require_baseIsNative();
    var getValue2 = require_getValue();
    function getNative2(object2, key) {
      var value = getValue2(object2, key);
      return baseIsNative2(value) ? value : void 0;
    }
    module2.exports = getNative2;
  }
});

// node_modules/lodash/_Map.js
var require_Map = __commonJS({
  "node_modules/lodash/_Map.js"(exports2, module2) {
    var getNative2 = require_getNative();
    var root7 = require_root();
    var Map3 = getNative2(root7, "Map");
    module2.exports = Map3;
  }
});

// node_modules/lodash/_nativeCreate.js
var require_nativeCreate = __commonJS({
  "node_modules/lodash/_nativeCreate.js"(exports2, module2) {
    var getNative2 = require_getNative();
    var nativeCreate2 = getNative2(Object, "create");
    module2.exports = nativeCreate2;
  }
});

// node_modules/lodash/_hashClear.js
var require_hashClear = __commonJS({
  "node_modules/lodash/_hashClear.js"(exports2, module2) {
    var nativeCreate2 = require_nativeCreate();
    function hashClear2() {
      this.__data__ = nativeCreate2 ? nativeCreate2(null) : {};
      this.size = 0;
    }
    module2.exports = hashClear2;
  }
});

// node_modules/lodash/_hashDelete.js
var require_hashDelete = __commonJS({
  "node_modules/lodash/_hashDelete.js"(exports2, module2) {
    function hashDelete2(key) {
      var result = this.has(key) && delete this.__data__[key];
      this.size -= result ? 1 : 0;
      return result;
    }
    module2.exports = hashDelete2;
  }
});

// node_modules/lodash/_hashGet.js
var require_hashGet = __commonJS({
  "node_modules/lodash/_hashGet.js"(exports2, module2) {
    var nativeCreate2 = require_nativeCreate();
    var HASH_UNDEFINED2 = "__lodash_hash_undefined__";
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function hashGet2(key) {
      var data = this.__data__;
      if (nativeCreate2) {
        var result = data[key];
        return result === HASH_UNDEFINED2 ? void 0 : result;
      }
      return hasOwnProperty3.call(data, key) ? data[key] : void 0;
    }
    module2.exports = hashGet2;
  }
});

// node_modules/lodash/_hashHas.js
var require_hashHas = __commonJS({
  "node_modules/lodash/_hashHas.js"(exports2, module2) {
    var nativeCreate2 = require_nativeCreate();
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function hashHas2(key) {
      var data = this.__data__;
      return nativeCreate2 ? data[key] !== void 0 : hasOwnProperty3.call(data, key);
    }
    module2.exports = hashHas2;
  }
});

// node_modules/lodash/_hashSet.js
var require_hashSet = __commonJS({
  "node_modules/lodash/_hashSet.js"(exports2, module2) {
    var nativeCreate2 = require_nativeCreate();
    var HASH_UNDEFINED2 = "__lodash_hash_undefined__";
    function hashSet2(key, value) {
      var data = this.__data__;
      this.size += this.has(key) ? 0 : 1;
      data[key] = nativeCreate2 && value === void 0 ? HASH_UNDEFINED2 : value;
      return this;
    }
    module2.exports = hashSet2;
  }
});

// node_modules/lodash/_Hash.js
var require_Hash = __commonJS({
  "node_modules/lodash/_Hash.js"(exports2, module2) {
    var hashClear2 = require_hashClear();
    var hashDelete2 = require_hashDelete();
    var hashGet2 = require_hashGet();
    var hashHas2 = require_hashHas();
    var hashSet2 = require_hashSet();
    function Hash2(entries) {
      var index6 = -1, length3 = entries == null ? 0 : entries.length;
      this.clear();
      while (++index6 < length3) {
        var entry = entries[index6];
        this.set(entry[0], entry[1]);
      }
    }
    Hash2.prototype.clear = hashClear2;
    Hash2.prototype["delete"] = hashDelete2;
    Hash2.prototype.get = hashGet2;
    Hash2.prototype.has = hashHas2;
    Hash2.prototype.set = hashSet2;
    module2.exports = Hash2;
  }
});

// node_modules/lodash/_mapCacheClear.js
var require_mapCacheClear = __commonJS({
  "node_modules/lodash/_mapCacheClear.js"(exports2, module2) {
    var Hash2 = require_Hash();
    var ListCache2 = require_ListCache();
    var Map3 = require_Map();
    function mapCacheClear2() {
      this.size = 0;
      this.__data__ = {
        "hash": new Hash2(),
        "map": new (Map3 || ListCache2)(),
        "string": new Hash2()
      };
    }
    module2.exports = mapCacheClear2;
  }
});

// node_modules/lodash/_isKeyable.js
var require_isKeyable = __commonJS({
  "node_modules/lodash/_isKeyable.js"(exports2, module2) {
    function isKeyable2(value) {
      var type4 = typeof value;
      return type4 == "string" || type4 == "number" || type4 == "symbol" || type4 == "boolean" ? value !== "__proto__" : value === null;
    }
    module2.exports = isKeyable2;
  }
});

// node_modules/lodash/_getMapData.js
var require_getMapData = __commonJS({
  "node_modules/lodash/_getMapData.js"(exports2, module2) {
    var isKeyable2 = require_isKeyable();
    function getMapData2(map15, key) {
      var data = map15.__data__;
      return isKeyable2(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
    }
    module2.exports = getMapData2;
  }
});

// node_modules/lodash/_mapCacheDelete.js
var require_mapCacheDelete = __commonJS({
  "node_modules/lodash/_mapCacheDelete.js"(exports2, module2) {
    var getMapData2 = require_getMapData();
    function mapCacheDelete2(key) {
      var result = getMapData2(this, key)["delete"](key);
      this.size -= result ? 1 : 0;
      return result;
    }
    module2.exports = mapCacheDelete2;
  }
});

// node_modules/lodash/_mapCacheGet.js
var require_mapCacheGet = __commonJS({
  "node_modules/lodash/_mapCacheGet.js"(exports2, module2) {
    var getMapData2 = require_getMapData();
    function mapCacheGet2(key) {
      return getMapData2(this, key).get(key);
    }
    module2.exports = mapCacheGet2;
  }
});

// node_modules/lodash/_mapCacheHas.js
var require_mapCacheHas = __commonJS({
  "node_modules/lodash/_mapCacheHas.js"(exports2, module2) {
    var getMapData2 = require_getMapData();
    function mapCacheHas2(key) {
      return getMapData2(this, key).has(key);
    }
    module2.exports = mapCacheHas2;
  }
});

// node_modules/lodash/_mapCacheSet.js
var require_mapCacheSet = __commonJS({
  "node_modules/lodash/_mapCacheSet.js"(exports2, module2) {
    var getMapData2 = require_getMapData();
    function mapCacheSet2(key, value) {
      var data = getMapData2(this, key), size = data.size;
      data.set(key, value);
      this.size += data.size == size ? 0 : 1;
      return this;
    }
    module2.exports = mapCacheSet2;
  }
});

// node_modules/lodash/_MapCache.js
var require_MapCache = __commonJS({
  "node_modules/lodash/_MapCache.js"(exports2, module2) {
    var mapCacheClear2 = require_mapCacheClear();
    var mapCacheDelete2 = require_mapCacheDelete();
    var mapCacheGet2 = require_mapCacheGet();
    var mapCacheHas2 = require_mapCacheHas();
    var mapCacheSet2 = require_mapCacheSet();
    function MapCache2(entries) {
      var index6 = -1, length3 = entries == null ? 0 : entries.length;
      this.clear();
      while (++index6 < length3) {
        var entry = entries[index6];
        this.set(entry[0], entry[1]);
      }
    }
    MapCache2.prototype.clear = mapCacheClear2;
    MapCache2.prototype["delete"] = mapCacheDelete2;
    MapCache2.prototype.get = mapCacheGet2;
    MapCache2.prototype.has = mapCacheHas2;
    MapCache2.prototype.set = mapCacheSet2;
    module2.exports = MapCache2;
  }
});

// node_modules/lodash/_stackSet.js
var require_stackSet = __commonJS({
  "node_modules/lodash/_stackSet.js"(exports2, module2) {
    var ListCache2 = require_ListCache();
    var Map3 = require_Map();
    var MapCache2 = require_MapCache();
    var LARGE_ARRAY_SIZE = 200;
    function stackSet(key, value) {
      var data = this.__data__;
      if (data instanceof ListCache2) {
        var pairs5 = data.__data__;
        if (!Map3 || pairs5.length < LARGE_ARRAY_SIZE - 1) {
          pairs5.push([key, value]);
          this.size = ++data.size;
          return this;
        }
        data = this.__data__ = new MapCache2(pairs5);
      }
      data.set(key, value);
      this.size = data.size;
      return this;
    }
    module2.exports = stackSet;
  }
});

// node_modules/lodash/_Stack.js
var require_Stack = __commonJS({
  "node_modules/lodash/_Stack.js"(exports2, module2) {
    var ListCache2 = require_ListCache();
    var stackClear = require_stackClear();
    var stackDelete = require_stackDelete();
    var stackGet = require_stackGet();
    var stackHas = require_stackHas();
    var stackSet = require_stackSet();
    function Stack(entries) {
      var data = this.__data__ = new ListCache2(entries);
      this.size = data.size;
    }
    Stack.prototype.clear = stackClear;
    Stack.prototype["delete"] = stackDelete;
    Stack.prototype.get = stackGet;
    Stack.prototype.has = stackHas;
    Stack.prototype.set = stackSet;
    module2.exports = Stack;
  }
});

// node_modules/lodash/_arrayEach.js
var require_arrayEach = __commonJS({
  "node_modules/lodash/_arrayEach.js"(exports2, module2) {
    function arrayEach(array12, iteratee) {
      var index6 = -1, length3 = array12 == null ? 0 : array12.length;
      while (++index6 < length3) {
        if (iteratee(array12[index6], index6, array12) === false) {
          break;
        }
      }
      return array12;
    }
    module2.exports = arrayEach;
  }
});

// node_modules/lodash/_defineProperty.js
var require_defineProperty = __commonJS({
  "node_modules/lodash/_defineProperty.js"(exports2, module2) {
    var getNative2 = require_getNative();
    var defineProperty = function() {
      try {
        var func = getNative2(Object, "defineProperty");
        func({}, "", {});
        return func;
      } catch (e) {
      }
    }();
    module2.exports = defineProperty;
  }
});

// node_modules/lodash/_baseAssignValue.js
var require_baseAssignValue = __commonJS({
  "node_modules/lodash/_baseAssignValue.js"(exports2, module2) {
    var defineProperty = require_defineProperty();
    function baseAssignValue(object2, key, value) {
      if (key == "__proto__" && defineProperty) {
        defineProperty(object2, key, {
          "configurable": true,
          "enumerable": true,
          "value": value,
          "writable": true
        });
      } else {
        object2[key] = value;
      }
    }
    module2.exports = baseAssignValue;
  }
});

// node_modules/lodash/_assignValue.js
var require_assignValue = __commonJS({
  "node_modules/lodash/_assignValue.js"(exports2, module2) {
    var baseAssignValue = require_baseAssignValue();
    var eq2 = require_eq();
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function assignValue(object2, key, value) {
      var objValue = object2[key];
      if (!(hasOwnProperty3.call(object2, key) && eq2(objValue, value)) || value === void 0 && !(key in object2)) {
        baseAssignValue(object2, key, value);
      }
    }
    module2.exports = assignValue;
  }
});

// node_modules/lodash/_copyObject.js
var require_copyObject = __commonJS({
  "node_modules/lodash/_copyObject.js"(exports2, module2) {
    var assignValue = require_assignValue();
    var baseAssignValue = require_baseAssignValue();
    function copyObject(source, props, object2, customizer) {
      var isNew = !object2;
      object2 || (object2 = {});
      var index6 = -1, length3 = props.length;
      while (++index6 < length3) {
        var key = props[index6];
        var newValue = customizer ? customizer(object2[key], source[key], key, object2, source) : void 0;
        if (newValue === void 0) {
          newValue = source[key];
        }
        if (isNew) {
          baseAssignValue(object2, key, newValue);
        } else {
          assignValue(object2, key, newValue);
        }
      }
      return object2;
    }
    module2.exports = copyObject;
  }
});

// node_modules/lodash/_baseTimes.js
var require_baseTimes = __commonJS({
  "node_modules/lodash/_baseTimes.js"(exports2, module2) {
    function baseTimes(n, iteratee) {
      var index6 = -1, result = Array(n);
      while (++index6 < n) {
        result[index6] = iteratee(index6);
      }
      return result;
    }
    module2.exports = baseTimes;
  }
});

// node_modules/lodash/isObjectLike.js
var require_isObjectLike = __commonJS({
  "node_modules/lodash/isObjectLike.js"(exports2, module2) {
    function isObjectLike(value) {
      return value != null && typeof value == "object";
    }
    module2.exports = isObjectLike;
  }
});

// node_modules/lodash/_baseIsArguments.js
var require_baseIsArguments = __commonJS({
  "node_modules/lodash/_baseIsArguments.js"(exports2, module2) {
    var baseGetTag = require_baseGetTag();
    var isObjectLike = require_isObjectLike();
    var argsTag = "[object Arguments]";
    function baseIsArguments(value) {
      return isObjectLike(value) && baseGetTag(value) == argsTag;
    }
    module2.exports = baseIsArguments;
  }
});

// node_modules/lodash/isArguments.js
var require_isArguments = __commonJS({
  "node_modules/lodash/isArguments.js"(exports2, module2) {
    var baseIsArguments = require_baseIsArguments();
    var isObjectLike = require_isObjectLike();
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    var propertyIsEnumerable = objectProto2.propertyIsEnumerable;
    var isArguments = baseIsArguments(function() {
      return arguments;
    }()) ? baseIsArguments : function(value) {
      return isObjectLike(value) && hasOwnProperty3.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
    };
    module2.exports = isArguments;
  }
});

// node_modules/lodash/isArray.js
var require_isArray = __commonJS({
  "node_modules/lodash/isArray.js"(exports2, module2) {
    var isArray = Array.isArray;
    module2.exports = isArray;
  }
});

// node_modules/lodash/stubFalse.js
var require_stubFalse = __commonJS({
  "node_modules/lodash/stubFalse.js"(exports2, module2) {
    function stubFalse() {
      return false;
    }
    module2.exports = stubFalse;
  }
});

// node_modules/lodash/isBuffer.js
var require_isBuffer = __commonJS({
  "node_modules/lodash/isBuffer.js"(exports2, module2) {
    var root7 = require_root();
    var stubFalse = require_stubFalse();
    var freeExports = typeof exports2 == "object" && exports2 && !exports2.nodeType && exports2;
    var freeModule = freeExports && typeof module2 == "object" && module2 && !module2.nodeType && module2;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var Buffer = moduleExports ? root7.Buffer : void 0;
    var nativeIsBuffer = Buffer ? Buffer.isBuffer : void 0;
    var isBuffer2 = nativeIsBuffer || stubFalse;
    module2.exports = isBuffer2;
  }
});

// node_modules/lodash/_isIndex.js
var require_isIndex = __commonJS({
  "node_modules/lodash/_isIndex.js"(exports2, module2) {
    var MAX_SAFE_INTEGER = 9007199254740991;
    var reIsUint = /^(?:0|[1-9]\d*)$/;
    function isIndex(value, length3) {
      var type4 = typeof value;
      length3 = length3 == null ? MAX_SAFE_INTEGER : length3;
      return !!length3 && (type4 == "number" || type4 != "symbol" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length3);
    }
    module2.exports = isIndex;
  }
});

// node_modules/lodash/isLength.js
var require_isLength = __commonJS({
  "node_modules/lodash/isLength.js"(exports2, module2) {
    var MAX_SAFE_INTEGER = 9007199254740991;
    function isLength(value) {
      return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
    }
    module2.exports = isLength;
  }
});

// node_modules/lodash/_baseIsTypedArray.js
var require_baseIsTypedArray = __commonJS({
  "node_modules/lodash/_baseIsTypedArray.js"(exports2, module2) {
    var baseGetTag = require_baseGetTag();
    var isLength = require_isLength();
    var isObjectLike = require_isObjectLike();
    var argsTag = "[object Arguments]";
    var arrayTag = "[object Array]";
    var boolTag = "[object Boolean]";
    var dateTag = "[object Date]";
    var errorTag = "[object Error]";
    var funcTag = "[object Function]";
    var mapTag = "[object Map]";
    var numberTag = "[object Number]";
    var objectTag = "[object Object]";
    var regexpTag = "[object RegExp]";
    var setTag = "[object Set]";
    var stringTag = "[object String]";
    var weakMapTag = "[object WeakMap]";
    var arrayBufferTag = "[object ArrayBuffer]";
    var dataViewTag = "[object DataView]";
    var float32Tag = "[object Float32Array]";
    var float64Tag = "[object Float64Array]";
    var int8Tag = "[object Int8Array]";
    var int16Tag = "[object Int16Array]";
    var int32Tag = "[object Int32Array]";
    var uint8Tag = "[object Uint8Array]";
    var uint8ClampedTag = "[object Uint8ClampedArray]";
    var uint16Tag = "[object Uint16Array]";
    var uint32Tag = "[object Uint32Array]";
    var typedArrayTags = {};
    typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
    typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
    function baseIsTypedArray(value) {
      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
    }
    module2.exports = baseIsTypedArray;
  }
});

// node_modules/lodash/_baseUnary.js
var require_baseUnary = __commonJS({
  "node_modules/lodash/_baseUnary.js"(exports2, module2) {
    function baseUnary(func) {
      return function(value) {
        return func(value);
      };
    }
    module2.exports = baseUnary;
  }
});

// node_modules/lodash/_nodeUtil.js
var require_nodeUtil = __commonJS({
  "node_modules/lodash/_nodeUtil.js"(exports2, module2) {
    var freeGlobal2 = require_freeGlobal();
    var freeExports = typeof exports2 == "object" && exports2 && !exports2.nodeType && exports2;
    var freeModule = freeExports && typeof module2 == "object" && module2 && !module2.nodeType && module2;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var freeProcess = moduleExports && freeGlobal2.process;
    var nodeUtil = function() {
      try {
        var types2 = freeModule && freeModule.require && freeModule.require("util").types;
        if (types2) {
          return types2;
        }
        return freeProcess && freeProcess.binding && freeProcess.binding("util");
      } catch (e) {
      }
    }();
    module2.exports = nodeUtil;
  }
});

// node_modules/lodash/isTypedArray.js
var require_isTypedArray = __commonJS({
  "node_modules/lodash/isTypedArray.js"(exports2, module2) {
    var baseIsTypedArray = require_baseIsTypedArray();
    var baseUnary = require_baseUnary();
    var nodeUtil = require_nodeUtil();
    var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
    module2.exports = isTypedArray;
  }
});

// node_modules/lodash/_arrayLikeKeys.js
var require_arrayLikeKeys = __commonJS({
  "node_modules/lodash/_arrayLikeKeys.js"(exports2, module2) {
    var baseTimes = require_baseTimes();
    var isArguments = require_isArguments();
    var isArray = require_isArray();
    var isBuffer2 = require_isBuffer();
    var isIndex = require_isIndex();
    var isTypedArray = require_isTypedArray();
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function arrayLikeKeys(value, inherited) {
      var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer2(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length3 = result.length;
      for (var key in value) {
        if ((inherited || hasOwnProperty3.call(value, key)) && !(skipIndexes && (key == "length" || isBuff && (key == "offset" || key == "parent") || isType && (key == "buffer" || key == "byteLength" || key == "byteOffset") || isIndex(key, length3)))) {
          result.push(key);
        }
      }
      return result;
    }
    module2.exports = arrayLikeKeys;
  }
});

// node_modules/lodash/_isPrototype.js
var require_isPrototype = __commonJS({
  "node_modules/lodash/_isPrototype.js"(exports2, module2) {
    var objectProto2 = Object.prototype;
    function isPrototype(value) {
      var Ctor = value && value.constructor, proto2 = typeof Ctor == "function" && Ctor.prototype || objectProto2;
      return value === proto2;
    }
    module2.exports = isPrototype;
  }
});

// node_modules/lodash/_overArg.js
var require_overArg = __commonJS({
  "node_modules/lodash/_overArg.js"(exports2, module2) {
    function overArg(func, transform3) {
      return function(arg) {
        return func(transform3(arg));
      };
    }
    module2.exports = overArg;
  }
});

// node_modules/lodash/_nativeKeys.js
var require_nativeKeys = __commonJS({
  "node_modules/lodash/_nativeKeys.js"(exports2, module2) {
    var overArg = require_overArg();
    var nativeKeys = overArg(Object.keys, Object);
    module2.exports = nativeKeys;
  }
});

// node_modules/lodash/_baseKeys.js
var require_baseKeys = __commonJS({
  "node_modules/lodash/_baseKeys.js"(exports2, module2) {
    var isPrototype = require_isPrototype();
    var nativeKeys = require_nativeKeys();
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function baseKeys(object2) {
      if (!isPrototype(object2)) {
        return nativeKeys(object2);
      }
      var result = [];
      for (var key in Object(object2)) {
        if (hasOwnProperty3.call(object2, key) && key != "constructor") {
          result.push(key);
        }
      }
      return result;
    }
    module2.exports = baseKeys;
  }
});

// node_modules/lodash/isArrayLike.js
var require_isArrayLike = __commonJS({
  "node_modules/lodash/isArrayLike.js"(exports2, module2) {
    var isFunction2 = require_isFunction();
    var isLength = require_isLength();
    function isArrayLike(value) {
      return value != null && isLength(value.length) && !isFunction2(value);
    }
    module2.exports = isArrayLike;
  }
});

// node_modules/lodash/keys.js
var require_keys = __commonJS({
  "node_modules/lodash/keys.js"(exports2, module2) {
    var arrayLikeKeys = require_arrayLikeKeys();
    var baseKeys = require_baseKeys();
    var isArrayLike = require_isArrayLike();
    function keys(object2) {
      return isArrayLike(object2) ? arrayLikeKeys(object2) : baseKeys(object2);
    }
    module2.exports = keys;
  }
});

// node_modules/lodash/_baseAssign.js
var require_baseAssign = __commonJS({
  "node_modules/lodash/_baseAssign.js"(exports2, module2) {
    var copyObject = require_copyObject();
    var keys = require_keys();
    function baseAssign(object2, source) {
      return object2 && copyObject(source, keys(source), object2);
    }
    module2.exports = baseAssign;
  }
});

// node_modules/lodash/_nativeKeysIn.js
var require_nativeKeysIn = __commonJS({
  "node_modules/lodash/_nativeKeysIn.js"(exports2, module2) {
    function nativeKeysIn(object2) {
      var result = [];
      if (object2 != null) {
        for (var key in Object(object2)) {
          result.push(key);
        }
      }
      return result;
    }
    module2.exports = nativeKeysIn;
  }
});

// node_modules/lodash/_baseKeysIn.js
var require_baseKeysIn = __commonJS({
  "node_modules/lodash/_baseKeysIn.js"(exports2, module2) {
    var isObject2 = require_isObject();
    var isPrototype = require_isPrototype();
    var nativeKeysIn = require_nativeKeysIn();
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function baseKeysIn(object2) {
      if (!isObject2(object2)) {
        return nativeKeysIn(object2);
      }
      var isProto = isPrototype(object2), result = [];
      for (var key in object2) {
        if (!(key == "constructor" && (isProto || !hasOwnProperty3.call(object2, key)))) {
          result.push(key);
        }
      }
      return result;
    }
    module2.exports = baseKeysIn;
  }
});

// node_modules/lodash/keysIn.js
var require_keysIn = __commonJS({
  "node_modules/lodash/keysIn.js"(exports2, module2) {
    var arrayLikeKeys = require_arrayLikeKeys();
    var baseKeysIn = require_baseKeysIn();
    var isArrayLike = require_isArrayLike();
    function keysIn(object2) {
      return isArrayLike(object2) ? arrayLikeKeys(object2, true) : baseKeysIn(object2);
    }
    module2.exports = keysIn;
  }
});

// node_modules/lodash/_baseAssignIn.js
var require_baseAssignIn = __commonJS({
  "node_modules/lodash/_baseAssignIn.js"(exports2, module2) {
    var copyObject = require_copyObject();
    var keysIn = require_keysIn();
    function baseAssignIn(object2, source) {
      return object2 && copyObject(source, keysIn(source), object2);
    }
    module2.exports = baseAssignIn;
  }
});

// node_modules/lodash/_cloneBuffer.js
var require_cloneBuffer = __commonJS({
  "node_modules/lodash/_cloneBuffer.js"(exports2, module2) {
    var root7 = require_root();
    var freeExports = typeof exports2 == "object" && exports2 && !exports2.nodeType && exports2;
    var freeModule = freeExports && typeof module2 == "object" && module2 && !module2.nodeType && module2;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var Buffer = moduleExports ? root7.Buffer : void 0;
    var allocUnsafe = Buffer ? Buffer.allocUnsafe : void 0;
    function cloneBuffer(buffer, isDeep) {
      if (isDeep) {
        return buffer.slice();
      }
      var length3 = buffer.length, result = allocUnsafe ? allocUnsafe(length3) : new buffer.constructor(length3);
      buffer.copy(result);
      return result;
    }
    module2.exports = cloneBuffer;
  }
});

// node_modules/lodash/_copyArray.js
var require_copyArray = __commonJS({
  "node_modules/lodash/_copyArray.js"(exports2, module2) {
    function copyArray(source, array12) {
      var index6 = -1, length3 = source.length;
      array12 || (array12 = Array(length3));
      while (++index6 < length3) {
        array12[index6] = source[index6];
      }
      return array12;
    }
    module2.exports = copyArray;
  }
});

// node_modules/lodash/_arrayFilter.js
var require_arrayFilter = __commonJS({
  "node_modules/lodash/_arrayFilter.js"(exports2, module2) {
    function arrayFilter(array12, predicate) {
      var index6 = -1, length3 = array12 == null ? 0 : array12.length, resIndex = 0, result = [];
      while (++index6 < length3) {
        var value = array12[index6];
        if (predicate(value, index6, array12)) {
          result[resIndex++] = value;
        }
      }
      return result;
    }
    module2.exports = arrayFilter;
  }
});

// node_modules/lodash/stubArray.js
var require_stubArray = __commonJS({
  "node_modules/lodash/stubArray.js"(exports2, module2) {
    function stubArray() {
      return [];
    }
    module2.exports = stubArray;
  }
});

// node_modules/lodash/_getSymbols.js
var require_getSymbols = __commonJS({
  "node_modules/lodash/_getSymbols.js"(exports2, module2) {
    var arrayFilter = require_arrayFilter();
    var stubArray = require_stubArray();
    var objectProto2 = Object.prototype;
    var propertyIsEnumerable = objectProto2.propertyIsEnumerable;
    var nativeGetSymbols = Object.getOwnPropertySymbols;
    var getSymbols = !nativeGetSymbols ? stubArray : function(object2) {
      if (object2 == null) {
        return [];
      }
      object2 = Object(object2);
      return arrayFilter(nativeGetSymbols(object2), function(symbol) {
        return propertyIsEnumerable.call(object2, symbol);
      });
    };
    module2.exports = getSymbols;
  }
});

// node_modules/lodash/_copySymbols.js
var require_copySymbols = __commonJS({
  "node_modules/lodash/_copySymbols.js"(exports2, module2) {
    var copyObject = require_copyObject();
    var getSymbols = require_getSymbols();
    function copySymbols(source, object2) {
      return copyObject(source, getSymbols(source), object2);
    }
    module2.exports = copySymbols;
  }
});

// node_modules/lodash/_arrayPush.js
var require_arrayPush = __commonJS({
  "node_modules/lodash/_arrayPush.js"(exports2, module2) {
    function arrayPush2(array12, values) {
      var index6 = -1, length3 = values.length, offset = array12.length;
      while (++index6 < length3) {
        array12[offset + index6] = values[index6];
      }
      return array12;
    }
    module2.exports = arrayPush2;
  }
});

// node_modules/lodash/_getPrototype.js
var require_getPrototype = __commonJS({
  "node_modules/lodash/_getPrototype.js"(exports2, module2) {
    var overArg = require_overArg();
    var getPrototype = overArg(Object.getPrototypeOf, Object);
    module2.exports = getPrototype;
  }
});

// node_modules/lodash/_getSymbolsIn.js
var require_getSymbolsIn = __commonJS({
  "node_modules/lodash/_getSymbolsIn.js"(exports2, module2) {
    var arrayPush2 = require_arrayPush();
    var getPrototype = require_getPrototype();
    var getSymbols = require_getSymbols();
    var stubArray = require_stubArray();
    var nativeGetSymbols = Object.getOwnPropertySymbols;
    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object2) {
      var result = [];
      while (object2) {
        arrayPush2(result, getSymbols(object2));
        object2 = getPrototype(object2);
      }
      return result;
    };
    module2.exports = getSymbolsIn;
  }
});

// node_modules/lodash/_copySymbolsIn.js
var require_copySymbolsIn = __commonJS({
  "node_modules/lodash/_copySymbolsIn.js"(exports2, module2) {
    var copyObject = require_copyObject();
    var getSymbolsIn = require_getSymbolsIn();
    function copySymbolsIn(source, object2) {
      return copyObject(source, getSymbolsIn(source), object2);
    }
    module2.exports = copySymbolsIn;
  }
});

// node_modules/lodash/_baseGetAllKeys.js
var require_baseGetAllKeys = __commonJS({
  "node_modules/lodash/_baseGetAllKeys.js"(exports2, module2) {
    var arrayPush2 = require_arrayPush();
    var isArray = require_isArray();
    function baseGetAllKeys(object2, keysFunc, symbolsFunc) {
      var result = keysFunc(object2);
      return isArray(object2) ? result : arrayPush2(result, symbolsFunc(object2));
    }
    module2.exports = baseGetAllKeys;
  }
});

// node_modules/lodash/_getAllKeys.js
var require_getAllKeys = __commonJS({
  "node_modules/lodash/_getAllKeys.js"(exports2, module2) {
    var baseGetAllKeys = require_baseGetAllKeys();
    var getSymbols = require_getSymbols();
    var keys = require_keys();
    function getAllKeys(object2) {
      return baseGetAllKeys(object2, keys, getSymbols);
    }
    module2.exports = getAllKeys;
  }
});

// node_modules/lodash/_getAllKeysIn.js
var require_getAllKeysIn = __commonJS({
  "node_modules/lodash/_getAllKeysIn.js"(exports2, module2) {
    var baseGetAllKeys = require_baseGetAllKeys();
    var getSymbolsIn = require_getSymbolsIn();
    var keysIn = require_keysIn();
    function getAllKeysIn(object2) {
      return baseGetAllKeys(object2, keysIn, getSymbolsIn);
    }
    module2.exports = getAllKeysIn;
  }
});

// node_modules/lodash/_DataView.js
var require_DataView = __commonJS({
  "node_modules/lodash/_DataView.js"(exports2, module2) {
    var getNative2 = require_getNative();
    var root7 = require_root();
    var DataView2 = getNative2(root7, "DataView");
    module2.exports = DataView2;
  }
});

// node_modules/lodash/_Promise.js
var require_Promise = __commonJS({
  "node_modules/lodash/_Promise.js"(exports2, module2) {
    var getNative2 = require_getNative();
    var root7 = require_root();
    var Promise2 = getNative2(root7, "Promise");
    module2.exports = Promise2;
  }
});

// node_modules/lodash/_Set.js
var require_Set = __commonJS({
  "node_modules/lodash/_Set.js"(exports2, module2) {
    var getNative2 = require_getNative();
    var root7 = require_root();
    var Set3 = getNative2(root7, "Set");
    module2.exports = Set3;
  }
});

// node_modules/lodash/_WeakMap.js
var require_WeakMap = __commonJS({
  "node_modules/lodash/_WeakMap.js"(exports2, module2) {
    var getNative2 = require_getNative();
    var root7 = require_root();
    var WeakMap = getNative2(root7, "WeakMap");
    module2.exports = WeakMap;
  }
});

// node_modules/lodash/_getTag.js
var require_getTag = __commonJS({
  "node_modules/lodash/_getTag.js"(exports2, module2) {
    var DataView2 = require_DataView();
    var Map3 = require_Map();
    var Promise2 = require_Promise();
    var Set3 = require_Set();
    var WeakMap = require_WeakMap();
    var baseGetTag = require_baseGetTag();
    var toSource2 = require_toSource();
    var mapTag = "[object Map]";
    var objectTag = "[object Object]";
    var promiseTag = "[object Promise]";
    var setTag = "[object Set]";
    var weakMapTag = "[object WeakMap]";
    var dataViewTag = "[object DataView]";
    var dataViewCtorString = toSource2(DataView2);
    var mapCtorString = toSource2(Map3);
    var promiseCtorString = toSource2(Promise2);
    var setCtorString = toSource2(Set3);
    var weakMapCtorString = toSource2(WeakMap);
    var getTag = baseGetTag;
    if (DataView2 && getTag(new DataView2(new ArrayBuffer(1))) != dataViewTag || Map3 && getTag(new Map3()) != mapTag || Promise2 && getTag(Promise2.resolve()) != promiseTag || Set3 && getTag(new Set3()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {
      getTag = function(value) {
        var result = baseGetTag(value), Ctor = result == objectTag ? value.constructor : void 0, ctorString = Ctor ? toSource2(Ctor) : "";
        if (ctorString) {
          switch (ctorString) {
            case dataViewCtorString:
              return dataViewTag;
            case mapCtorString:
              return mapTag;
            case promiseCtorString:
              return promiseTag;
            case setCtorString:
              return setTag;
            case weakMapCtorString:
              return weakMapTag;
          }
        }
        return result;
      };
    }
    module2.exports = getTag;
  }
});

// node_modules/lodash/_initCloneArray.js
var require_initCloneArray = __commonJS({
  "node_modules/lodash/_initCloneArray.js"(exports2, module2) {
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function initCloneArray(array12) {
      var length3 = array12.length, result = new array12.constructor(length3);
      if (length3 && typeof array12[0] == "string" && hasOwnProperty3.call(array12, "index")) {
        result.index = array12.index;
        result.input = array12.input;
      }
      return result;
    }
    module2.exports = initCloneArray;
  }
});

// node_modules/lodash/_Uint8Array.js
var require_Uint8Array = __commonJS({
  "node_modules/lodash/_Uint8Array.js"(exports2, module2) {
    var root7 = require_root();
    var Uint8Array2 = root7.Uint8Array;
    module2.exports = Uint8Array2;
  }
});

// node_modules/lodash/_cloneArrayBuffer.js
var require_cloneArrayBuffer = __commonJS({
  "node_modules/lodash/_cloneArrayBuffer.js"(exports2, module2) {
    var Uint8Array2 = require_Uint8Array();
    function cloneArrayBuffer(arrayBuffer) {
      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
      new Uint8Array2(result).set(new Uint8Array2(arrayBuffer));
      return result;
    }
    module2.exports = cloneArrayBuffer;
  }
});

// node_modules/lodash/_cloneDataView.js
var require_cloneDataView = __commonJS({
  "node_modules/lodash/_cloneDataView.js"(exports2, module2) {
    var cloneArrayBuffer = require_cloneArrayBuffer();
    function cloneDataView(dataView, isDeep) {
      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
    }
    module2.exports = cloneDataView;
  }
});

// node_modules/lodash/_cloneRegExp.js
var require_cloneRegExp = __commonJS({
  "node_modules/lodash/_cloneRegExp.js"(exports2, module2) {
    var reFlags = /\w*$/;
    function cloneRegExp(regexp) {
      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
      result.lastIndex = regexp.lastIndex;
      return result;
    }
    module2.exports = cloneRegExp;
  }
});

// node_modules/lodash/_cloneSymbol.js
var require_cloneSymbol = __commonJS({
  "node_modules/lodash/_cloneSymbol.js"(exports2, module2) {
    var Symbol3 = require_Symbol();
    var symbolProto = Symbol3 ? Symbol3.prototype : void 0;
    var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
    function cloneSymbol(symbol) {
      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};
    }
    module2.exports = cloneSymbol;
  }
});

// node_modules/lodash/_cloneTypedArray.js
var require_cloneTypedArray = __commonJS({
  "node_modules/lodash/_cloneTypedArray.js"(exports2, module2) {
    var cloneArrayBuffer = require_cloneArrayBuffer();
    function cloneTypedArray(typedArray, isDeep) {
      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
    }
    module2.exports = cloneTypedArray;
  }
});

// node_modules/lodash/_initCloneByTag.js
var require_initCloneByTag = __commonJS({
  "node_modules/lodash/_initCloneByTag.js"(exports2, module2) {
    var cloneArrayBuffer = require_cloneArrayBuffer();
    var cloneDataView = require_cloneDataView();
    var cloneRegExp = require_cloneRegExp();
    var cloneSymbol = require_cloneSymbol();
    var cloneTypedArray = require_cloneTypedArray();
    var boolTag = "[object Boolean]";
    var dateTag = "[object Date]";
    var mapTag = "[object Map]";
    var numberTag = "[object Number]";
    var regexpTag = "[object RegExp]";
    var setTag = "[object Set]";
    var stringTag = "[object String]";
    var symbolTag = "[object Symbol]";
    var arrayBufferTag = "[object ArrayBuffer]";
    var dataViewTag = "[object DataView]";
    var float32Tag = "[object Float32Array]";
    var float64Tag = "[object Float64Array]";
    var int8Tag = "[object Int8Array]";
    var int16Tag = "[object Int16Array]";
    var int32Tag = "[object Int32Array]";
    var uint8Tag = "[object Uint8Array]";
    var uint8ClampedTag = "[object Uint8ClampedArray]";
    var uint16Tag = "[object Uint16Array]";
    var uint32Tag = "[object Uint32Array]";
    function initCloneByTag(object2, tag, isDeep) {
      var Ctor = object2.constructor;
      switch (tag) {
        case arrayBufferTag:
          return cloneArrayBuffer(object2);
        case boolTag:
        case dateTag:
          return new Ctor(+object2);
        case dataViewTag:
          return cloneDataView(object2, isDeep);
        case float32Tag:
        case float64Tag:
        case int8Tag:
        case int16Tag:
        case int32Tag:
        case uint8Tag:
        case uint8ClampedTag:
        case uint16Tag:
        case uint32Tag:
          return cloneTypedArray(object2, isDeep);
        case mapTag:
          return new Ctor();
        case numberTag:
        case stringTag:
          return new Ctor(object2);
        case regexpTag:
          return cloneRegExp(object2);
        case setTag:
          return new Ctor();
        case symbolTag:
          return cloneSymbol(object2);
      }
    }
    module2.exports = initCloneByTag;
  }
});

// node_modules/lodash/_baseCreate.js
var require_baseCreate = __commonJS({
  "node_modules/lodash/_baseCreate.js"(exports2, module2) {
    var isObject2 = require_isObject();
    var objectCreate = Object.create;
    var baseCreate = function() {
      function object2() {
      }
      return function(proto2) {
        if (!isObject2(proto2)) {
          return {};
        }
        if (objectCreate) {
          return objectCreate(proto2);
        }
        object2.prototype = proto2;
        var result = new object2();
        object2.prototype = void 0;
        return result;
      };
    }();
    module2.exports = baseCreate;
  }
});

// node_modules/lodash/_initCloneObject.js
var require_initCloneObject = __commonJS({
  "node_modules/lodash/_initCloneObject.js"(exports2, module2) {
    var baseCreate = require_baseCreate();
    var getPrototype = require_getPrototype();
    var isPrototype = require_isPrototype();
    function initCloneObject(object2) {
      return typeof object2.constructor == "function" && !isPrototype(object2) ? baseCreate(getPrototype(object2)) : {};
    }
    module2.exports = initCloneObject;
  }
});

// node_modules/lodash/_baseIsMap.js
var require_baseIsMap = __commonJS({
  "node_modules/lodash/_baseIsMap.js"(exports2, module2) {
    var getTag = require_getTag();
    var isObjectLike = require_isObjectLike();
    var mapTag = "[object Map]";
    function baseIsMap(value) {
      return isObjectLike(value) && getTag(value) == mapTag;
    }
    module2.exports = baseIsMap;
  }
});

// node_modules/lodash/isMap.js
var require_isMap = __commonJS({
  "node_modules/lodash/isMap.js"(exports2, module2) {
    var baseIsMap = require_baseIsMap();
    var baseUnary = require_baseUnary();
    var nodeUtil = require_nodeUtil();
    var nodeIsMap = nodeUtil && nodeUtil.isMap;
    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;
    module2.exports = isMap;
  }
});

// node_modules/lodash/_baseIsSet.js
var require_baseIsSet = __commonJS({
  "node_modules/lodash/_baseIsSet.js"(exports2, module2) {
    var getTag = require_getTag();
    var isObjectLike = require_isObjectLike();
    var setTag = "[object Set]";
    function baseIsSet(value) {
      return isObjectLike(value) && getTag(value) == setTag;
    }
    module2.exports = baseIsSet;
  }
});

// node_modules/lodash/isSet.js
var require_isSet = __commonJS({
  "node_modules/lodash/isSet.js"(exports2, module2) {
    var baseIsSet = require_baseIsSet();
    var baseUnary = require_baseUnary();
    var nodeUtil = require_nodeUtil();
    var nodeIsSet = nodeUtil && nodeUtil.isSet;
    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;
    module2.exports = isSet;
  }
});

// node_modules/lodash/_baseClone.js
var require_baseClone = __commonJS({
  "node_modules/lodash/_baseClone.js"(exports2, module2) {
    var Stack = require_Stack();
    var arrayEach = require_arrayEach();
    var assignValue = require_assignValue();
    var baseAssign = require_baseAssign();
    var baseAssignIn = require_baseAssignIn();
    var cloneBuffer = require_cloneBuffer();
    var copyArray = require_copyArray();
    var copySymbols = require_copySymbols();
    var copySymbolsIn = require_copySymbolsIn();
    var getAllKeys = require_getAllKeys();
    var getAllKeysIn = require_getAllKeysIn();
    var getTag = require_getTag();
    var initCloneArray = require_initCloneArray();
    var initCloneByTag = require_initCloneByTag();
    var initCloneObject = require_initCloneObject();
    var isArray = require_isArray();
    var isBuffer2 = require_isBuffer();
    var isMap = require_isMap();
    var isObject2 = require_isObject();
    var isSet = require_isSet();
    var keys = require_keys();
    var keysIn = require_keysIn();
    var CLONE_DEEP_FLAG = 1;
    var CLONE_FLAT_FLAG = 2;
    var CLONE_SYMBOLS_FLAG = 4;
    var argsTag = "[object Arguments]";
    var arrayTag = "[object Array]";
    var boolTag = "[object Boolean]";
    var dateTag = "[object Date]";
    var errorTag = "[object Error]";
    var funcTag = "[object Function]";
    var genTag = "[object GeneratorFunction]";
    var mapTag = "[object Map]";
    var numberTag = "[object Number]";
    var objectTag = "[object Object]";
    var regexpTag = "[object RegExp]";
    var setTag = "[object Set]";
    var stringTag = "[object String]";
    var symbolTag = "[object Symbol]";
    var weakMapTag = "[object WeakMap]";
    var arrayBufferTag = "[object ArrayBuffer]";
    var dataViewTag = "[object DataView]";
    var float32Tag = "[object Float32Array]";
    var float64Tag = "[object Float64Array]";
    var int8Tag = "[object Int8Array]";
    var int16Tag = "[object Int16Array]";
    var int32Tag = "[object Int32Array]";
    var uint8Tag = "[object Uint8Array]";
    var uint8ClampedTag = "[object Uint8ClampedArray]";
    var uint16Tag = "[object Uint16Array]";
    var uint32Tag = "[object Uint32Array]";
    var cloneableTags = {};
    cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
    cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;
    function baseClone(value, bitmask, customizer, key, object2, stack) {
      var result, isDeep = bitmask & CLONE_DEEP_FLAG, isFlat = bitmask & CLONE_FLAT_FLAG, isFull = bitmask & CLONE_SYMBOLS_FLAG;
      if (customizer) {
        result = object2 ? customizer(value, key, object2, stack) : customizer(value);
      }
      if (result !== void 0) {
        return result;
      }
      if (!isObject2(value)) {
        return value;
      }
      var isArr = isArray(value);
      if (isArr) {
        result = initCloneArray(value);
        if (!isDeep) {
          return copyArray(value, result);
        }
      } else {
        var tag = getTag(value), isFunc = tag == funcTag || tag == genTag;
        if (isBuffer2(value)) {
          return cloneBuffer(value, isDeep);
        }
        if (tag == objectTag || tag == argsTag || isFunc && !object2) {
          result = isFlat || isFunc ? {} : initCloneObject(value);
          if (!isDeep) {
            return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value));
          }
        } else {
          if (!cloneableTags[tag]) {
            return object2 ? value : {};
          }
          result = initCloneByTag(value, tag, isDeep);
        }
      }
      stack || (stack = new Stack());
      var stacked = stack.get(value);
      if (stacked) {
        return stacked;
      }
      stack.set(value, result);
      if (isSet(value)) {
        value.forEach(function(subValue) {
          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
        });
      } else if (isMap(value)) {
        value.forEach(function(subValue, key2) {
          result.set(key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
        });
      }
      var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys;
      var props = isArr ? void 0 : keysFunc(value);
      arrayEach(props || value, function(subValue, key2) {
        if (props) {
          key2 = subValue;
          subValue = value[key2];
        }
        assignValue(result, key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
      });
      return result;
    }
    module2.exports = baseClone;
  }
});

// node_modules/lodash/clone.js
var require_clone = __commonJS({
  "node_modules/lodash/clone.js"(exports2, module2) {
    var baseClone = require_baseClone();
    var CLONE_SYMBOLS_FLAG = 4;
    function clone3(value) {
      return baseClone(value, CLONE_SYMBOLS_FLAG);
    }
    module2.exports = clone3;
  }
});

// node_modules/lodash/constant.js
var require_constant = __commonJS({
  "node_modules/lodash/constant.js"(exports2, module2) {
    function constant5(value) {
      return function() {
        return value;
      };
    }
    module2.exports = constant5;
  }
});

// node_modules/lodash/_createBaseFor.js
var require_createBaseFor = __commonJS({
  "node_modules/lodash/_createBaseFor.js"(exports2, module2) {
    function createBaseFor(fromRight) {
      return function(object2, iteratee, keysFunc) {
        var index6 = -1, iterable = Object(object2), props = keysFunc(object2), length3 = props.length;
        while (length3--) {
          var key = props[fromRight ? length3 : ++index6];
          if (iteratee(iterable[key], key, iterable) === false) {
            break;
          }
        }
        return object2;
      };
    }
    module2.exports = createBaseFor;
  }
});

// node_modules/lodash/_baseFor.js
var require_baseFor = __commonJS({
  "node_modules/lodash/_baseFor.js"(exports2, module2) {
    var createBaseFor = require_createBaseFor();
    var baseFor = createBaseFor();
    module2.exports = baseFor;
  }
});

// node_modules/lodash/_baseForOwn.js
var require_baseForOwn = __commonJS({
  "node_modules/lodash/_baseForOwn.js"(exports2, module2) {
    var baseFor = require_baseFor();
    var keys = require_keys();
    function baseForOwn(object2, iteratee) {
      return object2 && baseFor(object2, iteratee, keys);
    }
    module2.exports = baseForOwn;
  }
});

// node_modules/lodash/_createBaseEach.js
var require_createBaseEach = __commonJS({
  "node_modules/lodash/_createBaseEach.js"(exports2, module2) {
    var isArrayLike = require_isArrayLike();
    function createBaseEach(eachFunc, fromRight) {
      return function(collection, iteratee) {
        if (collection == null) {
          return collection;
        }
        if (!isArrayLike(collection)) {
          return eachFunc(collection, iteratee);
        }
        var length3 = collection.length, index6 = fromRight ? length3 : -1, iterable = Object(collection);
        while (fromRight ? index6-- : ++index6 < length3) {
          if (iteratee(iterable[index6], index6, iterable) === false) {
            break;
          }
        }
        return collection;
      };
    }
    module2.exports = createBaseEach;
  }
});

// node_modules/lodash/_baseEach.js
var require_baseEach = __commonJS({
  "node_modules/lodash/_baseEach.js"(exports2, module2) {
    var baseForOwn = require_baseForOwn();
    var createBaseEach = require_createBaseEach();
    var baseEach = createBaseEach(baseForOwn);
    module2.exports = baseEach;
  }
});

// node_modules/lodash/identity.js
var require_identity = __commonJS({
  "node_modules/lodash/identity.js"(exports2, module2) {
    function identity17(value) {
      return value;
    }
    module2.exports = identity17;
  }
});

// node_modules/lodash/_castFunction.js
var require_castFunction = __commonJS({
  "node_modules/lodash/_castFunction.js"(exports2, module2) {
    var identity17 = require_identity();
    function castFunction(value) {
      return typeof value == "function" ? value : identity17;
    }
    module2.exports = castFunction;
  }
});

// node_modules/lodash/forEach.js
var require_forEach = __commonJS({
  "node_modules/lodash/forEach.js"(exports2, module2) {
    var arrayEach = require_arrayEach();
    var baseEach = require_baseEach();
    var castFunction = require_castFunction();
    var isArray = require_isArray();
    function forEach(collection, iteratee) {
      var func = isArray(collection) ? arrayEach : baseEach;
      return func(collection, castFunction(iteratee));
    }
    module2.exports = forEach;
  }
});

// node_modules/lodash/each.js
var require_each = __commonJS({
  "node_modules/lodash/each.js"(exports2, module2) {
    module2.exports = require_forEach();
  }
});

// node_modules/lodash/_baseFilter.js
var require_baseFilter = __commonJS({
  "node_modules/lodash/_baseFilter.js"(exports2, module2) {
    var baseEach = require_baseEach();
    function baseFilter(collection, predicate) {
      var result = [];
      baseEach(collection, function(value, index6, collection2) {
        if (predicate(value, index6, collection2)) {
          result.push(value);
        }
      });
      return result;
    }
    module2.exports = baseFilter;
  }
});

// node_modules/lodash/_setCacheAdd.js
var require_setCacheAdd = __commonJS({
  "node_modules/lodash/_setCacheAdd.js"(exports2, module2) {
    var HASH_UNDEFINED2 = "__lodash_hash_undefined__";
    function setCacheAdd(value) {
      this.__data__.set(value, HASH_UNDEFINED2);
      return this;
    }
    module2.exports = setCacheAdd;
  }
});

// node_modules/lodash/_setCacheHas.js
var require_setCacheHas = __commonJS({
  "node_modules/lodash/_setCacheHas.js"(exports2, module2) {
    function setCacheHas(value) {
      return this.__data__.has(value);
    }
    module2.exports = setCacheHas;
  }
});

// node_modules/lodash/_SetCache.js
var require_SetCache = __commonJS({
  "node_modules/lodash/_SetCache.js"(exports2, module2) {
    var MapCache2 = require_MapCache();
    var setCacheAdd = require_setCacheAdd();
    var setCacheHas = require_setCacheHas();
    function SetCache(values) {
      var index6 = -1, length3 = values == null ? 0 : values.length;
      this.__data__ = new MapCache2();
      while (++index6 < length3) {
        this.add(values[index6]);
      }
    }
    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
    SetCache.prototype.has = setCacheHas;
    module2.exports = SetCache;
  }
});

// node_modules/lodash/_arraySome.js
var require_arraySome = __commonJS({
  "node_modules/lodash/_arraySome.js"(exports2, module2) {
    function arraySome(array12, predicate) {
      var index6 = -1, length3 = array12 == null ? 0 : array12.length;
      while (++index6 < length3) {
        if (predicate(array12[index6], index6, array12)) {
          return true;
        }
      }
      return false;
    }
    module2.exports = arraySome;
  }
});

// node_modules/lodash/_cacheHas.js
var require_cacheHas = __commonJS({
  "node_modules/lodash/_cacheHas.js"(exports2, module2) {
    function cacheHas(cache, key) {
      return cache.has(key);
    }
    module2.exports = cacheHas;
  }
});

// node_modules/lodash/_equalArrays.js
var require_equalArrays = __commonJS({
  "node_modules/lodash/_equalArrays.js"(exports2, module2) {
    var SetCache = require_SetCache();
    var arraySome = require_arraySome();
    var cacheHas = require_cacheHas();
    var COMPARE_PARTIAL_FLAG = 1;
    var COMPARE_UNORDERED_FLAG = 2;
    function equalArrays(array12, other, bitmask, customizer, equalFunc, stack) {
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array12.length, othLength = other.length;
      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
        return false;
      }
      var arrStacked = stack.get(array12);
      var othStacked = stack.get(other);
      if (arrStacked && othStacked) {
        return arrStacked == other && othStacked == array12;
      }
      var index6 = -1, result = true, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : void 0;
      stack.set(array12, other);
      stack.set(other, array12);
      while (++index6 < arrLength) {
        var arrValue = array12[index6], othValue = other[index6];
        if (customizer) {
          var compared = isPartial ? customizer(othValue, arrValue, index6, other, array12, stack) : customizer(arrValue, othValue, index6, array12, other, stack);
        }
        if (compared !== void 0) {
          if (compared) {
            continue;
          }
          result = false;
          break;
        }
        if (seen) {
          if (!arraySome(other, function(othValue2, othIndex) {
            if (!cacheHas(seen, othIndex) && (arrValue === othValue2 || equalFunc(arrValue, othValue2, bitmask, customizer, stack))) {
              return seen.push(othIndex);
            }
          })) {
            result = false;
            break;
          }
        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
          result = false;
          break;
        }
      }
      stack["delete"](array12);
      stack["delete"](other);
      return result;
    }
    module2.exports = equalArrays;
  }
});

// node_modules/lodash/_mapToArray.js
var require_mapToArray = __commonJS({
  "node_modules/lodash/_mapToArray.js"(exports2, module2) {
    function mapToArray(map15) {
      var index6 = -1, result = Array(map15.size);
      map15.forEach(function(value, key) {
        result[++index6] = [key, value];
      });
      return result;
    }
    module2.exports = mapToArray;
  }
});

// node_modules/lodash/_setToArray.js
var require_setToArray = __commonJS({
  "node_modules/lodash/_setToArray.js"(exports2, module2) {
    function setToArray(set11) {
      var index6 = -1, result = Array(set11.size);
      set11.forEach(function(value) {
        result[++index6] = value;
      });
      return result;
    }
    module2.exports = setToArray;
  }
});

// node_modules/lodash/_equalByTag.js
var require_equalByTag = __commonJS({
  "node_modules/lodash/_equalByTag.js"(exports2, module2) {
    var Symbol3 = require_Symbol();
    var Uint8Array2 = require_Uint8Array();
    var eq2 = require_eq();
    var equalArrays = require_equalArrays();
    var mapToArray = require_mapToArray();
    var setToArray = require_setToArray();
    var COMPARE_PARTIAL_FLAG = 1;
    var COMPARE_UNORDERED_FLAG = 2;
    var boolTag = "[object Boolean]";
    var dateTag = "[object Date]";
    var errorTag = "[object Error]";
    var mapTag = "[object Map]";
    var numberTag = "[object Number]";
    var regexpTag = "[object RegExp]";
    var setTag = "[object Set]";
    var stringTag = "[object String]";
    var symbolTag = "[object Symbol]";
    var arrayBufferTag = "[object ArrayBuffer]";
    var dataViewTag = "[object DataView]";
    var symbolProto = Symbol3 ? Symbol3.prototype : void 0;
    var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
    function equalByTag(object2, other, tag, bitmask, customizer, equalFunc, stack) {
      switch (tag) {
        case dataViewTag:
          if (object2.byteLength != other.byteLength || object2.byteOffset != other.byteOffset) {
            return false;
          }
          object2 = object2.buffer;
          other = other.buffer;
        case arrayBufferTag:
          if (object2.byteLength != other.byteLength || !equalFunc(new Uint8Array2(object2), new Uint8Array2(other))) {
            return false;
          }
          return true;
        case boolTag:
        case dateTag:
        case numberTag:
          return eq2(+object2, +other);
        case errorTag:
          return object2.name == other.name && object2.message == other.message;
        case regexpTag:
        case stringTag:
          return object2 == other + "";
        case mapTag:
          var convert = mapToArray;
        case setTag:
          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
          convert || (convert = setToArray);
          if (object2.size != other.size && !isPartial) {
            return false;
          }
          var stacked = stack.get(object2);
          if (stacked) {
            return stacked == other;
          }
          bitmask |= COMPARE_UNORDERED_FLAG;
          stack.set(object2, other);
          var result = equalArrays(convert(object2), convert(other), bitmask, customizer, equalFunc, stack);
          stack["delete"](object2);
          return result;
        case symbolTag:
          if (symbolValueOf) {
            return symbolValueOf.call(object2) == symbolValueOf.call(other);
          }
      }
      return false;
    }
    module2.exports = equalByTag;
  }
});

// node_modules/lodash/_equalObjects.js
var require_equalObjects = __commonJS({
  "node_modules/lodash/_equalObjects.js"(exports2, module2) {
    var getAllKeys = require_getAllKeys();
    var COMPARE_PARTIAL_FLAG = 1;
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function equalObjects(object2, other, bitmask, customizer, equalFunc, stack) {
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object2), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;
      if (objLength != othLength && !isPartial) {
        return false;
      }
      var index6 = objLength;
      while (index6--) {
        var key = objProps[index6];
        if (!(isPartial ? key in other : hasOwnProperty3.call(other, key))) {
          return false;
        }
      }
      var objStacked = stack.get(object2);
      var othStacked = stack.get(other);
      if (objStacked && othStacked) {
        return objStacked == other && othStacked == object2;
      }
      var result = true;
      stack.set(object2, other);
      stack.set(other, object2);
      var skipCtor = isPartial;
      while (++index6 < objLength) {
        key = objProps[index6];
        var objValue = object2[key], othValue = other[key];
        if (customizer) {
          var compared = isPartial ? customizer(othValue, objValue, key, other, object2, stack) : customizer(objValue, othValue, key, object2, other, stack);
        }
        if (!(compared === void 0 ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {
          result = false;
          break;
        }
        skipCtor || (skipCtor = key == "constructor");
      }
      if (result && !skipCtor) {
        var objCtor = object2.constructor, othCtor = other.constructor;
        if (objCtor != othCtor && ("constructor" in object2 && "constructor" in other) && !(typeof objCtor == "function" && objCtor instanceof objCtor && typeof othCtor == "function" && othCtor instanceof othCtor)) {
          result = false;
        }
      }
      stack["delete"](object2);
      stack["delete"](other);
      return result;
    }
    module2.exports = equalObjects;
  }
});

// node_modules/lodash/_baseIsEqualDeep.js
var require_baseIsEqualDeep = __commonJS({
  "node_modules/lodash/_baseIsEqualDeep.js"(exports2, module2) {
    var Stack = require_Stack();
    var equalArrays = require_equalArrays();
    var equalByTag = require_equalByTag();
    var equalObjects = require_equalObjects();
    var getTag = require_getTag();
    var isArray = require_isArray();
    var isBuffer2 = require_isBuffer();
    var isTypedArray = require_isTypedArray();
    var COMPARE_PARTIAL_FLAG = 1;
    var argsTag = "[object Arguments]";
    var arrayTag = "[object Array]";
    var objectTag = "[object Object]";
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function baseIsEqualDeep(object2, other, bitmask, customizer, equalFunc, stack) {
      var objIsArr = isArray(object2), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object2), othTag = othIsArr ? arrayTag : getTag(other);
      objTag = objTag == argsTag ? objectTag : objTag;
      othTag = othTag == argsTag ? objectTag : othTag;
      var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;
      if (isSameTag && isBuffer2(object2)) {
        if (!isBuffer2(other)) {
          return false;
        }
        objIsArr = true;
        objIsObj = false;
      }
      if (isSameTag && !objIsObj) {
        stack || (stack = new Stack());
        return objIsArr || isTypedArray(object2) ? equalArrays(object2, other, bitmask, customizer, equalFunc, stack) : equalByTag(object2, other, objTag, bitmask, customizer, equalFunc, stack);
      }
      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
        var objIsWrapped = objIsObj && hasOwnProperty3.call(object2, "__wrapped__"), othIsWrapped = othIsObj && hasOwnProperty3.call(other, "__wrapped__");
        if (objIsWrapped || othIsWrapped) {
          var objUnwrapped = objIsWrapped ? object2.value() : object2, othUnwrapped = othIsWrapped ? other.value() : other;
          stack || (stack = new Stack());
          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
        }
      }
      if (!isSameTag) {
        return false;
      }
      stack || (stack = new Stack());
      return equalObjects(object2, other, bitmask, customizer, equalFunc, stack);
    }
    module2.exports = baseIsEqualDeep;
  }
});

// node_modules/lodash/_baseIsEqual.js
var require_baseIsEqual = __commonJS({
  "node_modules/lodash/_baseIsEqual.js"(exports2, module2) {
    var baseIsEqualDeep = require_baseIsEqualDeep();
    var isObjectLike = require_isObjectLike();
    function baseIsEqual(value, other, bitmask, customizer, stack) {
      if (value === other) {
        return true;
      }
      if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {
        return value !== value && other !== other;
      }
      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
    }
    module2.exports = baseIsEqual;
  }
});

// node_modules/lodash/_baseIsMatch.js
var require_baseIsMatch = __commonJS({
  "node_modules/lodash/_baseIsMatch.js"(exports2, module2) {
    var Stack = require_Stack();
    var baseIsEqual = require_baseIsEqual();
    var COMPARE_PARTIAL_FLAG = 1;
    var COMPARE_UNORDERED_FLAG = 2;
    function baseIsMatch(object2, source, matchData, customizer) {
      var index6 = matchData.length, length3 = index6, noCustomizer = !customizer;
      if (object2 == null) {
        return !length3;
      }
      object2 = Object(object2);
      while (index6--) {
        var data = matchData[index6];
        if (noCustomizer && data[2] ? data[1] !== object2[data[0]] : !(data[0] in object2)) {
          return false;
        }
      }
      while (++index6 < length3) {
        data = matchData[index6];
        var key = data[0], objValue = object2[key], srcValue = data[1];
        if (noCustomizer && data[2]) {
          if (objValue === void 0 && !(key in object2)) {
            return false;
          }
        } else {
          var stack = new Stack();
          if (customizer) {
            var result = customizer(objValue, srcValue, key, object2, source, stack);
          }
          if (!(result === void 0 ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {
            return false;
          }
        }
      }
      return true;
    }
    module2.exports = baseIsMatch;
  }
});

// node_modules/lodash/_isStrictComparable.js
var require_isStrictComparable = __commonJS({
  "node_modules/lodash/_isStrictComparable.js"(exports2, module2) {
    var isObject2 = require_isObject();
    function isStrictComparable(value) {
      return value === value && !isObject2(value);
    }
    module2.exports = isStrictComparable;
  }
});

// node_modules/lodash/_getMatchData.js
var require_getMatchData = __commonJS({
  "node_modules/lodash/_getMatchData.js"(exports2, module2) {
    var isStrictComparable = require_isStrictComparable();
    var keys = require_keys();
    function getMatchData(object2) {
      var result = keys(object2), length3 = result.length;
      while (length3--) {
        var key = result[length3], value = object2[key];
        result[length3] = [key, value, isStrictComparable(value)];
      }
      return result;
    }
    module2.exports = getMatchData;
  }
});

// node_modules/lodash/_matchesStrictComparable.js
var require_matchesStrictComparable = __commonJS({
  "node_modules/lodash/_matchesStrictComparable.js"(exports2, module2) {
    function matchesStrictComparable(key, srcValue) {
      return function(object2) {
        if (object2 == null) {
          return false;
        }
        return object2[key] === srcValue && (srcValue !== void 0 || key in Object(object2));
      };
    }
    module2.exports = matchesStrictComparable;
  }
});

// node_modules/lodash/_baseMatches.js
var require_baseMatches = __commonJS({
  "node_modules/lodash/_baseMatches.js"(exports2, module2) {
    var baseIsMatch = require_baseIsMatch();
    var getMatchData = require_getMatchData();
    var matchesStrictComparable = require_matchesStrictComparable();
    function baseMatches(source) {
      var matchData = getMatchData(source);
      if (matchData.length == 1 && matchData[0][2]) {
        return matchesStrictComparable(matchData[0][0], matchData[0][1]);
      }
      return function(object2) {
        return object2 === source || baseIsMatch(object2, source, matchData);
      };
    }
    module2.exports = baseMatches;
  }
});

// node_modules/lodash/isSymbol.js
var require_isSymbol = __commonJS({
  "node_modules/lodash/isSymbol.js"(exports2, module2) {
    var baseGetTag = require_baseGetTag();
    var isObjectLike = require_isObjectLike();
    var symbolTag = "[object Symbol]";
    function isSymbol(value) {
      return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag;
    }
    module2.exports = isSymbol;
  }
});

// node_modules/lodash/_isKey.js
var require_isKey = __commonJS({
  "node_modules/lodash/_isKey.js"(exports2, module2) {
    var isArray = require_isArray();
    var isSymbol = require_isSymbol();
    var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;
    var reIsPlainProp = /^\w*$/;
    function isKey(value, object2) {
      if (isArray(value)) {
        return false;
      }
      var type4 = typeof value;
      if (type4 == "number" || type4 == "symbol" || type4 == "boolean" || value == null || isSymbol(value)) {
        return true;
      }
      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object2 != null && value in Object(object2);
    }
    module2.exports = isKey;
  }
});

// node_modules/lodash/memoize.js
var require_memoize = __commonJS({
  "node_modules/lodash/memoize.js"(exports2, module2) {
    var MapCache2 = require_MapCache();
    var FUNC_ERROR_TEXT2 = "Expected a function";
    function memoize2(func, resolver) {
      if (typeof func != "function" || resolver != null && typeof resolver != "function") {
        throw new TypeError(FUNC_ERROR_TEXT2);
      }
      var memoized = function() {
        var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
        if (cache.has(key)) {
          return cache.get(key);
        }
        var result = func.apply(this, args);
        memoized.cache = cache.set(key, result) || cache;
        return result;
      };
      memoized.cache = new (memoize2.Cache || MapCache2)();
      return memoized;
    }
    memoize2.Cache = MapCache2;
    module2.exports = memoize2;
  }
});

// node_modules/lodash/_memoizeCapped.js
var require_memoizeCapped = __commonJS({
  "node_modules/lodash/_memoizeCapped.js"(exports2, module2) {
    var memoize2 = require_memoize();
    var MAX_MEMOIZE_SIZE = 500;
    function memoizeCapped(func) {
      var result = memoize2(func, function(key) {
        if (cache.size === MAX_MEMOIZE_SIZE) {
          cache.clear();
        }
        return key;
      });
      var cache = result.cache;
      return result;
    }
    module2.exports = memoizeCapped;
  }
});

// node_modules/lodash/_stringToPath.js
var require_stringToPath = __commonJS({
  "node_modules/lodash/_stringToPath.js"(exports2, module2) {
    var memoizeCapped = require_memoizeCapped();
    var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
    var reEscapeChar = /\\(\\)?/g;
    var stringToPath = memoizeCapped(function(string) {
      var result = [];
      if (string.charCodeAt(0) === 46) {
        result.push("");
      }
      string.replace(rePropName, function(match2, number10, quote, subString) {
        result.push(quote ? subString.replace(reEscapeChar, "$1") : number10 || match2);
      });
      return result;
    });
    module2.exports = stringToPath;
  }
});

// node_modules/lodash/_arrayMap.js
var require_arrayMap = __commonJS({
  "node_modules/lodash/_arrayMap.js"(exports2, module2) {
    function arrayMap(array12, iteratee) {
      var index6 = -1, length3 = array12 == null ? 0 : array12.length, result = Array(length3);
      while (++index6 < length3) {
        result[index6] = iteratee(array12[index6], index6, array12);
      }
      return result;
    }
    module2.exports = arrayMap;
  }
});

// node_modules/lodash/_baseToString.js
var require_baseToString = __commonJS({
  "node_modules/lodash/_baseToString.js"(exports2, module2) {
    var Symbol3 = require_Symbol();
    var arrayMap = require_arrayMap();
    var isArray = require_isArray();
    var isSymbol = require_isSymbol();
    var INFINITY = 1 / 0;
    var symbolProto = Symbol3 ? Symbol3.prototype : void 0;
    var symbolToString = symbolProto ? symbolProto.toString : void 0;
    function baseToString(value) {
      if (typeof value == "string") {
        return value;
      }
      if (isArray(value)) {
        return arrayMap(value, baseToString) + "";
      }
      if (isSymbol(value)) {
        return symbolToString ? symbolToString.call(value) : "";
      }
      var result = value + "";
      return result == "0" && 1 / value == -INFINITY ? "-0" : result;
    }
    module2.exports = baseToString;
  }
});

// node_modules/lodash/toString.js
var require_toString = __commonJS({
  "node_modules/lodash/toString.js"(exports2, module2) {
    var baseToString = require_baseToString();
    function toString(value) {
      return value == null ? "" : baseToString(value);
    }
    module2.exports = toString;
  }
});

// node_modules/lodash/_castPath.js
var require_castPath = __commonJS({
  "node_modules/lodash/_castPath.js"(exports2, module2) {
    var isArray = require_isArray();
    var isKey = require_isKey();
    var stringToPath = require_stringToPath();
    var toString = require_toString();
    function castPath(value, object2) {
      if (isArray(value)) {
        return value;
      }
      return isKey(value, object2) ? [value] : stringToPath(toString(value));
    }
    module2.exports = castPath;
  }
});

// node_modules/lodash/_toKey.js
var require_toKey = __commonJS({
  "node_modules/lodash/_toKey.js"(exports2, module2) {
    var isSymbol = require_isSymbol();
    var INFINITY = 1 / 0;
    function toKey(value) {
      if (typeof value == "string" || isSymbol(value)) {
        return value;
      }
      var result = value + "";
      return result == "0" && 1 / value == -INFINITY ? "-0" : result;
    }
    module2.exports = toKey;
  }
});

// node_modules/lodash/_baseGet.js
var require_baseGet = __commonJS({
  "node_modules/lodash/_baseGet.js"(exports2, module2) {
    var castPath = require_castPath();
    var toKey = require_toKey();
    function baseGet(object2, path5) {
      path5 = castPath(path5, object2);
      var index6 = 0, length3 = path5.length;
      while (object2 != null && index6 < length3) {
        object2 = object2[toKey(path5[index6++])];
      }
      return index6 && index6 == length3 ? object2 : void 0;
    }
    module2.exports = baseGet;
  }
});

// node_modules/lodash/get.js
var require_get = __commonJS({
  "node_modules/lodash/get.js"(exports2, module2) {
    var baseGet = require_baseGet();
    function get10(object2, path5, defaultValue) {
      var result = object2 == null ? void 0 : baseGet(object2, path5);
      return result === void 0 ? defaultValue : result;
    }
    module2.exports = get10;
  }
});

// node_modules/lodash/_baseHasIn.js
var require_baseHasIn = __commonJS({
  "node_modules/lodash/_baseHasIn.js"(exports2, module2) {
    function baseHasIn(object2, key) {
      return object2 != null && key in Object(object2);
    }
    module2.exports = baseHasIn;
  }
});

// node_modules/lodash/_hasPath.js
var require_hasPath = __commonJS({
  "node_modules/lodash/_hasPath.js"(exports2, module2) {
    var castPath = require_castPath();
    var isArguments = require_isArguments();
    var isArray = require_isArray();
    var isIndex = require_isIndex();
    var isLength = require_isLength();
    var toKey = require_toKey();
    function hasPath(object2, path5, hasFunc) {
      path5 = castPath(path5, object2);
      var index6 = -1, length3 = path5.length, result = false;
      while (++index6 < length3) {
        var key = toKey(path5[index6]);
        if (!(result = object2 != null && hasFunc(object2, key))) {
          break;
        }
        object2 = object2[key];
      }
      if (result || ++index6 != length3) {
        return result;
      }
      length3 = object2 == null ? 0 : object2.length;
      return !!length3 && isLength(length3) && isIndex(key, length3) && (isArray(object2) || isArguments(object2));
    }
    module2.exports = hasPath;
  }
});

// node_modules/lodash/hasIn.js
var require_hasIn = __commonJS({
  "node_modules/lodash/hasIn.js"(exports2, module2) {
    var baseHasIn = require_baseHasIn();
    var hasPath = require_hasPath();
    function hasIn(object2, path5) {
      return object2 != null && hasPath(object2, path5, baseHasIn);
    }
    module2.exports = hasIn;
  }
});

// node_modules/lodash/_baseMatchesProperty.js
var require_baseMatchesProperty = __commonJS({
  "node_modules/lodash/_baseMatchesProperty.js"(exports2, module2) {
    var baseIsEqual = require_baseIsEqual();
    var get10 = require_get();
    var hasIn = require_hasIn();
    var isKey = require_isKey();
    var isStrictComparable = require_isStrictComparable();
    var matchesStrictComparable = require_matchesStrictComparable();
    var toKey = require_toKey();
    var COMPARE_PARTIAL_FLAG = 1;
    var COMPARE_UNORDERED_FLAG = 2;
    function baseMatchesProperty(path5, srcValue) {
      if (isKey(path5) && isStrictComparable(srcValue)) {
        return matchesStrictComparable(toKey(path5), srcValue);
      }
      return function(object2) {
        var objValue = get10(object2, path5);
        return objValue === void 0 && objValue === srcValue ? hasIn(object2, path5) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
      };
    }
    module2.exports = baseMatchesProperty;
  }
});

// node_modules/lodash/_baseProperty.js
var require_baseProperty = __commonJS({
  "node_modules/lodash/_baseProperty.js"(exports2, module2) {
    function baseProperty(key) {
      return function(object2) {
        return object2 == null ? void 0 : object2[key];
      };
    }
    module2.exports = baseProperty;
  }
});

// node_modules/lodash/_basePropertyDeep.js
var require_basePropertyDeep = __commonJS({
  "node_modules/lodash/_basePropertyDeep.js"(exports2, module2) {
    var baseGet = require_baseGet();
    function basePropertyDeep(path5) {
      return function(object2) {
        return baseGet(object2, path5);
      };
    }
    module2.exports = basePropertyDeep;
  }
});

// node_modules/lodash/property.js
var require_property = __commonJS({
  "node_modules/lodash/property.js"(exports2, module2) {
    var baseProperty = require_baseProperty();
    var basePropertyDeep = require_basePropertyDeep();
    var isKey = require_isKey();
    var toKey = require_toKey();
    function property(path5) {
      return isKey(path5) ? baseProperty(toKey(path5)) : basePropertyDeep(path5);
    }
    module2.exports = property;
  }
});

// node_modules/lodash/_baseIteratee.js
var require_baseIteratee = __commonJS({
  "node_modules/lodash/_baseIteratee.js"(exports2, module2) {
    var baseMatches = require_baseMatches();
    var baseMatchesProperty = require_baseMatchesProperty();
    var identity17 = require_identity();
    var isArray = require_isArray();
    var property = require_property();
    function baseIteratee(value) {
      if (typeof value == "function") {
        return value;
      }
      if (value == null) {
        return identity17;
      }
      if (typeof value == "object") {
        return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);
      }
      return property(value);
    }
    module2.exports = baseIteratee;
  }
});

// node_modules/lodash/filter.js
var require_filter = __commonJS({
  "node_modules/lodash/filter.js"(exports2, module2) {
    var arrayFilter = require_arrayFilter();
    var baseFilter = require_baseFilter();
    var baseIteratee = require_baseIteratee();
    var isArray = require_isArray();
    function filter8(collection, predicate) {
      var func = isArray(collection) ? arrayFilter : baseFilter;
      return func(collection, baseIteratee(predicate, 3));
    }
    module2.exports = filter8;
  }
});

// node_modules/lodash/_baseHas.js
var require_baseHas = __commonJS({
  "node_modules/lodash/_baseHas.js"(exports2, module2) {
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function baseHas(object2, key) {
      return object2 != null && hasOwnProperty3.call(object2, key);
    }
    module2.exports = baseHas;
  }
});

// node_modules/lodash/has.js
var require_has = __commonJS({
  "node_modules/lodash/has.js"(exports2, module2) {
    var baseHas = require_baseHas();
    var hasPath = require_hasPath();
    function has(object2, path5) {
      return object2 != null && hasPath(object2, path5, baseHas);
    }
    module2.exports = has;
  }
});

// node_modules/lodash/isEmpty.js
var require_isEmpty = __commonJS({
  "node_modules/lodash/isEmpty.js"(exports2, module2) {
    var baseKeys = require_baseKeys();
    var getTag = require_getTag();
    var isArguments = require_isArguments();
    var isArray = require_isArray();
    var isArrayLike = require_isArrayLike();
    var isBuffer2 = require_isBuffer();
    var isPrototype = require_isPrototype();
    var isTypedArray = require_isTypedArray();
    var mapTag = "[object Map]";
    var setTag = "[object Set]";
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    function isEmpty(value) {
      if (value == null) {
        return true;
      }
      if (isArrayLike(value) && (isArray(value) || typeof value == "string" || typeof value.splice == "function" || isBuffer2(value) || isTypedArray(value) || isArguments(value))) {
        return !value.length;
      }
      var tag = getTag(value);
      if (tag == mapTag || tag == setTag) {
        return !value.size;
      }
      if (isPrototype(value)) {
        return !baseKeys(value).length;
      }
      for (var key in value) {
        if (hasOwnProperty3.call(value, key)) {
          return false;
        }
      }
      return true;
    }
    module2.exports = isEmpty;
  }
});

// node_modules/lodash/isUndefined.js
var require_isUndefined = __commonJS({
  "node_modules/lodash/isUndefined.js"(exports2, module2) {
    function isUndefined(value) {
      return value === void 0;
    }
    module2.exports = isUndefined;
  }
});

// node_modules/lodash/_baseMap.js
var require_baseMap = __commonJS({
  "node_modules/lodash/_baseMap.js"(exports2, module2) {
    var baseEach = require_baseEach();
    var isArrayLike = require_isArrayLike();
    function baseMap(collection, iteratee) {
      var index6 = -1, result = isArrayLike(collection) ? Array(collection.length) : [];
      baseEach(collection, function(value, key, collection2) {
        result[++index6] = iteratee(value, key, collection2);
      });
      return result;
    }
    module2.exports = baseMap;
  }
});

// node_modules/lodash/map.js
var require_map = __commonJS({
  "node_modules/lodash/map.js"(exports2, module2) {
    var arrayMap = require_arrayMap();
    var baseIteratee = require_baseIteratee();
    var baseMap = require_baseMap();
    var isArray = require_isArray();
    function map15(collection, iteratee) {
      var func = isArray(collection) ? arrayMap : baseMap;
      return func(collection, baseIteratee(iteratee, 3));
    }
    module2.exports = map15;
  }
});

// node_modules/lodash/_arrayReduce.js
var require_arrayReduce = __commonJS({
  "node_modules/lodash/_arrayReduce.js"(exports2, module2) {
    function arrayReduce(array12, iteratee, accumulator, initAccum) {
      var index6 = -1, length3 = array12 == null ? 0 : array12.length;
      if (initAccum && length3) {
        accumulator = array12[++index6];
      }
      while (++index6 < length3) {
        accumulator = iteratee(accumulator, array12[index6], index6, array12);
      }
      return accumulator;
    }
    module2.exports = arrayReduce;
  }
});

// node_modules/lodash/_baseReduce.js
var require_baseReduce = __commonJS({
  "node_modules/lodash/_baseReduce.js"(exports2, module2) {
    function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {
      eachFunc(collection, function(value, index6, collection2) {
        accumulator = initAccum ? (initAccum = false, value) : iteratee(accumulator, value, index6, collection2);
      });
      return accumulator;
    }
    module2.exports = baseReduce;
  }
});

// node_modules/lodash/reduce.js
var require_reduce = __commonJS({
  "node_modules/lodash/reduce.js"(exports2, module2) {
    var arrayReduce = require_arrayReduce();
    var baseEach = require_baseEach();
    var baseIteratee = require_baseIteratee();
    var baseReduce = require_baseReduce();
    var isArray = require_isArray();
    function reduce5(collection, iteratee, accumulator) {
      var func = isArray(collection) ? arrayReduce : baseReduce, initAccum = arguments.length < 3;
      return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);
    }
    module2.exports = reduce5;
  }
});

// node_modules/lodash/isString.js
var require_isString = __commonJS({
  "node_modules/lodash/isString.js"(exports2, module2) {
    var baseGetTag = require_baseGetTag();
    var isArray = require_isArray();
    var isObjectLike = require_isObjectLike();
    var stringTag = "[object String]";
    function isString(value) {
      return typeof value == "string" || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;
    }
    module2.exports = isString;
  }
});

// node_modules/lodash/_asciiSize.js
var require_asciiSize = __commonJS({
  "node_modules/lodash/_asciiSize.js"(exports2, module2) {
    var baseProperty = require_baseProperty();
    var asciiSize = baseProperty("length");
    module2.exports = asciiSize;
  }
});

// node_modules/lodash/_hasUnicode.js
var require_hasUnicode = __commonJS({
  "node_modules/lodash/_hasUnicode.js"(exports2, module2) {
    var rsAstralRange = "\\ud800-\\udfff";
    var rsComboMarksRange = "\\u0300-\\u036f";
    var reComboHalfMarksRange = "\\ufe20-\\ufe2f";
    var rsComboSymbolsRange = "\\u20d0-\\u20ff";
    var rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;
    var rsVarRange = "\\ufe0e\\ufe0f";
    var rsZWJ = "\\u200d";
    var reHasUnicode = RegExp("[" + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + "]");
    function hasUnicode(string) {
      return reHasUnicode.test(string);
    }
    module2.exports = hasUnicode;
  }
});

// node_modules/lodash/_unicodeSize.js
var require_unicodeSize = __commonJS({
  "node_modules/lodash/_unicodeSize.js"(exports2, module2) {
    var rsAstralRange = "\\ud800-\\udfff";
    var rsComboMarksRange = "\\u0300-\\u036f";
    var reComboHalfMarksRange = "\\ufe20-\\ufe2f";
    var rsComboSymbolsRange = "\\u20d0-\\u20ff";
    var rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;
    var rsVarRange = "\\ufe0e\\ufe0f";
    var rsAstral = "[" + rsAstralRange + "]";
    var rsCombo = "[" + rsComboRange + "]";
    var rsFitz = "\\ud83c[\\udffb-\\udfff]";
    var rsModifier = "(?:" + rsCombo + "|" + rsFitz + ")";
    var rsNonAstral = "[^" + rsAstralRange + "]";
    var rsRegional = "(?:\\ud83c[\\udde6-\\uddff]){2}";
    var rsSurrPair = "[\\ud800-\\udbff][\\udc00-\\udfff]";
    var rsZWJ = "\\u200d";
    var reOptMod = rsModifier + "?";
    var rsOptVar = "[" + rsVarRange + "]?";
    var rsOptJoin = "(?:" + rsZWJ + "(?:" + [rsNonAstral, rsRegional, rsSurrPair].join("|") + ")" + rsOptVar + reOptMod + ")*";
    var rsSeq = rsOptVar + reOptMod + rsOptJoin;
    var rsSymbol = "(?:" + [rsNonAstral + rsCombo + "?", rsCombo, rsRegional, rsSurrPair, rsAstral].join("|") + ")";
    var reUnicode = RegExp(rsFitz + "(?=" + rsFitz + ")|" + rsSymbol + rsSeq, "g");
    function unicodeSize(string) {
      var result = reUnicode.lastIndex = 0;
      while (reUnicode.test(string)) {
        ++result;
      }
      return result;
    }
    module2.exports = unicodeSize;
  }
});

// node_modules/lodash/_stringSize.js
var require_stringSize = __commonJS({
  "node_modules/lodash/_stringSize.js"(exports2, module2) {
    var asciiSize = require_asciiSize();
    var hasUnicode = require_hasUnicode();
    var unicodeSize = require_unicodeSize();
    function stringSize(string) {
      return hasUnicode(string) ? unicodeSize(string) : asciiSize(string);
    }
    module2.exports = stringSize;
  }
});

// node_modules/lodash/size.js
var require_size = __commonJS({
  "node_modules/lodash/size.js"(exports2, module2) {
    var baseKeys = require_baseKeys();
    var getTag = require_getTag();
    var isArrayLike = require_isArrayLike();
    var isString = require_isString();
    var stringSize = require_stringSize();
    var mapTag = "[object Map]";
    var setTag = "[object Set]";
    function size(collection) {
      if (collection == null) {
        return 0;
      }
      if (isArrayLike(collection)) {
        return isString(collection) ? stringSize(collection) : collection.length;
      }
      var tag = getTag(collection);
      if (tag == mapTag || tag == setTag) {
        return collection.size;
      }
      return baseKeys(collection).length;
    }
    module2.exports = size;
  }
});

// node_modules/lodash/transform.js
var require_transform = __commonJS({
  "node_modules/lodash/transform.js"(exports2, module2) {
    var arrayEach = require_arrayEach();
    var baseCreate = require_baseCreate();
    var baseForOwn = require_baseForOwn();
    var baseIteratee = require_baseIteratee();
    var getPrototype = require_getPrototype();
    var isArray = require_isArray();
    var isBuffer2 = require_isBuffer();
    var isFunction2 = require_isFunction();
    var isObject2 = require_isObject();
    var isTypedArray = require_isTypedArray();
    function transform3(object2, iteratee, accumulator) {
      var isArr = isArray(object2), isArrLike = isArr || isBuffer2(object2) || isTypedArray(object2);
      iteratee = baseIteratee(iteratee, 4);
      if (accumulator == null) {
        var Ctor = object2 && object2.constructor;
        if (isArrLike) {
          accumulator = isArr ? new Ctor() : [];
        } else if (isObject2(object2)) {
          accumulator = isFunction2(Ctor) ? baseCreate(getPrototype(object2)) : {};
        } else {
          accumulator = {};
        }
      }
      (isArrLike ? arrayEach : baseForOwn)(object2, function(value, index6, object3) {
        return iteratee(accumulator, value, index6, object3);
      });
      return accumulator;
    }
    module2.exports = transform3;
  }
});

// node_modules/lodash/_isFlattenable.js
var require_isFlattenable = __commonJS({
  "node_modules/lodash/_isFlattenable.js"(exports2, module2) {
    var Symbol3 = require_Symbol();
    var isArguments = require_isArguments();
    var isArray = require_isArray();
    var spreadableSymbol = Symbol3 ? Symbol3.isConcatSpreadable : void 0;
    function isFlattenable(value) {
      return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);
    }
    module2.exports = isFlattenable;
  }
});

// node_modules/lodash/_baseFlatten.js
var require_baseFlatten = __commonJS({
  "node_modules/lodash/_baseFlatten.js"(exports2, module2) {
    var arrayPush2 = require_arrayPush();
    var isFlattenable = require_isFlattenable();
    function baseFlatten(array12, depth, predicate, isStrict, result) {
      var index6 = -1, length3 = array12.length;
      predicate || (predicate = isFlattenable);
      result || (result = []);
      while (++index6 < length3) {
        var value = array12[index6];
        if (depth > 0 && predicate(value)) {
          if (depth > 1) {
            baseFlatten(value, depth - 1, predicate, isStrict, result);
          } else {
            arrayPush2(result, value);
          }
        } else if (!isStrict) {
          result[result.length] = value;
        }
      }
      return result;
    }
    module2.exports = baseFlatten;
  }
});

// node_modules/lodash/_apply.js
var require_apply = __commonJS({
  "node_modules/lodash/_apply.js"(exports2, module2) {
    function apply3(func, thisArg, args) {
      switch (args.length) {
        case 0:
          return func.call(thisArg);
        case 1:
          return func.call(thisArg, args[0]);
        case 2:
          return func.call(thisArg, args[0], args[1]);
        case 3:
          return func.call(thisArg, args[0], args[1], args[2]);
      }
      return func.apply(thisArg, args);
    }
    module2.exports = apply3;
  }
});

// node_modules/lodash/_overRest.js
var require_overRest = __commonJS({
  "node_modules/lodash/_overRest.js"(exports2, module2) {
    var apply3 = require_apply();
    var nativeMax = Math.max;
    function overRest(func, start6, transform3) {
      start6 = nativeMax(start6 === void 0 ? func.length - 1 : start6, 0);
      return function() {
        var args = arguments, index6 = -1, length3 = nativeMax(args.length - start6, 0), array12 = Array(length3);
        while (++index6 < length3) {
          array12[index6] = args[start6 + index6];
        }
        index6 = -1;
        var otherArgs = Array(start6 + 1);
        while (++index6 < start6) {
          otherArgs[index6] = args[index6];
        }
        otherArgs[start6] = transform3(array12);
        return apply3(func, this, otherArgs);
      };
    }
    module2.exports = overRest;
  }
});

// node_modules/lodash/_baseSetToString.js
var require_baseSetToString = __commonJS({
  "node_modules/lodash/_baseSetToString.js"(exports2, module2) {
    var constant5 = require_constant();
    var defineProperty = require_defineProperty();
    var identity17 = require_identity();
    var baseSetToString = !defineProperty ? identity17 : function(func, string) {
      return defineProperty(func, "toString", {
        "configurable": true,
        "enumerable": false,
        "value": constant5(string),
        "writable": true
      });
    };
    module2.exports = baseSetToString;
  }
});

// node_modules/lodash/_shortOut.js
var require_shortOut = __commonJS({
  "node_modules/lodash/_shortOut.js"(exports2, module2) {
    var HOT_COUNT = 800;
    var HOT_SPAN = 16;
    var nativeNow = Date.now;
    function shortOut(func) {
      var count7 = 0, lastCalled = 0;
      return function() {
        var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);
        lastCalled = stamp;
        if (remaining > 0) {
          if (++count7 >= HOT_COUNT) {
            return arguments[0];
          }
        } else {
          count7 = 0;
        }
        return func.apply(void 0, arguments);
      };
    }
    module2.exports = shortOut;
  }
});

// node_modules/lodash/_setToString.js
var require_setToString = __commonJS({
  "node_modules/lodash/_setToString.js"(exports2, module2) {
    var baseSetToString = require_baseSetToString();
    var shortOut = require_shortOut();
    var setToString = shortOut(baseSetToString);
    module2.exports = setToString;
  }
});

// node_modules/lodash/_baseRest.js
var require_baseRest = __commonJS({
  "node_modules/lodash/_baseRest.js"(exports2, module2) {
    var identity17 = require_identity();
    var overRest = require_overRest();
    var setToString = require_setToString();
    function baseRest(func, start6) {
      return setToString(overRest(func, start6, identity17), func + "");
    }
    module2.exports = baseRest;
  }
});

// node_modules/lodash/_baseFindIndex.js
var require_baseFindIndex = __commonJS({
  "node_modules/lodash/_baseFindIndex.js"(exports2, module2) {
    function baseFindIndex(array12, predicate, fromIndex, fromRight) {
      var length3 = array12.length, index6 = fromIndex + (fromRight ? 1 : -1);
      while (fromRight ? index6-- : ++index6 < length3) {
        if (predicate(array12[index6], index6, array12)) {
          return index6;
        }
      }
      return -1;
    }
    module2.exports = baseFindIndex;
  }
});

// node_modules/lodash/_baseIsNaN.js
var require_baseIsNaN = __commonJS({
  "node_modules/lodash/_baseIsNaN.js"(exports2, module2) {
    function baseIsNaN(value) {
      return value !== value;
    }
    module2.exports = baseIsNaN;
  }
});

// node_modules/lodash/_strictIndexOf.js
var require_strictIndexOf = __commonJS({
  "node_modules/lodash/_strictIndexOf.js"(exports2, module2) {
    function strictIndexOf(array12, value, fromIndex) {
      var index6 = fromIndex - 1, length3 = array12.length;
      while (++index6 < length3) {
        if (array12[index6] === value) {
          return index6;
        }
      }
      return -1;
    }
    module2.exports = strictIndexOf;
  }
});

// node_modules/lodash/_baseIndexOf.js
var require_baseIndexOf = __commonJS({
  "node_modules/lodash/_baseIndexOf.js"(exports2, module2) {
    var baseFindIndex = require_baseFindIndex();
    var baseIsNaN = require_baseIsNaN();
    var strictIndexOf = require_strictIndexOf();
    function baseIndexOf(array12, value, fromIndex) {
      return value === value ? strictIndexOf(array12, value, fromIndex) : baseFindIndex(array12, baseIsNaN, fromIndex);
    }
    module2.exports = baseIndexOf;
  }
});

// node_modules/lodash/_arrayIncludes.js
var require_arrayIncludes = __commonJS({
  "node_modules/lodash/_arrayIncludes.js"(exports2, module2) {
    var baseIndexOf = require_baseIndexOf();
    function arrayIncludes(array12, value) {
      var length3 = array12 == null ? 0 : array12.length;
      return !!length3 && baseIndexOf(array12, value, 0) > -1;
    }
    module2.exports = arrayIncludes;
  }
});

// node_modules/lodash/_arrayIncludesWith.js
var require_arrayIncludesWith = __commonJS({
  "node_modules/lodash/_arrayIncludesWith.js"(exports2, module2) {
    function arrayIncludesWith(array12, value, comparator) {
      var index6 = -1, length3 = array12 == null ? 0 : array12.length;
      while (++index6 < length3) {
        if (comparator(value, array12[index6])) {
          return true;
        }
      }
      return false;
    }
    module2.exports = arrayIncludesWith;
  }
});

// node_modules/lodash/noop.js
var require_noop = __commonJS({
  "node_modules/lodash/noop.js"(exports2, module2) {
    function noop8() {
    }
    module2.exports = noop8;
  }
});

// node_modules/lodash/_createSet.js
var require_createSet = __commonJS({
  "node_modules/lodash/_createSet.js"(exports2, module2) {
    var Set3 = require_Set();
    var noop8 = require_noop();
    var setToArray = require_setToArray();
    var INFINITY = 1 / 0;
    var createSet = !(Set3 && 1 / setToArray(new Set3([, -0]))[1] == INFINITY) ? noop8 : function(values) {
      return new Set3(values);
    };
    module2.exports = createSet;
  }
});

// node_modules/lodash/_baseUniq.js
var require_baseUniq = __commonJS({
  "node_modules/lodash/_baseUniq.js"(exports2, module2) {
    var SetCache = require_SetCache();
    var arrayIncludes = require_arrayIncludes();
    var arrayIncludesWith = require_arrayIncludesWith();
    var cacheHas = require_cacheHas();
    var createSet = require_createSet();
    var setToArray = require_setToArray();
    var LARGE_ARRAY_SIZE = 200;
    function baseUniq(array12, iteratee, comparator) {
      var index6 = -1, includes2 = arrayIncludes, length3 = array12.length, isCommon = true, result = [], seen = result;
      if (comparator) {
        isCommon = false;
        includes2 = arrayIncludesWith;
      } else if (length3 >= LARGE_ARRAY_SIZE) {
        var set11 = iteratee ? null : createSet(array12);
        if (set11) {
          return setToArray(set11);
        }
        isCommon = false;
        includes2 = cacheHas;
        seen = new SetCache();
      } else {
        seen = iteratee ? [] : result;
      }
      outer:
        while (++index6 < length3) {
          var value = array12[index6], computed = iteratee ? iteratee(value) : value;
          value = comparator || value !== 0 ? value : 0;
          if (isCommon && computed === computed) {
            var seenIndex = seen.length;
            while (seenIndex--) {
              if (seen[seenIndex] === computed) {
                continue outer;
              }
            }
            if (iteratee) {
              seen.push(computed);
            }
            result.push(value);
          } else if (!includes2(seen, computed, comparator)) {
            if (seen !== result) {
              seen.push(computed);
            }
            result.push(value);
          }
        }
      return result;
    }
    module2.exports = baseUniq;
  }
});

// node_modules/lodash/isArrayLikeObject.js
var require_isArrayLikeObject = __commonJS({
  "node_modules/lodash/isArrayLikeObject.js"(exports2, module2) {
    var isArrayLike = require_isArrayLike();
    var isObjectLike = require_isObjectLike();
    function isArrayLikeObject(value) {
      return isObjectLike(value) && isArrayLike(value);
    }
    module2.exports = isArrayLikeObject;
  }
});

// node_modules/lodash/union.js
var require_union = __commonJS({
  "node_modules/lodash/union.js"(exports2, module2) {
    var baseFlatten = require_baseFlatten();
    var baseRest = require_baseRest();
    var baseUniq = require_baseUniq();
    var isArrayLikeObject = require_isArrayLikeObject();
    var union5 = baseRest(function(arrays) {
      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));
    });
    module2.exports = union5;
  }
});

// node_modules/lodash/_baseValues.js
var require_baseValues = __commonJS({
  "node_modules/lodash/_baseValues.js"(exports2, module2) {
    var arrayMap = require_arrayMap();
    function baseValues(object2, props) {
      return arrayMap(props, function(key) {
        return object2[key];
      });
    }
    module2.exports = baseValues;
  }
});

// node_modules/lodash/values.js
var require_values = __commonJS({
  "node_modules/lodash/values.js"(exports2, module2) {
    var baseValues = require_baseValues();
    var keys = require_keys();
    function values(object2) {
      return object2 == null ? [] : baseValues(object2, keys(object2));
    }
    module2.exports = values;
  }
});

// node_modules/graphlib/lib/lodash.js
var require_lodash = __commonJS({
  "node_modules/graphlib/lib/lodash.js"(exports2, module2) {
    var lodash2;
    if (typeof __require === "function") {
      try {
        lodash2 = {
          clone: require_clone(),
          constant: require_constant(),
          each: require_each(),
          filter: require_filter(),
          has: require_has(),
          isArray: require_isArray(),
          isEmpty: require_isEmpty(),
          isFunction: require_isFunction(),
          isUndefined: require_isUndefined(),
          keys: require_keys(),
          map: require_map(),
          reduce: require_reduce(),
          size: require_size(),
          transform: require_transform(),
          union: require_union(),
          values: require_values()
        };
      } catch (e) {
      }
    }
    if (!lodash2) {
      lodash2 = window._;
    }
    module2.exports = lodash2;
  }
});

// node_modules/graphlib/lib/graph.js
var require_graph = __commonJS({
  "node_modules/graphlib/lib/graph.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash();
    module2.exports = Graph;
    var DEFAULT_EDGE_NAME = "\0";
    var GRAPH_NODE = "\0";
    var EDGE_KEY_DELIM = "";
    function Graph(opts) {
      this._isDirected = _2.has(opts, "directed") ? opts.directed : true;
      this._isMultigraph = _2.has(opts, "multigraph") ? opts.multigraph : false;
      this._isCompound = _2.has(opts, "compound") ? opts.compound : false;
      this._label = void 0;
      this._defaultNodeLabelFn = _2.constant(void 0);
      this._defaultEdgeLabelFn = _2.constant(void 0);
      this._nodes = {};
      if (this._isCompound) {
        this._parent = {};
        this._children = {};
        this._children[GRAPH_NODE] = {};
      }
      this._in = {};
      this._preds = {};
      this._out = {};
      this._sucs = {};
      this._edgeObjs = {};
      this._edgeLabels = {};
    }
    Graph.prototype._nodeCount = 0;
    Graph.prototype._edgeCount = 0;
    Graph.prototype.isDirected = function() {
      return this._isDirected;
    };
    Graph.prototype.isMultigraph = function() {
      return this._isMultigraph;
    };
    Graph.prototype.isCompound = function() {
      return this._isCompound;
    };
    Graph.prototype.setGraph = function(label) {
      this._label = label;
      return this;
    };
    Graph.prototype.graph = function() {
      return this._label;
    };
    Graph.prototype.setDefaultNodeLabel = function(newDefault) {
      if (!_2.isFunction(newDefault)) {
        newDefault = _2.constant(newDefault);
      }
      this._defaultNodeLabelFn = newDefault;
      return this;
    };
    Graph.prototype.nodeCount = function() {
      return this._nodeCount;
    };
    Graph.prototype.nodes = function() {
      return _2.keys(this._nodes);
    };
    Graph.prototype.sources = function() {
      var self2 = this;
      return _2.filter(this.nodes(), function(v2) {
        return _2.isEmpty(self2._in[v2]);
      });
    };
    Graph.prototype.sinks = function() {
      var self2 = this;
      return _2.filter(this.nodes(), function(v2) {
        return _2.isEmpty(self2._out[v2]);
      });
    };
    Graph.prototype.setNodes = function(vs, value) {
      var args = arguments;
      var self2 = this;
      _2.each(vs, function(v2) {
        if (args.length > 1) {
          self2.setNode(v2, value);
        } else {
          self2.setNode(v2);
        }
      });
      return this;
    };
    Graph.prototype.setNode = function(v2, value) {
      if (_2.has(this._nodes, v2)) {
        if (arguments.length > 1) {
          this._nodes[v2] = value;
        }
        return this;
      }
      this._nodes[v2] = arguments.length > 1 ? value : this._defaultNodeLabelFn(v2);
      if (this._isCompound) {
        this._parent[v2] = GRAPH_NODE;
        this._children[v2] = {};
        this._children[GRAPH_NODE][v2] = true;
      }
      this._in[v2] = {};
      this._preds[v2] = {};
      this._out[v2] = {};
      this._sucs[v2] = {};
      ++this._nodeCount;
      return this;
    };
    Graph.prototype.node = function(v2) {
      return this._nodes[v2];
    };
    Graph.prototype.hasNode = function(v2) {
      return _2.has(this._nodes, v2);
    };
    Graph.prototype.removeNode = function(v2) {
      var self2 = this;
      if (_2.has(this._nodes, v2)) {
        var removeEdge = function(e) {
          self2.removeEdge(self2._edgeObjs[e]);
        };
        delete this._nodes[v2];
        if (this._isCompound) {
          this._removeFromParentsChildList(v2);
          delete this._parent[v2];
          _2.each(this.children(v2), function(child) {
            self2.setParent(child);
          });
          delete this._children[v2];
        }
        _2.each(_2.keys(this._in[v2]), removeEdge);
        delete this._in[v2];
        delete this._preds[v2];
        _2.each(_2.keys(this._out[v2]), removeEdge);
        delete this._out[v2];
        delete this._sucs[v2];
        --this._nodeCount;
      }
      return this;
    };
    Graph.prototype.setParent = function(v2, parent) {
      if (!this._isCompound) {
        throw new Error("Cannot set parent in a non-compound graph");
      }
      if (_2.isUndefined(parent)) {
        parent = GRAPH_NODE;
      } else {
        parent += "";
        for (var ancestor = parent; !_2.isUndefined(ancestor); ancestor = this.parent(ancestor)) {
          if (ancestor === v2) {
            throw new Error("Setting " + parent + " as parent of " + v2 + " would create a cycle");
          }
        }
        this.setNode(parent);
      }
      this.setNode(v2);
      this._removeFromParentsChildList(v2);
      this._parent[v2] = parent;
      this._children[parent][v2] = true;
      return this;
    };
    Graph.prototype._removeFromParentsChildList = function(v2) {
      delete this._children[this._parent[v2]][v2];
    };
    Graph.prototype.parent = function(v2) {
      if (this._isCompound) {
        var parent = this._parent[v2];
        if (parent !== GRAPH_NODE) {
          return parent;
        }
      }
    };
    Graph.prototype.children = function(v2) {
      if (_2.isUndefined(v2)) {
        v2 = GRAPH_NODE;
      }
      if (this._isCompound) {
        var children4 = this._children[v2];
        if (children4) {
          return _2.keys(children4);
        }
      } else if (v2 === GRAPH_NODE) {
        return this.nodes();
      } else if (this.hasNode(v2)) {
        return [];
      }
    };
    Graph.prototype.predecessors = function(v2) {
      var predsV = this._preds[v2];
      if (predsV) {
        return _2.keys(predsV);
      }
    };
    Graph.prototype.successors = function(v2) {
      var sucsV = this._sucs[v2];
      if (sucsV) {
        return _2.keys(sucsV);
      }
    };
    Graph.prototype.neighbors = function(v2) {
      var preds = this.predecessors(v2);
      if (preds) {
        return _2.union(preds, this.successors(v2));
      }
    };
    Graph.prototype.isLeaf = function(v2) {
      var neighbors;
      if (this.isDirected()) {
        neighbors = this.successors(v2);
      } else {
        neighbors = this.neighbors(v2);
      }
      return neighbors.length === 0;
    };
    Graph.prototype.filterNodes = function(filter8) {
      var copy7 = new this.constructor({
        directed: this._isDirected,
        multigraph: this._isMultigraph,
        compound: this._isCompound
      });
      copy7.setGraph(this.graph());
      var self2 = this;
      _2.each(this._nodes, function(value, v2) {
        if (filter8(v2)) {
          copy7.setNode(v2, value);
        }
      });
      _2.each(this._edgeObjs, function(e) {
        if (copy7.hasNode(e.v) && copy7.hasNode(e.w)) {
          copy7.setEdge(e, self2.edge(e));
        }
      });
      var parents2 = {};
      function findParent(v2) {
        var parent = self2.parent(v2);
        if (parent === void 0 || copy7.hasNode(parent)) {
          parents2[v2] = parent;
          return parent;
        } else if (parent in parents2) {
          return parents2[parent];
        } else {
          return findParent(parent);
        }
      }
      if (this._isCompound) {
        _2.each(copy7.nodes(), function(v2) {
          copy7.setParent(v2, findParent(v2));
        });
      }
      return copy7;
    };
    Graph.prototype.setDefaultEdgeLabel = function(newDefault) {
      if (!_2.isFunction(newDefault)) {
        newDefault = _2.constant(newDefault);
      }
      this._defaultEdgeLabelFn = newDefault;
      return this;
    };
    Graph.prototype.edgeCount = function() {
      return this._edgeCount;
    };
    Graph.prototype.edges = function() {
      return _2.values(this._edgeObjs);
    };
    Graph.prototype.setPath = function(vs, value) {
      var self2 = this;
      var args = arguments;
      _2.reduce(vs, function(v2, w2) {
        if (args.length > 1) {
          self2.setEdge(v2, w2, value);
        } else {
          self2.setEdge(v2, w2);
        }
        return w2;
      });
      return this;
    };
    Graph.prototype.setEdge = function() {
      var v2, w2, name2, value;
      var valueSpecified = false;
      var arg0 = arguments[0];
      if (typeof arg0 === "object" && arg0 !== null && "v" in arg0) {
        v2 = arg0.v;
        w2 = arg0.w;
        name2 = arg0.name;
        if (arguments.length === 2) {
          value = arguments[1];
          valueSpecified = true;
        }
      } else {
        v2 = arg0;
        w2 = arguments[1];
        name2 = arguments[3];
        if (arguments.length > 2) {
          value = arguments[2];
          valueSpecified = true;
        }
      }
      v2 = "" + v2;
      w2 = "" + w2;
      if (!_2.isUndefined(name2)) {
        name2 = "" + name2;
      }
      var e = edgeArgsToId(this._isDirected, v2, w2, name2);
      if (_2.has(this._edgeLabels, e)) {
        if (valueSpecified) {
          this._edgeLabels[e] = value;
        }
        return this;
      }
      if (!_2.isUndefined(name2) && !this._isMultigraph) {
        throw new Error("Cannot set a named edge when isMultigraph = false");
      }
      this.setNode(v2);
      this.setNode(w2);
      this._edgeLabels[e] = valueSpecified ? value : this._defaultEdgeLabelFn(v2, w2, name2);
      var edgeObj = edgeArgsToObj(this._isDirected, v2, w2, name2);
      v2 = edgeObj.v;
      w2 = edgeObj.w;
      Object.freeze(edgeObj);
      this._edgeObjs[e] = edgeObj;
      incrementOrInitEntry(this._preds[w2], v2);
      incrementOrInitEntry(this._sucs[v2], w2);
      this._in[w2][e] = edgeObj;
      this._out[v2][e] = edgeObj;
      this._edgeCount++;
      return this;
    };
    Graph.prototype.edge = function(v2, w2, name2) {
      var e = arguments.length === 1 ? edgeObjToId(this._isDirected, arguments[0]) : edgeArgsToId(this._isDirected, v2, w2, name2);
      return this._edgeLabels[e];
    };
    Graph.prototype.hasEdge = function(v2, w2, name2) {
      var e = arguments.length === 1 ? edgeObjToId(this._isDirected, arguments[0]) : edgeArgsToId(this._isDirected, v2, w2, name2);
      return _2.has(this._edgeLabels, e);
    };
    Graph.prototype.removeEdge = function(v2, w2, name2) {
      var e = arguments.length === 1 ? edgeObjToId(this._isDirected, arguments[0]) : edgeArgsToId(this._isDirected, v2, w2, name2);
      var edge = this._edgeObjs[e];
      if (edge) {
        v2 = edge.v;
        w2 = edge.w;
        delete this._edgeLabels[e];
        delete this._edgeObjs[e];
        decrementOrRemoveEntry(this._preds[w2], v2);
        decrementOrRemoveEntry(this._sucs[v2], w2);
        delete this._in[w2][e];
        delete this._out[v2][e];
        this._edgeCount--;
      }
      return this;
    };
    Graph.prototype.inEdges = function(v2, u4) {
      var inV = this._in[v2];
      if (inV) {
        var edges3 = _2.values(inV);
        if (!u4) {
          return edges3;
        }
        return _2.filter(edges3, function(edge) {
          return edge.v === u4;
        });
      }
    };
    Graph.prototype.outEdges = function(v2, w2) {
      var outV = this._out[v2];
      if (outV) {
        var edges3 = _2.values(outV);
        if (!w2) {
          return edges3;
        }
        return _2.filter(edges3, function(edge) {
          return edge.w === w2;
        });
      }
    };
    Graph.prototype.nodeEdges = function(v2, w2) {
      var inEdges = this.inEdges(v2, w2);
      if (inEdges) {
        return inEdges.concat(this.outEdges(v2, w2));
      }
    };
    function incrementOrInitEntry(map15, k3) {
      if (map15[k3]) {
        map15[k3]++;
      } else {
        map15[k3] = 1;
      }
    }
    function decrementOrRemoveEntry(map15, k3) {
      if (!--map15[k3]) {
        delete map15[k3];
      }
    }
    function edgeArgsToId(isDirected, v_, w_, name2) {
      var v2 = "" + v_;
      var w2 = "" + w_;
      if (!isDirected && v2 > w2) {
        var tmp = v2;
        v2 = w2;
        w2 = tmp;
      }
      return v2 + EDGE_KEY_DELIM + w2 + EDGE_KEY_DELIM + (_2.isUndefined(name2) ? DEFAULT_EDGE_NAME : name2);
    }
    function edgeArgsToObj(isDirected, v_, w_, name2) {
      var v2 = "" + v_;
      var w2 = "" + w_;
      if (!isDirected && v2 > w2) {
        var tmp = v2;
        v2 = w2;
        w2 = tmp;
      }
      var edgeObj = { v: v2, w: w2 };
      if (name2) {
        edgeObj.name = name2;
      }
      return edgeObj;
    }
    function edgeObjToId(isDirected, edgeObj) {
      return edgeArgsToId(isDirected, edgeObj.v, edgeObj.w, edgeObj.name);
    }
  }
});

// node_modules/graphlib/lib/version.js
var require_version = __commonJS({
  "node_modules/graphlib/lib/version.js"(exports2, module2) {
    module2.exports = "2.1.8";
  }
});

// node_modules/graphlib/lib/index.js
var require_lib = __commonJS({
  "node_modules/graphlib/lib/index.js"(exports2, module2) {
    module2.exports = {
      Graph: require_graph(),
      version: require_version()
    };
  }
});

// node_modules/graphlib/lib/json.js
var require_json = __commonJS({
  "node_modules/graphlib/lib/json.js"(exports2, module2) {
    var _2 = require_lodash();
    var Graph = require_graph();
    module2.exports = {
      write,
      read
    };
    function write(g) {
      var json = {
        options: {
          directed: g.isDirected(),
          multigraph: g.isMultigraph(),
          compound: g.isCompound()
        },
        nodes: writeNodes(g),
        edges: writeEdges(g)
      };
      if (!_2.isUndefined(g.graph())) {
        json.value = _2.clone(g.graph());
      }
      return json;
    }
    function writeNodes(g) {
      return _2.map(g.nodes(), function(v2) {
        var nodeValue = g.node(v2);
        var parent = g.parent(v2);
        var node2 = { v: v2 };
        if (!_2.isUndefined(nodeValue)) {
          node2.value = nodeValue;
        }
        if (!_2.isUndefined(parent)) {
          node2.parent = parent;
        }
        return node2;
      });
    }
    function writeEdges(g) {
      return _2.map(g.edges(), function(e) {
        var edgeValue = g.edge(e);
        var edge = { v: e.v, w: e.w };
        if (!_2.isUndefined(e.name)) {
          edge.name = e.name;
        }
        if (!_2.isUndefined(edgeValue)) {
          edge.value = edgeValue;
        }
        return edge;
      });
    }
    function read(json) {
      var g = new Graph(json.options).setGraph(json.value);
      _2.each(json.nodes, function(entry) {
        g.setNode(entry.v, entry.value);
        if (entry.parent) {
          g.setParent(entry.v, entry.parent);
        }
      });
      _2.each(json.edges, function(entry) {
        g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);
      });
      return g;
    }
  }
});

// node_modules/graphlib/lib/alg/components.js
var require_components = __commonJS({
  "node_modules/graphlib/lib/alg/components.js"(exports2, module2) {
    var _2 = require_lodash();
    module2.exports = components;
    function components(g) {
      var visited = {};
      var cmpts = [];
      var cmpt;
      function dfs(v2) {
        if (_2.has(visited, v2))
          return;
        visited[v2] = true;
        cmpt.push(v2);
        _2.each(g.successors(v2), dfs);
        _2.each(g.predecessors(v2), dfs);
      }
      _2.each(g.nodes(), function(v2) {
        cmpt = [];
        dfs(v2);
        if (cmpt.length) {
          cmpts.push(cmpt);
        }
      });
      return cmpts;
    }
  }
});

// node_modules/graphlib/lib/data/priority-queue.js
var require_priority_queue = __commonJS({
  "node_modules/graphlib/lib/data/priority-queue.js"(exports2, module2) {
    var _2 = require_lodash();
    module2.exports = PriorityQueue;
    function PriorityQueue() {
      this._arr = [];
      this._keyIndices = {};
    }
    PriorityQueue.prototype.size = function() {
      return this._arr.length;
    };
    PriorityQueue.prototype.keys = function() {
      return this._arr.map(function(x7) {
        return x7.key;
      });
    };
    PriorityQueue.prototype.has = function(key) {
      return _2.has(this._keyIndices, key);
    };
    PriorityQueue.prototype.priority = function(key) {
      var index6 = this._keyIndices[key];
      if (index6 !== void 0) {
        return this._arr[index6].priority;
      }
    };
    PriorityQueue.prototype.min = function() {
      if (this.size() === 0) {
        throw new Error("Queue underflow");
      }
      return this._arr[0].key;
    };
    PriorityQueue.prototype.add = function(key, priority) {
      var keyIndices = this._keyIndices;
      key = String(key);
      if (!_2.has(keyIndices, key)) {
        var arr = this._arr;
        var index6 = arr.length;
        keyIndices[key] = index6;
        arr.push({ key, priority });
        this._decrease(index6);
        return true;
      }
      return false;
    };
    PriorityQueue.prototype.removeMin = function() {
      this._swap(0, this._arr.length - 1);
      var min8 = this._arr.pop();
      delete this._keyIndices[min8.key];
      this._heapify(0);
      return min8.key;
    };
    PriorityQueue.prototype.decrease = function(key, priority) {
      var index6 = this._keyIndices[key];
      if (priority > this._arr[index6].priority) {
        throw new Error("New priority is greater than current priority. Key: " + key + " Old: " + this._arr[index6].priority + " New: " + priority);
      }
      this._arr[index6].priority = priority;
      this._decrease(index6);
    };
    PriorityQueue.prototype._heapify = function(i) {
      var arr = this._arr;
      var l = 2 * i;
      var r = l + 1;
      var largest = i;
      if (l < arr.length) {
        largest = arr[l].priority < arr[largest].priority ? l : largest;
        if (r < arr.length) {
          largest = arr[r].priority < arr[largest].priority ? r : largest;
        }
        if (largest !== i) {
          this._swap(i, largest);
          this._heapify(largest);
        }
      }
    };
    PriorityQueue.prototype._decrease = function(index6) {
      var arr = this._arr;
      var priority = arr[index6].priority;
      var parent;
      while (index6 !== 0) {
        parent = index6 >> 1;
        if (arr[parent].priority < priority) {
          break;
        }
        this._swap(index6, parent);
        index6 = parent;
      }
    };
    PriorityQueue.prototype._swap = function(i, j) {
      var arr = this._arr;
      var keyIndices = this._keyIndices;
      var origArrI = arr[i];
      var origArrJ = arr[j];
      arr[i] = origArrJ;
      arr[j] = origArrI;
      keyIndices[origArrJ.key] = i;
      keyIndices[origArrI.key] = j;
    };
  }
});

// node_modules/graphlib/lib/alg/dijkstra.js
var require_dijkstra = __commonJS({
  "node_modules/graphlib/lib/alg/dijkstra.js"(exports2, module2) {
    var _2 = require_lodash();
    var PriorityQueue = require_priority_queue();
    module2.exports = dijkstra;
    var DEFAULT_WEIGHT_FUNC = _2.constant(1);
    function dijkstra(g, source, weightFn, edgeFn) {
      return runDijkstra(
        g,
        String(source),
        weightFn || DEFAULT_WEIGHT_FUNC,
        edgeFn || function(v2) {
          return g.outEdges(v2);
        }
      );
    }
    function runDijkstra(g, source, weightFn, edgeFn) {
      var results = {};
      var pq = new PriorityQueue();
      var v2, vEntry;
      var updateNeighbors = function(edge) {
        var w2 = edge.v !== v2 ? edge.v : edge.w;
        var wEntry = results[w2];
        var weight = weightFn(edge);
        var distance2 = vEntry.distance + weight;
        if (weight < 0) {
          throw new Error("dijkstra does not allow negative edge weights. Bad edge: " + edge + " Weight: " + weight);
        }
        if (distance2 < wEntry.distance) {
          wEntry.distance = distance2;
          wEntry.predecessor = v2;
          pq.decrease(w2, distance2);
        }
      };
      g.nodes().forEach(function(v6) {
        var distance2 = v6 === source ? 0 : Number.POSITIVE_INFINITY;
        results[v6] = { distance: distance2 };
        pq.add(v6, distance2);
      });
      while (pq.size() > 0) {
        v2 = pq.removeMin();
        vEntry = results[v2];
        if (vEntry.distance === Number.POSITIVE_INFINITY) {
          break;
        }
        edgeFn(v2).forEach(updateNeighbors);
      }
      return results;
    }
  }
});

// node_modules/graphlib/lib/alg/dijkstra-all.js
var require_dijkstra_all = __commonJS({
  "node_modules/graphlib/lib/alg/dijkstra-all.js"(exports2, module2) {
    var dijkstra = require_dijkstra();
    var _2 = require_lodash();
    module2.exports = dijkstraAll;
    function dijkstraAll(g, weightFunc, edgeFunc) {
      return _2.transform(g.nodes(), function(acc, v2) {
        acc[v2] = dijkstra(g, v2, weightFunc, edgeFunc);
      }, {});
    }
  }
});

// node_modules/graphlib/lib/alg/tarjan.js
var require_tarjan = __commonJS({
  "node_modules/graphlib/lib/alg/tarjan.js"(exports2, module2) {
    var _2 = require_lodash();
    module2.exports = tarjan;
    function tarjan(g) {
      var index6 = 0;
      var stack = [];
      var visited = {};
      var results = [];
      function dfs(v2) {
        var entry = visited[v2] = {
          onStack: true,
          lowlink: index6,
          index: index6++
        };
        stack.push(v2);
        g.successors(v2).forEach(function(w3) {
          if (!_2.has(visited, w3)) {
            dfs(w3);
            entry.lowlink = Math.min(entry.lowlink, visited[w3].lowlink);
          } else if (visited[w3].onStack) {
            entry.lowlink = Math.min(entry.lowlink, visited[w3].index);
          }
        });
        if (entry.lowlink === entry.index) {
          var cmpt = [];
          var w2;
          do {
            w2 = stack.pop();
            visited[w2].onStack = false;
            cmpt.push(w2);
          } while (v2 !== w2);
          results.push(cmpt);
        }
      }
      g.nodes().forEach(function(v2) {
        if (!_2.has(visited, v2)) {
          dfs(v2);
        }
      });
      return results;
    }
  }
});

// node_modules/graphlib/lib/alg/find-cycles.js
var require_find_cycles = __commonJS({
  "node_modules/graphlib/lib/alg/find-cycles.js"(exports2, module2) {
    var _2 = require_lodash();
    var tarjan = require_tarjan();
    module2.exports = findCycles;
    function findCycles(g) {
      return _2.filter(tarjan(g), function(cmpt) {
        return cmpt.length > 1 || cmpt.length === 1 && g.hasEdge(cmpt[0], cmpt[0]);
      });
    }
  }
});

// node_modules/graphlib/lib/alg/floyd-warshall.js
var require_floyd_warshall = __commonJS({
  "node_modules/graphlib/lib/alg/floyd-warshall.js"(exports2, module2) {
    var _2 = require_lodash();
    module2.exports = floydWarshall;
    var DEFAULT_WEIGHT_FUNC = _2.constant(1);
    function floydWarshall(g, weightFn, edgeFn) {
      return runFloydWarshall(
        g,
        weightFn || DEFAULT_WEIGHT_FUNC,
        edgeFn || function(v2) {
          return g.outEdges(v2);
        }
      );
    }
    function runFloydWarshall(g, weightFn, edgeFn) {
      var results = {};
      var nodes = g.nodes();
      nodes.forEach(function(v2) {
        results[v2] = {};
        results[v2][v2] = { distance: 0 };
        nodes.forEach(function(w2) {
          if (v2 !== w2) {
            results[v2][w2] = { distance: Number.POSITIVE_INFINITY };
          }
        });
        edgeFn(v2).forEach(function(edge) {
          var w2 = edge.v === v2 ? edge.w : edge.v;
          var d = weightFn(edge);
          results[v2][w2] = { distance: d, predecessor: v2 };
        });
      });
      nodes.forEach(function(k3) {
        var rowK = results[k3];
        nodes.forEach(function(i) {
          var rowI = results[i];
          nodes.forEach(function(j) {
            var ik = rowI[k3];
            var kj = rowK[j];
            var ij = rowI[j];
            var altDistance = ik.distance + kj.distance;
            if (altDistance < ij.distance) {
              ij.distance = altDistance;
              ij.predecessor = kj.predecessor;
            }
          });
        });
      });
      return results;
    }
  }
});

// node_modules/graphlib/lib/alg/topsort.js
var require_topsort = __commonJS({
  "node_modules/graphlib/lib/alg/topsort.js"(exports2, module2) {
    var _2 = require_lodash();
    module2.exports = topsort;
    topsort.CycleException = CycleException;
    function topsort(g) {
      var visited = {};
      var stack = {};
      var results = [];
      function visit(node2) {
        if (_2.has(stack, node2)) {
          throw new CycleException();
        }
        if (!_2.has(visited, node2)) {
          stack[node2] = true;
          visited[node2] = true;
          _2.each(g.predecessors(node2), visit);
          delete stack[node2];
          results.push(node2);
        }
      }
      _2.each(g.sinks(), visit);
      if (_2.size(visited) !== g.nodeCount()) {
        throw new CycleException();
      }
      return results;
    }
    function CycleException() {
    }
    CycleException.prototype = new Error();
  }
});

// node_modules/graphlib/lib/alg/is-acyclic.js
var require_is_acyclic = __commonJS({
  "node_modules/graphlib/lib/alg/is-acyclic.js"(exports2, module2) {
    var topsort = require_topsort();
    module2.exports = isAcyclic;
    function isAcyclic(g) {
      try {
        topsort(g);
      } catch (e) {
        if (e instanceof topsort.CycleException) {
          return false;
        }
        throw e;
      }
      return true;
    }
  }
});

// node_modules/graphlib/lib/alg/dfs.js
var require_dfs = __commonJS({
  "node_modules/graphlib/lib/alg/dfs.js"(exports2, module2) {
    var _2 = require_lodash();
    module2.exports = dfs;
    function dfs(g, vs, order) {
      if (!_2.isArray(vs)) {
        vs = [vs];
      }
      var navigation = (g.isDirected() ? g.successors : g.neighbors).bind(g);
      var acc = [];
      var visited = {};
      _2.each(vs, function(v2) {
        if (!g.hasNode(v2)) {
          throw new Error("Graph does not have node: " + v2);
        }
        doDfs(g, v2, order === "post", visited, navigation, acc);
      });
      return acc;
    }
    function doDfs(g, v2, postorder, visited, navigation, acc) {
      if (!_2.has(visited, v2)) {
        visited[v2] = true;
        if (!postorder) {
          acc.push(v2);
        }
        _2.each(navigation(v2), function(w2) {
          doDfs(g, w2, postorder, visited, navigation, acc);
        });
        if (postorder) {
          acc.push(v2);
        }
      }
    }
  }
});

// node_modules/graphlib/lib/alg/postorder.js
var require_postorder = __commonJS({
  "node_modules/graphlib/lib/alg/postorder.js"(exports2, module2) {
    var dfs = require_dfs();
    module2.exports = postorder;
    function postorder(g, vs) {
      return dfs(g, vs, "post");
    }
  }
});

// node_modules/graphlib/lib/alg/preorder.js
var require_preorder = __commonJS({
  "node_modules/graphlib/lib/alg/preorder.js"(exports2, module2) {
    var dfs = require_dfs();
    module2.exports = preorder;
    function preorder(g, vs) {
      return dfs(g, vs, "pre");
    }
  }
});

// node_modules/graphlib/lib/alg/prim.js
var require_prim = __commonJS({
  "node_modules/graphlib/lib/alg/prim.js"(exports2, module2) {
    var _2 = require_lodash();
    var Graph = require_graph();
    var PriorityQueue = require_priority_queue();
    module2.exports = prim;
    function prim(g, weightFunc) {
      var result = new Graph();
      var parents2 = {};
      var pq = new PriorityQueue();
      var v2;
      function updateNeighbors(edge) {
        var w2 = edge.v === v2 ? edge.w : edge.v;
        var pri = pq.priority(w2);
        if (pri !== void 0) {
          var edgeWeight = weightFunc(edge);
          if (edgeWeight < pri) {
            parents2[w2] = v2;
            pq.decrease(w2, edgeWeight);
          }
        }
      }
      if (g.nodeCount() === 0) {
        return result;
      }
      _2.each(g.nodes(), function(v6) {
        pq.add(v6, Number.POSITIVE_INFINITY);
        result.setNode(v6);
      });
      pq.decrease(g.nodes()[0], 0);
      var init6 = false;
      while (pq.size() > 0) {
        v2 = pq.removeMin();
        if (_2.has(parents2, v2)) {
          result.setEdge(v2, parents2[v2]);
        } else if (init6) {
          throw new Error("Input graph is not connected: " + g);
        } else {
          init6 = true;
        }
        g.nodeEdges(v2).forEach(updateNeighbors);
      }
      return result;
    }
  }
});

// node_modules/graphlib/lib/alg/index.js
var require_alg = __commonJS({
  "node_modules/graphlib/lib/alg/index.js"(exports2, module2) {
    module2.exports = {
      components: require_components(),
      dijkstra: require_dijkstra(),
      dijkstraAll: require_dijkstra_all(),
      findCycles: require_find_cycles(),
      floydWarshall: require_floyd_warshall(),
      isAcyclic: require_is_acyclic(),
      postorder: require_postorder(),
      preorder: require_preorder(),
      prim: require_prim(),
      tarjan: require_tarjan(),
      topsort: require_topsort()
    };
  }
});

// node_modules/graphlib/index.js
var require_graphlib = __commonJS({
  "node_modules/graphlib/index.js"(exports2, module2) {
    var lib = require_lib();
    module2.exports = {
      Graph: lib.Graph,
      json: require_json(),
      alg: require_alg(),
      version: lib.version
    };
  }
});

// node_modules/dagre/lib/graphlib.js
var require_graphlib2 = __commonJS({
  "node_modules/dagre/lib/graphlib.js"(exports2, module2) {
    var graphlib2;
    if (typeof __require === "function") {
      try {
        graphlib2 = require_graphlib();
      } catch (e) {
      }
    }
    if (!graphlib2) {
      graphlib2 = window.graphlib;
    }
    module2.exports = graphlib2;
  }
});

// node_modules/lodash/cloneDeep.js
var require_cloneDeep = __commonJS({
  "node_modules/lodash/cloneDeep.js"(exports2, module2) {
    var baseClone = require_baseClone();
    var CLONE_DEEP_FLAG = 1;
    var CLONE_SYMBOLS_FLAG = 4;
    function cloneDeep(value) {
      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
    }
    module2.exports = cloneDeep;
  }
});

// node_modules/lodash/_isIterateeCall.js
var require_isIterateeCall = __commonJS({
  "node_modules/lodash/_isIterateeCall.js"(exports2, module2) {
    var eq2 = require_eq();
    var isArrayLike = require_isArrayLike();
    var isIndex = require_isIndex();
    var isObject2 = require_isObject();
    function isIterateeCall(value, index6, object2) {
      if (!isObject2(object2)) {
        return false;
      }
      var type4 = typeof index6;
      if (type4 == "number" ? isArrayLike(object2) && isIndex(index6, object2.length) : type4 == "string" && index6 in object2) {
        return eq2(object2[index6], value);
      }
      return false;
    }
    module2.exports = isIterateeCall;
  }
});

// node_modules/lodash/defaults.js
var require_defaults = __commonJS({
  "node_modules/lodash/defaults.js"(exports2, module2) {
    var baseRest = require_baseRest();
    var eq2 = require_eq();
    var isIterateeCall = require_isIterateeCall();
    var keysIn = require_keysIn();
    var objectProto2 = Object.prototype;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    var defaults = baseRest(function(object2, sources) {
      object2 = Object(object2);
      var index6 = -1;
      var length3 = sources.length;
      var guard = length3 > 2 ? sources[2] : void 0;
      if (guard && isIterateeCall(sources[0], sources[1], guard)) {
        length3 = 1;
      }
      while (++index6 < length3) {
        var source = sources[index6];
        var props = keysIn(source);
        var propsIndex = -1;
        var propsLength = props.length;
        while (++propsIndex < propsLength) {
          var key = props[propsIndex];
          var value = object2[key];
          if (value === void 0 || eq2(value, objectProto2[key]) && !hasOwnProperty3.call(object2, key)) {
            object2[key] = source[key];
          }
        }
      }
      return object2;
    });
    module2.exports = defaults;
  }
});

// node_modules/lodash/_createFind.js
var require_createFind = __commonJS({
  "node_modules/lodash/_createFind.js"(exports2, module2) {
    var baseIteratee = require_baseIteratee();
    var isArrayLike = require_isArrayLike();
    var keys = require_keys();
    function createFind(findIndexFunc) {
      return function(collection, predicate, fromIndex) {
        var iterable = Object(collection);
        if (!isArrayLike(collection)) {
          var iteratee = baseIteratee(predicate, 3);
          collection = keys(collection);
          predicate = function(key) {
            return iteratee(iterable[key], key, iterable);
          };
        }
        var index6 = findIndexFunc(collection, predicate, fromIndex);
        return index6 > -1 ? iterable[iteratee ? collection[index6] : index6] : void 0;
      };
    }
    module2.exports = createFind;
  }
});

// node_modules/lodash/_trimmedEndIndex.js
var require_trimmedEndIndex = __commonJS({
  "node_modules/lodash/_trimmedEndIndex.js"(exports2, module2) {
    var reWhitespace = /\s/;
    function trimmedEndIndex(string) {
      var index6 = string.length;
      while (index6-- && reWhitespace.test(string.charAt(index6))) {
      }
      return index6;
    }
    module2.exports = trimmedEndIndex;
  }
});

// node_modules/lodash/_baseTrim.js
var require_baseTrim = __commonJS({
  "node_modules/lodash/_baseTrim.js"(exports2, module2) {
    var trimmedEndIndex = require_trimmedEndIndex();
    var reTrimStart = /^\s+/;
    function baseTrim(string) {
      return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, "") : string;
    }
    module2.exports = baseTrim;
  }
});

// node_modules/lodash/toNumber.js
var require_toNumber = __commonJS({
  "node_modules/lodash/toNumber.js"(exports2, module2) {
    var baseTrim = require_baseTrim();
    var isObject2 = require_isObject();
    var isSymbol = require_isSymbol();
    var NAN = 0 / 0;
    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
    var reIsBinary = /^0b[01]+$/i;
    var reIsOctal = /^0o[0-7]+$/i;
    var freeParseInt = parseInt;
    function toNumber(value) {
      if (typeof value == "number") {
        return value;
      }
      if (isSymbol(value)) {
        return NAN;
      }
      if (isObject2(value)) {
        var other = typeof value.valueOf == "function" ? value.valueOf() : value;
        value = isObject2(other) ? other + "" : other;
      }
      if (typeof value != "string") {
        return value === 0 ? value : +value;
      }
      value = baseTrim(value);
      var isBinary = reIsBinary.test(value);
      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
    }
    module2.exports = toNumber;
  }
});

// node_modules/lodash/toFinite.js
var require_toFinite = __commonJS({
  "node_modules/lodash/toFinite.js"(exports2, module2) {
    var toNumber = require_toNumber();
    var INFINITY = 1 / 0;
    var MAX_INTEGER = 17976931348623157e292;
    function toFinite(value) {
      if (!value) {
        return value === 0 ? value : 0;
      }
      value = toNumber(value);
      if (value === INFINITY || value === -INFINITY) {
        var sign5 = value < 0 ? -1 : 1;
        return sign5 * MAX_INTEGER;
      }
      return value === value ? value : 0;
    }
    module2.exports = toFinite;
  }
});

// node_modules/lodash/toInteger.js
var require_toInteger = __commonJS({
  "node_modules/lodash/toInteger.js"(exports2, module2) {
    var toFinite = require_toFinite();
    function toInteger(value) {
      var result = toFinite(value), remainder = result % 1;
      return result === result ? remainder ? result - remainder : result : 0;
    }
    module2.exports = toInteger;
  }
});

// node_modules/lodash/findIndex.js
var require_findIndex = __commonJS({
  "node_modules/lodash/findIndex.js"(exports2, module2) {
    var baseFindIndex = require_baseFindIndex();
    var baseIteratee = require_baseIteratee();
    var toInteger = require_toInteger();
    var nativeMax = Math.max;
    function findIndex(array12, predicate, fromIndex) {
      var length3 = array12 == null ? 0 : array12.length;
      if (!length3) {
        return -1;
      }
      var index6 = fromIndex == null ? 0 : toInteger(fromIndex);
      if (index6 < 0) {
        index6 = nativeMax(length3 + index6, 0);
      }
      return baseFindIndex(array12, baseIteratee(predicate, 3), index6);
    }
    module2.exports = findIndex;
  }
});

// node_modules/lodash/find.js
var require_find = __commonJS({
  "node_modules/lodash/find.js"(exports2, module2) {
    var createFind = require_createFind();
    var findIndex = require_findIndex();
    var find5 = createFind(findIndex);
    module2.exports = find5;
  }
});

// node_modules/lodash/flatten.js
var require_flatten = __commonJS({
  "node_modules/lodash/flatten.js"(exports2, module2) {
    var baseFlatten = require_baseFlatten();
    function flatten2(array12) {
      var length3 = array12 == null ? 0 : array12.length;
      return length3 ? baseFlatten(array12, 1) : [];
    }
    module2.exports = flatten2;
  }
});

// node_modules/lodash/forIn.js
var require_forIn = __commonJS({
  "node_modules/lodash/forIn.js"(exports2, module2) {
    var baseFor = require_baseFor();
    var castFunction = require_castFunction();
    var keysIn = require_keysIn();
    function forIn(object2, iteratee) {
      return object2 == null ? object2 : baseFor(object2, castFunction(iteratee), keysIn);
    }
    module2.exports = forIn;
  }
});

// node_modules/lodash/last.js
var require_last = __commonJS({
  "node_modules/lodash/last.js"(exports2, module2) {
    function last(array12) {
      var length3 = array12 == null ? 0 : array12.length;
      return length3 ? array12[length3 - 1] : void 0;
    }
    module2.exports = last;
  }
});

// node_modules/lodash/mapValues.js
var require_mapValues = __commonJS({
  "node_modules/lodash/mapValues.js"(exports2, module2) {
    var baseAssignValue = require_baseAssignValue();
    var baseForOwn = require_baseForOwn();
    var baseIteratee = require_baseIteratee();
    function mapValues(object2, iteratee) {
      var result = {};
      iteratee = baseIteratee(iteratee, 3);
      baseForOwn(object2, function(value, key, object3) {
        baseAssignValue(result, key, iteratee(value, key, object3));
      });
      return result;
    }
    module2.exports = mapValues;
  }
});

// node_modules/lodash/_baseExtremum.js
var require_baseExtremum = __commonJS({
  "node_modules/lodash/_baseExtremum.js"(exports2, module2) {
    var isSymbol = require_isSymbol();
    function baseExtremum(array12, iteratee, comparator) {
      var index6 = -1, length3 = array12.length;
      while (++index6 < length3) {
        var value = array12[index6], current = iteratee(value);
        if (current != null && (computed === void 0 ? current === current && !isSymbol(current) : comparator(current, computed))) {
          var computed = current, result = value;
        }
      }
      return result;
    }
    module2.exports = baseExtremum;
  }
});

// node_modules/lodash/_baseGt.js
var require_baseGt = __commonJS({
  "node_modules/lodash/_baseGt.js"(exports2, module2) {
    function baseGt(value, other) {
      return value > other;
    }
    module2.exports = baseGt;
  }
});

// node_modules/lodash/max.js
var require_max = __commonJS({
  "node_modules/lodash/max.js"(exports2, module2) {
    var baseExtremum = require_baseExtremum();
    var baseGt = require_baseGt();
    var identity17 = require_identity();
    function max10(array12) {
      return array12 && array12.length ? baseExtremum(array12, identity17, baseGt) : void 0;
    }
    module2.exports = max10;
  }
});

// node_modules/lodash/_assignMergeValue.js
var require_assignMergeValue = __commonJS({
  "node_modules/lodash/_assignMergeValue.js"(exports2, module2) {
    var baseAssignValue = require_baseAssignValue();
    var eq2 = require_eq();
    function assignMergeValue(object2, key, value) {
      if (value !== void 0 && !eq2(object2[key], value) || value === void 0 && !(key in object2)) {
        baseAssignValue(object2, key, value);
      }
    }
    module2.exports = assignMergeValue;
  }
});

// node_modules/lodash/isPlainObject.js
var require_isPlainObject = __commonJS({
  "node_modules/lodash/isPlainObject.js"(exports2, module2) {
    var baseGetTag = require_baseGetTag();
    var getPrototype = require_getPrototype();
    var isObjectLike = require_isObjectLike();
    var objectTag = "[object Object]";
    var funcProto2 = Function.prototype;
    var objectProto2 = Object.prototype;
    var funcToString2 = funcProto2.toString;
    var hasOwnProperty3 = objectProto2.hasOwnProperty;
    var objectCtorString = funcToString2.call(Object);
    function isPlainObject(value) {
      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
        return false;
      }
      var proto2 = getPrototype(value);
      if (proto2 === null) {
        return true;
      }
      var Ctor = hasOwnProperty3.call(proto2, "constructor") && proto2.constructor;
      return typeof Ctor == "function" && Ctor instanceof Ctor && funcToString2.call(Ctor) == objectCtorString;
    }
    module2.exports = isPlainObject;
  }
});

// node_modules/lodash/_safeGet.js
var require_safeGet = __commonJS({
  "node_modules/lodash/_safeGet.js"(exports2, module2) {
    function safeGet(object2, key) {
      if (key === "constructor" && typeof object2[key] === "function") {
        return;
      }
      if (key == "__proto__") {
        return;
      }
      return object2[key];
    }
    module2.exports = safeGet;
  }
});

// node_modules/lodash/toPlainObject.js
var require_toPlainObject = __commonJS({
  "node_modules/lodash/toPlainObject.js"(exports2, module2) {
    var copyObject = require_copyObject();
    var keysIn = require_keysIn();
    function toPlainObject(value) {
      return copyObject(value, keysIn(value));
    }
    module2.exports = toPlainObject;
  }
});

// node_modules/lodash/_baseMergeDeep.js
var require_baseMergeDeep = __commonJS({
  "node_modules/lodash/_baseMergeDeep.js"(exports2, module2) {
    var assignMergeValue = require_assignMergeValue();
    var cloneBuffer = require_cloneBuffer();
    var cloneTypedArray = require_cloneTypedArray();
    var copyArray = require_copyArray();
    var initCloneObject = require_initCloneObject();
    var isArguments = require_isArguments();
    var isArray = require_isArray();
    var isArrayLikeObject = require_isArrayLikeObject();
    var isBuffer2 = require_isBuffer();
    var isFunction2 = require_isFunction();
    var isObject2 = require_isObject();
    var isPlainObject = require_isPlainObject();
    var isTypedArray = require_isTypedArray();
    var safeGet = require_safeGet();
    var toPlainObject = require_toPlainObject();
    function baseMergeDeep(object2, source, key, srcIndex, mergeFunc, customizer, stack) {
      var objValue = safeGet(object2, key), srcValue = safeGet(source, key), stacked = stack.get(srcValue);
      if (stacked) {
        assignMergeValue(object2, key, stacked);
        return;
      }
      var newValue = customizer ? customizer(objValue, srcValue, key + "", object2, source, stack) : void 0;
      var isCommon = newValue === void 0;
      if (isCommon) {
        var isArr = isArray(srcValue), isBuff = !isArr && isBuffer2(srcValue), isTyped = !isArr && !isBuff && isTypedArray(srcValue);
        newValue = srcValue;
        if (isArr || isBuff || isTyped) {
          if (isArray(objValue)) {
            newValue = objValue;
          } else if (isArrayLikeObject(objValue)) {
            newValue = copyArray(objValue);
          } else if (isBuff) {
            isCommon = false;
            newValue = cloneBuffer(srcValue, true);
          } else if (isTyped) {
            isCommon = false;
            newValue = cloneTypedArray(srcValue, true);
          } else {
            newValue = [];
          }
        } else if (isPlainObject(srcValue) || isArguments(srcValue)) {
          newValue = objValue;
          if (isArguments(objValue)) {
            newValue = toPlainObject(objValue);
          } else if (!isObject2(objValue) || isFunction2(objValue)) {
            newValue = initCloneObject(srcValue);
          }
        } else {
          isCommon = false;
        }
      }
      if (isCommon) {
        stack.set(srcValue, newValue);
        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
        stack["delete"](srcValue);
      }
      assignMergeValue(object2, key, newValue);
    }
    module2.exports = baseMergeDeep;
  }
});

// node_modules/lodash/_baseMerge.js
var require_baseMerge = __commonJS({
  "node_modules/lodash/_baseMerge.js"(exports2, module2) {
    var Stack = require_Stack();
    var assignMergeValue = require_assignMergeValue();
    var baseFor = require_baseFor();
    var baseMergeDeep = require_baseMergeDeep();
    var isObject2 = require_isObject();
    var keysIn = require_keysIn();
    var safeGet = require_safeGet();
    function baseMerge(object2, source, srcIndex, customizer, stack) {
      if (object2 === source) {
        return;
      }
      baseFor(source, function(srcValue, key) {
        stack || (stack = new Stack());
        if (isObject2(srcValue)) {
          baseMergeDeep(object2, source, key, srcIndex, baseMerge, customizer, stack);
        } else {
          var newValue = customizer ? customizer(safeGet(object2, key), srcValue, key + "", object2, source, stack) : void 0;
          if (newValue === void 0) {
            newValue = srcValue;
          }
          assignMergeValue(object2, key, newValue);
        }
      }, keysIn);
    }
    module2.exports = baseMerge;
  }
});

// node_modules/lodash/_createAssigner.js
var require_createAssigner = __commonJS({
  "node_modules/lodash/_createAssigner.js"(exports2, module2) {
    var baseRest = require_baseRest();
    var isIterateeCall = require_isIterateeCall();
    function createAssigner(assigner) {
      return baseRest(function(object2, sources) {
        var index6 = -1, length3 = sources.length, customizer = length3 > 1 ? sources[length3 - 1] : void 0, guard = length3 > 2 ? sources[2] : void 0;
        customizer = assigner.length > 3 && typeof customizer == "function" ? (length3--, customizer) : void 0;
        if (guard && isIterateeCall(sources[0], sources[1], guard)) {
          customizer = length3 < 3 ? void 0 : customizer;
          length3 = 1;
        }
        object2 = Object(object2);
        while (++index6 < length3) {
          var source = sources[index6];
          if (source) {
            assigner(object2, source, index6, customizer);
          }
        }
        return object2;
      });
    }
    module2.exports = createAssigner;
  }
});

// node_modules/lodash/merge.js
var require_merge = __commonJS({
  "node_modules/lodash/merge.js"(exports2, module2) {
    var baseMerge = require_baseMerge();
    var createAssigner = require_createAssigner();
    var merge6 = createAssigner(function(object2, source, srcIndex) {
      baseMerge(object2, source, srcIndex);
    });
    module2.exports = merge6;
  }
});

// node_modules/lodash/_baseLt.js
var require_baseLt = __commonJS({
  "node_modules/lodash/_baseLt.js"(exports2, module2) {
    function baseLt(value, other) {
      return value < other;
    }
    module2.exports = baseLt;
  }
});

// node_modules/lodash/min.js
var require_min = __commonJS({
  "node_modules/lodash/min.js"(exports2, module2) {
    var baseExtremum = require_baseExtremum();
    var baseLt = require_baseLt();
    var identity17 = require_identity();
    function min8(array12) {
      return array12 && array12.length ? baseExtremum(array12, identity17, baseLt) : void 0;
    }
    module2.exports = min8;
  }
});

// node_modules/lodash/minBy.js
var require_minBy = __commonJS({
  "node_modules/lodash/minBy.js"(exports2, module2) {
    var baseExtremum = require_baseExtremum();
    var baseIteratee = require_baseIteratee();
    var baseLt = require_baseLt();
    function minBy(array12, iteratee) {
      return array12 && array12.length ? baseExtremum(array12, baseIteratee(iteratee, 2), baseLt) : void 0;
    }
    module2.exports = minBy;
  }
});

// node_modules/lodash/now.js
var require_now = __commonJS({
  "node_modules/lodash/now.js"(exports2, module2) {
    var root7 = require_root();
    var now6 = function() {
      return root7.Date.now();
    };
    module2.exports = now6;
  }
});

// node_modules/lodash/_baseSet.js
var require_baseSet = __commonJS({
  "node_modules/lodash/_baseSet.js"(exports2, module2) {
    var assignValue = require_assignValue();
    var castPath = require_castPath();
    var isIndex = require_isIndex();
    var isObject2 = require_isObject();
    var toKey = require_toKey();
    function baseSet(object2, path5, value, customizer) {
      if (!isObject2(object2)) {
        return object2;
      }
      path5 = castPath(path5, object2);
      var index6 = -1, length3 = path5.length, lastIndex = length3 - 1, nested = object2;
      while (nested != null && ++index6 < length3) {
        var key = toKey(path5[index6]), newValue = value;
        if (key === "__proto__" || key === "constructor" || key === "prototype") {
          return object2;
        }
        if (index6 != lastIndex) {
          var objValue = nested[key];
          newValue = customizer ? customizer(objValue, key, nested) : void 0;
          if (newValue === void 0) {
            newValue = isObject2(objValue) ? objValue : isIndex(path5[index6 + 1]) ? [] : {};
          }
        }
        assignValue(nested, key, newValue);
        nested = nested[key];
      }
      return object2;
    }
    module2.exports = baseSet;
  }
});

// node_modules/lodash/_basePickBy.js
var require_basePickBy = __commonJS({
  "node_modules/lodash/_basePickBy.js"(exports2, module2) {
    var baseGet = require_baseGet();
    var baseSet = require_baseSet();
    var castPath = require_castPath();
    function basePickBy(object2, paths, predicate) {
      var index6 = -1, length3 = paths.length, result = {};
      while (++index6 < length3) {
        var path5 = paths[index6], value = baseGet(object2, path5);
        if (predicate(value, path5)) {
          baseSet(result, castPath(path5, object2), value);
        }
      }
      return result;
    }
    module2.exports = basePickBy;
  }
});

// node_modules/lodash/_basePick.js
var require_basePick = __commonJS({
  "node_modules/lodash/_basePick.js"(exports2, module2) {
    var basePickBy = require_basePickBy();
    var hasIn = require_hasIn();
    function basePick(object2, paths) {
      return basePickBy(object2, paths, function(value, path5) {
        return hasIn(object2, path5);
      });
    }
    module2.exports = basePick;
  }
});

// node_modules/lodash/_flatRest.js
var require_flatRest = __commonJS({
  "node_modules/lodash/_flatRest.js"(exports2, module2) {
    var flatten2 = require_flatten();
    var overRest = require_overRest();
    var setToString = require_setToString();
    function flatRest(func) {
      return setToString(overRest(func, void 0, flatten2), func + "");
    }
    module2.exports = flatRest;
  }
});

// node_modules/lodash/pick.js
var require_pick = __commonJS({
  "node_modules/lodash/pick.js"(exports2, module2) {
    var basePick = require_basePick();
    var flatRest = require_flatRest();
    var pick = flatRest(function(object2, paths) {
      return object2 == null ? {} : basePick(object2, paths);
    });
    module2.exports = pick;
  }
});

// node_modules/lodash/_baseRange.js
var require_baseRange = __commonJS({
  "node_modules/lodash/_baseRange.js"(exports2, module2) {
    var nativeCeil = Math.ceil;
    var nativeMax = Math.max;
    function baseRange(start6, end2, step, fromRight) {
      var index6 = -1, length3 = nativeMax(nativeCeil((end2 - start6) / (step || 1)), 0), result = Array(length3);
      while (length3--) {
        result[fromRight ? length3 : ++index6] = start6;
        start6 += step;
      }
      return result;
    }
    module2.exports = baseRange;
  }
});

// node_modules/lodash/_createRange.js
var require_createRange = __commonJS({
  "node_modules/lodash/_createRange.js"(exports2, module2) {
    var baseRange = require_baseRange();
    var isIterateeCall = require_isIterateeCall();
    var toFinite = require_toFinite();
    function createRange(fromRight) {
      return function(start6, end2, step) {
        if (step && typeof step != "number" && isIterateeCall(start6, end2, step)) {
          end2 = step = void 0;
        }
        start6 = toFinite(start6);
        if (end2 === void 0) {
          end2 = start6;
          start6 = 0;
        } else {
          end2 = toFinite(end2);
        }
        step = step === void 0 ? start6 < end2 ? 1 : -1 : toFinite(step);
        return baseRange(start6, end2, step, fromRight);
      };
    }
    module2.exports = createRange;
  }
});

// node_modules/lodash/range.js
var require_range = __commonJS({
  "node_modules/lodash/range.js"(exports2, module2) {
    var createRange = require_createRange();
    var range6 = createRange();
    module2.exports = range6;
  }
});

// node_modules/lodash/_baseSortBy.js
var require_baseSortBy = __commonJS({
  "node_modules/lodash/_baseSortBy.js"(exports2, module2) {
    function baseSortBy(array12, comparer) {
      var length3 = array12.length;
      array12.sort(comparer);
      while (length3--) {
        array12[length3] = array12[length3].value;
      }
      return array12;
    }
    module2.exports = baseSortBy;
  }
});

// node_modules/lodash/_compareAscending.js
var require_compareAscending = __commonJS({
  "node_modules/lodash/_compareAscending.js"(exports2, module2) {
    var isSymbol = require_isSymbol();
    function compareAscending(value, other) {
      if (value !== other) {
        var valIsDefined = value !== void 0, valIsNull = value === null, valIsReflexive = value === value, valIsSymbol = isSymbol(value);
        var othIsDefined = other !== void 0, othIsNull = other === null, othIsReflexive = other === other, othIsSymbol = isSymbol(other);
        if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) {
          return 1;
        }
        if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) {
          return -1;
        }
      }
      return 0;
    }
    module2.exports = compareAscending;
  }
});

// node_modules/lodash/_compareMultiple.js
var require_compareMultiple = __commonJS({
  "node_modules/lodash/_compareMultiple.js"(exports2, module2) {
    var compareAscending = require_compareAscending();
    function compareMultiple(object2, other, orders) {
      var index6 = -1, objCriteria = object2.criteria, othCriteria = other.criteria, length3 = objCriteria.length, ordersLength = orders.length;
      while (++index6 < length3) {
        var result = compareAscending(objCriteria[index6], othCriteria[index6]);
        if (result) {
          if (index6 >= ordersLength) {
            return result;
          }
          var order = orders[index6];
          return result * (order == "desc" ? -1 : 1);
        }
      }
      return object2.index - other.index;
    }
    module2.exports = compareMultiple;
  }
});

// node_modules/lodash/_baseOrderBy.js
var require_baseOrderBy = __commonJS({
  "node_modules/lodash/_baseOrderBy.js"(exports2, module2) {
    var arrayMap = require_arrayMap();
    var baseGet = require_baseGet();
    var baseIteratee = require_baseIteratee();
    var baseMap = require_baseMap();
    var baseSortBy = require_baseSortBy();
    var baseUnary = require_baseUnary();
    var compareMultiple = require_compareMultiple();
    var identity17 = require_identity();
    var isArray = require_isArray();
    function baseOrderBy(collection, iteratees, orders) {
      if (iteratees.length) {
        iteratees = arrayMap(iteratees, function(iteratee) {
          if (isArray(iteratee)) {
            return function(value) {
              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);
            };
          }
          return iteratee;
        });
      } else {
        iteratees = [identity17];
      }
      var index6 = -1;
      iteratees = arrayMap(iteratees, baseUnary(baseIteratee));
      var result = baseMap(collection, function(value, key, collection2) {
        var criteria = arrayMap(iteratees, function(iteratee) {
          return iteratee(value);
        });
        return { "criteria": criteria, "index": ++index6, "value": value };
      });
      return baseSortBy(result, function(object2, other) {
        return compareMultiple(object2, other, orders);
      });
    }
    module2.exports = baseOrderBy;
  }
});

// node_modules/lodash/sortBy.js
var require_sortBy = __commonJS({
  "node_modules/lodash/sortBy.js"(exports2, module2) {
    var baseFlatten = require_baseFlatten();
    var baseOrderBy = require_baseOrderBy();
    var baseRest = require_baseRest();
    var isIterateeCall = require_isIterateeCall();
    var sortBy = baseRest(function(collection, iteratees) {
      if (collection == null) {
        return [];
      }
      var length3 = iteratees.length;
      if (length3 > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {
        iteratees = [];
      } else if (length3 > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {
        iteratees = [iteratees[0]];
      }
      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);
    });
    module2.exports = sortBy;
  }
});

// node_modules/lodash/uniqueId.js
var require_uniqueId = __commonJS({
  "node_modules/lodash/uniqueId.js"(exports2, module2) {
    var toString = require_toString();
    var idCounter = 0;
    function uniqueId(prefix3) {
      var id5 = ++idCounter;
      return toString(prefix3) + id5;
    }
    module2.exports = uniqueId;
  }
});

// node_modules/lodash/_baseZipObject.js
var require_baseZipObject = __commonJS({
  "node_modules/lodash/_baseZipObject.js"(exports2, module2) {
    function baseZipObject(props, values, assignFunc) {
      var index6 = -1, length3 = props.length, valsLength = values.length, result = {};
      while (++index6 < length3) {
        var value = index6 < valsLength ? values[index6] : void 0;
        assignFunc(result, props[index6], value);
      }
      return result;
    }
    module2.exports = baseZipObject;
  }
});

// node_modules/lodash/zipObject.js
var require_zipObject = __commonJS({
  "node_modules/lodash/zipObject.js"(exports2, module2) {
    var assignValue = require_assignValue();
    var baseZipObject = require_baseZipObject();
    function zipObject(props, values) {
      return baseZipObject(props || [], values || [], assignValue);
    }
    module2.exports = zipObject;
  }
});

// node_modules/dagre/lib/lodash.js
var require_lodash2 = __commonJS({
  "node_modules/dagre/lib/lodash.js"(exports2, module2) {
    var lodash2;
    if (typeof __require === "function") {
      try {
        lodash2 = {
          cloneDeep: require_cloneDeep(),
          constant: require_constant(),
          defaults: require_defaults(),
          each: require_each(),
          filter: require_filter(),
          find: require_find(),
          flatten: require_flatten(),
          forEach: require_forEach(),
          forIn: require_forIn(),
          has: require_has(),
          isUndefined: require_isUndefined(),
          last: require_last(),
          map: require_map(),
          mapValues: require_mapValues(),
          max: require_max(),
          merge: require_merge(),
          min: require_min(),
          minBy: require_minBy(),
          now: require_now(),
          pick: require_pick(),
          range: require_range(),
          reduce: require_reduce(),
          sortBy: require_sortBy(),
          uniqueId: require_uniqueId(),
          values: require_values(),
          zipObject: require_zipObject()
        };
      } catch (e) {
      }
    }
    if (!lodash2) {
      lodash2 = window._;
    }
    module2.exports = lodash2;
  }
});

// node_modules/dagre/lib/data/list.js
var require_list = __commonJS({
  "node_modules/dagre/lib/data/list.js"(exports2, module2) {
    module2.exports = List;
    function List() {
      var sentinel = {};
      sentinel._next = sentinel._prev = sentinel;
      this._sentinel = sentinel;
    }
    List.prototype.dequeue = function() {
      var sentinel = this._sentinel;
      var entry = sentinel._prev;
      if (entry !== sentinel) {
        unlink(entry);
        return entry;
      }
    };
    List.prototype.enqueue = function(entry) {
      var sentinel = this._sentinel;
      if (entry._prev && entry._next) {
        unlink(entry);
      }
      entry._next = sentinel._next;
      sentinel._next._prev = entry;
      sentinel._next = entry;
      entry._prev = sentinel;
    };
    List.prototype.toString = function() {
      var strs = [];
      var sentinel = this._sentinel;
      var curr = sentinel._prev;
      while (curr !== sentinel) {
        strs.push(JSON.stringify(curr, filterOutLinks));
        curr = curr._prev;
      }
      return "[" + strs.join(", ") + "]";
    };
    function unlink(entry) {
      entry._prev._next = entry._next;
      entry._next._prev = entry._prev;
      delete entry._next;
      delete entry._prev;
    }
    function filterOutLinks(k3, v2) {
      if (k3 !== "_next" && k3 !== "_prev") {
        return v2;
      }
    }
  }
});

// node_modules/dagre/lib/greedy-fas.js
var require_greedy_fas = __commonJS({
  "node_modules/dagre/lib/greedy-fas.js"(exports2, module2) {
    var _2 = require_lodash2();
    var Graph = require_graphlib2().Graph;
    var List = require_list();
    module2.exports = greedyFAS;
    var DEFAULT_WEIGHT_FN = _2.constant(1);
    function greedyFAS(g, weightFn) {
      if (g.nodeCount() <= 1) {
        return [];
      }
      var state = buildState(g, weightFn || DEFAULT_WEIGHT_FN);
      var results = doGreedyFAS(state.graph, state.buckets, state.zeroIdx);
      return _2.flatten(_2.map(results, function(e) {
        return g.outEdges(e.v, e.w);
      }), true);
    }
    function doGreedyFAS(g, buckets, zeroIdx) {
      var results = [];
      var sources = buckets[buckets.length - 1];
      var sinks = buckets[0];
      var entry;
      while (g.nodeCount()) {
        while (entry = sinks.dequeue()) {
          removeNode(g, buckets, zeroIdx, entry);
        }
        while (entry = sources.dequeue()) {
          removeNode(g, buckets, zeroIdx, entry);
        }
        if (g.nodeCount()) {
          for (var i = buckets.length - 2; i > 0; --i) {
            entry = buckets[i].dequeue();
            if (entry) {
              results = results.concat(removeNode(g, buckets, zeroIdx, entry, true));
              break;
            }
          }
        }
      }
      return results;
    }
    function removeNode(g, buckets, zeroIdx, entry, collectPredecessors) {
      var results = collectPredecessors ? [] : void 0;
      _2.forEach(g.inEdges(entry.v), function(edge) {
        var weight = g.edge(edge);
        var uEntry = g.node(edge.v);
        if (collectPredecessors) {
          results.push({ v: edge.v, w: edge.w });
        }
        uEntry.out -= weight;
        assignBucket(buckets, zeroIdx, uEntry);
      });
      _2.forEach(g.outEdges(entry.v), function(edge) {
        var weight = g.edge(edge);
        var w2 = edge.w;
        var wEntry = g.node(w2);
        wEntry["in"] -= weight;
        assignBucket(buckets, zeroIdx, wEntry);
      });
      g.removeNode(entry.v);
      return results;
    }
    function buildState(g, weightFn) {
      var fasGraph = new Graph();
      var maxIn = 0;
      var maxOut = 0;
      _2.forEach(g.nodes(), function(v2) {
        fasGraph.setNode(v2, { v: v2, "in": 0, out: 0 });
      });
      _2.forEach(g.edges(), function(e) {
        var prevWeight = fasGraph.edge(e.v, e.w) || 0;
        var weight = weightFn(e);
        var edgeWeight = prevWeight + weight;
        fasGraph.setEdge(e.v, e.w, edgeWeight);
        maxOut = Math.max(maxOut, fasGraph.node(e.v).out += weight);
        maxIn = Math.max(maxIn, fasGraph.node(e.w)["in"] += weight);
      });
      var buckets = _2.range(maxOut + maxIn + 3).map(function() {
        return new List();
      });
      var zeroIdx = maxIn + 1;
      _2.forEach(fasGraph.nodes(), function(v2) {
        assignBucket(buckets, zeroIdx, fasGraph.node(v2));
      });
      return { graph: fasGraph, buckets, zeroIdx };
    }
    function assignBucket(buckets, zeroIdx, entry) {
      if (!entry.out) {
        buckets[0].enqueue(entry);
      } else if (!entry["in"]) {
        buckets[buckets.length - 1].enqueue(entry);
      } else {
        buckets[entry.out - entry["in"] + zeroIdx].enqueue(entry);
      }
    }
  }
});

// node_modules/dagre/lib/acyclic.js
var require_acyclic = __commonJS({
  "node_modules/dagre/lib/acyclic.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    var greedyFAS = require_greedy_fas();
    module2.exports = {
      run,
      undo
    };
    function run(g) {
      var fas = g.graph().acyclicer === "greedy" ? greedyFAS(g, weightFn(g)) : dfsFAS(g);
      _2.forEach(fas, function(e) {
        var label = g.edge(e);
        g.removeEdge(e);
        label.forwardName = e.name;
        label.reversed = true;
        g.setEdge(e.w, e.v, label, _2.uniqueId("rev"));
      });
      function weightFn(g2) {
        return function(e) {
          return g2.edge(e).weight;
        };
      }
    }
    function dfsFAS(g) {
      var fas = [];
      var stack = {};
      var visited = {};
      function dfs(v2) {
        if (_2.has(visited, v2)) {
          return;
        }
        visited[v2] = true;
        stack[v2] = true;
        _2.forEach(g.outEdges(v2), function(e) {
          if (_2.has(stack, e.w)) {
            fas.push(e);
          } else {
            dfs(e.w);
          }
        });
        delete stack[v2];
      }
      _2.forEach(g.nodes(), dfs);
      return fas;
    }
    function undo(g) {
      _2.forEach(g.edges(), function(e) {
        var label = g.edge(e);
        if (label.reversed) {
          g.removeEdge(e);
          var forwardName = label.forwardName;
          delete label.reversed;
          delete label.forwardName;
          g.setEdge(e.w, e.v, label, forwardName);
        }
      });
    }
  }
});

// node_modules/dagre/lib/util.js
var require_util = __commonJS({
  "node_modules/dagre/lib/util.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    var Graph = require_graphlib2().Graph;
    module2.exports = {
      addDummyNode,
      simplify,
      asNonCompoundGraph,
      successorWeights,
      predecessorWeights,
      intersectRect: intersectRect2,
      buildLayerMatrix,
      normalizeRanks,
      removeEmptyRanks,
      addBorderNode,
      maxRank,
      partition,
      time: time2,
      notime
    };
    function addDummyNode(g, type4, attrs, name2) {
      var v2;
      do {
        v2 = _2.uniqueId(name2);
      } while (g.hasNode(v2));
      attrs.dummy = type4;
      g.setNode(v2, attrs);
      return v2;
    }
    function simplify(g) {
      var simplified = new Graph().setGraph(g.graph());
      _2.forEach(g.nodes(), function(v2) {
        simplified.setNode(v2, g.node(v2));
      });
      _2.forEach(g.edges(), function(e) {
        var simpleLabel = simplified.edge(e.v, e.w) || { weight: 0, minlen: 1 };
        var label = g.edge(e);
        simplified.setEdge(e.v, e.w, {
          weight: simpleLabel.weight + label.weight,
          minlen: Math.max(simpleLabel.minlen, label.minlen)
        });
      });
      return simplified;
    }
    function asNonCompoundGraph(g) {
      var simplified = new Graph({ multigraph: g.isMultigraph() }).setGraph(g.graph());
      _2.forEach(g.nodes(), function(v2) {
        if (!g.children(v2).length) {
          simplified.setNode(v2, g.node(v2));
        }
      });
      _2.forEach(g.edges(), function(e) {
        simplified.setEdge(e, g.edge(e));
      });
      return simplified;
    }
    function successorWeights(g) {
      var weightMap = _2.map(g.nodes(), function(v2) {
        var sucs = {};
        _2.forEach(g.outEdges(v2), function(e) {
          sucs[e.w] = (sucs[e.w] || 0) + g.edge(e).weight;
        });
        return sucs;
      });
      return _2.zipObject(g.nodes(), weightMap);
    }
    function predecessorWeights(g) {
      var weightMap = _2.map(g.nodes(), function(v2) {
        var preds = {};
        _2.forEach(g.inEdges(v2), function(e) {
          preds[e.v] = (preds[e.v] || 0) + g.edge(e).weight;
        });
        return preds;
      });
      return _2.zipObject(g.nodes(), weightMap);
    }
    function intersectRect2(rect2, point12) {
      var x7 = rect2.x;
      var y7 = rect2.y;
      var dx = point12.x - x7;
      var dy = point12.y - y7;
      var w2 = rect2.width / 2;
      var h = rect2.height / 2;
      if (!dx && !dy) {
        throw new Error("Not possible to find intersection inside of the rectangle");
      }
      var sx, sy;
      if (Math.abs(dy) * w2 > Math.abs(dx) * h) {
        if (dy < 0) {
          h = -h;
        }
        sx = h * dx / dy;
        sy = h;
      } else {
        if (dx < 0) {
          w2 = -w2;
        }
        sx = w2;
        sy = w2 * dy / dx;
      }
      return { x: x7 + sx, y: y7 + sy };
    }
    function buildLayerMatrix(g) {
      var layering = _2.map(_2.range(maxRank(g) + 1), function() {
        return [];
      });
      _2.forEach(g.nodes(), function(v2) {
        var node2 = g.node(v2);
        var rank5 = node2.rank;
        if (!_2.isUndefined(rank5)) {
          layering[rank5][node2.order] = v2;
        }
      });
      return layering;
    }
    function normalizeRanks(g) {
      var min8 = _2.min(_2.map(g.nodes(), function(v2) {
        return g.node(v2).rank;
      }));
      _2.forEach(g.nodes(), function(v2) {
        var node2 = g.node(v2);
        if (_2.has(node2, "rank")) {
          node2.rank -= min8;
        }
      });
    }
    function removeEmptyRanks(g) {
      var offset = _2.min(_2.map(g.nodes(), function(v2) {
        return g.node(v2).rank;
      }));
      var layers = [];
      _2.forEach(g.nodes(), function(v2) {
        var rank5 = g.node(v2).rank - offset;
        if (!layers[rank5]) {
          layers[rank5] = [];
        }
        layers[rank5].push(v2);
      });
      var delta = 0;
      var nodeRankFactor = g.graph().nodeRankFactor;
      _2.forEach(layers, function(vs, i) {
        if (_2.isUndefined(vs) && i % nodeRankFactor !== 0) {
          --delta;
        } else if (delta) {
          _2.forEach(vs, function(v2) {
            g.node(v2).rank += delta;
          });
        }
      });
    }
    function addBorderNode(g, prefix3, rank5, order) {
      var node2 = {
        width: 0,
        height: 0
      };
      if (arguments.length >= 4) {
        node2.rank = rank5;
        node2.order = order;
      }
      return addDummyNode(g, "border", node2, prefix3);
    }
    function maxRank(g) {
      return _2.max(_2.map(g.nodes(), function(v2) {
        var rank5 = g.node(v2).rank;
        if (!_2.isUndefined(rank5)) {
          return rank5;
        }
      }));
    }
    function partition(collection, fn) {
      var result = { lhs: [], rhs: [] };
      _2.forEach(collection, function(value) {
        if (fn(value)) {
          result.lhs.push(value);
        } else {
          result.rhs.push(value);
        }
      });
      return result;
    }
    function time2(name2, fn) {
      var start6 = _2.now();
      try {
        return fn();
      } finally {
        console.log(name2 + " time: " + (_2.now() - start6) + "ms");
      }
    }
    function notime(name2, fn) {
      return fn();
    }
  }
});

// node_modules/dagre/lib/normalize.js
var require_normalize = __commonJS({
  "node_modules/dagre/lib/normalize.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    var util2 = require_util();
    module2.exports = {
      run,
      undo
    };
    function run(g) {
      g.graph().dummyChains = [];
      _2.forEach(g.edges(), function(edge) {
        normalizeEdge(g, edge);
      });
    }
    function normalizeEdge(g, e) {
      var v2 = e.v;
      var vRank = g.node(v2).rank;
      var w2 = e.w;
      var wRank = g.node(w2).rank;
      var name2 = e.name;
      var edgeLabel = g.edge(e);
      var labelRank = edgeLabel.labelRank;
      if (wRank === vRank + 1)
        return;
      g.removeEdge(e);
      var dummy, attrs, i;
      for (i = 0, ++vRank; vRank < wRank; ++i, ++vRank) {
        edgeLabel.points = [];
        attrs = {
          width: 0,
          height: 0,
          edgeLabel,
          edgeObj: e,
          rank: vRank
        };
        dummy = util2.addDummyNode(g, "edge", attrs, "_d");
        if (vRank === labelRank) {
          attrs.width = edgeLabel.width;
          attrs.height = edgeLabel.height;
          attrs.dummy = "edge-label";
          attrs.labelpos = edgeLabel.labelpos;
        }
        g.setEdge(v2, dummy, { weight: edgeLabel.weight }, name2);
        if (i === 0) {
          g.graph().dummyChains.push(dummy);
        }
        v2 = dummy;
      }
      g.setEdge(v2, w2, { weight: edgeLabel.weight }, name2);
    }
    function undo(g) {
      _2.forEach(g.graph().dummyChains, function(v2) {
        var node2 = g.node(v2);
        var origLabel = node2.edgeLabel;
        var w2;
        g.setEdge(node2.edgeObj, origLabel);
        while (node2.dummy) {
          w2 = g.successors(v2)[0];
          g.removeNode(v2);
          origLabel.points.push({ x: node2.x, y: node2.y });
          if (node2.dummy === "edge-label") {
            origLabel.x = node2.x;
            origLabel.y = node2.y;
            origLabel.width = node2.width;
            origLabel.height = node2.height;
          }
          v2 = w2;
          node2 = g.node(v2);
        }
      });
    }
  }
});

// node_modules/dagre/lib/rank/util.js
var require_util2 = __commonJS({
  "node_modules/dagre/lib/rank/util.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    module2.exports = {
      longestPath,
      slack
    };
    function longestPath(g) {
      var visited = {};
      function dfs(v2) {
        var label = g.node(v2);
        if (_2.has(visited, v2)) {
          return label.rank;
        }
        visited[v2] = true;
        var rank5 = _2.min(_2.map(g.outEdges(v2), function(e) {
          return dfs(e.w) - g.edge(e).minlen;
        }));
        if (rank5 === Number.POSITIVE_INFINITY || rank5 === void 0 || rank5 === null) {
          rank5 = 0;
        }
        return label.rank = rank5;
      }
      _2.forEach(g.sources(), dfs);
    }
    function slack(g, e) {
      return g.node(e.w).rank - g.node(e.v).rank - g.edge(e).minlen;
    }
  }
});

// node_modules/dagre/lib/rank/feasible-tree.js
var require_feasible_tree = __commonJS({
  "node_modules/dagre/lib/rank/feasible-tree.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    var Graph = require_graphlib2().Graph;
    var slack = require_util2().slack;
    module2.exports = feasibleTree;
    function feasibleTree(g) {
      var t = new Graph({ directed: false });
      var start6 = g.nodes()[0];
      var size = g.nodeCount();
      t.setNode(start6, {});
      var edge, delta;
      while (tightTree(t, g) < size) {
        edge = findMinSlackEdge(t, g);
        delta = t.hasNode(edge.v) ? slack(g, edge) : -slack(g, edge);
        shiftRanks(t, g, delta);
      }
      return t;
    }
    function tightTree(t, g) {
      function dfs(v2) {
        _2.forEach(g.nodeEdges(v2), function(e) {
          var edgeV = e.v, w2 = v2 === edgeV ? e.w : edgeV;
          if (!t.hasNode(w2) && !slack(g, e)) {
            t.setNode(w2, {});
            t.setEdge(v2, w2, {});
            dfs(w2);
          }
        });
      }
      _2.forEach(t.nodes(), dfs);
      return t.nodeCount();
    }
    function findMinSlackEdge(t, g) {
      return _2.minBy(g.edges(), function(e) {
        if (t.hasNode(e.v) !== t.hasNode(e.w)) {
          return slack(g, e);
        }
      });
    }
    function shiftRanks(t, g, delta) {
      _2.forEach(t.nodes(), function(v2) {
        g.node(v2).rank += delta;
      });
    }
  }
});

// node_modules/dagre/lib/rank/network-simplex.js
var require_network_simplex = __commonJS({
  "node_modules/dagre/lib/rank/network-simplex.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    var feasibleTree = require_feasible_tree();
    var slack = require_util2().slack;
    var initRank = require_util2().longestPath;
    var preorder = require_graphlib2().alg.preorder;
    var postorder = require_graphlib2().alg.postorder;
    var simplify = require_util().simplify;
    module2.exports = networkSimplex;
    networkSimplex.initLowLimValues = initLowLimValues;
    networkSimplex.initCutValues = initCutValues;
    networkSimplex.calcCutValue = calcCutValue;
    networkSimplex.leaveEdge = leaveEdge;
    networkSimplex.enterEdge = enterEdge;
    networkSimplex.exchangeEdges = exchangeEdges;
    function networkSimplex(g) {
      g = simplify(g);
      initRank(g);
      var t = feasibleTree(g);
      initLowLimValues(t);
      initCutValues(t, g);
      var e, f2;
      while (e = leaveEdge(t)) {
        f2 = enterEdge(t, g, e);
        exchangeEdges(t, g, e, f2);
      }
    }
    function initCutValues(t, g) {
      var vs = postorder(t, t.nodes());
      vs = vs.slice(0, vs.length - 1);
      _2.forEach(vs, function(v2) {
        assignCutValue(t, g, v2);
      });
    }
    function assignCutValue(t, g, child) {
      var childLab = t.node(child);
      var parent = childLab.parent;
      t.edge(child, parent).cutvalue = calcCutValue(t, g, child);
    }
    function calcCutValue(t, g, child) {
      var childLab = t.node(child);
      var parent = childLab.parent;
      var childIsTail = true;
      var graphEdge = g.edge(child, parent);
      var cutValue = 0;
      if (!graphEdge) {
        childIsTail = false;
        graphEdge = g.edge(parent, child);
      }
      cutValue = graphEdge.weight;
      _2.forEach(g.nodeEdges(child), function(e) {
        var isOutEdge = e.v === child, other = isOutEdge ? e.w : e.v;
        if (other !== parent) {
          var pointsToHead = isOutEdge === childIsTail, otherWeight = g.edge(e).weight;
          cutValue += pointsToHead ? otherWeight : -otherWeight;
          if (isTreeEdge(t, child, other)) {
            var otherCutValue = t.edge(child, other).cutvalue;
            cutValue += pointsToHead ? -otherCutValue : otherCutValue;
          }
        }
      });
      return cutValue;
    }
    function initLowLimValues(tree, root7) {
      if (arguments.length < 2) {
        root7 = tree.nodes()[0];
      }
      dfsAssignLowLim(tree, {}, 1, root7);
    }
    function dfsAssignLowLim(tree, visited, nextLim, v2, parent) {
      var low = nextLim;
      var label = tree.node(v2);
      visited[v2] = true;
      _2.forEach(tree.neighbors(v2), function(w2) {
        if (!_2.has(visited, w2)) {
          nextLim = dfsAssignLowLim(tree, visited, nextLim, w2, v2);
        }
      });
      label.low = low;
      label.lim = nextLim++;
      if (parent) {
        label.parent = parent;
      } else {
        delete label.parent;
      }
      return nextLim;
    }
    function leaveEdge(tree) {
      return _2.find(tree.edges(), function(e) {
        return tree.edge(e).cutvalue < 0;
      });
    }
    function enterEdge(t, g, edge) {
      var v2 = edge.v;
      var w2 = edge.w;
      if (!g.hasEdge(v2, w2)) {
        v2 = edge.w;
        w2 = edge.v;
      }
      var vLabel = t.node(v2);
      var wLabel = t.node(w2);
      var tailLabel = vLabel;
      var flip = false;
      if (vLabel.lim > wLabel.lim) {
        tailLabel = wLabel;
        flip = true;
      }
      var candidates = _2.filter(g.edges(), function(edge2) {
        return flip === isDescendant(t, t.node(edge2.v), tailLabel) && flip !== isDescendant(t, t.node(edge2.w), tailLabel);
      });
      return _2.minBy(candidates, function(edge2) {
        return slack(g, edge2);
      });
    }
    function exchangeEdges(t, g, e, f2) {
      var v2 = e.v;
      var w2 = e.w;
      t.removeEdge(v2, w2);
      t.setEdge(f2.v, f2.w, {});
      initLowLimValues(t);
      initCutValues(t, g);
      updateRanks(t, g);
    }
    function updateRanks(t, g) {
      var root7 = _2.find(t.nodes(), function(v2) {
        return !g.node(v2).parent;
      });
      var vs = preorder(t, root7);
      vs = vs.slice(1);
      _2.forEach(vs, function(v2) {
        var parent = t.node(v2).parent, edge = g.edge(v2, parent), flipped = false;
        if (!edge) {
          edge = g.edge(parent, v2);
          flipped = true;
        }
        g.node(v2).rank = g.node(parent).rank + (flipped ? edge.minlen : -edge.minlen);
      });
    }
    function isTreeEdge(tree, u4, v2) {
      return tree.hasEdge(u4, v2);
    }
    function isDescendant(tree, vLabel, rootLabel) {
      return rootLabel.low <= vLabel.lim && vLabel.lim <= rootLabel.lim;
    }
  }
});

// node_modules/dagre/lib/rank/index.js
var require_rank = __commonJS({
  "node_modules/dagre/lib/rank/index.js"(exports2, module2) {
    "use strict";
    var rankUtil = require_util2();
    var longestPath = rankUtil.longestPath;
    var feasibleTree = require_feasible_tree();
    var networkSimplex = require_network_simplex();
    module2.exports = rank5;
    function rank5(g) {
      switch (g.graph().ranker) {
        case "network-simplex":
          networkSimplexRanker(g);
          break;
        case "tight-tree":
          tightTreeRanker(g);
          break;
        case "longest-path":
          longestPathRanker(g);
          break;
        default:
          networkSimplexRanker(g);
      }
    }
    var longestPathRanker = longestPath;
    function tightTreeRanker(g) {
      longestPath(g);
      feasibleTree(g);
    }
    function networkSimplexRanker(g) {
      networkSimplex(g);
    }
  }
});

// node_modules/dagre/lib/parent-dummy-chains.js
var require_parent_dummy_chains = __commonJS({
  "node_modules/dagre/lib/parent-dummy-chains.js"(exports2, module2) {
    var _2 = require_lodash2();
    module2.exports = parentDummyChains;
    function parentDummyChains(g) {
      var postorderNums = postorder(g);
      _2.forEach(g.graph().dummyChains, function(v2) {
        var node2 = g.node(v2);
        var edgeObj = node2.edgeObj;
        var pathData = findPath(g, postorderNums, edgeObj.v, edgeObj.w);
        var path5 = pathData.path;
        var lca = pathData.lca;
        var pathIdx = 0;
        var pathV = path5[pathIdx];
        var ascending9 = true;
        while (v2 !== edgeObj.w) {
          node2 = g.node(v2);
          if (ascending9) {
            while ((pathV = path5[pathIdx]) !== lca && g.node(pathV).maxRank < node2.rank) {
              pathIdx++;
            }
            if (pathV === lca) {
              ascending9 = false;
            }
          }
          if (!ascending9) {
            while (pathIdx < path5.length - 1 && g.node(pathV = path5[pathIdx + 1]).minRank <= node2.rank) {
              pathIdx++;
            }
            pathV = path5[pathIdx];
          }
          g.setParent(v2, pathV);
          v2 = g.successors(v2)[0];
        }
      });
    }
    function findPath(g, postorderNums, v2, w2) {
      var vPath = [];
      var wPath = [];
      var low = Math.min(postorderNums[v2].low, postorderNums[w2].low);
      var lim = Math.max(postorderNums[v2].lim, postorderNums[w2].lim);
      var parent;
      var lca;
      parent = v2;
      do {
        parent = g.parent(parent);
        vPath.push(parent);
      } while (parent && (postorderNums[parent].low > low || lim > postorderNums[parent].lim));
      lca = parent;
      parent = w2;
      while ((parent = g.parent(parent)) !== lca) {
        wPath.push(parent);
      }
      return { path: vPath.concat(wPath.reverse()), lca };
    }
    function postorder(g) {
      var result = {};
      var lim = 0;
      function dfs(v2) {
        var low = lim;
        _2.forEach(g.children(v2), dfs);
        result[v2] = { low, lim: lim++ };
      }
      _2.forEach(g.children(), dfs);
      return result;
    }
  }
});

// node_modules/dagre/lib/nesting-graph.js
var require_nesting_graph = __commonJS({
  "node_modules/dagre/lib/nesting-graph.js"(exports2, module2) {
    var _2 = require_lodash2();
    var util2 = require_util();
    module2.exports = {
      run,
      cleanup
    };
    function run(g) {
      var root7 = util2.addDummyNode(g, "root", {}, "_root");
      var depths = treeDepths(g);
      var height2 = _2.max(_2.values(depths)) - 1;
      var nodeSep = 2 * height2 + 1;
      g.graph().nestingRoot = root7;
      _2.forEach(g.edges(), function(e) {
        g.edge(e).minlen *= nodeSep;
      });
      var weight = sumWeights(g) + 1;
      _2.forEach(g.children(), function(child) {
        dfs(g, root7, nodeSep, weight, height2, depths, child);
      });
      g.graph().nodeRankFactor = nodeSep;
    }
    function dfs(g, root7, nodeSep, weight, height2, depths, v2) {
      var children4 = g.children(v2);
      if (!children4.length) {
        if (v2 !== root7) {
          g.setEdge(root7, v2, { weight: 0, minlen: nodeSep });
        }
        return;
      }
      var top3 = util2.addBorderNode(g, "_bt");
      var bottom3 = util2.addBorderNode(g, "_bb");
      var label = g.node(v2);
      g.setParent(top3, v2);
      label.borderTop = top3;
      g.setParent(bottom3, v2);
      label.borderBottom = bottom3;
      _2.forEach(children4, function(child) {
        dfs(g, root7, nodeSep, weight, height2, depths, child);
        var childNode = g.node(child);
        var childTop = childNode.borderTop ? childNode.borderTop : child;
        var childBottom = childNode.borderBottom ? childNode.borderBottom : child;
        var thisWeight = childNode.borderTop ? weight : 2 * weight;
        var minlen = childTop !== childBottom ? 1 : height2 - depths[v2] + 1;
        g.setEdge(top3, childTop, {
          weight: thisWeight,
          minlen,
          nestingEdge: true
        });
        g.setEdge(childBottom, bottom3, {
          weight: thisWeight,
          minlen,
          nestingEdge: true
        });
      });
      if (!g.parent(v2)) {
        g.setEdge(root7, top3, { weight: 0, minlen: height2 + depths[v2] });
      }
    }
    function treeDepths(g) {
      var depths = {};
      function dfs2(v2, depth) {
        var children4 = g.children(v2);
        if (children4 && children4.length) {
          _2.forEach(children4, function(child) {
            dfs2(child, depth + 1);
          });
        }
        depths[v2] = depth;
      }
      _2.forEach(g.children(), function(v2) {
        dfs2(v2, 1);
      });
      return depths;
    }
    function sumWeights(g) {
      return _2.reduce(g.edges(), function(acc, e) {
        return acc + g.edge(e).weight;
      }, 0);
    }
    function cleanup(g) {
      var graphLabel = g.graph();
      g.removeNode(graphLabel.nestingRoot);
      delete graphLabel.nestingRoot;
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        if (edge.nestingEdge) {
          g.removeEdge(e);
        }
      });
    }
  }
});

// node_modules/dagre/lib/add-border-segments.js
var require_add_border_segments = __commonJS({
  "node_modules/dagre/lib/add-border-segments.js"(exports2, module2) {
    var _2 = require_lodash2();
    var util2 = require_util();
    module2.exports = addBorderSegments;
    function addBorderSegments(g) {
      function dfs(v2) {
        var children4 = g.children(v2);
        var node2 = g.node(v2);
        if (children4.length) {
          _2.forEach(children4, dfs);
        }
        if (_2.has(node2, "minRank")) {
          node2.borderLeft = [];
          node2.borderRight = [];
          for (var rank5 = node2.minRank, maxRank = node2.maxRank + 1; rank5 < maxRank; ++rank5) {
            addBorderNode(g, "borderLeft", "_bl", v2, node2, rank5);
            addBorderNode(g, "borderRight", "_br", v2, node2, rank5);
          }
        }
      }
      _2.forEach(g.children(), dfs);
    }
    function addBorderNode(g, prop, prefix3, sg, sgNode, rank5) {
      var label = { width: 0, height: 0, rank: rank5, borderType: prop };
      var prev2 = sgNode[prop][rank5 - 1];
      var curr = util2.addDummyNode(g, "border", label, prefix3);
      sgNode[prop][rank5] = curr;
      g.setParent(curr, sg);
      if (prev2) {
        g.setEdge(prev2, curr, { weight: 1 });
      }
    }
  }
});

// node_modules/dagre/lib/coordinate-system.js
var require_coordinate_system = __commonJS({
  "node_modules/dagre/lib/coordinate-system.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    module2.exports = {
      adjust: adjust2,
      undo
    };
    function adjust2(g) {
      var rankDir = g.graph().rankdir.toLowerCase();
      if (rankDir === "lr" || rankDir === "rl") {
        swapWidthHeight(g);
      }
    }
    function undo(g) {
      var rankDir = g.graph().rankdir.toLowerCase();
      if (rankDir === "bt" || rankDir === "rl") {
        reverseY(g);
      }
      if (rankDir === "lr" || rankDir === "rl") {
        swapXY(g);
        swapWidthHeight(g);
      }
    }
    function swapWidthHeight(g) {
      _2.forEach(g.nodes(), function(v2) {
        swapWidthHeightOne(g.node(v2));
      });
      _2.forEach(g.edges(), function(e) {
        swapWidthHeightOne(g.edge(e));
      });
    }
    function swapWidthHeightOne(attrs) {
      var w2 = attrs.width;
      attrs.width = attrs.height;
      attrs.height = w2;
    }
    function reverseY(g) {
      _2.forEach(g.nodes(), function(v2) {
        reverseYOne(g.node(v2));
      });
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        _2.forEach(edge.points, reverseYOne);
        if (_2.has(edge, "y")) {
          reverseYOne(edge);
        }
      });
    }
    function reverseYOne(attrs) {
      attrs.y = -attrs.y;
    }
    function swapXY(g) {
      _2.forEach(g.nodes(), function(v2) {
        swapXYOne(g.node(v2));
      });
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        _2.forEach(edge.points, swapXYOne);
        if (_2.has(edge, "x")) {
          swapXYOne(edge);
        }
      });
    }
    function swapXYOne(attrs) {
      var x7 = attrs.x;
      attrs.x = attrs.y;
      attrs.y = x7;
    }
  }
});

// node_modules/dagre/lib/order/init-order.js
var require_init_order = __commonJS({
  "node_modules/dagre/lib/order/init-order.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    module2.exports = initOrder;
    function initOrder(g) {
      var visited = {};
      var simpleNodes = _2.filter(g.nodes(), function(v2) {
        return !g.children(v2).length;
      });
      var maxRank = _2.max(_2.map(simpleNodes, function(v2) {
        return g.node(v2).rank;
      }));
      var layers = _2.map(_2.range(maxRank + 1), function() {
        return [];
      });
      function dfs(v2) {
        if (_2.has(visited, v2))
          return;
        visited[v2] = true;
        var node2 = g.node(v2);
        layers[node2.rank].push(v2);
        _2.forEach(g.successors(v2), dfs);
      }
      var orderedVs = _2.sortBy(simpleNodes, function(v2) {
        return g.node(v2).rank;
      });
      _2.forEach(orderedVs, dfs);
      return layers;
    }
  }
});

// node_modules/dagre/lib/order/cross-count.js
var require_cross_count = __commonJS({
  "node_modules/dagre/lib/order/cross-count.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    module2.exports = crossCount;
    function crossCount(g, layering) {
      var cc2 = 0;
      for (var i = 1; i < layering.length; ++i) {
        cc2 += twoLayerCrossCount(g, layering[i - 1], layering[i]);
      }
      return cc2;
    }
    function twoLayerCrossCount(g, northLayer, southLayer) {
      var southPos = _2.zipObject(
        southLayer,
        _2.map(southLayer, function(v2, i) {
          return i;
        })
      );
      var southEntries = _2.flatten(_2.map(northLayer, function(v2) {
        return _2.sortBy(_2.map(g.outEdges(v2), function(e) {
          return { pos: southPos[e.w], weight: g.edge(e).weight };
        }), "pos");
      }), true);
      var firstIndex = 1;
      while (firstIndex < southLayer.length)
        firstIndex <<= 1;
      var treeSize = 2 * firstIndex - 1;
      firstIndex -= 1;
      var tree = _2.map(new Array(treeSize), function() {
        return 0;
      });
      var cc2 = 0;
      _2.forEach(southEntries.forEach(function(entry) {
        var index6 = entry.pos + firstIndex;
        tree[index6] += entry.weight;
        var weightSum = 0;
        while (index6 > 0) {
          if (index6 % 2) {
            weightSum += tree[index6 + 1];
          }
          index6 = index6 - 1 >> 1;
          tree[index6] += entry.weight;
        }
        cc2 += entry.weight * weightSum;
      }));
      return cc2;
    }
  }
});

// node_modules/dagre/lib/order/barycenter.js
var require_barycenter = __commonJS({
  "node_modules/dagre/lib/order/barycenter.js"(exports2, module2) {
    var _2 = require_lodash2();
    module2.exports = barycenter;
    function barycenter(g, movable) {
      return _2.map(movable, function(v2) {
        var inV = g.inEdges(v2);
        if (!inV.length) {
          return { v: v2 };
        } else {
          var result = _2.reduce(inV, function(acc, e) {
            var edge = g.edge(e), nodeU = g.node(e.v);
            return {
              sum: acc.sum + edge.weight * nodeU.order,
              weight: acc.weight + edge.weight
            };
          }, { sum: 0, weight: 0 });
          return {
            v: v2,
            barycenter: result.sum / result.weight,
            weight: result.weight
          };
        }
      });
    }
  }
});

// node_modules/dagre/lib/order/resolve-conflicts.js
var require_resolve_conflicts = __commonJS({
  "node_modules/dagre/lib/order/resolve-conflicts.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    module2.exports = resolveConflicts;
    function resolveConflicts(entries, cg) {
      var mappedEntries = {};
      _2.forEach(entries, function(entry, i) {
        var tmp = mappedEntries[entry.v] = {
          indegree: 0,
          "in": [],
          out: [],
          vs: [entry.v],
          i
        };
        if (!_2.isUndefined(entry.barycenter)) {
          tmp.barycenter = entry.barycenter;
          tmp.weight = entry.weight;
        }
      });
      _2.forEach(cg.edges(), function(e) {
        var entryV = mappedEntries[e.v];
        var entryW = mappedEntries[e.w];
        if (!_2.isUndefined(entryV) && !_2.isUndefined(entryW)) {
          entryW.indegree++;
          entryV.out.push(mappedEntries[e.w]);
        }
      });
      var sourceSet = _2.filter(mappedEntries, function(entry) {
        return !entry.indegree;
      });
      return doResolveConflicts(sourceSet);
    }
    function doResolveConflicts(sourceSet) {
      var entries = [];
      function handleIn(vEntry) {
        return function(uEntry) {
          if (uEntry.merged) {
            return;
          }
          if (_2.isUndefined(uEntry.barycenter) || _2.isUndefined(vEntry.barycenter) || uEntry.barycenter >= vEntry.barycenter) {
            mergeEntries(vEntry, uEntry);
          }
        };
      }
      function handleOut(vEntry) {
        return function(wEntry) {
          wEntry["in"].push(vEntry);
          if (--wEntry.indegree === 0) {
            sourceSet.push(wEntry);
          }
        };
      }
      while (sourceSet.length) {
        var entry = sourceSet.pop();
        entries.push(entry);
        _2.forEach(entry["in"].reverse(), handleIn(entry));
        _2.forEach(entry.out, handleOut(entry));
      }
      return _2.map(
        _2.filter(entries, function(entry2) {
          return !entry2.merged;
        }),
        function(entry2) {
          return _2.pick(entry2, ["vs", "i", "barycenter", "weight"]);
        }
      );
    }
    function mergeEntries(target, source) {
      var sum9 = 0;
      var weight = 0;
      if (target.weight) {
        sum9 += target.barycenter * target.weight;
        weight += target.weight;
      }
      if (source.weight) {
        sum9 += source.barycenter * source.weight;
        weight += source.weight;
      }
      target.vs = source.vs.concat(target.vs);
      target.barycenter = sum9 / weight;
      target.weight = weight;
      target.i = Math.min(source.i, target.i);
      source.merged = true;
    }
  }
});

// node_modules/dagre/lib/order/sort.js
var require_sort = __commonJS({
  "node_modules/dagre/lib/order/sort.js"(exports2, module2) {
    var _2 = require_lodash2();
    var util2 = require_util();
    module2.exports = sort5;
    function sort5(entries, biasRight) {
      var parts = util2.partition(entries, function(entry) {
        return _2.has(entry, "barycenter");
      });
      var sortable = parts.lhs, unsortable = _2.sortBy(parts.rhs, function(entry) {
        return -entry.i;
      }), vs = [], sum9 = 0, weight = 0, vsIndex = 0;
      sortable.sort(compareWithBias(!!biasRight));
      vsIndex = consumeUnsortable(vs, unsortable, vsIndex);
      _2.forEach(sortable, function(entry) {
        vsIndex += entry.vs.length;
        vs.push(entry.vs);
        sum9 += entry.barycenter * entry.weight;
        weight += entry.weight;
        vsIndex = consumeUnsortable(vs, unsortable, vsIndex);
      });
      var result = { vs: _2.flatten(vs, true) };
      if (weight) {
        result.barycenter = sum9 / weight;
        result.weight = weight;
      }
      return result;
    }
    function consumeUnsortable(vs, unsortable, index6) {
      var last;
      while (unsortable.length && (last = _2.last(unsortable)).i <= index6) {
        unsortable.pop();
        vs.push(last.vs);
        index6++;
      }
      return index6;
    }
    function compareWithBias(bias) {
      return function(entryV, entryW) {
        if (entryV.barycenter < entryW.barycenter) {
          return -1;
        } else if (entryV.barycenter > entryW.barycenter) {
          return 1;
        }
        return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;
      };
    }
  }
});

// node_modules/dagre/lib/order/sort-subgraph.js
var require_sort_subgraph = __commonJS({
  "node_modules/dagre/lib/order/sort-subgraph.js"(exports2, module2) {
    var _2 = require_lodash2();
    var barycenter = require_barycenter();
    var resolveConflicts = require_resolve_conflicts();
    var sort5 = require_sort();
    module2.exports = sortSubgraph;
    function sortSubgraph(g, v2, cg, biasRight) {
      var movable = g.children(v2);
      var node2 = g.node(v2);
      var bl = node2 ? node2.borderLeft : void 0;
      var br = node2 ? node2.borderRight : void 0;
      var subgraphs = {};
      if (bl) {
        movable = _2.filter(movable, function(w2) {
          return w2 !== bl && w2 !== br;
        });
      }
      var barycenters = barycenter(g, movable);
      _2.forEach(barycenters, function(entry) {
        if (g.children(entry.v).length) {
          var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);
          subgraphs[entry.v] = subgraphResult;
          if (_2.has(subgraphResult, "barycenter")) {
            mergeBarycenters(entry, subgraphResult);
          }
        }
      });
      var entries = resolveConflicts(barycenters, cg);
      expandSubgraphs(entries, subgraphs);
      var result = sort5(entries, biasRight);
      if (bl) {
        result.vs = _2.flatten([bl, result.vs, br], true);
        if (g.predecessors(bl).length) {
          var blPred = g.node(g.predecessors(bl)[0]), brPred = g.node(g.predecessors(br)[0]);
          if (!_2.has(result, "barycenter")) {
            result.barycenter = 0;
            result.weight = 0;
          }
          result.barycenter = (result.barycenter * result.weight + blPred.order + brPred.order) / (result.weight + 2);
          result.weight += 2;
        }
      }
      return result;
    }
    function expandSubgraphs(entries, subgraphs) {
      _2.forEach(entries, function(entry) {
        entry.vs = _2.flatten(entry.vs.map(function(v2) {
          if (subgraphs[v2]) {
            return subgraphs[v2].vs;
          }
          return v2;
        }), true);
      });
    }
    function mergeBarycenters(target, other) {
      if (!_2.isUndefined(target.barycenter)) {
        target.barycenter = (target.barycenter * target.weight + other.barycenter * other.weight) / (target.weight + other.weight);
        target.weight += other.weight;
      } else {
        target.barycenter = other.barycenter;
        target.weight = other.weight;
      }
    }
  }
});

// node_modules/dagre/lib/order/build-layer-graph.js
var require_build_layer_graph = __commonJS({
  "node_modules/dagre/lib/order/build-layer-graph.js"(exports2, module2) {
    var _2 = require_lodash2();
    var Graph = require_graphlib2().Graph;
    module2.exports = buildLayerGraph;
    function buildLayerGraph(g, rank5, relationship) {
      var root7 = createRootNode(g), result = new Graph({ compound: true }).setGraph({ root: root7 }).setDefaultNodeLabel(function(v2) {
        return g.node(v2);
      });
      _2.forEach(g.nodes(), function(v2) {
        var node2 = g.node(v2), parent = g.parent(v2);
        if (node2.rank === rank5 || node2.minRank <= rank5 && rank5 <= node2.maxRank) {
          result.setNode(v2);
          result.setParent(v2, parent || root7);
          _2.forEach(g[relationship](v2), function(e) {
            var u4 = e.v === v2 ? e.w : e.v, edge = result.edge(u4, v2), weight = !_2.isUndefined(edge) ? edge.weight : 0;
            result.setEdge(u4, v2, { weight: g.edge(e).weight + weight });
          });
          if (_2.has(node2, "minRank")) {
            result.setNode(v2, {
              borderLeft: node2.borderLeft[rank5],
              borderRight: node2.borderRight[rank5]
            });
          }
        }
      });
      return result;
    }
    function createRootNode(g) {
      var v2;
      while (g.hasNode(v2 = _2.uniqueId("_root")))
        ;
      return v2;
    }
  }
});

// node_modules/dagre/lib/order/add-subgraph-constraints.js
var require_add_subgraph_constraints = __commonJS({
  "node_modules/dagre/lib/order/add-subgraph-constraints.js"(exports2, module2) {
    var _2 = require_lodash2();
    module2.exports = addSubgraphConstraints;
    function addSubgraphConstraints(g, cg, vs) {
      var prev2 = {}, rootPrev;
      _2.forEach(vs, function(v2) {
        var child = g.parent(v2), parent, prevChild;
        while (child) {
          parent = g.parent(child);
          if (parent) {
            prevChild = prev2[parent];
            prev2[parent] = child;
          } else {
            prevChild = rootPrev;
            rootPrev = child;
          }
          if (prevChild && prevChild !== child) {
            cg.setEdge(prevChild, child);
            return;
          }
          child = parent;
        }
      });
    }
  }
});

// node_modules/dagre/lib/order/index.js
var require_order = __commonJS({
  "node_modules/dagre/lib/order/index.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    var initOrder = require_init_order();
    var crossCount = require_cross_count();
    var sortSubgraph = require_sort_subgraph();
    var buildLayerGraph = require_build_layer_graph();
    var addSubgraphConstraints = require_add_subgraph_constraints();
    var Graph = require_graphlib2().Graph;
    var util2 = require_util();
    module2.exports = order;
    function order(g) {
      var maxRank = util2.maxRank(g), downLayerGraphs = buildLayerGraphs(g, _2.range(1, maxRank + 1), "inEdges"), upLayerGraphs = buildLayerGraphs(g, _2.range(maxRank - 1, -1, -1), "outEdges");
      var layering = initOrder(g);
      assignOrder(g, layering);
      var bestCC = Number.POSITIVE_INFINITY, best;
      for (var i = 0, lastBest = 0; lastBest < 4; ++i, ++lastBest) {
        sweepLayerGraphs(i % 2 ? downLayerGraphs : upLayerGraphs, i % 4 >= 2);
        layering = util2.buildLayerMatrix(g);
        var cc2 = crossCount(g, layering);
        if (cc2 < bestCC) {
          lastBest = 0;
          best = _2.cloneDeep(layering);
          bestCC = cc2;
        }
      }
      assignOrder(g, best);
    }
    function buildLayerGraphs(g, ranks, relationship) {
      return _2.map(ranks, function(rank5) {
        return buildLayerGraph(g, rank5, relationship);
      });
    }
    function sweepLayerGraphs(layerGraphs, biasRight) {
      var cg = new Graph();
      _2.forEach(layerGraphs, function(lg) {
        var root7 = lg.graph().root;
        var sorted = sortSubgraph(lg, root7, cg, biasRight);
        _2.forEach(sorted.vs, function(v2, i) {
          lg.node(v2).order = i;
        });
        addSubgraphConstraints(lg, cg, sorted.vs);
      });
    }
    function assignOrder(g, layering) {
      _2.forEach(layering, function(layer) {
        _2.forEach(layer, function(v2, i) {
          g.node(v2).order = i;
        });
      });
    }
  }
});

// node_modules/dagre/lib/position/bk.js
var require_bk = __commonJS({
  "node_modules/dagre/lib/position/bk.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    var Graph = require_graphlib2().Graph;
    var util2 = require_util();
    module2.exports = {
      positionX,
      findType1Conflicts,
      findType2Conflicts,
      addConflict,
      hasConflict,
      verticalAlignment,
      horizontalCompaction,
      alignCoordinates,
      findSmallestWidthAlignment,
      balance
    };
    function findType1Conflicts(g, layering) {
      var conflicts = {};
      function visitLayer(prevLayer, layer) {
        var k0 = 0, scanPos = 0, prevLayerLength = prevLayer.length, lastNode = _2.last(layer);
        _2.forEach(layer, function(v2, i) {
          var w2 = findOtherInnerSegmentNode(g, v2), k1 = w2 ? g.node(w2).order : prevLayerLength;
          if (w2 || v2 === lastNode) {
            _2.forEach(layer.slice(scanPos, i + 1), function(scanNode) {
              _2.forEach(g.predecessors(scanNode), function(u4) {
                var uLabel = g.node(u4), uPos = uLabel.order;
                if ((uPos < k0 || k1 < uPos) && !(uLabel.dummy && g.node(scanNode).dummy)) {
                  addConflict(conflicts, u4, scanNode);
                }
              });
            });
            scanPos = i + 1;
            k0 = k1;
          }
        });
        return layer;
      }
      _2.reduce(layering, visitLayer);
      return conflicts;
    }
    function findType2Conflicts(g, layering) {
      var conflicts = {};
      function scan5(south, southPos, southEnd, prevNorthBorder, nextNorthBorder) {
        var v2;
        _2.forEach(_2.range(southPos, southEnd), function(i) {
          v2 = south[i];
          if (g.node(v2).dummy) {
            _2.forEach(g.predecessors(v2), function(u4) {
              var uNode = g.node(u4);
              if (uNode.dummy && (uNode.order < prevNorthBorder || uNode.order > nextNorthBorder)) {
                addConflict(conflicts, u4, v2);
              }
            });
          }
        });
      }
      function visitLayer(north, south) {
        var prevNorthPos = -1, nextNorthPos, southPos = 0;
        _2.forEach(south, function(v2, southLookahead) {
          if (g.node(v2).dummy === "border") {
            var predecessors = g.predecessors(v2);
            if (predecessors.length) {
              nextNorthPos = g.node(predecessors[0]).order;
              scan5(south, southPos, southLookahead, prevNorthPos, nextNorthPos);
              southPos = southLookahead;
              prevNorthPos = nextNorthPos;
            }
          }
          scan5(south, southPos, south.length, nextNorthPos, north.length);
        });
        return south;
      }
      _2.reduce(layering, visitLayer);
      return conflicts;
    }
    function findOtherInnerSegmentNode(g, v2) {
      if (g.node(v2).dummy) {
        return _2.find(g.predecessors(v2), function(u4) {
          return g.node(u4).dummy;
        });
      }
    }
    function addConflict(conflicts, v2, w2) {
      if (v2 > w2) {
        var tmp = v2;
        v2 = w2;
        w2 = tmp;
      }
      var conflictsV = conflicts[v2];
      if (!conflictsV) {
        conflicts[v2] = conflictsV = {};
      }
      conflictsV[w2] = true;
    }
    function hasConflict(conflicts, v2, w2) {
      if (v2 > w2) {
        var tmp = v2;
        v2 = w2;
        w2 = tmp;
      }
      return _2.has(conflicts[v2], w2);
    }
    function verticalAlignment(g, layering, conflicts, neighborFn) {
      var root7 = {}, align = {}, pos = {};
      _2.forEach(layering, function(layer) {
        _2.forEach(layer, function(v2, order) {
          root7[v2] = v2;
          align[v2] = v2;
          pos[v2] = order;
        });
      });
      _2.forEach(layering, function(layer) {
        var prevIdx = -1;
        _2.forEach(layer, function(v2) {
          var ws = neighborFn(v2);
          if (ws.length) {
            ws = _2.sortBy(ws, function(w3) {
              return pos[w3];
            });
            var mp = (ws.length - 1) / 2;
            for (var i = Math.floor(mp), il = Math.ceil(mp); i <= il; ++i) {
              var w2 = ws[i];
              if (align[v2] === v2 && prevIdx < pos[w2] && !hasConflict(conflicts, v2, w2)) {
                align[w2] = v2;
                align[v2] = root7[v2] = root7[w2];
                prevIdx = pos[w2];
              }
            }
          }
        });
      });
      return { root: root7, align };
    }
    function horizontalCompaction(g, layering, root7, align, reverseSep) {
      var xs = {}, blockG = buildBlockGraph(g, layering, root7, reverseSep), borderType = reverseSep ? "borderLeft" : "borderRight";
      function iterate(setXsFunc, nextNodesFunc) {
        var stack = blockG.nodes();
        var elem = stack.pop();
        var visited = {};
        while (elem) {
          if (visited[elem]) {
            setXsFunc(elem);
          } else {
            visited[elem] = true;
            stack.push(elem);
            stack = stack.concat(nextNodesFunc(elem));
          }
          elem = stack.pop();
        }
      }
      function pass1(elem) {
        xs[elem] = blockG.inEdges(elem).reduce(function(acc, e) {
          return Math.max(acc, xs[e.v] + blockG.edge(e));
        }, 0);
      }
      function pass2(elem) {
        var min8 = blockG.outEdges(elem).reduce(function(acc, e) {
          return Math.min(acc, xs[e.w] - blockG.edge(e));
        }, Number.POSITIVE_INFINITY);
        var node2 = g.node(elem);
        if (min8 !== Number.POSITIVE_INFINITY && node2.borderType !== borderType) {
          xs[elem] = Math.max(xs[elem], min8);
        }
      }
      iterate(pass1, blockG.predecessors.bind(blockG));
      iterate(pass2, blockG.successors.bind(blockG));
      _2.forEach(align, function(v2) {
        xs[v2] = xs[root7[v2]];
      });
      return xs;
    }
    function buildBlockGraph(g, layering, root7, reverseSep) {
      var blockGraph = new Graph(), graphLabel = g.graph(), sepFn = sep(graphLabel.nodesep, graphLabel.edgesep, reverseSep);
      _2.forEach(layering, function(layer) {
        var u4;
        _2.forEach(layer, function(v2) {
          var vRoot = root7[v2];
          blockGraph.setNode(vRoot);
          if (u4) {
            var uRoot = root7[u4], prevMax = blockGraph.edge(uRoot, vRoot);
            blockGraph.setEdge(uRoot, vRoot, Math.max(sepFn(g, v2, u4), prevMax || 0));
          }
          u4 = v2;
        });
      });
      return blockGraph;
    }
    function findSmallestWidthAlignment(g, xss) {
      return _2.minBy(_2.values(xss), function(xs) {
        var max10 = Number.NEGATIVE_INFINITY;
        var min8 = Number.POSITIVE_INFINITY;
        _2.forIn(xs, function(x7, v2) {
          var halfWidth = width2(g, v2) / 2;
          max10 = Math.max(x7 + halfWidth, max10);
          min8 = Math.min(x7 - halfWidth, min8);
        });
        return max10 - min8;
      });
    }
    function alignCoordinates(xss, alignTo) {
      var alignToVals = _2.values(alignTo), alignToMin = _2.min(alignToVals), alignToMax = _2.max(alignToVals);
      _2.forEach(["u", "d"], function(vert) {
        _2.forEach(["l", "r"], function(horiz) {
          var alignment = vert + horiz, xs = xss[alignment], delta;
          if (xs === alignTo)
            return;
          var xsVals = _2.values(xs);
          delta = horiz === "l" ? alignToMin - _2.min(xsVals) : alignToMax - _2.max(xsVals);
          if (delta) {
            xss[alignment] = _2.mapValues(xs, function(x7) {
              return x7 + delta;
            });
          }
        });
      });
    }
    function balance(xss, align) {
      return _2.mapValues(xss.ul, function(ignore, v2) {
        if (align) {
          return xss[align.toLowerCase()][v2];
        } else {
          var xs = _2.sortBy(_2.map(xss, v2));
          return (xs[1] + xs[2]) / 2;
        }
      });
    }
    function positionX(g) {
      var layering = util2.buildLayerMatrix(g);
      var conflicts = _2.merge(
        findType1Conflicts(g, layering),
        findType2Conflicts(g, layering)
      );
      var xss = {};
      var adjustedLayering;
      _2.forEach(["u", "d"], function(vert) {
        adjustedLayering = vert === "u" ? layering : _2.values(layering).reverse();
        _2.forEach(["l", "r"], function(horiz) {
          if (horiz === "r") {
            adjustedLayering = _2.map(adjustedLayering, function(inner) {
              return _2.values(inner).reverse();
            });
          }
          var neighborFn = (vert === "u" ? g.predecessors : g.successors).bind(g);
          var align = verticalAlignment(g, adjustedLayering, conflicts, neighborFn);
          var xs = horizontalCompaction(
            g,
            adjustedLayering,
            align.root,
            align.align,
            horiz === "r"
          );
          if (horiz === "r") {
            xs = _2.mapValues(xs, function(x7) {
              return -x7;
            });
          }
          xss[vert + horiz] = xs;
        });
      });
      var smallestWidth = findSmallestWidthAlignment(g, xss);
      alignCoordinates(xss, smallestWidth);
      return balance(xss, g.graph().align);
    }
    function sep(nodeSep, edgeSep, reverseSep) {
      return function(g, v2, w2) {
        var vLabel = g.node(v2);
        var wLabel = g.node(w2);
        var sum9 = 0;
        var delta;
        sum9 += vLabel.width / 2;
        if (_2.has(vLabel, "labelpos")) {
          switch (vLabel.labelpos.toLowerCase()) {
            case "l":
              delta = -vLabel.width / 2;
              break;
            case "r":
              delta = vLabel.width / 2;
              break;
          }
        }
        if (delta) {
          sum9 += reverseSep ? delta : -delta;
        }
        delta = 0;
        sum9 += (vLabel.dummy ? edgeSep : nodeSep) / 2;
        sum9 += (wLabel.dummy ? edgeSep : nodeSep) / 2;
        sum9 += wLabel.width / 2;
        if (_2.has(wLabel, "labelpos")) {
          switch (wLabel.labelpos.toLowerCase()) {
            case "l":
              delta = wLabel.width / 2;
              break;
            case "r":
              delta = -wLabel.width / 2;
              break;
          }
        }
        if (delta) {
          sum9 += reverseSep ? delta : -delta;
        }
        delta = 0;
        return sum9;
      };
    }
    function width2(g, v2) {
      return g.node(v2).width;
    }
  }
});

// node_modules/dagre/lib/position/index.js
var require_position = __commonJS({
  "node_modules/dagre/lib/position/index.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    var util2 = require_util();
    var positionX = require_bk().positionX;
    module2.exports = position2;
    function position2(g) {
      g = util2.asNonCompoundGraph(g);
      positionY(g);
      _2.forEach(positionX(g), function(x7, v2) {
        g.node(v2).x = x7;
      });
    }
    function positionY(g) {
      var layering = util2.buildLayerMatrix(g);
      var rankSep = g.graph().ranksep;
      var prevY = 0;
      _2.forEach(layering, function(layer) {
        var maxHeight = _2.max(_2.map(layer, function(v2) {
          return g.node(v2).height;
        }));
        _2.forEach(layer, function(v2) {
          g.node(v2).y = prevY + maxHeight / 2;
        });
        prevY += maxHeight + rankSep;
      });
    }
  }
});

// node_modules/dagre/lib/layout.js
var require_layout = __commonJS({
  "node_modules/dagre/lib/layout.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash2();
    var acyclic = require_acyclic();
    var normalize3 = require_normalize();
    var rank5 = require_rank();
    var normalizeRanks = require_util().normalizeRanks;
    var parentDummyChains = require_parent_dummy_chains();
    var removeEmptyRanks = require_util().removeEmptyRanks;
    var nestingGraph = require_nesting_graph();
    var addBorderSegments = require_add_border_segments();
    var coordinateSystem = require_coordinate_system();
    var order = require_order();
    var position2 = require_position();
    var util2 = require_util();
    var Graph = require_graphlib2().Graph;
    module2.exports = layout;
    function layout(g, opts) {
      var time2 = opts && opts.debugTiming ? util2.time : util2.notime;
      time2("layout", function() {
        var layoutGraph = time2("  buildLayoutGraph", function() {
          return buildLayoutGraph(g);
        });
        time2("  runLayout", function() {
          runLayout(layoutGraph, time2);
        });
        time2("  updateInputGraph", function() {
          updateInputGraph(g, layoutGraph);
        });
      });
    }
    function runLayout(g, time2) {
      time2("    makeSpaceForEdgeLabels", function() {
        makeSpaceForEdgeLabels(g);
      });
      time2("    removeSelfEdges", function() {
        removeSelfEdges(g);
      });
      time2("    acyclic", function() {
        acyclic.run(g);
      });
      time2("    nestingGraph.run", function() {
        nestingGraph.run(g);
      });
      time2("    rank", function() {
        rank5(util2.asNonCompoundGraph(g));
      });
      time2("    injectEdgeLabelProxies", function() {
        injectEdgeLabelProxies(g);
      });
      time2("    removeEmptyRanks", function() {
        removeEmptyRanks(g);
      });
      time2("    nestingGraph.cleanup", function() {
        nestingGraph.cleanup(g);
      });
      time2("    normalizeRanks", function() {
        normalizeRanks(g);
      });
      time2("    assignRankMinMax", function() {
        assignRankMinMax(g);
      });
      time2("    removeEdgeLabelProxies", function() {
        removeEdgeLabelProxies(g);
      });
      time2("    normalize.run", function() {
        normalize3.run(g);
      });
      time2("    parentDummyChains", function() {
        parentDummyChains(g);
      });
      time2("    addBorderSegments", function() {
        addBorderSegments(g);
      });
      time2("    order", function() {
        order(g);
      });
      time2("    insertSelfEdges", function() {
        insertSelfEdges(g);
      });
      time2("    adjustCoordinateSystem", function() {
        coordinateSystem.adjust(g);
      });
      time2("    position", function() {
        position2(g);
      });
      time2("    positionSelfEdges", function() {
        positionSelfEdges(g);
      });
      time2("    removeBorderNodes", function() {
        removeBorderNodes(g);
      });
      time2("    normalize.undo", function() {
        normalize3.undo(g);
      });
      time2("    fixupEdgeLabelCoords", function() {
        fixupEdgeLabelCoords(g);
      });
      time2("    undoCoordinateSystem", function() {
        coordinateSystem.undo(g);
      });
      time2("    translateGraph", function() {
        translateGraph(g);
      });
      time2("    assignNodeIntersects", function() {
        assignNodeIntersects(g);
      });
      time2("    reversePoints", function() {
        reversePointsForReversedEdges(g);
      });
      time2("    acyclic.undo", function() {
        acyclic.undo(g);
      });
    }
    function updateInputGraph(inputGraph, layoutGraph) {
      _2.forEach(inputGraph.nodes(), function(v2) {
        var inputLabel = inputGraph.node(v2);
        var layoutLabel = layoutGraph.node(v2);
        if (inputLabel) {
          inputLabel.x = layoutLabel.x;
          inputLabel.y = layoutLabel.y;
          if (layoutGraph.children(v2).length) {
            inputLabel.width = layoutLabel.width;
            inputLabel.height = layoutLabel.height;
          }
        }
      });
      _2.forEach(inputGraph.edges(), function(e) {
        var inputLabel = inputGraph.edge(e);
        var layoutLabel = layoutGraph.edge(e);
        inputLabel.points = layoutLabel.points;
        if (_2.has(layoutLabel, "x")) {
          inputLabel.x = layoutLabel.x;
          inputLabel.y = layoutLabel.y;
        }
      });
      inputGraph.graph().width = layoutGraph.graph().width;
      inputGraph.graph().height = layoutGraph.graph().height;
    }
    var graphNumAttrs = ["nodesep", "edgesep", "ranksep", "marginx", "marginy"];
    var graphDefaults = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: "tb" };
    var graphAttrs = ["acyclicer", "ranker", "rankdir", "align"];
    var nodeNumAttrs = ["width", "height"];
    var nodeDefaults = { width: 0, height: 0 };
    var edgeNumAttrs = ["minlen", "weight", "width", "height", "labeloffset"];
    var edgeDefaults = {
      minlen: 1,
      weight: 1,
      width: 0,
      height: 0,
      labeloffset: 10,
      labelpos: "r"
    };
    var edgeAttrs = ["labelpos"];
    function buildLayoutGraph(inputGraph) {
      var g = new Graph({ multigraph: true, compound: true });
      var graph = canonicalize(inputGraph.graph());
      g.setGraph(_2.merge(
        {},
        graphDefaults,
        selectNumberAttrs(graph, graphNumAttrs),
        _2.pick(graph, graphAttrs)
      ));
      _2.forEach(inputGraph.nodes(), function(v2) {
        var node2 = canonicalize(inputGraph.node(v2));
        g.setNode(v2, _2.defaults(selectNumberAttrs(node2, nodeNumAttrs), nodeDefaults));
        g.setParent(v2, inputGraph.parent(v2));
      });
      _2.forEach(inputGraph.edges(), function(e) {
        var edge = canonicalize(inputGraph.edge(e));
        g.setEdge(e, _2.merge(
          {},
          edgeDefaults,
          selectNumberAttrs(edge, edgeNumAttrs),
          _2.pick(edge, edgeAttrs)
        ));
      });
      return g;
    }
    function makeSpaceForEdgeLabels(g) {
      var graph = g.graph();
      graph.ranksep /= 2;
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        edge.minlen *= 2;
        if (edge.labelpos.toLowerCase() !== "c") {
          if (graph.rankdir === "TB" || graph.rankdir === "BT") {
            edge.width += edge.labeloffset;
          } else {
            edge.height += edge.labeloffset;
          }
        }
      });
    }
    function injectEdgeLabelProxies(g) {
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        if (edge.width && edge.height) {
          var v2 = g.node(e.v);
          var w2 = g.node(e.w);
          var label = { rank: (w2.rank - v2.rank) / 2 + v2.rank, e };
          util2.addDummyNode(g, "edge-proxy", label, "_ep");
        }
      });
    }
    function assignRankMinMax(g) {
      var maxRank = 0;
      _2.forEach(g.nodes(), function(v2) {
        var node2 = g.node(v2);
        if (node2.borderTop) {
          node2.minRank = g.node(node2.borderTop).rank;
          node2.maxRank = g.node(node2.borderBottom).rank;
          maxRank = _2.max(maxRank, node2.maxRank);
        }
      });
      g.graph().maxRank = maxRank;
    }
    function removeEdgeLabelProxies(g) {
      _2.forEach(g.nodes(), function(v2) {
        var node2 = g.node(v2);
        if (node2.dummy === "edge-proxy") {
          g.edge(node2.e).labelRank = node2.rank;
          g.removeNode(v2);
        }
      });
    }
    function translateGraph(g) {
      var minX = Number.POSITIVE_INFINITY;
      var maxX = 0;
      var minY = Number.POSITIVE_INFINITY;
      var maxY2 = 0;
      var graphLabel = g.graph();
      var marginX = graphLabel.marginx || 0;
      var marginY = graphLabel.marginy || 0;
      function getExtremes(attrs) {
        var x7 = attrs.x;
        var y7 = attrs.y;
        var w2 = attrs.width;
        var h = attrs.height;
        minX = Math.min(minX, x7 - w2 / 2);
        maxX = Math.max(maxX, x7 + w2 / 2);
        minY = Math.min(minY, y7 - h / 2);
        maxY2 = Math.max(maxY2, y7 + h / 2);
      }
      _2.forEach(g.nodes(), function(v2) {
        getExtremes(g.node(v2));
      });
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        if (_2.has(edge, "x")) {
          getExtremes(edge);
        }
      });
      minX -= marginX;
      minY -= marginY;
      _2.forEach(g.nodes(), function(v2) {
        var node2 = g.node(v2);
        node2.x -= minX;
        node2.y -= minY;
      });
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        _2.forEach(edge.points, function(p) {
          p.x -= minX;
          p.y -= minY;
        });
        if (_2.has(edge, "x")) {
          edge.x -= minX;
        }
        if (_2.has(edge, "y")) {
          edge.y -= minY;
        }
      });
      graphLabel.width = maxX - minX + marginX;
      graphLabel.height = maxY2 - minY + marginY;
    }
    function assignNodeIntersects(g) {
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        var nodeV = g.node(e.v);
        var nodeW = g.node(e.w);
        var p1, p2;
        if (!edge.points) {
          edge.points = [];
          p1 = nodeW;
          p2 = nodeV;
        } else {
          p1 = edge.points[0];
          p2 = edge.points[edge.points.length - 1];
        }
        edge.points.unshift(util2.intersectRect(nodeV, p1));
        edge.points.push(util2.intersectRect(nodeW, p2));
      });
    }
    function fixupEdgeLabelCoords(g) {
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        if (_2.has(edge, "x")) {
          if (edge.labelpos === "l" || edge.labelpos === "r") {
            edge.width -= edge.labeloffset;
          }
          switch (edge.labelpos) {
            case "l":
              edge.x -= edge.width / 2 + edge.labeloffset;
              break;
            case "r":
              edge.x += edge.width / 2 + edge.labeloffset;
              break;
          }
        }
      });
    }
    function reversePointsForReversedEdges(g) {
      _2.forEach(g.edges(), function(e) {
        var edge = g.edge(e);
        if (edge.reversed) {
          edge.points.reverse();
        }
      });
    }
    function removeBorderNodes(g) {
      _2.forEach(g.nodes(), function(v2) {
        if (g.children(v2).length) {
          var node2 = g.node(v2);
          var t = g.node(node2.borderTop);
          var b = g.node(node2.borderBottom);
          var l = g.node(_2.last(node2.borderLeft));
          var r = g.node(_2.last(node2.borderRight));
          node2.width = Math.abs(r.x - l.x);
          node2.height = Math.abs(b.y - t.y);
          node2.x = l.x + node2.width / 2;
          node2.y = t.y + node2.height / 2;
        }
      });
      _2.forEach(g.nodes(), function(v2) {
        if (g.node(v2).dummy === "border") {
          g.removeNode(v2);
        }
      });
    }
    function removeSelfEdges(g) {
      _2.forEach(g.edges(), function(e) {
        if (e.v === e.w) {
          var node2 = g.node(e.v);
          if (!node2.selfEdges) {
            node2.selfEdges = [];
          }
          node2.selfEdges.push({ e, label: g.edge(e) });
          g.removeEdge(e);
        }
      });
    }
    function insertSelfEdges(g) {
      var layers = util2.buildLayerMatrix(g);
      _2.forEach(layers, function(layer) {
        var orderShift = 0;
        _2.forEach(layer, function(v2, i) {
          var node2 = g.node(v2);
          node2.order = i + orderShift;
          _2.forEach(node2.selfEdges, function(selfEdge) {
            util2.addDummyNode(g, "selfedge", {
              width: selfEdge.label.width,
              height: selfEdge.label.height,
              rank: node2.rank,
              order: i + ++orderShift,
              e: selfEdge.e,
              label: selfEdge.label
            }, "_se");
          });
          delete node2.selfEdges;
        });
      });
    }
    function positionSelfEdges(g) {
      _2.forEach(g.nodes(), function(v2) {
        var node2 = g.node(v2);
        if (node2.dummy === "selfedge") {
          var selfNode = g.node(node2.e.v);
          var x7 = selfNode.x + selfNode.width / 2;
          var y7 = selfNode.y;
          var dx = node2.x - x7;
          var dy = selfNode.height / 2;
          g.setEdge(node2.e, node2.label);
          g.removeNode(v2);
          node2.label.points = [
            { x: x7 + 2 * dx / 3, y: y7 - dy },
            { x: x7 + 5 * dx / 6, y: y7 - dy },
            { x: x7 + dx, y: y7 },
            { x: x7 + 5 * dx / 6, y: y7 + dy },
            { x: x7 + 2 * dx / 3, y: y7 + dy }
          ];
          node2.label.x = node2.x;
          node2.label.y = node2.y;
        }
      });
    }
    function selectNumberAttrs(obj, attrs) {
      return _2.mapValues(_2.pick(obj, attrs), Number);
    }
    function canonicalize(attrs) {
      var newAttrs = {};
      _2.forEach(attrs, function(v2, k3) {
        newAttrs[k3.toLowerCase()] = v2;
      });
      return newAttrs;
    }
  }
});

// node_modules/dagre/lib/debug.js
var require_debug = __commonJS({
  "node_modules/dagre/lib/debug.js"(exports2, module2) {
    var _2 = require_lodash2();
    var util2 = require_util();
    var Graph = require_graphlib2().Graph;
    module2.exports = {
      debugOrdering
    };
    function debugOrdering(g) {
      var layerMatrix = util2.buildLayerMatrix(g);
      var h = new Graph({ compound: true, multigraph: true }).setGraph({});
      _2.forEach(g.nodes(), function(v2) {
        h.setNode(v2, { label: v2 });
        h.setParent(v2, "layer" + g.node(v2).rank);
      });
      _2.forEach(g.edges(), function(e) {
        h.setEdge(e.v, e.w, {}, e.name);
      });
      _2.forEach(layerMatrix, function(layer, i) {
        var layerV = "layer" + i;
        h.setNode(layerV, { rank: "same" });
        _2.reduce(layer, function(u4, v2) {
          h.setEdge(u4, v2, { style: "invis" });
          return v2;
        });
      });
      return h;
    }
  }
});

// node_modules/dagre/lib/version.js
var require_version2 = __commonJS({
  "node_modules/dagre/lib/version.js"(exports2, module2) {
    module2.exports = "0.8.5";
  }
});

// node_modules/dagre/index.js
var require_dagre = __commonJS({
  "node_modules/dagre/index.js"(exports2, module2) {
    module2.exports = {
      graphlib: require_graphlib2(),
      layout: require_layout(),
      debug: require_debug(),
      util: {
        time: require_util().time,
        notime: require_util().notime
      },
      version: require_version2()
    };
  }
});

// node_modules/dagre-d3/lib/graphlib.js
var require_graphlib3 = __commonJS({
  "node_modules/dagre-d3/lib/graphlib.js"(exports2, module2) {
    var graphlib2;
    if (typeof __require === "function") {
      try {
        graphlib2 = require_graphlib();
      } catch (e) {
      }
    }
    if (!graphlib2) {
      graphlib2 = window.graphlib;
    }
    module2.exports = graphlib2;
  }
});

// node_modules/dagre-d3/lib/dagre.js
var require_dagre2 = __commonJS({
  "node_modules/dagre-d3/lib/dagre.js"(exports2, module2) {
    var dagre2;
    if (typeof __require === "function") {
      try {
        dagre2 = require_dagre();
      } catch (e) {
      }
    }
    if (!dagre2) {
      dagre2 = window.dagre;
    }
    module2.exports = dagre2;
  }
});

// node_modules/dagre-d3/lib/intersect/intersect-node.js
var require_intersect_node = __commonJS({
  "node_modules/dagre-d3/lib/intersect/intersect-node.js"(exports2, module2) {
    module2.exports = intersectNode2;
    function intersectNode2(node2, point12) {
      return node2.intersect(point12);
    }
  }
});

// node_modules/dagre-d3/lib/intersect/intersect-ellipse.js
var require_intersect_ellipse = __commonJS({
  "node_modules/dagre-d3/lib/intersect/intersect-ellipse.js"(exports2, module2) {
    module2.exports = intersectEllipse2;
    function intersectEllipse2(node2, rx, ry, point12) {
      var cx = node2.x;
      var cy = node2.y;
      var px = cx - point12.x;
      var py = cy - point12.y;
      var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);
      var dx = Math.abs(rx * ry * px / det);
      if (point12.x < cx) {
        dx = -dx;
      }
      var dy = Math.abs(rx * ry * py / det);
      if (point12.y < cy) {
        dy = -dy;
      }
      return { x: cx + dx, y: cy + dy };
    }
  }
});

// node_modules/dagre-d3/lib/intersect/intersect-circle.js
var require_intersect_circle = __commonJS({
  "node_modules/dagre-d3/lib/intersect/intersect-circle.js"(exports2, module2) {
    var intersectEllipse2 = require_intersect_ellipse();
    module2.exports = intersectCircle2;
    function intersectCircle2(node2, rx, point12) {
      return intersectEllipse2(node2, rx, rx, point12);
    }
  }
});

// node_modules/dagre-d3/lib/intersect/intersect-line.js
var require_intersect_line = __commonJS({
  "node_modules/dagre-d3/lib/intersect/intersect-line.js"(exports2, module2) {
    module2.exports = intersectLine2;
    function intersectLine2(p1, p2, q1, q2) {
      var a1, a22, b15, b25, c1, c22;
      var r1, r2, r3, r4;
      var denom, offset, num;
      var x7, y7;
      a1 = p2.y - p1.y;
      b15 = p1.x - p2.x;
      c1 = p2.x * p1.y - p1.x * p2.y;
      r3 = a1 * q1.x + b15 * q1.y + c1;
      r4 = a1 * q2.x + b15 * q2.y + c1;
      if (r3 !== 0 && r4 !== 0 && sameSign2(r3, r4)) {
        return;
      }
      a22 = q2.y - q1.y;
      b25 = q1.x - q2.x;
      c22 = q2.x * q1.y - q1.x * q2.y;
      r1 = a22 * p1.x + b25 * p1.y + c22;
      r2 = a22 * p2.x + b25 * p2.y + c22;
      if (r1 !== 0 && r2 !== 0 && sameSign2(r1, r2)) {
        return;
      }
      denom = a1 * b25 - a22 * b15;
      if (denom === 0) {
        return;
      }
      offset = Math.abs(denom / 2);
      num = b15 * c22 - b25 * c1;
      x7 = num < 0 ? (num - offset) / denom : (num + offset) / denom;
      num = a22 * c1 - a1 * c22;
      y7 = num < 0 ? (num - offset) / denom : (num + offset) / denom;
      return { x: x7, y: y7 };
    }
    function sameSign2(r1, r2) {
      return r1 * r2 > 0;
    }
  }
});

// node_modules/dagre-d3/lib/intersect/intersect-polygon.js
var require_intersect_polygon = __commonJS({
  "node_modules/dagre-d3/lib/intersect/intersect-polygon.js"(exports2, module2) {
    var intersectLine2 = require_intersect_line();
    module2.exports = intersectPolygon2;
    function intersectPolygon2(node2, polyPoints, point12) {
      var x13 = node2.x;
      var y12 = node2.y;
      var intersections = [];
      var minX = Number.POSITIVE_INFINITY;
      var minY = Number.POSITIVE_INFINITY;
      polyPoints.forEach(function(entry) {
        minX = Math.min(minX, entry.x);
        minY = Math.min(minY, entry.y);
      });
      var left3 = x13 - node2.width / 2 - minX;
      var top3 = y12 - node2.height / 2 - minY;
      for (var i = 0; i < polyPoints.length; i++) {
        var p1 = polyPoints[i];
        var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];
        var intersect4 = intersectLine2(
          node2,
          point12,
          { x: left3 + p1.x, y: top3 + p1.y },
          { x: left3 + p2.x, y: top3 + p2.y }
        );
        if (intersect4) {
          intersections.push(intersect4);
        }
      }
      if (!intersections.length) {
        console.log("NO INTERSECTION FOUND, RETURN NODE CENTER", node2);
        return node2;
      }
      if (intersections.length > 1) {
        intersections.sort(function(p, q) {
          var pdx = p.x - point12.x;
          var pdy = p.y - point12.y;
          var distp = Math.sqrt(pdx * pdx + pdy * pdy);
          var qdx = q.x - point12.x;
          var qdy = q.y - point12.y;
          var distq = Math.sqrt(qdx * qdx + qdy * qdy);
          return distp < distq ? -1 : distp === distq ? 0 : 1;
        });
      }
      return intersections[0];
    }
  }
});

// node_modules/dagre-d3/lib/intersect/intersect-rect.js
var require_intersect_rect = __commonJS({
  "node_modules/dagre-d3/lib/intersect/intersect-rect.js"(exports2, module2) {
    module2.exports = intersectRect2;
    function intersectRect2(node2, point12) {
      var x7 = node2.x;
      var y7 = node2.y;
      var dx = point12.x - x7;
      var dy = point12.y - y7;
      var w2 = node2.width / 2;
      var h = node2.height / 2;
      var sx, sy;
      if (Math.abs(dy) * w2 > Math.abs(dx) * h) {
        if (dy < 0) {
          h = -h;
        }
        sx = dy === 0 ? 0 : h * dx / dy;
        sy = h;
      } else {
        if (dx < 0) {
          w2 = -w2;
        }
        sx = w2;
        sy = dx === 0 ? 0 : w2 * dy / dx;
      }
      return { x: x7 + sx, y: y7 + sy };
    }
  }
});

// node_modules/dagre-d3/lib/intersect/index.js
var require_intersect = __commonJS({
  "node_modules/dagre-d3/lib/intersect/index.js"(exports2, module2) {
    module2.exports = {
      node: require_intersect_node(),
      circle: require_intersect_circle(),
      ellipse: require_intersect_ellipse(),
      polygon: require_intersect_polygon(),
      rect: require_intersect_rect()
    };
  }
});

// node_modules/dagre-d3/lib/lodash.js
var require_lodash3 = __commonJS({
  "node_modules/dagre-d3/lib/lodash.js"(exports2, module2) {
    var lodash2;
    if (typeof __require === "function") {
      try {
        lodash2 = {
          defaults: require_defaults(),
          each: require_each(),
          isFunction: require_isFunction(),
          isPlainObject: require_isPlainObject(),
          pick: require_pick(),
          has: require_has(),
          range: require_range(),
          uniqueId: require_uniqueId()
        };
      } catch (e) {
      }
    }
    if (!lodash2) {
      lodash2 = window._;
    }
    module2.exports = lodash2;
  }
});

// node_modules/dagre-d3/node_modules/d3/dist/package.js
var version;
var init_package = __esm({
  "node_modules/dagre-d3/node_modules/d3/dist/package.js"() {
    version = "5.16.0";
  }
});

// node_modules/d3-array/src/ascending.js
function ascending_default3(a3, b) {
  return a3 < b ? -1 : a3 > b ? 1 : a3 >= b ? 0 : NaN;
}
var init_ascending = __esm({
  "node_modules/d3-array/src/ascending.js"() {
  }
});

// node_modules/d3-array/src/bisector.js
function bisector_default(compare) {
  if (compare.length === 1)
    compare = ascendingComparator(compare);
  return {
    left: function(a3, x7, lo, hi) {
      if (lo == null)
        lo = 0;
      if (hi == null)
        hi = a3.length;
      while (lo < hi) {
        var mid = lo + hi >>> 1;
        if (compare(a3[mid], x7) < 0)
          lo = mid + 1;
        else
          hi = mid;
      }
      return lo;
    },
    right: function(a3, x7, lo, hi) {
      if (lo == null)
        lo = 0;
      if (hi == null)
        hi = a3.length;
      while (lo < hi) {
        var mid = lo + hi >>> 1;
        if (compare(a3[mid], x7) > 0)
          hi = mid;
        else
          lo = mid + 1;
      }
      return lo;
    }
  };
}
function ascendingComparator(f2) {
  return function(d, x7) {
    return ascending_default3(f2(d), x7);
  };
}
var init_bisector = __esm({
  "node_modules/d3-array/src/bisector.js"() {
    init_ascending();
  }
});

// node_modules/d3-array/src/bisect.js
var ascendingBisect5, bisectRight5, bisectLeft5, bisect_default5;
var init_bisect = __esm({
  "node_modules/d3-array/src/bisect.js"() {
    init_ascending();
    init_bisector();
    ascendingBisect5 = bisector_default(ascending_default3);
    bisectRight5 = ascendingBisect5.right;
    bisectLeft5 = ascendingBisect5.left;
    bisect_default5 = bisectRight5;
  }
});

// node_modules/d3-array/src/pairs.js
function pairs_default(array12, f2) {
  if (f2 == null)
    f2 = pair;
  var i = 0, n = array12.length - 1, p = array12[0], pairs5 = new Array(n < 0 ? 0 : n);
  while (i < n)
    pairs5[i] = f2(p, p = array12[++i]);
  return pairs5;
}
function pair(a3, b) {
  return [a3, b];
}
var init_pairs = __esm({
  "node_modules/d3-array/src/pairs.js"() {
  }
});

// node_modules/d3-array/src/cross.js
function cross_default3(values0, values1, reduce5) {
  var n0 = values0.length, n1 = values1.length, values = new Array(n0 * n1), i0, i1, i, value0;
  if (reduce5 == null)
    reduce5 = pair;
  for (i0 = i = 0; i0 < n0; ++i0) {
    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {
      values[i] = reduce5(value0, values1[i1]);
    }
  }
  return values;
}
var init_cross = __esm({
  "node_modules/d3-array/src/cross.js"() {
    init_pairs();
  }
});

// node_modules/d3-array/src/descending.js
function descending_default3(a3, b) {
  return b < a3 ? -1 : b > a3 ? 1 : b >= a3 ? 0 : NaN;
}
var init_descending = __esm({
  "node_modules/d3-array/src/descending.js"() {
  }
});

// node_modules/d3-array/src/number.js
function number_default6(x7) {
  return x7 === null ? NaN : +x7;
}
var init_number = __esm({
  "node_modules/d3-array/src/number.js"() {
  }
});

// node_modules/d3-array/src/variance.js
function variance_default(values, valueof) {
  var n = values.length, m = 0, i = -1, mean5 = 0, value, delta, sum9 = 0;
  if (valueof == null) {
    while (++i < n) {
      if (!isNaN(value = number_default6(values[i]))) {
        delta = value - mean5;
        mean5 += delta / ++m;
        sum9 += delta * (value - mean5);
      }
    }
  } else {
    while (++i < n) {
      if (!isNaN(value = number_default6(valueof(values[i], i, values)))) {
        delta = value - mean5;
        mean5 += delta / ++m;
        sum9 += delta * (value - mean5);
      }
    }
  }
  if (m > 1)
    return sum9 / (m - 1);
}
var init_variance = __esm({
  "node_modules/d3-array/src/variance.js"() {
    init_number();
  }
});

// node_modules/d3-array/src/deviation.js
function deviation_default(array12, f2) {
  var v2 = variance_default(array12, f2);
  return v2 ? Math.sqrt(v2) : v2;
}
var init_deviation = __esm({
  "node_modules/d3-array/src/deviation.js"() {
    init_variance();
  }
});

// node_modules/d3-array/src/extent.js
function extent_default4(values, valueof) {
  var n = values.length, i = -1, value, min8, max10;
  if (valueof == null) {
    while (++i < n) {
      if ((value = values[i]) != null && value >= value) {
        min8 = max10 = value;
        while (++i < n) {
          if ((value = values[i]) != null) {
            if (min8 > value)
              min8 = value;
            if (max10 < value)
              max10 = value;
          }
        }
      }
    }
  } else {
    while (++i < n) {
      if ((value = valueof(values[i], i, values)) != null && value >= value) {
        min8 = max10 = value;
        while (++i < n) {
          if ((value = valueof(values[i], i, values)) != null) {
            if (min8 > value)
              min8 = value;
            if (max10 < value)
              max10 = value;
          }
        }
      }
    }
  }
  return [min8, max10];
}
var init_extent = __esm({
  "node_modules/d3-array/src/extent.js"() {
  }
});

// node_modules/d3-array/src/array.js
var array9, slice9, map11;
var init_array = __esm({
  "node_modules/d3-array/src/array.js"() {
    array9 = Array.prototype;
    slice9 = array9.slice;
    map11 = array9.map;
  }
});

// node_modules/d3-array/src/constant.js
function constant_default20(x7) {
  return function() {
    return x7;
  };
}
var init_constant = __esm({
  "node_modules/d3-array/src/constant.js"() {
  }
});

// node_modules/d3-array/src/identity.js
function identity_default7(x7) {
  return x7;
}
var init_identity = __esm({
  "node_modules/d3-array/src/identity.js"() {
  }
});

// node_modules/d3-array/src/range.js
function range_default(start6, stop, step) {
  start6 = +start6, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start6, start6 = 0, 1) : n < 3 ? 1 : +step;
  var i = -1, n = Math.max(0, Math.ceil((stop - start6) / step)) | 0, range6 = new Array(n);
  while (++i < n) {
    range6[i] = start6 + i * step;
  }
  return range6;
}
var init_range = __esm({
  "node_modules/d3-array/src/range.js"() {
  }
});

// node_modules/d3-array/src/ticks.js
function ticks_default(start6, stop, count7) {
  var reverse5, i = -1, n, ticks5, step;
  stop = +stop, start6 = +start6, count7 = +count7;
  if (start6 === stop && count7 > 0)
    return [start6];
  if (reverse5 = stop < start6)
    n = start6, start6 = stop, stop = n;
  if ((step = tickIncrement5(start6, stop, count7)) === 0 || !isFinite(step))
    return [];
  if (step > 0) {
    start6 = Math.ceil(start6 / step);
    stop = Math.floor(stop / step);
    ticks5 = new Array(n = Math.ceil(stop - start6 + 1));
    while (++i < n)
      ticks5[i] = (start6 + i) * step;
  } else {
    start6 = Math.floor(start6 * step);
    stop = Math.ceil(stop * step);
    ticks5 = new Array(n = Math.ceil(start6 - stop + 1));
    while (++i < n)
      ticks5[i] = (start6 - i) / step;
  }
  if (reverse5)
    ticks5.reverse();
  return ticks5;
}
function tickIncrement5(start6, stop, count7) {
  var step = (stop - start6) / Math.max(0, count7), power = Math.floor(Math.log(step) / Math.LN10), error = step / Math.pow(10, power);
  return power >= 0 ? (error >= e105 ? 10 : error >= e55 ? 5 : error >= e25 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e105 ? 10 : error >= e55 ? 5 : error >= e25 ? 2 : 1);
}
function tickStep5(start6, stop, count7) {
  var step0 = Math.abs(stop - start6) / Math.max(0, count7), step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)), error = step0 / step1;
  if (error >= e105)
    step1 *= 10;
  else if (error >= e55)
    step1 *= 5;
  else if (error >= e25)
    step1 *= 2;
  return stop < start6 ? -step1 : step1;
}
var e105, e55, e25;
var init_ticks = __esm({
  "node_modules/d3-array/src/ticks.js"() {
    e105 = Math.sqrt(50);
    e55 = Math.sqrt(10);
    e25 = Math.sqrt(2);
  }
});

// node_modules/d3-array/src/threshold/sturges.js
function sturges_default(values) {
  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;
}
var init_sturges = __esm({
  "node_modules/d3-array/src/threshold/sturges.js"() {
  }
});

// node_modules/d3-array/src/histogram.js
function histogram_default() {
  var value = identity_default7, domain = extent_default4, threshold3 = sturges_default;
  function histogram(data) {
    var i, n = data.length, x7, values = new Array(n);
    for (i = 0; i < n; ++i) {
      values[i] = value(data[i], i, data);
    }
    var xz = domain(values), x07 = xz[0], x13 = xz[1], tz = threshold3(values, x07, x13);
    if (!Array.isArray(tz)) {
      tz = tickStep5(x07, x13, tz);
      tz = range_default(Math.ceil(x07 / tz) * tz, x13, tz);
    }
    var m = tz.length;
    while (tz[0] <= x07)
      tz.shift(), --m;
    while (tz[m - 1] > x13)
      tz.pop(), --m;
    var bins = new Array(m + 1), bin5;
    for (i = 0; i <= m; ++i) {
      bin5 = bins[i] = [];
      bin5.x0 = i > 0 ? tz[i - 1] : x07;
      bin5.x1 = i < m ? tz[i] : x13;
    }
    for (i = 0; i < n; ++i) {
      x7 = values[i];
      if (x07 <= x7 && x7 <= x13) {
        bins[bisect_default5(tz, x7, 0, m)].push(data[i]);
      }
    }
    return bins;
  }
  histogram.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant_default20(_2), histogram) : value;
  };
  histogram.domain = function(_2) {
    return arguments.length ? (domain = typeof _2 === "function" ? _2 : constant_default20([_2[0], _2[1]]), histogram) : domain;
  };
  histogram.thresholds = function(_2) {
    return arguments.length ? (threshold3 = typeof _2 === "function" ? _2 : Array.isArray(_2) ? constant_default20(slice9.call(_2)) : constant_default20(_2), histogram) : threshold3;
  };
  return histogram;
}
var init_histogram = __esm({
  "node_modules/d3-array/src/histogram.js"() {
    init_array();
    init_bisect();
    init_constant();
    init_extent();
    init_identity();
    init_range();
    init_ticks();
    init_sturges();
  }
});

// node_modules/d3-array/src/quantile.js
function quantile_default(values, p, valueof) {
  if (valueof == null)
    valueof = number_default6;
  if (!(n = values.length))
    return;
  if ((p = +p) <= 0 || n < 2)
    return +valueof(values[0], 0, values);
  if (p >= 1)
    return +valueof(values[n - 1], n - 1, values);
  var n, i = (n - 1) * p, i0 = Math.floor(i), value0 = +valueof(values[i0], i0, values), value1 = +valueof(values[i0 + 1], i0 + 1, values);
  return value0 + (value1 - value0) * (i - i0);
}
var init_quantile = __esm({
  "node_modules/d3-array/src/quantile.js"() {
    init_number();
  }
});

// node_modules/d3-array/src/threshold/freedmanDiaconis.js
function freedmanDiaconis_default(values, min8, max10) {
  values = map11.call(values, number_default6).sort(ascending_default3);
  return Math.ceil((max10 - min8) / (2 * (quantile_default(values, 0.75) - quantile_default(values, 0.25)) * Math.pow(values.length, -1 / 3)));
}
var init_freedmanDiaconis = __esm({
  "node_modules/d3-array/src/threshold/freedmanDiaconis.js"() {
    init_array();
    init_ascending();
    init_number();
    init_quantile();
  }
});

// node_modules/d3-array/src/threshold/scott.js
function scott_default(values, min8, max10) {
  return Math.ceil((max10 - min8) / (3.5 * deviation_default(values) * Math.pow(values.length, -1 / 3)));
}
var init_scott = __esm({
  "node_modules/d3-array/src/threshold/scott.js"() {
    init_deviation();
  }
});

// node_modules/d3-array/src/max.js
function max_default(values, valueof) {
  var n = values.length, i = -1, value, max10;
  if (valueof == null) {
    while (++i < n) {
      if ((value = values[i]) != null && value >= value) {
        max10 = value;
        while (++i < n) {
          if ((value = values[i]) != null && value > max10) {
            max10 = value;
          }
        }
      }
    }
  } else {
    while (++i < n) {
      if ((value = valueof(values[i], i, values)) != null && value >= value) {
        max10 = value;
        while (++i < n) {
          if ((value = valueof(values[i], i, values)) != null && value > max10) {
            max10 = value;
          }
        }
      }
    }
  }
  return max10;
}
var init_max = __esm({
  "node_modules/d3-array/src/max.js"() {
  }
});

// node_modules/d3-array/src/mean.js
function mean_default(values, valueof) {
  var n = values.length, m = n, i = -1, value, sum9 = 0;
  if (valueof == null) {
    while (++i < n) {
      if (!isNaN(value = number_default6(values[i])))
        sum9 += value;
      else
        --m;
    }
  } else {
    while (++i < n) {
      if (!isNaN(value = number_default6(valueof(values[i], i, values))))
        sum9 += value;
      else
        --m;
    }
  }
  if (m)
    return sum9 / m;
}
var init_mean = __esm({
  "node_modules/d3-array/src/mean.js"() {
    init_number();
  }
});

// node_modules/d3-array/src/median.js
function median_default(values, valueof) {
  var n = values.length, i = -1, value, numbers5 = [];
  if (valueof == null) {
    while (++i < n) {
      if (!isNaN(value = number_default6(values[i]))) {
        numbers5.push(value);
      }
    }
  } else {
    while (++i < n) {
      if (!isNaN(value = number_default6(valueof(values[i], i, values)))) {
        numbers5.push(value);
      }
    }
  }
  return quantile_default(numbers5.sort(ascending_default3), 0.5);
}
var init_median = __esm({
  "node_modules/d3-array/src/median.js"() {
    init_ascending();
    init_number();
    init_quantile();
  }
});

// node_modules/d3-array/src/merge.js
function merge_default7(arrays) {
  var n = arrays.length, m, i = -1, j = 0, merged, array12;
  while (++i < n)
    j += arrays[i].length;
  merged = new Array(j);
  while (--n >= 0) {
    array12 = arrays[n];
    m = array12.length;
    while (--m >= 0) {
      merged[--j] = array12[m];
    }
  }
  return merged;
}
var init_merge = __esm({
  "node_modules/d3-array/src/merge.js"() {
  }
});

// node_modules/d3-array/src/min.js
function min_default(values, valueof) {
  var n = values.length, i = -1, value, min8;
  if (valueof == null) {
    while (++i < n) {
      if ((value = values[i]) != null && value >= value) {
        min8 = value;
        while (++i < n) {
          if ((value = values[i]) != null && min8 > value) {
            min8 = value;
          }
        }
      }
    }
  } else {
    while (++i < n) {
      if ((value = valueof(values[i], i, values)) != null && value >= value) {
        min8 = value;
        while (++i < n) {
          if ((value = valueof(values[i], i, values)) != null && min8 > value) {
            min8 = value;
          }
        }
      }
    }
  }
  return min8;
}
var init_min = __esm({
  "node_modules/d3-array/src/min.js"() {
  }
});

// node_modules/d3-array/src/permute.js
function permute_default(array12, indexes5) {
  var i = indexes5.length, permutes = new Array(i);
  while (i--)
    permutes[i] = array12[indexes5[i]];
  return permutes;
}
var init_permute = __esm({
  "node_modules/d3-array/src/permute.js"() {
  }
});

// node_modules/d3-array/src/scan.js
function scan_default(values, compare) {
  if (!(n = values.length))
    return;
  var n, i = 0, j = 0, xi, xj = values[j];
  if (compare == null)
    compare = ascending_default3;
  while (++i < n) {
    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {
      xj = xi, j = i;
    }
  }
  if (compare(xj, xj) === 0)
    return j;
}
var init_scan = __esm({
  "node_modules/d3-array/src/scan.js"() {
    init_ascending();
  }
});

// node_modules/d3-array/src/shuffle.js
function shuffle_default5(array12, i0, i1) {
  var m = (i1 == null ? array12.length : i1) - (i0 = i0 == null ? 0 : +i0), t, i;
  while (m) {
    i = Math.random() * m-- | 0;
    t = array12[m + i0];
    array12[m + i0] = array12[i + i0];
    array12[i + i0] = t;
  }
  return array12;
}
var init_shuffle = __esm({
  "node_modules/d3-array/src/shuffle.js"() {
  }
});

// node_modules/d3-array/src/sum.js
function sum_default2(values, valueof) {
  var n = values.length, i = -1, value, sum9 = 0;
  if (valueof == null) {
    while (++i < n) {
      if (value = +values[i])
        sum9 += value;
    }
  } else {
    while (++i < n) {
      if (value = +valueof(values[i], i, values))
        sum9 += value;
    }
  }
  return sum9;
}
var init_sum = __esm({
  "node_modules/d3-array/src/sum.js"() {
  }
});

// node_modules/d3-array/src/transpose.js
function transpose_default(matrix) {
  if (!(n = matrix.length))
    return [];
  for (var i = -1, m = min_default(matrix, length2), transpose5 = new Array(m); ++i < m; ) {
    for (var j = -1, n, row = transpose5[i] = new Array(n); ++j < n; ) {
      row[j] = matrix[j][i];
    }
  }
  return transpose5;
}
function length2(d) {
  return d.length;
}
var init_transpose = __esm({
  "node_modules/d3-array/src/transpose.js"() {
    init_min();
  }
});

// node_modules/d3-array/src/zip.js
function zip_default() {
  return transpose_default(arguments);
}
var init_zip = __esm({
  "node_modules/d3-array/src/zip.js"() {
    init_transpose();
  }
});

// node_modules/d3-array/src/index.js
var init_src = __esm({
  "node_modules/d3-array/src/index.js"() {
    init_bisect();
    init_ascending();
    init_bisector();
    init_cross();
    init_descending();
    init_deviation();
    init_extent();
    init_histogram();
    init_freedmanDiaconis();
    init_scott();
    init_sturges();
    init_max();
    init_mean();
    init_median();
    init_merge();
    init_min();
    init_pairs();
    init_permute();
    init_quantile();
    init_range();
    init_scan();
    init_shuffle();
    init_sum();
    init_ticks();
    init_transpose();
    init_variance();
    init_zip();
  }
});

// node_modules/dagre-d3/node_modules/d3-axis/src/array.js
var slice10;
var init_array2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-axis/src/array.js"() {
    slice10 = Array.prototype.slice;
  }
});

// node_modules/dagre-d3/node_modules/d3-axis/src/identity.js
function identity_default8(x7) {
  return x7;
}
var init_identity2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-axis/src/identity.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-axis/src/axis.js
function translateX2(x7) {
  return "translate(" + (x7 + 0.5) + ",0)";
}
function translateY2(y7) {
  return "translate(0," + (y7 + 0.5) + ")";
}
function number8(scale2) {
  return function(d) {
    return +scale2(d);
  };
}
function center2(scale2) {
  var offset = Math.max(0, scale2.bandwidth() - 1) / 2;
  if (scale2.round())
    offset = Math.round(offset);
  return function(d) {
    return +scale2(d) + offset;
  };
}
function entering2() {
  return !this.__axis;
}
function axis2(orient, scale2) {
  var tickArguments = [], tickValues = null, tickFormat2 = null, tickSizeInner = 6, tickSizeOuter = 6, tickPadding = 3, k3 = orient === top2 || orient === left2 ? -1 : 1, x7 = orient === left2 || orient === right2 ? "x" : "y", transform3 = orient === top2 || orient === bottom2 ? translateX2 : translateY2;
  function axis3(context) {
    var values = tickValues == null ? scale2.ticks ? scale2.ticks.apply(scale2, tickArguments) : scale2.domain() : tickValues, format5 = tickFormat2 == null ? scale2.tickFormat ? scale2.tickFormat.apply(scale2, tickArguments) : identity_default8 : tickFormat2, spacing = Math.max(tickSizeInner, 0) + tickPadding, range6 = scale2.range(), range0 = +range6[0] + 0.5, range1 = +range6[range6.length - 1] + 0.5, position2 = (scale2.bandwidth ? center2 : number8)(scale2.copy()), selection5 = context.selection ? context.selection() : context, path5 = selection5.selectAll(".domain").data([null]), tick = selection5.selectAll(".tick").data(values, scale2).order(), tickExit = tick.exit(), tickEnter = tick.enter().append("g").attr("class", "tick"), line2 = tick.select("line"), text2 = tick.select("text");
    path5 = path5.merge(path5.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor"));
    tick = tick.merge(tickEnter);
    line2 = line2.merge(tickEnter.append("line").attr("stroke", "currentColor").attr(x7 + "2", k3 * tickSizeInner));
    text2 = text2.merge(tickEnter.append("text").attr("fill", "currentColor").attr(x7, k3 * spacing).attr("dy", orient === top2 ? "0em" : orient === bottom2 ? "0.71em" : "0.32em"));
    if (context !== selection5) {
      path5 = path5.transition(context);
      tick = tick.transition(context);
      line2 = line2.transition(context);
      text2 = text2.transition(context);
      tickExit = tickExit.transition(context).attr("opacity", epsilon10).attr("transform", function(d) {
        return isFinite(d = position2(d)) ? transform3(d) : this.getAttribute("transform");
      });
      tickEnter.attr("opacity", epsilon10).attr("transform", function(d) {
        var p = this.parentNode.__axis;
        return transform3(p && isFinite(p = p(d)) ? p : position2(d));
      });
    }
    tickExit.remove();
    path5.attr("d", orient === left2 || orient == right2 ? tickSizeOuter ? "M" + k3 * tickSizeOuter + "," + range0 + "H0.5V" + range1 + "H" + k3 * tickSizeOuter : "M0.5," + range0 + "V" + range1 : tickSizeOuter ? "M" + range0 + "," + k3 * tickSizeOuter + "V0.5H" + range1 + "V" + k3 * tickSizeOuter : "M" + range0 + ",0.5H" + range1);
    tick.attr("opacity", 1).attr("transform", function(d) {
      return transform3(position2(d));
    });
    line2.attr(x7 + "2", k3 * tickSizeInner);
    text2.attr(x7, k3 * spacing).text(format5);
    selection5.filter(entering2).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", orient === right2 ? "start" : orient === left2 ? "end" : "middle");
    selection5.each(function() {
      this.__axis = position2;
    });
  }
  axis3.scale = function(_2) {
    return arguments.length ? (scale2 = _2, axis3) : scale2;
  };
  axis3.ticks = function() {
    return tickArguments = slice10.call(arguments), axis3;
  };
  axis3.tickArguments = function(_2) {
    return arguments.length ? (tickArguments = _2 == null ? [] : slice10.call(_2), axis3) : tickArguments.slice();
  };
  axis3.tickValues = function(_2) {
    return arguments.length ? (tickValues = _2 == null ? null : slice10.call(_2), axis3) : tickValues && tickValues.slice();
  };
  axis3.tickFormat = function(_2) {
    return arguments.length ? (tickFormat2 = _2, axis3) : tickFormat2;
  };
  axis3.tickSize = function(_2) {
    return arguments.length ? (tickSizeInner = tickSizeOuter = +_2, axis3) : tickSizeInner;
  };
  axis3.tickSizeInner = function(_2) {
    return arguments.length ? (tickSizeInner = +_2, axis3) : tickSizeInner;
  };
  axis3.tickSizeOuter = function(_2) {
    return arguments.length ? (tickSizeOuter = +_2, axis3) : tickSizeOuter;
  };
  axis3.tickPadding = function(_2) {
    return arguments.length ? (tickPadding = +_2, axis3) : tickPadding;
  };
  return axis3;
}
function axisTop2(scale2) {
  return axis2(top2, scale2);
}
function axisRight2(scale2) {
  return axis2(right2, scale2);
}
function axisBottom2(scale2) {
  return axis2(bottom2, scale2);
}
function axisLeft2(scale2) {
  return axis2(left2, scale2);
}
var top2, right2, bottom2, left2, epsilon10;
var init_axis = __esm({
  "node_modules/dagre-d3/node_modules/d3-axis/src/axis.js"() {
    init_array2();
    init_identity2();
    top2 = 1;
    right2 = 2;
    bottom2 = 3;
    left2 = 4;
    epsilon10 = 1e-6;
  }
});

// node_modules/dagre-d3/node_modules/d3-axis/src/index.js
var init_src2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-axis/src/index.js"() {
    init_axis();
  }
});

// node_modules/d3-dispatch/src/dispatch.js
function dispatch5() {
  for (var i = 0, n = arguments.length, _2 = {}, t; i < n; ++i) {
    if (!(t = arguments[i] + "") || t in _2 || /[\s.]/.test(t))
      throw new Error("illegal type: " + t);
    _2[t] = [];
  }
  return new Dispatch5(_2);
}
function Dispatch5(_2) {
  this._ = _2;
}
function parseTypenames8(typenames, types2) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name2 = "", i = t.indexOf(".");
    if (i >= 0)
      name2 = t.slice(i + 1), t = t.slice(0, i);
    if (t && !types2.hasOwnProperty(t))
      throw new Error("unknown type: " + t);
    return { type: t, name: name2 };
  });
}
function get8(type4, name2) {
  for (var i = 0, n = type4.length, c7; i < n; ++i) {
    if ((c7 = type4[i]).name === name2) {
      return c7.value;
    }
  }
}
function set8(type4, name2, callback) {
  for (var i = 0, n = type4.length; i < n; ++i) {
    if (type4[i].name === name2) {
      type4[i] = noop6, type4 = type4.slice(0, i).concat(type4.slice(i + 1));
      break;
    }
  }
  if (callback != null)
    type4.push({ name: name2, value: callback });
  return type4;
}
var noop6, dispatch_default8;
var init_dispatch = __esm({
  "node_modules/d3-dispatch/src/dispatch.js"() {
    noop6 = { value: function() {
    } };
    Dispatch5.prototype = dispatch5.prototype = {
      constructor: Dispatch5,
      on: function(typename, callback) {
        var _2 = this._, T = parseTypenames8(typename + "", _2), t, i = -1, n = T.length;
        if (arguments.length < 2) {
          while (++i < n)
            if ((t = (typename = T[i]).type) && (t = get8(_2[t], typename.name)))
              return t;
          return;
        }
        if (callback != null && typeof callback !== "function")
          throw new Error("invalid callback: " + callback);
        while (++i < n) {
          if (t = (typename = T[i]).type)
            _2[t] = set8(_2[t], typename.name, callback);
          else if (callback == null)
            for (t in _2)
              _2[t] = set8(_2[t], typename.name, null);
        }
        return this;
      },
      copy: function() {
        var copy7 = {}, _2 = this._;
        for (var t in _2)
          copy7[t] = _2[t].slice();
        return new Dispatch5(copy7);
      },
      call: function(type4, that) {
        if ((n = arguments.length - 2) > 0)
          for (var args = new Array(n), i = 0, n, t; i < n; ++i)
            args[i] = arguments[i + 2];
        if (!this._.hasOwnProperty(type4))
          throw new Error("unknown type: " + type4);
        for (t = this._[type4], i = 0, n = t.length; i < n; ++i)
          t[i].value.apply(that, args);
      },
      apply: function(type4, that, args) {
        if (!this._.hasOwnProperty(type4))
          throw new Error("unknown type: " + type4);
        for (var t = this._[type4], i = 0, n = t.length; i < n; ++i)
          t[i].value.apply(that, args);
      }
    };
    dispatch_default8 = dispatch5;
  }
});

// node_modules/d3-dispatch/src/index.js
var init_src3 = __esm({
  "node_modules/d3-dispatch/src/index.js"() {
    init_dispatch();
  }
});

// node_modules/d3-selection/src/namespaces.js
var xhtml4, namespaces_default4;
var init_namespaces = __esm({
  "node_modules/d3-selection/src/namespaces.js"() {
    xhtml4 = "http://www.w3.org/1999/xhtml";
    namespaces_default4 = {
      svg: "http://www.w3.org/2000/svg",
      xhtml: xhtml4,
      xlink: "http://www.w3.org/1999/xlink",
      xml: "http://www.w3.org/XML/1998/namespace",
      xmlns: "http://www.w3.org/2000/xmlns/"
    };
  }
});

// node_modules/d3-selection/src/namespace.js
function namespace_default4(name2) {
  var prefix3 = name2 += "", i = prefix3.indexOf(":");
  if (i >= 0 && (prefix3 = name2.slice(0, i)) !== "xmlns")
    name2 = name2.slice(i + 1);
  return namespaces_default4.hasOwnProperty(prefix3) ? { space: namespaces_default4[prefix3], local: name2 } : name2;
}
var init_namespace = __esm({
  "node_modules/d3-selection/src/namespace.js"() {
    init_namespaces();
  }
});

// node_modules/d3-selection/src/creator.js
function creatorInherit4(name2) {
  return function() {
    var document2 = this.ownerDocument, uri = this.namespaceURI;
    return uri === xhtml4 && document2.documentElement.namespaceURI === xhtml4 ? document2.createElement(name2) : document2.createElementNS(uri, name2);
  };
}
function creatorFixed4(fullname) {
  return function() {
    return this.ownerDocument.createElementNS(fullname.space, fullname.local);
  };
}
function creator_default4(name2) {
  var fullname = namespace_default4(name2);
  return (fullname.local ? creatorFixed4 : creatorInherit4)(fullname);
}
var init_creator = __esm({
  "node_modules/d3-selection/src/creator.js"() {
    init_namespace();
    init_namespaces();
  }
});

// node_modules/d3-selection/src/selector.js
function none4() {
}
function selector_default4(selector) {
  return selector == null ? none4 : function() {
    return this.querySelector(selector);
  };
}
var init_selector = __esm({
  "node_modules/d3-selection/src/selector.js"() {
  }
});

// node_modules/d3-selection/src/selection/select.js
function select_default10(select) {
  if (typeof select !== "function")
    select = selector_default4(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = new Array(n), node2, subnode, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && (subnode = select.call(node2, node2.__data__, i, group5))) {
        if ("__data__" in node2)
          subnode.__data__ = node2.__data__;
        subgroup[i] = subnode;
      }
    }
  }
  return new Selection7(subgroups, this._parents);
}
var init_select = __esm({
  "node_modules/d3-selection/src/selection/select.js"() {
    init_selection();
    init_selector();
  }
});

// node_modules/d3-selection/src/selectorAll.js
function empty4() {
  return [];
}
function selectorAll_default4(selector) {
  return selector == null ? empty4 : function() {
    return this.querySelectorAll(selector);
  };
}
var init_selectorAll = __esm({
  "node_modules/d3-selection/src/selectorAll.js"() {
  }
});

// node_modules/d3-selection/src/selection/selectAll.js
function selectAll_default10(select) {
  if (typeof select !== "function")
    select = selectorAll_default4(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = [], parents2 = [], j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        subgroups.push(select.call(node2, node2.__data__, i, group5));
        parents2.push(node2);
      }
    }
  }
  return new Selection7(subgroups, parents2);
}
var init_selectAll = __esm({
  "node_modules/d3-selection/src/selection/selectAll.js"() {
    init_selection();
    init_selectorAll();
  }
});

// node_modules/d3-selection/src/matcher.js
function matcher_default4(selector) {
  return function() {
    return this.matches(selector);
  };
}
var init_matcher = __esm({
  "node_modules/d3-selection/src/matcher.js"() {
  }
});

// node_modules/d3-selection/src/selection/filter.js
function filter_default7(match2) {
  if (typeof match2 !== "function")
    match2 = matcher_default4(match2);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = [], node2, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && match2.call(node2, node2.__data__, i, group5)) {
        subgroup.push(node2);
      }
    }
  }
  return new Selection7(subgroups, this._parents);
}
var init_filter = __esm({
  "node_modules/d3-selection/src/selection/filter.js"() {
    init_selection();
    init_matcher();
  }
});

// node_modules/d3-selection/src/selection/sparse.js
function sparse_default4(update) {
  return new Array(update.length);
}
var init_sparse = __esm({
  "node_modules/d3-selection/src/selection/sparse.js"() {
  }
});

// node_modules/d3-selection/src/selection/enter.js
function enter_default4() {
  return new Selection7(this._enter || this._groups.map(sparse_default4), this._parents);
}
function EnterNode4(parent, datum4) {
  this.ownerDocument = parent.ownerDocument;
  this.namespaceURI = parent.namespaceURI;
  this._next = null;
  this._parent = parent;
  this.__data__ = datum4;
}
var init_enter = __esm({
  "node_modules/d3-selection/src/selection/enter.js"() {
    init_sparse();
    init_selection();
    EnterNode4.prototype = {
      constructor: EnterNode4,
      appendChild: function(child) {
        return this._parent.insertBefore(child, this._next);
      },
      insertBefore: function(child, next2) {
        return this._parent.insertBefore(child, next2);
      },
      querySelector: function(selector) {
        return this._parent.querySelector(selector);
      },
      querySelectorAll: function(selector) {
        return this._parent.querySelectorAll(selector);
      }
    };
  }
});

// node_modules/d3-selection/src/constant.js
function constant_default21(x7) {
  return function() {
    return x7;
  };
}
var init_constant2 = __esm({
  "node_modules/d3-selection/src/constant.js"() {
  }
});

// node_modules/d3-selection/src/selection/data.js
function bindIndex4(parent, group5, enter, update, exit, data) {
  var i = 0, node2, groupLength = group5.length, dataLength = data.length;
  for (; i < dataLength; ++i) {
    if (node2 = group5[i]) {
      node2.__data__ = data[i];
      update[i] = node2;
    } else {
      enter[i] = new EnterNode4(parent, data[i]);
    }
  }
  for (; i < groupLength; ++i) {
    if (node2 = group5[i]) {
      exit[i] = node2;
    }
  }
}
function bindKey4(parent, group5, enter, update, exit, data, key) {
  var i, node2, nodeByKeyValue = {}, groupLength = group5.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;
  for (i = 0; i < groupLength; ++i) {
    if (node2 = group5[i]) {
      keyValues[i] = keyValue = keyPrefix + key.call(node2, node2.__data__, i, group5);
      if (keyValue in nodeByKeyValue) {
        exit[i] = node2;
      } else {
        nodeByKeyValue[keyValue] = node2;
      }
    }
  }
  for (i = 0; i < dataLength; ++i) {
    keyValue = keyPrefix + key.call(parent, data[i], i, data);
    if (node2 = nodeByKeyValue[keyValue]) {
      update[i] = node2;
      node2.__data__ = data[i];
      nodeByKeyValue[keyValue] = null;
    } else {
      enter[i] = new EnterNode4(parent, data[i]);
    }
  }
  for (i = 0; i < groupLength; ++i) {
    if ((node2 = group5[i]) && nodeByKeyValue[keyValues[i]] === node2) {
      exit[i] = node2;
    }
  }
}
function data_default6(value, key) {
  if (!value) {
    data = new Array(this.size()), j = -1;
    this.each(function(d) {
      data[++j] = d;
    });
    return data;
  }
  var bind = key ? bindKey4 : bindIndex4, parents2 = this._parents, groups5 = this._groups;
  if (typeof value !== "function")
    value = constant_default21(value);
  for (var m = groups5.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
    var parent = parents2[j], group5 = groups5[j], groupLength = group5.length, data = value.call(parent, parent && parent.__data__, j, parents2), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);
    bind(parent, group5, enterGroup, updateGroup, exitGroup, data, key);
    for (var i0 = 0, i1 = 0, previous, next2; i0 < dataLength; ++i0) {
      if (previous = enterGroup[i0]) {
        if (i0 >= i1)
          i1 = i0 + 1;
        while (!(next2 = updateGroup[i1]) && ++i1 < dataLength)
          ;
        previous._next = next2 || null;
      }
    }
  }
  update = new Selection7(update, parents2);
  update._enter = enter;
  update._exit = exit;
  return update;
}
var keyPrefix;
var init_data = __esm({
  "node_modules/d3-selection/src/selection/data.js"() {
    init_selection();
    init_enter();
    init_constant2();
    keyPrefix = "$";
  }
});

// node_modules/d3-selection/src/selection/exit.js
function exit_default4() {
  return new Selection7(this._exit || this._groups.map(sparse_default4), this._parents);
}
var init_exit = __esm({
  "node_modules/d3-selection/src/selection/exit.js"() {
    init_sparse();
    init_selection();
  }
});

// node_modules/d3-selection/src/selection/join.js
function join_default4(onenter, onupdate, onexit) {
  var enter = this.enter(), update = this, exit = this.exit();
  enter = typeof onenter === "function" ? onenter(enter) : enter.append(onenter + "");
  if (onupdate != null)
    update = onupdate(update);
  if (onexit == null)
    exit.remove();
  else
    onexit(exit);
  return enter && update ? enter.merge(update).order() : update;
}
var init_join = __esm({
  "node_modules/d3-selection/src/selection/join.js"() {
  }
});

// node_modules/d3-selection/src/selection/merge.js
function merge_default8(selection5) {
  for (var groups0 = this._groups, groups1 = selection5._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge6 = merges[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group0[i] || group1[i]) {
        merge6[i] = node2;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Selection7(merges, this._parents);
}
var init_merge2 = __esm({
  "node_modules/d3-selection/src/selection/merge.js"() {
    init_selection();
  }
});

// node_modules/d3-selection/src/selection/order.js
function order_default4() {
  for (var groups5 = this._groups, j = -1, m = groups5.length; ++j < m; ) {
    for (var group5 = groups5[j], i = group5.length - 1, next2 = group5[i], node2; --i >= 0; ) {
      if (node2 = group5[i]) {
        if (next2 && node2.compareDocumentPosition(next2) ^ 4)
          next2.parentNode.insertBefore(node2, next2);
        next2 = node2;
      }
    }
  }
  return this;
}
var init_order = __esm({
  "node_modules/d3-selection/src/selection/order.js"() {
  }
});

// node_modules/d3-selection/src/selection/sort.js
function sort_default5(compare) {
  if (!compare)
    compare = ascending8;
  function compareNode(a3, b) {
    return a3 && b ? compare(a3.__data__, b.__data__) : !a3 - !b;
  }
  for (var groups5 = this._groups, m = groups5.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, sortgroup = sortgroups[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        sortgroup[i] = node2;
      }
    }
    sortgroup.sort(compareNode);
  }
  return new Selection7(sortgroups, this._parents).order();
}
function ascending8(a3, b) {
  return a3 < b ? -1 : a3 > b ? 1 : a3 >= b ? 0 : NaN;
}
var init_sort = __esm({
  "node_modules/d3-selection/src/selection/sort.js"() {
    init_selection();
  }
});

// node_modules/d3-selection/src/selection/call.js
function call_default4() {
  var callback = arguments[0];
  arguments[0] = this;
  callback.apply(null, arguments);
  return this;
}
var init_call = __esm({
  "node_modules/d3-selection/src/selection/call.js"() {
  }
});

// node_modules/d3-selection/src/selection/nodes.js
function nodes_default4() {
  var nodes = new Array(this.size()), i = -1;
  this.each(function() {
    nodes[++i] = this;
  });
  return nodes;
}
var init_nodes = __esm({
  "node_modules/d3-selection/src/selection/nodes.js"() {
  }
});

// node_modules/d3-selection/src/selection/node.js
function node_default4() {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length; i < n; ++i) {
      var node2 = group5[i];
      if (node2)
        return node2;
    }
  }
  return null;
}
var init_node = __esm({
  "node_modules/d3-selection/src/selection/node.js"() {
  }
});

// node_modules/d3-selection/src/selection/size.js
function size_default6() {
  var size = 0;
  this.each(function() {
    ++size;
  });
  return size;
}
var init_size = __esm({
  "node_modules/d3-selection/src/selection/size.js"() {
  }
});

// node_modules/d3-selection/src/selection/empty.js
function empty_default4() {
  return !this.node();
}
var init_empty = __esm({
  "node_modules/d3-selection/src/selection/empty.js"() {
  }
});

// node_modules/d3-selection/src/selection/each.js
function each_default5(callback) {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length, node2; i < n; ++i) {
      if (node2 = group5[i])
        callback.call(node2, node2.__data__, i, group5);
    }
  }
  return this;
}
var init_each = __esm({
  "node_modules/d3-selection/src/selection/each.js"() {
  }
});

// node_modules/d3-selection/src/selection/attr.js
function attrRemove7(name2) {
  return function() {
    this.removeAttribute(name2);
  };
}
function attrRemoveNS7(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant7(name2, value) {
  return function() {
    this.setAttribute(name2, value);
  };
}
function attrConstantNS7(fullname, value) {
  return function() {
    this.setAttributeNS(fullname.space, fullname.local, value);
  };
}
function attrFunction7(name2, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.removeAttribute(name2);
    else
      this.setAttribute(name2, v2);
  };
}
function attrFunctionNS7(fullname, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.removeAttributeNS(fullname.space, fullname.local);
    else
      this.setAttributeNS(fullname.space, fullname.local, v2);
  };
}
function attr_default7(name2, value) {
  var fullname = namespace_default4(name2);
  if (arguments.length < 2) {
    var node2 = this.node();
    return fullname.local ? node2.getAttributeNS(fullname.space, fullname.local) : node2.getAttribute(fullname);
  }
  return this.each((value == null ? fullname.local ? attrRemoveNS7 : attrRemove7 : typeof value === "function" ? fullname.local ? attrFunctionNS7 : attrFunction7 : fullname.local ? attrConstantNS7 : attrConstant7)(fullname, value));
}
var init_attr = __esm({
  "node_modules/d3-selection/src/selection/attr.js"() {
    init_namespace();
  }
});

// node_modules/d3-selection/src/window.js
function window_default4(node2) {
  return node2.ownerDocument && node2.ownerDocument.defaultView || node2.document && node2 || node2.defaultView;
}
var init_window = __esm({
  "node_modules/d3-selection/src/window.js"() {
  }
});

// node_modules/d3-selection/src/selection/style.js
function styleRemove7(name2) {
  return function() {
    this.style.removeProperty(name2);
  };
}
function styleConstant7(name2, value, priority) {
  return function() {
    this.style.setProperty(name2, value, priority);
  };
}
function styleFunction7(name2, value, priority) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.style.removeProperty(name2);
    else
      this.style.setProperty(name2, v2, priority);
  };
}
function style_default7(name2, value, priority) {
  return arguments.length > 1 ? this.each((value == null ? styleRemove7 : typeof value === "function" ? styleFunction7 : styleConstant7)(name2, value, priority == null ? "" : priority)) : styleValue4(this.node(), name2);
}
function styleValue4(node2, name2) {
  return node2.style.getPropertyValue(name2) || window_default4(node2).getComputedStyle(node2, null).getPropertyValue(name2);
}
var init_style = __esm({
  "node_modules/d3-selection/src/selection/style.js"() {
    init_window();
  }
});

// node_modules/d3-selection/src/selection/property.js
function propertyRemove4(name2) {
  return function() {
    delete this[name2];
  };
}
function propertyConstant4(name2, value) {
  return function() {
    this[name2] = value;
  };
}
function propertyFunction4(name2, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      delete this[name2];
    else
      this[name2] = v2;
  };
}
function property_default4(name2, value) {
  return arguments.length > 1 ? this.each((value == null ? propertyRemove4 : typeof value === "function" ? propertyFunction4 : propertyConstant4)(name2, value)) : this.node()[name2];
}
var init_property = __esm({
  "node_modules/d3-selection/src/selection/property.js"() {
  }
});

// node_modules/d3-selection/src/selection/classed.js
function classArray4(string) {
  return string.trim().split(/^|\s+/);
}
function classList4(node2) {
  return node2.classList || new ClassList4(node2);
}
function ClassList4(node2) {
  this._node = node2;
  this._names = classArray4(node2.getAttribute("class") || "");
}
function classedAdd4(node2, names) {
  var list = classList4(node2), i = -1, n = names.length;
  while (++i < n)
    list.add(names[i]);
}
function classedRemove4(node2, names) {
  var list = classList4(node2), i = -1, n = names.length;
  while (++i < n)
    list.remove(names[i]);
}
function classedTrue4(names) {
  return function() {
    classedAdd4(this, names);
  };
}
function classedFalse4(names) {
  return function() {
    classedRemove4(this, names);
  };
}
function classedFunction4(names, value) {
  return function() {
    (value.apply(this, arguments) ? classedAdd4 : classedRemove4)(this, names);
  };
}
function classed_default4(name2, value) {
  var names = classArray4(name2 + "");
  if (arguments.length < 2) {
    var list = classList4(this.node()), i = -1, n = names.length;
    while (++i < n)
      if (!list.contains(names[i]))
        return false;
    return true;
  }
  return this.each((typeof value === "function" ? classedFunction4 : value ? classedTrue4 : classedFalse4)(names, value));
}
var init_classed = __esm({
  "node_modules/d3-selection/src/selection/classed.js"() {
    ClassList4.prototype = {
      add: function(name2) {
        var i = this._names.indexOf(name2);
        if (i < 0) {
          this._names.push(name2);
          this._node.setAttribute("class", this._names.join(" "));
        }
      },
      remove: function(name2) {
        var i = this._names.indexOf(name2);
        if (i >= 0) {
          this._names.splice(i, 1);
          this._node.setAttribute("class", this._names.join(" "));
        }
      },
      contains: function(name2) {
        return this._names.indexOf(name2) >= 0;
      }
    };
  }
});

// node_modules/d3-selection/src/selection/text.js
function textRemove4() {
  this.textContent = "";
}
function textConstant7(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction7(value) {
  return function() {
    var v2 = value.apply(this, arguments);
    this.textContent = v2 == null ? "" : v2;
  };
}
function text_default8(value) {
  return arguments.length ? this.each(value == null ? textRemove4 : (typeof value === "function" ? textFunction7 : textConstant7)(value)) : this.node().textContent;
}
var init_text = __esm({
  "node_modules/d3-selection/src/selection/text.js"() {
  }
});

// node_modules/d3-selection/src/selection/html.js
function htmlRemove4() {
  this.innerHTML = "";
}
function htmlConstant4(value) {
  return function() {
    this.innerHTML = value;
  };
}
function htmlFunction4(value) {
  return function() {
    var v2 = value.apply(this, arguments);
    this.innerHTML = v2 == null ? "" : v2;
  };
}
function html_default4(value) {
  return arguments.length ? this.each(value == null ? htmlRemove4 : (typeof value === "function" ? htmlFunction4 : htmlConstant4)(value)) : this.node().innerHTML;
}
var init_html = __esm({
  "node_modules/d3-selection/src/selection/html.js"() {
  }
});

// node_modules/d3-selection/src/selection/raise.js
function raise4() {
  if (this.nextSibling)
    this.parentNode.appendChild(this);
}
function raise_default4() {
  return this.each(raise4);
}
var init_raise = __esm({
  "node_modules/d3-selection/src/selection/raise.js"() {
  }
});

// node_modules/d3-selection/src/selection/lower.js
function lower4() {
  if (this.previousSibling)
    this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function lower_default4() {
  return this.each(lower4);
}
var init_lower = __esm({
  "node_modules/d3-selection/src/selection/lower.js"() {
  }
});

// node_modules/d3-selection/src/selection/append.js
function append_default4(name2) {
  var create6 = typeof name2 === "function" ? name2 : creator_default4(name2);
  return this.select(function() {
    return this.appendChild(create6.apply(this, arguments));
  });
}
var init_append = __esm({
  "node_modules/d3-selection/src/selection/append.js"() {
    init_creator();
  }
});

// node_modules/d3-selection/src/selection/insert.js
function constantNull4() {
  return null;
}
function insert_default4(name2, before) {
  var create6 = typeof name2 === "function" ? name2 : creator_default4(name2), select = before == null ? constantNull4 : typeof before === "function" ? before : selector_default4(before);
  return this.select(function() {
    return this.insertBefore(create6.apply(this, arguments), select.apply(this, arguments) || null);
  });
}
var init_insert = __esm({
  "node_modules/d3-selection/src/selection/insert.js"() {
    init_creator();
    init_selector();
  }
});

// node_modules/d3-selection/src/selection/remove.js
function remove4() {
  var parent = this.parentNode;
  if (parent)
    parent.removeChild(this);
}
function remove_default9() {
  return this.each(remove4);
}
var init_remove = __esm({
  "node_modules/d3-selection/src/selection/remove.js"() {
  }
});

// node_modules/d3-selection/src/selection/clone.js
function selection_cloneShallow4() {
  var clone3 = this.cloneNode(false), parent = this.parentNode;
  return parent ? parent.insertBefore(clone3, this.nextSibling) : clone3;
}
function selection_cloneDeep4() {
  var clone3 = this.cloneNode(true), parent = this.parentNode;
  return parent ? parent.insertBefore(clone3, this.nextSibling) : clone3;
}
function clone_default4(deep) {
  return this.select(deep ? selection_cloneDeep4 : selection_cloneShallow4);
}
var init_clone = __esm({
  "node_modules/d3-selection/src/selection/clone.js"() {
  }
});

// node_modules/d3-selection/src/selection/datum.js
function datum_default4(value) {
  return arguments.length ? this.property("__data__", value) : this.node().__data__;
}
var init_datum = __esm({
  "node_modules/d3-selection/src/selection/datum.js"() {
  }
});

// node_modules/d3-selection/src/selection/on.js
function filterContextListener(listener, index6, group5) {
  listener = contextListener4(listener, index6, group5);
  return function(event2) {
    var related = event2.relatedTarget;
    if (!related || related !== this && !(related.compareDocumentPosition(this) & 8)) {
      listener.call(this, event2);
    }
  };
}
function contextListener4(listener, index6, group5) {
  return function(event1) {
    var event0 = event;
    event = event1;
    try {
      listener.call(this, this.__data__, index6, group5);
    } finally {
      event = event0;
    }
  };
}
function parseTypenames9(typenames) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name2 = "", i = t.indexOf(".");
    if (i >= 0)
      name2 = t.slice(i + 1), t = t.slice(0, i);
    return { type: t, name: name2 };
  });
}
function onRemove4(typename) {
  return function() {
    var on = this.__on;
    if (!on)
      return;
    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {
      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.capture);
      } else {
        on[++i] = o;
      }
    }
    if (++i)
      on.length = i;
    else
      delete this.__on;
  };
}
function onAdd4(typename, value, capture) {
  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener4;
  return function(d, i, group5) {
    var on = this.__on, o, listener = wrap(value, i, group5);
    if (on)
      for (var j = 0, m = on.length; j < m; ++j) {
        if ((o = on[j]).type === typename.type && o.name === typename.name) {
          this.removeEventListener(o.type, o.listener, o.capture);
          this.addEventListener(o.type, o.listener = listener, o.capture = capture);
          o.value = value;
          return;
        }
      }
    this.addEventListener(typename.type, listener, capture);
    o = { type: typename.type, name: typename.name, value, listener, capture };
    if (!on)
      this.__on = [o];
    else
      on.push(o);
  };
}
function on_default7(typename, value, capture) {
  var typenames = parseTypenames9(typename + ""), i, n = typenames.length, t;
  if (arguments.length < 2) {
    var on = this.node().__on;
    if (on)
      for (var j = 0, m = on.length, o; j < m; ++j) {
        for (i = 0, o = on[j]; i < n; ++i) {
          if ((t = typenames[i]).type === o.type && t.name === o.name) {
            return o.value;
          }
        }
      }
    return;
  }
  on = value ? onAdd4 : onRemove4;
  if (capture == null)
    capture = false;
  for (i = 0; i < n; ++i)
    this.each(on(typenames[i], value, capture));
  return this;
}
function customEvent(event1, listener, that, args) {
  var event0 = event;
  event1.sourceEvent = event;
  event = event1;
  try {
    return listener.apply(that, args);
  } finally {
    event = event0;
  }
}
var filterEvents, event, element;
var init_on = __esm({
  "node_modules/d3-selection/src/selection/on.js"() {
    filterEvents = {};
    event = null;
    if (typeof document !== "undefined") {
      element = document.documentElement;
      if (!("onmouseenter" in element)) {
        filterEvents = { mouseenter: "mouseover", mouseleave: "mouseout" };
      }
    }
  }
});

// node_modules/d3-selection/src/selection/dispatch.js
function dispatchEvent4(node2, type4, params) {
  var window2 = window_default4(node2), event2 = window2.CustomEvent;
  if (typeof event2 === "function") {
    event2 = new event2(type4, params);
  } else {
    event2 = window2.document.createEvent("Event");
    if (params)
      event2.initEvent(type4, params.bubbles, params.cancelable), event2.detail = params.detail;
    else
      event2.initEvent(type4, false, false);
  }
  node2.dispatchEvent(event2);
}
function dispatchConstant4(type4, params) {
  return function() {
    return dispatchEvent4(this, type4, params);
  };
}
function dispatchFunction4(type4, params) {
  return function() {
    return dispatchEvent4(this, type4, params.apply(this, arguments));
  };
}
function dispatch_default9(type4, params) {
  return this.each((typeof params === "function" ? dispatchFunction4 : dispatchConstant4)(type4, params));
}
var init_dispatch2 = __esm({
  "node_modules/d3-selection/src/selection/dispatch.js"() {
    init_window();
  }
});

// node_modules/d3-selection/src/selection/index.js
function Selection7(groups5, parents2) {
  this._groups = groups5;
  this._parents = parents2;
}
function selection4() {
  return new Selection7([[document.documentElement]], root4);
}
var root4, selection_default7;
var init_selection = __esm({
  "node_modules/d3-selection/src/selection/index.js"() {
    init_select();
    init_selectAll();
    init_filter();
    init_data();
    init_enter();
    init_exit();
    init_join();
    init_merge2();
    init_order();
    init_sort();
    init_call();
    init_nodes();
    init_node();
    init_size();
    init_empty();
    init_each();
    init_attr();
    init_style();
    init_property();
    init_classed();
    init_text();
    init_html();
    init_raise();
    init_lower();
    init_append();
    init_insert();
    init_remove();
    init_clone();
    init_datum();
    init_on();
    init_dispatch2();
    root4 = [null];
    Selection7.prototype = selection4.prototype = {
      constructor: Selection7,
      select: select_default10,
      selectAll: selectAll_default10,
      filter: filter_default7,
      data: data_default6,
      enter: enter_default4,
      exit: exit_default4,
      join: join_default4,
      merge: merge_default8,
      order: order_default4,
      sort: sort_default5,
      call: call_default4,
      nodes: nodes_default4,
      node: node_default4,
      size: size_default6,
      empty: empty_default4,
      each: each_default5,
      attr: attr_default7,
      style: style_default7,
      property: property_default4,
      classed: classed_default4,
      text: text_default8,
      html: html_default4,
      raise: raise_default4,
      lower: lower_default4,
      append: append_default4,
      insert: insert_default4,
      remove: remove_default9,
      clone: clone_default4,
      datum: datum_default4,
      on: on_default7,
      dispatch: dispatch_default9
    };
    selection_default7 = selection4;
  }
});

// node_modules/d3-selection/src/select.js
function select_default11(selector) {
  return typeof selector === "string" ? new Selection7([[document.querySelector(selector)]], [document.documentElement]) : new Selection7([[selector]], root4);
}
var init_select2 = __esm({
  "node_modules/d3-selection/src/select.js"() {
    init_selection();
  }
});

// node_modules/d3-selection/src/create.js
function create_default4(name2) {
  return select_default11(creator_default4(name2).call(document.documentElement));
}
var init_create = __esm({
  "node_modules/d3-selection/src/create.js"() {
    init_creator();
    init_select2();
  }
});

// node_modules/d3-selection/src/local.js
function local4() {
  return new Local4();
}
function Local4() {
  this._ = "@" + (++nextId4).toString(36);
}
var nextId4;
var init_local = __esm({
  "node_modules/d3-selection/src/local.js"() {
    nextId4 = 0;
    Local4.prototype = local4.prototype = {
      constructor: Local4,
      get: function(node2) {
        var id5 = this._;
        while (!(id5 in node2))
          if (!(node2 = node2.parentNode))
            return;
        return node2[id5];
      },
      set: function(node2, value) {
        return node2[this._] = value;
      },
      remove: function(node2) {
        return this._ in node2 && delete node2[this._];
      },
      toString: function() {
        return this._;
      }
    };
  }
});

// node_modules/d3-selection/src/sourceEvent.js
function sourceEvent_default4() {
  var current = event, source;
  while (source = current.sourceEvent)
    current = source;
  return current;
}
var init_sourceEvent = __esm({
  "node_modules/d3-selection/src/sourceEvent.js"() {
    init_on();
  }
});

// node_modules/d3-selection/src/point.js
function point_default(node2, event2) {
  var svg4 = node2.ownerSVGElement || node2;
  if (svg4.createSVGPoint) {
    var point12 = svg4.createSVGPoint();
    point12.x = event2.clientX, point12.y = event2.clientY;
    point12 = point12.matrixTransform(node2.getScreenCTM().inverse());
    return [point12.x, point12.y];
  }
  var rect2 = node2.getBoundingClientRect();
  return [event2.clientX - rect2.left - node2.clientLeft, event2.clientY - rect2.top - node2.clientTop];
}
var init_point = __esm({
  "node_modules/d3-selection/src/point.js"() {
  }
});

// node_modules/d3-selection/src/mouse.js
function mouse_default(node2) {
  var event2 = sourceEvent_default4();
  if (event2.changedTouches)
    event2 = event2.changedTouches[0];
  return point_default(node2, event2);
}
var init_mouse = __esm({
  "node_modules/d3-selection/src/mouse.js"() {
    init_sourceEvent();
    init_point();
  }
});

// node_modules/d3-selection/src/selectAll.js
function selectAll_default11(selector) {
  return typeof selector === "string" ? new Selection7([document.querySelectorAll(selector)], [document.documentElement]) : new Selection7([selector == null ? [] : selector], root4);
}
var init_selectAll2 = __esm({
  "node_modules/d3-selection/src/selectAll.js"() {
    init_selection();
  }
});

// node_modules/d3-selection/src/touch.js
function touch_default(node2, touches, identifier2) {
  if (arguments.length < 3)
    identifier2 = touches, touches = sourceEvent_default4().changedTouches;
  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {
    if ((touch = touches[i]).identifier === identifier2) {
      return point_default(node2, touch);
    }
  }
  return null;
}
var init_touch = __esm({
  "node_modules/d3-selection/src/touch.js"() {
    init_sourceEvent();
    init_point();
  }
});

// node_modules/d3-selection/src/touches.js
function touches_default(node2, touches) {
  if (touches == null)
    touches = sourceEvent_default4().touches;
  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {
    points[i] = point_default(node2, touches[i]);
  }
  return points;
}
var init_touches = __esm({
  "node_modules/d3-selection/src/touches.js"() {
    init_sourceEvent();
    init_point();
  }
});

// node_modules/d3-selection/src/index.js
var init_src4 = __esm({
  "node_modules/d3-selection/src/index.js"() {
    init_create();
    init_creator();
    init_local();
    init_matcher();
    init_mouse();
    init_namespace();
    init_namespaces();
    init_point();
    init_select2();
    init_selectAll2();
    init_selection();
    init_selector();
    init_selectorAll();
    init_style();
    init_touch();
    init_touches();
    init_window();
    init_on();
  }
});

// node_modules/d3-drag/src/noevent.js
function nopropagation6() {
  event.stopImmediatePropagation();
}
function noevent_default6() {
  event.preventDefault();
  event.stopImmediatePropagation();
}
var init_noevent = __esm({
  "node_modules/d3-drag/src/noevent.js"() {
    init_src4();
  }
});

// node_modules/d3-drag/src/nodrag.js
function nodrag_default4(view) {
  var root7 = view.document.documentElement, selection5 = select_default11(view).on("dragstart.drag", noevent_default6, true);
  if ("onselectstart" in root7) {
    selection5.on("selectstart.drag", noevent_default6, true);
  } else {
    root7.__noselect = root7.style.MozUserSelect;
    root7.style.MozUserSelect = "none";
  }
}
function yesdrag4(view, noclick) {
  var root7 = view.document.documentElement, selection5 = select_default11(view).on("dragstart.drag", null);
  if (noclick) {
    selection5.on("click.drag", noevent_default6, true);
    setTimeout(function() {
      selection5.on("click.drag", null);
    }, 0);
  }
  if ("onselectstart" in root7) {
    selection5.on("selectstart.drag", null);
  } else {
    root7.style.MozUserSelect = root7.__noselect;
    delete root7.__noselect;
  }
}
var init_nodrag = __esm({
  "node_modules/d3-drag/src/nodrag.js"() {
    init_src4();
    init_noevent();
  }
});

// node_modules/d3-drag/src/constant.js
function constant_default22(x7) {
  return function() {
    return x7;
  };
}
var init_constant3 = __esm({
  "node_modules/d3-drag/src/constant.js"() {
  }
});

// node_modules/d3-drag/src/event.js
function DragEvent4(target, type4, subject, id5, active, x7, y7, dx, dy, dispatch6) {
  this.target = target;
  this.type = type4;
  this.subject = subject;
  this.identifier = id5;
  this.active = active;
  this.x = x7;
  this.y = y7;
  this.dx = dx;
  this.dy = dy;
  this._ = dispatch6;
}
var init_event = __esm({
  "node_modules/d3-drag/src/event.js"() {
    DragEvent4.prototype.on = function() {
      var value = this._.on.apply(this._, arguments);
      return value === this._ ? this : value;
    };
  }
});

// node_modules/d3-drag/src/drag.js
function defaultFilter() {
  return !event.ctrlKey && !event.button;
}
function defaultContainer() {
  return this.parentNode;
}
function defaultSubject(d) {
  return d == null ? { x: event.x, y: event.y } : d;
}
function defaultTouchable() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function drag_default4() {
  var filter8 = defaultFilter, container = defaultContainer, subject = defaultSubject, touchable = defaultTouchable, gestures = {}, listeners = dispatch_default8("start", "drag", "end"), active = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;
  function drag(selection5) {
    selection5.on("mousedown.drag", mousedowned).filter(touchable).on("touchstart.drag", touchstarted).on("touchmove.drag", touchmoved).on("touchend.drag touchcancel.drag", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  function mousedowned() {
    if (touchending || !filter8.apply(this, arguments))
      return;
    var gesture = beforestart("mouse", container.apply(this, arguments), mouse_default, this, arguments);
    if (!gesture)
      return;
    select_default11(event.view).on("mousemove.drag", mousemoved, true).on("mouseup.drag", mouseupped, true);
    nodrag_default4(event.view);
    nopropagation6();
    mousemoving = false;
    mousedownx = event.clientX;
    mousedowny = event.clientY;
    gesture("start");
  }
  function mousemoved() {
    noevent_default6();
    if (!mousemoving) {
      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;
      mousemoving = dx * dx + dy * dy > clickDistance2;
    }
    gestures.mouse("drag");
  }
  function mouseupped() {
    select_default11(event.view).on("mousemove.drag mouseup.drag", null);
    yesdrag4(event.view, mousemoving);
    noevent_default6();
    gestures.mouse("end");
  }
  function touchstarted() {
    if (!filter8.apply(this, arguments))
      return;
    var touches = event.changedTouches, c7 = container.apply(this, arguments), n = touches.length, i, gesture;
    for (i = 0; i < n; ++i) {
      if (gesture = beforestart(touches[i].identifier, c7, touch_default, this, arguments)) {
        nopropagation6();
        gesture("start");
      }
    }
  }
  function touchmoved() {
    var touches = event.changedTouches, n = touches.length, i, gesture;
    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches[i].identifier]) {
        noevent_default6();
        gesture("drag");
      }
    }
  }
  function touchended() {
    var touches = event.changedTouches, n = touches.length, i, gesture;
    if (touchending)
      clearTimeout(touchending);
    touchending = setTimeout(function() {
      touchending = null;
    }, 500);
    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches[i].identifier]) {
        nopropagation6();
        gesture("end");
      }
    }
  }
  function beforestart(id5, container2, point12, that, args) {
    var p = point12(container2, id5), s3, dx, dy, sublisteners = listeners.copy();
    if (!customEvent(new DragEvent4(drag, "beforestart", s3, id5, active, p[0], p[1], 0, 0, sublisteners), function() {
      if ((event.subject = s3 = subject.apply(that, args)) == null)
        return false;
      dx = s3.x - p[0] || 0;
      dy = s3.y - p[1] || 0;
      return true;
    }))
      return;
    return function gesture(type4) {
      var p02 = p, n;
      switch (type4) {
        case "start":
          gestures[id5] = gesture, n = active++;
          break;
        case "end":
          delete gestures[id5], --active;
        case "drag":
          p = point12(container2, id5), n = active;
          break;
      }
      customEvent(new DragEvent4(drag, type4, s3, id5, n, p[0] + dx, p[1] + dy, p[0] - p02[0], p[1] - p02[1], sublisteners), sublisteners.apply, sublisteners, [type4, that, args]);
    };
  }
  drag.filter = function(_2) {
    return arguments.length ? (filter8 = typeof _2 === "function" ? _2 : constant_default22(!!_2), drag) : filter8;
  };
  drag.container = function(_2) {
    return arguments.length ? (container = typeof _2 === "function" ? _2 : constant_default22(_2), drag) : container;
  };
  drag.subject = function(_2) {
    return arguments.length ? (subject = typeof _2 === "function" ? _2 : constant_default22(_2), drag) : subject;
  };
  drag.touchable = function(_2) {
    return arguments.length ? (touchable = typeof _2 === "function" ? _2 : constant_default22(!!_2), drag) : touchable;
  };
  drag.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? drag : value;
  };
  drag.clickDistance = function(_2) {
    return arguments.length ? (clickDistance2 = (_2 = +_2) * _2, drag) : Math.sqrt(clickDistance2);
  };
  return drag;
}
var init_drag = __esm({
  "node_modules/d3-drag/src/drag.js"() {
    init_src3();
    init_src4();
    init_nodrag();
    init_noevent();
    init_constant3();
    init_event();
  }
});

// node_modules/d3-drag/src/index.js
var init_src5 = __esm({
  "node_modules/d3-drag/src/index.js"() {
    init_drag();
    init_nodrag();
  }
});

// node_modules/d3-color/src/define.js
function define_default6(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
}
function extend6(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition)
    prototype[key] = definition[key];
  return prototype;
}
var init_define = __esm({
  "node_modules/d3-color/src/define.js"() {
  }
});

// node_modules/d3-color/src/color.js
function Color7() {
}
function color_formatHex6() {
  return this.rgb().formatHex();
}
function color_formatHsl6() {
  return hslConvert6(this).formatHsl();
}
function color_formatRgb6() {
  return this.rgb().formatRgb();
}
function color6(format5) {
  var m, l;
  format5 = (format5 + "").trim().toLowerCase();
  return (m = reHex6.exec(format5)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn6(m) : l === 3 ? new Rgb6(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba7(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba7(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger6.exec(format5)) ? new Rgb6(m[1], m[2], m[3], 1) : (m = reRgbPercent6.exec(format5)) ? new Rgb6(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger6.exec(format5)) ? rgba7(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent6.exec(format5)) ? rgba7(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent6.exec(format5)) ? hsla6(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent6.exec(format5)) ? hsla6(m[1], m[2] / 100, m[3] / 100, m[4]) : named6.hasOwnProperty(format5) ? rgbn6(named6[format5]) : format5 === "transparent" ? new Rgb6(NaN, NaN, NaN, 0) : null;
}
function rgbn6(n) {
  return new Rgb6(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
}
function rgba7(r, g, b, a3) {
  if (a3 <= 0)
    r = g = b = NaN;
  return new Rgb6(r, g, b, a3);
}
function rgbConvert6(o) {
  if (!(o instanceof Color7))
    o = color6(o);
  if (!o)
    return new Rgb6();
  o = o.rgb();
  return new Rgb6(o.r, o.g, o.b, o.opacity);
}
function rgb6(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert6(r) : new Rgb6(r, g, b, opacity == null ? 1 : opacity);
}
function Rgb6(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}
function rgb_formatHex6() {
  return "#" + hex6(this.r) + hex6(this.g) + hex6(this.b);
}
function rgb_formatRgb6() {
  var a3 = this.opacity;
  a3 = isNaN(a3) ? 1 : Math.max(0, Math.min(1, a3));
  return (a3 === 1 ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a3 === 1 ? ")" : ", " + a3 + ")");
}
function hex6(value) {
  value = Math.max(0, Math.min(255, Math.round(value) || 0));
  return (value < 16 ? "0" : "") + value.toString(16);
}
function hsla6(h, s3, l, a3) {
  if (a3 <= 0)
    h = s3 = l = NaN;
  else if (l <= 0 || l >= 1)
    h = s3 = NaN;
  else if (s3 <= 0)
    h = NaN;
  return new Hsl6(h, s3, l, a3);
}
function hslConvert6(o) {
  if (o instanceof Hsl6)
    return new Hsl6(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color7))
    o = color6(o);
  if (!o)
    return new Hsl6();
  if (o instanceof Hsl6)
    return o;
  o = o.rgb();
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min8 = Math.min(r, g, b), max10 = Math.max(r, g, b), h = NaN, s3 = max10 - min8, l = (max10 + min8) / 2;
  if (s3) {
    if (r === max10)
      h = (g - b) / s3 + (g < b) * 6;
    else if (g === max10)
      h = (b - r) / s3 + 2;
    else
      h = (r - g) / s3 + 4;
    s3 /= l < 0.5 ? max10 + min8 : 2 - max10 - min8;
    h *= 60;
  } else {
    s3 = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl6(h, s3, l, o.opacity);
}
function hsl11(h, s3, l, opacity) {
  return arguments.length === 1 ? hslConvert6(h) : new Hsl6(h, s3, l, opacity == null ? 1 : opacity);
}
function Hsl6(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
function hsl2rgb6(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
}
var darker6, brighter6, reI6, reN6, reP6, reHex6, reRgbInteger6, reRgbPercent6, reRgbaInteger6, reRgbaPercent6, reHslPercent6, reHslaPercent6, named6;
var init_color = __esm({
  "node_modules/d3-color/src/color.js"() {
    init_define();
    darker6 = 0.7;
    brighter6 = 1 / darker6;
    reI6 = "\\s*([+-]?\\d+)\\s*";
    reN6 = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*";
    reP6 = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
    reHex6 = /^#([0-9a-f]{3,8})$/;
    reRgbInteger6 = new RegExp("^rgb\\(" + [reI6, reI6, reI6] + "\\)$");
    reRgbPercent6 = new RegExp("^rgb\\(" + [reP6, reP6, reP6] + "\\)$");
    reRgbaInteger6 = new RegExp("^rgba\\(" + [reI6, reI6, reI6, reN6] + "\\)$");
    reRgbaPercent6 = new RegExp("^rgba\\(" + [reP6, reP6, reP6, reN6] + "\\)$");
    reHslPercent6 = new RegExp("^hsl\\(" + [reN6, reP6, reP6] + "\\)$");
    reHslaPercent6 = new RegExp("^hsla\\(" + [reN6, reP6, reP6, reN6] + "\\)$");
    named6 = {
      aliceblue: 15792383,
      antiquewhite: 16444375,
      aqua: 65535,
      aquamarine: 8388564,
      azure: 15794175,
      beige: 16119260,
      bisque: 16770244,
      black: 0,
      blanchedalmond: 16772045,
      blue: 255,
      blueviolet: 9055202,
      brown: 10824234,
      burlywood: 14596231,
      cadetblue: 6266528,
      chartreuse: 8388352,
      chocolate: 13789470,
      coral: 16744272,
      cornflowerblue: 6591981,
      cornsilk: 16775388,
      crimson: 14423100,
      cyan: 65535,
      darkblue: 139,
      darkcyan: 35723,
      darkgoldenrod: 12092939,
      darkgray: 11119017,
      darkgreen: 25600,
      darkgrey: 11119017,
      darkkhaki: 12433259,
      darkmagenta: 9109643,
      darkolivegreen: 5597999,
      darkorange: 16747520,
      darkorchid: 10040012,
      darkred: 9109504,
      darksalmon: 15308410,
      darkseagreen: 9419919,
      darkslateblue: 4734347,
      darkslategray: 3100495,
      darkslategrey: 3100495,
      darkturquoise: 52945,
      darkviolet: 9699539,
      deeppink: 16716947,
      deepskyblue: 49151,
      dimgray: 6908265,
      dimgrey: 6908265,
      dodgerblue: 2003199,
      firebrick: 11674146,
      floralwhite: 16775920,
      forestgreen: 2263842,
      fuchsia: 16711935,
      gainsboro: 14474460,
      ghostwhite: 16316671,
      gold: 16766720,
      goldenrod: 14329120,
      gray: 8421504,
      green: 32768,
      greenyellow: 11403055,
      grey: 8421504,
      honeydew: 15794160,
      hotpink: 16738740,
      indianred: 13458524,
      indigo: 4915330,
      ivory: 16777200,
      khaki: 15787660,
      lavender: 15132410,
      lavenderblush: 16773365,
      lawngreen: 8190976,
      lemonchiffon: 16775885,
      lightblue: 11393254,
      lightcoral: 15761536,
      lightcyan: 14745599,
      lightgoldenrodyellow: 16448210,
      lightgray: 13882323,
      lightgreen: 9498256,
      lightgrey: 13882323,
      lightpink: 16758465,
      lightsalmon: 16752762,
      lightseagreen: 2142890,
      lightskyblue: 8900346,
      lightslategray: 7833753,
      lightslategrey: 7833753,
      lightsteelblue: 11584734,
      lightyellow: 16777184,
      lime: 65280,
      limegreen: 3329330,
      linen: 16445670,
      magenta: 16711935,
      maroon: 8388608,
      mediumaquamarine: 6737322,
      mediumblue: 205,
      mediumorchid: 12211667,
      mediumpurple: 9662683,
      mediumseagreen: 3978097,
      mediumslateblue: 8087790,
      mediumspringgreen: 64154,
      mediumturquoise: 4772300,
      mediumvioletred: 13047173,
      midnightblue: 1644912,
      mintcream: 16121850,
      mistyrose: 16770273,
      moccasin: 16770229,
      navajowhite: 16768685,
      navy: 128,
      oldlace: 16643558,
      olive: 8421376,
      olivedrab: 7048739,
      orange: 16753920,
      orangered: 16729344,
      orchid: 14315734,
      palegoldenrod: 15657130,
      palegreen: 10025880,
      paleturquoise: 11529966,
      palevioletred: 14381203,
      papayawhip: 16773077,
      peachpuff: 16767673,
      peru: 13468991,
      pink: 16761035,
      plum: 14524637,
      powderblue: 11591910,
      purple: 8388736,
      rebeccapurple: 6697881,
      red: 16711680,
      rosybrown: 12357519,
      royalblue: 4286945,
      saddlebrown: 9127187,
      salmon: 16416882,
      sandybrown: 16032864,
      seagreen: 3050327,
      seashell: 16774638,
      sienna: 10506797,
      silver: 12632256,
      skyblue: 8900331,
      slateblue: 6970061,
      slategray: 7372944,
      slategrey: 7372944,
      snow: 16775930,
      springgreen: 65407,
      steelblue: 4620980,
      tan: 13808780,
      teal: 32896,
      thistle: 14204888,
      tomato: 16737095,
      turquoise: 4251856,
      violet: 15631086,
      wheat: 16113331,
      white: 16777215,
      whitesmoke: 16119285,
      yellow: 16776960,
      yellowgreen: 10145074
    };
    define_default6(Color7, color6, {
      copy: function(channels2) {
        return Object.assign(new this.constructor(), this, channels2);
      },
      displayable: function() {
        return this.rgb().displayable();
      },
      hex: color_formatHex6,
      formatHex: color_formatHex6,
      formatHsl: color_formatHsl6,
      formatRgb: color_formatRgb6,
      toString: color_formatRgb6
    });
    define_default6(Rgb6, rgb6, extend6(Color7, {
      brighter: function(k3) {
        k3 = k3 == null ? brighter6 : Math.pow(brighter6, k3);
        return new Rgb6(this.r * k3, this.g * k3, this.b * k3, this.opacity);
      },
      darker: function(k3) {
        k3 = k3 == null ? darker6 : Math.pow(darker6, k3);
        return new Rgb6(this.r * k3, this.g * k3, this.b * k3, this.opacity);
      },
      rgb: function() {
        return this;
      },
      displayable: function() {
        return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
      },
      hex: rgb_formatHex6,
      formatHex: rgb_formatHex6,
      formatRgb: rgb_formatRgb6,
      toString: rgb_formatRgb6
    }));
    define_default6(Hsl6, hsl11, extend6(Color7, {
      brighter: function(k3) {
        k3 = k3 == null ? brighter6 : Math.pow(brighter6, k3);
        return new Hsl6(this.h, this.s, this.l * k3, this.opacity);
      },
      darker: function(k3) {
        k3 = k3 == null ? darker6 : Math.pow(darker6, k3);
        return new Hsl6(this.h, this.s, this.l * k3, this.opacity);
      },
      rgb: function() {
        var h = this.h % 360 + (this.h < 0) * 360, s3 = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s3, m1 = 2 * l - m2;
        return new Rgb6(
          hsl2rgb6(h >= 240 ? h - 240 : h + 120, m1, m2),
          hsl2rgb6(h, m1, m2),
          hsl2rgb6(h < 120 ? h + 240 : h - 120, m1, m2),
          this.opacity
        );
      },
      displayable: function() {
        return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
      },
      formatHsl: function() {
        var a3 = this.opacity;
        a3 = isNaN(a3) ? 1 : Math.max(0, Math.min(1, a3));
        return (a3 === 1 ? "hsl(" : "hsla(") + (this.h || 0) + ", " + (this.s || 0) * 100 + "%, " + (this.l || 0) * 100 + "%" + (a3 === 1 ? ")" : ", " + a3 + ")");
      }
    }));
  }
});

// node_modules/d3-color/src/math.js
var deg2rad, rad2deg;
var init_math = __esm({
  "node_modules/d3-color/src/math.js"() {
    deg2rad = Math.PI / 180;
    rad2deg = 180 / Math.PI;
  }
});

// node_modules/d3-color/src/lab.js
function labConvert6(o) {
  if (o instanceof Lab6)
    return new Lab6(o.l, o.a, o.b, o.opacity);
  if (o instanceof Hcl6)
    return hcl2lab6(o);
  if (!(o instanceof Rgb6))
    o = rgbConvert6(o);
  var r = rgb2lrgb6(o.r), g = rgb2lrgb6(o.g), b = rgb2lrgb6(o.b), y7 = xyz2lab6((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn6), x7, z;
  if (r === g && g === b)
    x7 = z = y7;
  else {
    x7 = xyz2lab6((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn6);
    z = xyz2lab6((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn6);
  }
  return new Lab6(116 * y7 - 16, 500 * (x7 - y7), 200 * (y7 - z), o.opacity);
}
function gray6(l, opacity) {
  return new Lab6(l, 0, 0, opacity == null ? 1 : opacity);
}
function lab11(l, a3, b, opacity) {
  return arguments.length === 1 ? labConvert6(l) : new Lab6(l, a3, b, opacity == null ? 1 : opacity);
}
function Lab6(l, a3, b, opacity) {
  this.l = +l;
  this.a = +a3;
  this.b = +b;
  this.opacity = +opacity;
}
function xyz2lab6(t) {
  return t > t36 ? Math.pow(t, 1 / 3) : t / t26 + t08;
}
function lab2xyz6(t) {
  return t > t18 ? t * t * t : t26 * (t - t08);
}
function lrgb2rgb6(x7) {
  return 255 * (x7 <= 31308e-7 ? 12.92 * x7 : 1.055 * Math.pow(x7, 1 / 2.4) - 0.055);
}
function rgb2lrgb6(x7) {
  return (x7 /= 255) <= 0.04045 ? x7 / 12.92 : Math.pow((x7 + 0.055) / 1.055, 2.4);
}
function hclConvert6(o) {
  if (o instanceof Hcl6)
    return new Hcl6(o.h, o.c, o.l, o.opacity);
  if (!(o instanceof Lab6))
    o = labConvert6(o);
  if (o.a === 0 && o.b === 0)
    return new Hcl6(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);
  var h = Math.atan2(o.b, o.a) * rad2deg;
  return new Hcl6(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);
}
function lch6(l, c7, h, opacity) {
  return arguments.length === 1 ? hclConvert6(l) : new Hcl6(h, c7, l, opacity == null ? 1 : opacity);
}
function hcl11(h, c7, l, opacity) {
  return arguments.length === 1 ? hclConvert6(h) : new Hcl6(h, c7, l, opacity == null ? 1 : opacity);
}
function Hcl6(h, c7, l, opacity) {
  this.h = +h;
  this.c = +c7;
  this.l = +l;
  this.opacity = +opacity;
}
function hcl2lab6(o) {
  if (isNaN(o.h))
    return new Lab6(o.l, 0, 0, o.opacity);
  var h = o.h * deg2rad;
  return new Lab6(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);
}
var K6, Xn6, Yn6, Zn6, t08, t18, t26, t36;
var init_lab = __esm({
  "node_modules/d3-color/src/lab.js"() {
    init_define();
    init_color();
    init_math();
    K6 = 18;
    Xn6 = 0.96422;
    Yn6 = 1;
    Zn6 = 0.82521;
    t08 = 4 / 29;
    t18 = 6 / 29;
    t26 = 3 * t18 * t18;
    t36 = t18 * t18 * t18;
    define_default6(Lab6, lab11, extend6(Color7, {
      brighter: function(k3) {
        return new Lab6(this.l + K6 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
      },
      darker: function(k3) {
        return new Lab6(this.l - K6 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
      },
      rgb: function() {
        var y7 = (this.l + 16) / 116, x7 = isNaN(this.a) ? y7 : y7 + this.a / 500, z = isNaN(this.b) ? y7 : y7 - this.b / 200;
        x7 = Xn6 * lab2xyz6(x7);
        y7 = Yn6 * lab2xyz6(y7);
        z = Zn6 * lab2xyz6(z);
        return new Rgb6(
          lrgb2rgb6(3.1338561 * x7 - 1.6168667 * y7 - 0.4906146 * z),
          lrgb2rgb6(-0.9787684 * x7 + 1.9161415 * y7 + 0.033454 * z),
          lrgb2rgb6(0.0719453 * x7 - 0.2289914 * y7 + 1.4052427 * z),
          this.opacity
        );
      }
    }));
    define_default6(Hcl6, hcl11, extend6(Color7, {
      brighter: function(k3) {
        return new Hcl6(this.h, this.c, this.l + K6 * (k3 == null ? 1 : k3), this.opacity);
      },
      darker: function(k3) {
        return new Hcl6(this.h, this.c, this.l - K6 * (k3 == null ? 1 : k3), this.opacity);
      },
      rgb: function() {
        return hcl2lab6(this).rgb();
      }
    }));
  }
});

// node_modules/d3-color/src/cubehelix.js
function cubehelixConvert6(o) {
  if (o instanceof Cubehelix6)
    return new Cubehelix6(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Rgb6))
    o = rgbConvert6(o);
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, l = (BC_DA6 * b + ED6 * r - EB6 * g) / (BC_DA6 + ED6 - EB6), bl = b - l, k3 = (E6 * (g - l) - C6 * bl) / D7, s3 = Math.sqrt(k3 * k3 + bl * bl) / (E6 * l * (1 - l)), h = s3 ? Math.atan2(k3, bl) * rad2deg - 120 : NaN;
  return new Cubehelix6(h < 0 ? h + 360 : h, s3, l, o.opacity);
}
function cubehelix11(h, s3, l, opacity) {
  return arguments.length === 1 ? cubehelixConvert6(h) : new Cubehelix6(h, s3, l, opacity == null ? 1 : opacity);
}
function Cubehelix6(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
var A8, B7, C6, D7, E6, ED6, EB6, BC_DA6;
var init_cubehelix = __esm({
  "node_modules/d3-color/src/cubehelix.js"() {
    init_define();
    init_color();
    init_math();
    A8 = -0.14861;
    B7 = 1.78277;
    C6 = -0.29227;
    D7 = -0.90649;
    E6 = 1.97294;
    ED6 = E6 * D7;
    EB6 = E6 * B7;
    BC_DA6 = B7 * C6 - D7 * A8;
    define_default6(Cubehelix6, cubehelix11, extend6(Color7, {
      brighter: function(k3) {
        k3 = k3 == null ? brighter6 : Math.pow(brighter6, k3);
        return new Cubehelix6(this.h, this.s, this.l * k3, this.opacity);
      },
      darker: function(k3) {
        k3 = k3 == null ? darker6 : Math.pow(darker6, k3);
        return new Cubehelix6(this.h, this.s, this.l * k3, this.opacity);
      },
      rgb: function() {
        var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad, l = +this.l, a3 = isNaN(this.s) ? 0 : this.s * l * (1 - l), cosh7 = Math.cos(h), sinh7 = Math.sin(h);
        return new Rgb6(
          255 * (l + a3 * (A8 * cosh7 + B7 * sinh7)),
          255 * (l + a3 * (C6 * cosh7 + D7 * sinh7)),
          255 * (l + a3 * (E6 * cosh7)),
          this.opacity
        );
      }
    }));
  }
});

// node_modules/d3-color/src/index.js
var init_src6 = __esm({
  "node_modules/d3-color/src/index.js"() {
    init_color();
    init_lab();
    init_cubehelix();
  }
});

// node_modules/d3-interpolate/src/basis.js
function basis6(t110, v0, v1, v2, v32) {
  var t27 = t110 * t110, t37 = t27 * t110;
  return ((1 - 3 * t110 + 3 * t27 - t37) * v0 + (4 - 6 * t27 + 3 * t37) * v1 + (1 + 3 * t110 + 3 * t27 - 3 * t37) * v2 + t37 * v32) / 6;
}
function basis_default7(values) {
  var n = values.length - 1;
  return function(t) {
    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values[i], v2 = values[i + 1], v0 = i > 0 ? values[i - 1] : 2 * v1 - v2, v32 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;
    return basis6((t - i / n) * n, v0, v1, v2, v32);
  };
}
var init_basis = __esm({
  "node_modules/d3-interpolate/src/basis.js"() {
  }
});

// node_modules/d3-interpolate/src/basisClosed.js
function basisClosed_default7(values) {
  var n = values.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values[(i + n - 1) % n], v1 = values[i % n], v2 = values[(i + 1) % n], v32 = values[(i + 2) % n];
    return basis6((t - i / n) * n, v0, v1, v2, v32);
  };
}
var init_basisClosed = __esm({
  "node_modules/d3-interpolate/src/basisClosed.js"() {
    init_basis();
  }
});

// node_modules/d3-interpolate/src/constant.js
function constant_default23(x7) {
  return function() {
    return x7;
  };
}
var init_constant4 = __esm({
  "node_modules/d3-interpolate/src/constant.js"() {
  }
});

// node_modules/d3-interpolate/src/color.js
function linear10(a3, d) {
  return function(t) {
    return a3 + t * d;
  };
}
function exponential6(a3, b, y7) {
  return a3 = Math.pow(a3, y7), b = Math.pow(b, y7) - a3, y7 = 1 / y7, function(t) {
    return Math.pow(a3 + t * b, y7);
  };
}
function hue6(a3, b) {
  var d = b - a3;
  return d ? linear10(a3, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant_default23(isNaN(a3) ? b : a3);
}
function gamma6(y7) {
  return (y7 = +y7) === 1 ? nogamma6 : function(a3, b) {
    return b - a3 ? exponential6(a3, b, y7) : constant_default23(isNaN(a3) ? b : a3);
  };
}
function nogamma6(a3, b) {
  var d = b - a3;
  return d ? linear10(a3, d) : constant_default23(isNaN(a3) ? b : a3);
}
var init_color2 = __esm({
  "node_modules/d3-interpolate/src/color.js"() {
    init_constant4();
  }
});

// node_modules/d3-interpolate/src/rgb.js
function rgbSpline6(spline) {
  return function(colors) {
    var n = colors.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color7;
    for (i = 0; i < n; ++i) {
      color7 = rgb6(colors[i]);
      r[i] = color7.r || 0;
      g[i] = color7.g || 0;
      b[i] = color7.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color7.opacity = 1;
    return function(t) {
      color7.r = r(t);
      color7.g = g(t);
      color7.b = b(t);
      return color7 + "";
    };
  };
}
var rgb_default7, rgbBasis6, rgbBasisClosed6;
var init_rgb = __esm({
  "node_modules/d3-interpolate/src/rgb.js"() {
    init_src6();
    init_basis();
    init_basisClosed();
    init_color2();
    rgb_default7 = function rgbGamma6(y7) {
      var color7 = gamma6(y7);
      function rgb7(start6, end2) {
        var r = color7((start6 = rgb6(start6)).r, (end2 = rgb6(end2)).r), g = color7(start6.g, end2.g), b = color7(start6.b, end2.b), opacity = nogamma6(start6.opacity, end2.opacity);
        return function(t) {
          start6.r = r(t);
          start6.g = g(t);
          start6.b = b(t);
          start6.opacity = opacity(t);
          return start6 + "";
        };
      }
      rgb7.gamma = rgbGamma6;
      return rgb7;
    }(1);
    rgbBasis6 = rgbSpline6(basis_default7);
    rgbBasisClosed6 = rgbSpline6(basisClosed_default7);
  }
});

// node_modules/d3-interpolate/src/numberArray.js
function numberArray_default6(a3, b) {
  if (!b)
    b = [];
  var n = a3 ? Math.min(b.length, a3.length) : 0, c7 = b.slice(), i;
  return function(t) {
    for (i = 0; i < n; ++i)
      c7[i] = a3[i] * (1 - t) + b[i] * t;
    return c7;
  };
}
function isNumberArray6(x7) {
  return ArrayBuffer.isView(x7) && !(x7 instanceof DataView);
}
var init_numberArray = __esm({
  "node_modules/d3-interpolate/src/numberArray.js"() {
  }
});

// node_modules/d3-interpolate/src/array.js
function array_default8(a3, b) {
  return (isNumberArray6(b) ? numberArray_default6 : genericArray6)(a3, b);
}
function genericArray6(a3, b) {
  var nb = b ? b.length : 0, na = a3 ? Math.min(nb, a3.length) : 0, x7 = new Array(na), c7 = new Array(nb), i;
  for (i = 0; i < na; ++i)
    x7[i] = value_default6(a3[i], b[i]);
  for (; i < nb; ++i)
    c7[i] = b[i];
  return function(t) {
    for (i = 0; i < na; ++i)
      c7[i] = x7[i](t);
    return c7;
  };
}
var init_array3 = __esm({
  "node_modules/d3-interpolate/src/array.js"() {
    init_value();
    init_numberArray();
  }
});

// node_modules/d3-interpolate/src/date.js
function date_default6(a3, b) {
  var d = new Date();
  return a3 = +a3, b = +b, function(t) {
    return d.setTime(a3 * (1 - t) + b * t), d;
  };
}
var init_date = __esm({
  "node_modules/d3-interpolate/src/date.js"() {
  }
});

// node_modules/d3-interpolate/src/number.js
function number_default7(a3, b) {
  return a3 = +a3, b = +b, function(t) {
    return a3 * (1 - t) + b * t;
  };
}
var init_number2 = __esm({
  "node_modules/d3-interpolate/src/number.js"() {
  }
});

// node_modules/d3-interpolate/src/object.js
function object_default6(a3, b) {
  var i = {}, c7 = {}, k3;
  if (a3 === null || typeof a3 !== "object")
    a3 = {};
  if (b === null || typeof b !== "object")
    b = {};
  for (k3 in b) {
    if (k3 in a3) {
      i[k3] = value_default6(a3[k3], b[k3]);
    } else {
      c7[k3] = b[k3];
    }
  }
  return function(t) {
    for (k3 in i)
      c7[k3] = i[k3](t);
    return c7;
  };
}
var init_object = __esm({
  "node_modules/d3-interpolate/src/object.js"() {
    init_value();
  }
});

// node_modules/d3-interpolate/src/string.js
function zero9(b) {
  return function() {
    return b;
  };
}
function one5(b) {
  return function(t) {
    return b(t) + "";
  };
}
function string_default6(a3, b) {
  var bi = reA6.lastIndex = reB6.lastIndex = 0, am, bm, bs, i = -1, s3 = [], q = [];
  a3 = a3 + "", b = b + "";
  while ((am = reA6.exec(a3)) && (bm = reB6.exec(b))) {
    if ((bs = bm.index) > bi) {
      bs = b.slice(bi, bs);
      if (s3[i])
        s3[i] += bs;
      else
        s3[++i] = bs;
    }
    if ((am = am[0]) === (bm = bm[0])) {
      if (s3[i])
        s3[i] += bm;
      else
        s3[++i] = bm;
    } else {
      s3[++i] = null;
      q.push({ i, x: number_default7(am, bm) });
    }
    bi = reB6.lastIndex;
  }
  if (bi < b.length) {
    bs = b.slice(bi);
    if (s3[i])
      s3[i] += bs;
    else
      s3[++i] = bs;
  }
  return s3.length < 2 ? q[0] ? one5(q[0].x) : zero9(b) : (b = q.length, function(t) {
    for (var i2 = 0, o; i2 < b; ++i2)
      s3[(o = q[i2]).i] = o.x(t);
    return s3.join("");
  });
}
var reA6, reB6;
var init_string = __esm({
  "node_modules/d3-interpolate/src/string.js"() {
    init_number2();
    reA6 = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
    reB6 = new RegExp(reA6.source, "g");
  }
});

// node_modules/d3-interpolate/src/value.js
function value_default6(a3, b) {
  var t = typeof b, c7;
  return b == null || t === "boolean" ? constant_default23(b) : (t === "number" ? number_default7 : t === "string" ? (c7 = color6(b)) ? (b = c7, rgb_default7) : string_default6 : b instanceof color6 ? rgb_default7 : b instanceof Date ? date_default6 : isNumberArray6(b) ? numberArray_default6 : Array.isArray(b) ? genericArray6 : typeof b.valueOf !== "function" && typeof b.toString !== "function" || isNaN(b) ? object_default6 : number_default7)(a3, b);
}
var init_value = __esm({
  "node_modules/d3-interpolate/src/value.js"() {
    init_src6();
    init_rgb();
    init_array3();
    init_date();
    init_number2();
    init_object();
    init_string();
    init_constant4();
    init_numberArray();
  }
});

// node_modules/d3-interpolate/src/discrete.js
function discrete_default6(range6) {
  var n = range6.length;
  return function(t) {
    return range6[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];
  };
}
var init_discrete = __esm({
  "node_modules/d3-interpolate/src/discrete.js"() {
  }
});

// node_modules/d3-interpolate/src/hue.js
function hue_default7(a3, b) {
  var i = hue6(+a3, +b);
  return function(t) {
    var x7 = i(t);
    return x7 - 360 * Math.floor(x7 / 360);
  };
}
var init_hue = __esm({
  "node_modules/d3-interpolate/src/hue.js"() {
    init_color2();
  }
});

// node_modules/d3-interpolate/src/round.js
function round_default7(a3, b) {
  return a3 = +a3, b = +b, function(t) {
    return Math.round(a3 * (1 - t) + b * t);
  };
}
var init_round = __esm({
  "node_modules/d3-interpolate/src/round.js"() {
  }
});

// node_modules/d3-interpolate/src/transform/decompose.js
function decompose_default6(a3, b, c7, d, e, f2) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a3 * a3 + b * b))
    a3 /= scaleX, b /= scaleX;
  if (skewX = a3 * c7 + b * d)
    c7 -= a3 * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c7 * c7 + d * d))
    c7 /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a3 * d < b * c7)
    a3 = -a3, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f2,
    rotate: Math.atan2(b, a3) * degrees12,
    skewX: Math.atan(skewX) * degrees12,
    scaleX,
    scaleY
  };
}
var degrees12, identity13;
var init_decompose = __esm({
  "node_modules/d3-interpolate/src/transform/decompose.js"() {
    degrees12 = 180 / Math.PI;
    identity13 = {
      translateX: 0,
      translateY: 0,
      rotate: 0,
      skewX: 0,
      scaleX: 1,
      scaleY: 1
    };
  }
});

// node_modules/d3-interpolate/src/transform/parse.js
function parseCss6(value) {
  if (value === "none")
    return identity13;
  if (!cssNode)
    cssNode = document.createElement("DIV"), cssRoot = document.documentElement, cssView = document.defaultView;
  cssNode.style.transform = value;
  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue("transform");
  cssRoot.removeChild(cssNode);
  value = value.slice(7, -1).split(",");
  return decompose_default6(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);
}
function parseSvg6(value) {
  if (value == null)
    return identity13;
  if (!svgNode6)
    svgNode6 = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode6.setAttribute("transform", value);
  if (!(value = svgNode6.transform.baseVal.consolidate()))
    return identity13;
  value = value.matrix;
  return decompose_default6(value.a, value.b, value.c, value.d, value.e, value.f);
}
var cssNode, cssRoot, cssView, svgNode6;
var init_parse = __esm({
  "node_modules/d3-interpolate/src/transform/parse.js"() {
    init_decompose();
  }
});

// node_modules/d3-interpolate/src/transform/index.js
function interpolateTransform6(parse4, pxComma, pxParen, degParen) {
  function pop(s3) {
    return s3.length ? s3.pop() + " " : "";
  }
  function translate(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push("translate(", null, pxComma, null, pxParen);
      q.push({ i: i - 4, x: number_default7(xa, xb) }, { i: i - 2, x: number_default7(ya, yb) });
    } else if (xb || yb) {
      s3.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }
  function rotate(a3, b, s3, q) {
    if (a3 !== b) {
      if (a3 - b > 180)
        b += 360;
      else if (b - a3 > 180)
        a3 += 360;
      q.push({ i: s3.push(pop(s3) + "rotate(", null, degParen) - 2, x: number_default7(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "rotate(" + b + degParen);
    }
  }
  function skewX(a3, b, s3, q) {
    if (a3 !== b) {
      q.push({ i: s3.push(pop(s3) + "skewX(", null, degParen) - 2, x: number_default7(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "skewX(" + b + degParen);
    }
  }
  function scale2(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push(pop(s3) + "scale(", null, ",", null, ")");
      q.push({ i: i - 4, x: number_default7(xa, xb) }, { i: i - 2, x: number_default7(ya, yb) });
    } else if (xb !== 1 || yb !== 1) {
      s3.push(pop(s3) + "scale(" + xb + "," + yb + ")");
    }
  }
  return function(a3, b) {
    var s3 = [], q = [];
    a3 = parse4(a3), b = parse4(b);
    translate(a3.translateX, a3.translateY, b.translateX, b.translateY, s3, q);
    rotate(a3.rotate, b.rotate, s3, q);
    skewX(a3.skewX, b.skewX, s3, q);
    scale2(a3.scaleX, a3.scaleY, b.scaleX, b.scaleY, s3, q);
    a3 = b = null;
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n)
        s3[(o = q[i]).i] = o.x(t);
      return s3.join("");
    };
  };
}
var interpolateTransformCss6, interpolateTransformSvg6;
var init_transform = __esm({
  "node_modules/d3-interpolate/src/transform/index.js"() {
    init_number2();
    init_parse();
    interpolateTransformCss6 = interpolateTransform6(parseCss6, "px, ", "px)", "deg)");
    interpolateTransformSvg6 = interpolateTransform6(parseSvg6, ", ", ")", ")");
  }
});

// node_modules/d3-interpolate/src/zoom.js
function cosh6(x7) {
  return ((x7 = Math.exp(x7)) + 1 / x7) / 2;
}
function sinh6(x7) {
  return ((x7 = Math.exp(x7)) - 1 / x7) / 2;
}
function tanh6(x7) {
  return ((x7 = Math.exp(2 * x7)) - 1) / (x7 + 1);
}
function zoom_default7(p02, p1) {
  var ux0 = p02[0], uy0 = p02[1], w0 = p02[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;
  if (d2 < epsilon27) {
    S = Math.log(w1 / w0) / rho;
    i = function(t) {
      return [
        ux0 + t * dx,
        uy0 + t * dy,
        w0 * Math.exp(rho * t * S)
      ];
    };
  } else {
    var d1 = Math.sqrt(d2), b05 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b15 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b05 * b05 + 1) - b05), r1 = Math.log(Math.sqrt(b15 * b15 + 1) - b15);
    S = (r1 - r0) / rho;
    i = function(t) {
      var s3 = t * S, coshr0 = cosh6(r0), u4 = w0 / (rho2 * d1) * (coshr0 * tanh6(rho * s3 + r0) - sinh6(r0));
      return [
        ux0 + u4 * dx,
        uy0 + u4 * dy,
        w0 * coshr0 / cosh6(rho * s3 + r0)
      ];
    };
  }
  i.duration = S * 1e3;
  return i;
}
var rho, rho2, rho4, epsilon27;
var init_zoom = __esm({
  "node_modules/d3-interpolate/src/zoom.js"() {
    rho = Math.SQRT2;
    rho2 = 2;
    rho4 = 4;
    epsilon27 = 1e-12;
  }
});

// node_modules/d3-interpolate/src/hsl.js
function hsl12(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hsl11(start6)).h, (end2 = hsl11(end2)).h), s3 = nogamma6(start6.s, end2.s), l = nogamma6(start6.l, end2.l), opacity = nogamma6(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.s = s3(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hsl_default7, hslLong6;
var init_hsl = __esm({
  "node_modules/d3-interpolate/src/hsl.js"() {
    init_src6();
    init_color2();
    hsl_default7 = hsl12(hue6);
    hslLong6 = hsl12(nogamma6);
  }
});

// node_modules/d3-interpolate/src/lab.js
function lab12(start6, end2) {
  var l = nogamma6((start6 = lab11(start6)).l, (end2 = lab11(end2)).l), a3 = nogamma6(start6.a, end2.a), b = nogamma6(start6.b, end2.b), opacity = nogamma6(start6.opacity, end2.opacity);
  return function(t) {
    start6.l = l(t);
    start6.a = a3(t);
    start6.b = b(t);
    start6.opacity = opacity(t);
    return start6 + "";
  };
}
var init_lab2 = __esm({
  "node_modules/d3-interpolate/src/lab.js"() {
    init_src6();
    init_color2();
  }
});

// node_modules/d3-interpolate/src/hcl.js
function hcl12(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hcl11(start6)).h, (end2 = hcl11(end2)).h), c7 = nogamma6(start6.c, end2.c), l = nogamma6(start6.l, end2.l), opacity = nogamma6(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.c = c7(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hcl_default6, hclLong6;
var init_hcl = __esm({
  "node_modules/d3-interpolate/src/hcl.js"() {
    init_src6();
    init_color2();
    hcl_default6 = hcl12(hue6);
    hclLong6 = hcl12(nogamma6);
  }
});

// node_modules/d3-interpolate/src/cubehelix.js
function cubehelix12(hue7) {
  return function cubehelixGamma(y7) {
    y7 = +y7;
    function cubehelix13(start6, end2) {
      var h = hue7((start6 = cubehelix11(start6)).h, (end2 = cubehelix11(end2)).h), s3 = nogamma6(start6.s, end2.s), l = nogamma6(start6.l, end2.l), opacity = nogamma6(start6.opacity, end2.opacity);
      return function(t) {
        start6.h = h(t);
        start6.s = s3(t);
        start6.l = l(Math.pow(t, y7));
        start6.opacity = opacity(t);
        return start6 + "";
      };
    }
    cubehelix13.gamma = cubehelixGamma;
    return cubehelix13;
  }(1);
}
var cubehelix_default7, cubehelixLong6;
var init_cubehelix2 = __esm({
  "node_modules/d3-interpolate/src/cubehelix.js"() {
    init_src6();
    init_color2();
    cubehelix_default7 = cubehelix12(hue6);
    cubehelixLong6 = cubehelix12(nogamma6);
  }
});

// node_modules/d3-interpolate/src/piecewise.js
function piecewise6(interpolate, values) {
  var i = 0, n = values.length - 1, v2 = values[0], I = new Array(n < 0 ? 0 : n);
  while (i < n)
    I[i] = interpolate(v2, v2 = values[++i]);
  return function(t) {
    var i2 = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));
    return I[i2](t - i2);
  };
}
var init_piecewise = __esm({
  "node_modules/d3-interpolate/src/piecewise.js"() {
  }
});

// node_modules/d3-interpolate/src/quantize.js
function quantize_default6(interpolator, n) {
  var samples = new Array(n);
  for (var i = 0; i < n; ++i)
    samples[i] = interpolator(i / (n - 1));
  return samples;
}
var init_quantize = __esm({
  "node_modules/d3-interpolate/src/quantize.js"() {
  }
});

// node_modules/d3-interpolate/src/index.js
var init_src7 = __esm({
  "node_modules/d3-interpolate/src/index.js"() {
    init_value();
    init_array3();
    init_basis();
    init_basisClosed();
    init_date();
    init_discrete();
    init_hue();
    init_number2();
    init_numberArray();
    init_object();
    init_round();
    init_string();
    init_transform();
    init_zoom();
    init_rgb();
    init_hsl();
    init_lab2();
    init_hcl();
    init_cubehelix2();
    init_piecewise();
    init_quantize();
  }
});

// node_modules/d3-timer/src/timer.js
function now5() {
  return clockNow5 || (setFrame5(clearNow5), clockNow5 = clock5.now() + clockSkew5);
}
function clearNow5() {
  clockNow5 = 0;
}
function Timer5() {
  this._call = this._time = this._next = null;
}
function timer5(callback, delay, time2) {
  var t = new Timer5();
  t.restart(callback, delay, time2);
  return t;
}
function timerFlush5() {
  now5();
  ++frame5;
  var t = taskHead5, e;
  while (t) {
    if ((e = clockNow5 - t._time) >= 0)
      t._call.call(null, e);
    t = t._next;
  }
  --frame5;
}
function wake5() {
  clockNow5 = (clockLast5 = clock5.now()) + clockSkew5;
  frame5 = timeout5 = 0;
  try {
    timerFlush5();
  } finally {
    frame5 = 0;
    nap5();
    clockNow5 = 0;
  }
}
function poke5() {
  var now6 = clock5.now(), delay = now6 - clockLast5;
  if (delay > pokeDelay5)
    clockSkew5 -= delay, clockLast5 = now6;
}
function nap5() {
  var t010, t110 = taskHead5, t27, time2 = Infinity;
  while (t110) {
    if (t110._call) {
      if (time2 > t110._time)
        time2 = t110._time;
      t010 = t110, t110 = t110._next;
    } else {
      t27 = t110._next, t110._next = null;
      t110 = t010 ? t010._next = t27 : taskHead5 = t27;
    }
  }
  taskTail5 = t010;
  sleep5(time2);
}
function sleep5(time2) {
  if (frame5)
    return;
  if (timeout5)
    timeout5 = clearTimeout(timeout5);
  var delay = time2 - clockNow5;
  if (delay > 24) {
    if (time2 < Infinity)
      timeout5 = setTimeout(wake5, time2 - clock5.now() - clockSkew5);
    if (interval5)
      interval5 = clearInterval(interval5);
  } else {
    if (!interval5)
      clockLast5 = clock5.now(), interval5 = setInterval(poke5, pokeDelay5);
    frame5 = 1, setFrame5(wake5);
  }
}
var frame5, timeout5, interval5, pokeDelay5, taskHead5, taskTail5, clockLast5, clockNow5, clockSkew5, clock5, setFrame5;
var init_timer = __esm({
  "node_modules/d3-timer/src/timer.js"() {
    frame5 = 0;
    timeout5 = 0;
    interval5 = 0;
    pokeDelay5 = 1e3;
    clockLast5 = 0;
    clockNow5 = 0;
    clockSkew5 = 0;
    clock5 = typeof performance === "object" && performance.now ? performance : Date;
    setFrame5 = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f2) {
      setTimeout(f2, 17);
    };
    Timer5.prototype = timer5.prototype = {
      constructor: Timer5,
      restart: function(callback, delay, time2) {
        if (typeof callback !== "function")
          throw new TypeError("callback is not a function");
        time2 = (time2 == null ? now5() : +time2) + (delay == null ? 0 : +delay);
        if (!this._next && taskTail5 !== this) {
          if (taskTail5)
            taskTail5._next = this;
          else
            taskHead5 = this;
          taskTail5 = this;
        }
        this._call = callback;
        this._time = time2;
        sleep5();
      },
      stop: function() {
        if (this._call) {
          this._call = null;
          this._time = Infinity;
          sleep5();
        }
      }
    };
  }
});

// node_modules/d3-timer/src/timeout.js
function timeout_default5(callback, delay, time2) {
  var t = new Timer5();
  delay = delay == null ? 0 : +delay;
  t.restart(function(elapsed) {
    t.stop();
    callback(elapsed + delay);
  }, delay, time2);
  return t;
}
var init_timeout = __esm({
  "node_modules/d3-timer/src/timeout.js"() {
    init_timer();
  }
});

// node_modules/d3-timer/src/interval.js
function interval_default5(callback, delay, time2) {
  var t = new Timer5(), total = delay;
  if (delay == null)
    return t.restart(callback, delay, time2), t;
  delay = +delay, time2 = time2 == null ? now5() : +time2;
  t.restart(function tick(elapsed) {
    elapsed += total;
    t.restart(tick, total += delay, time2);
    callback(elapsed);
  }, delay, time2);
  return t;
}
var init_interval = __esm({
  "node_modules/d3-timer/src/interval.js"() {
    init_timer();
  }
});

// node_modules/d3-timer/src/index.js
var init_src8 = __esm({
  "node_modules/d3-timer/src/index.js"() {
    init_timer();
    init_timeout();
    init_interval();
  }
});

// node_modules/d3-transition/src/transition/schedule.js
function schedule_default4(node2, name2, id5, index6, group5, timing) {
  var schedules = node2.__transition;
  if (!schedules)
    node2.__transition = {};
  else if (id5 in schedules)
    return;
  create5(node2, id5, {
    name: name2,
    index: index6,
    group: group5,
    on: emptyOn4,
    tween: emptyTween4,
    time: timing.time,
    delay: timing.delay,
    duration: timing.duration,
    ease: timing.ease,
    timer: null,
    state: CREATED4
  });
}
function init4(node2, id5) {
  var schedule = get9(node2, id5);
  if (schedule.state > CREATED4)
    throw new Error("too late; already scheduled");
  return schedule;
}
function set9(node2, id5) {
  var schedule = get9(node2, id5);
  if (schedule.state > STARTED4)
    throw new Error("too late; already running");
  return schedule;
}
function get9(node2, id5) {
  var schedule = node2.__transition;
  if (!schedule || !(schedule = schedule[id5]))
    throw new Error("transition not found");
  return schedule;
}
function create5(node2, id5, self2) {
  var schedules = node2.__transition, tween;
  schedules[id5] = self2;
  self2.timer = timer5(schedule, 0, self2.time);
  function schedule(elapsed) {
    self2.state = SCHEDULED4;
    self2.timer.restart(start6, self2.delay, self2.time);
    if (self2.delay <= elapsed)
      start6(elapsed - self2.delay);
  }
  function start6(elapsed) {
    var i, j, n, o;
    if (self2.state !== SCHEDULED4)
      return stop();
    for (i in schedules) {
      o = schedules[i];
      if (o.name !== self2.name)
        continue;
      if (o.state === STARTED4)
        return timeout_default5(start6);
      if (o.state === RUNNING4) {
        o.state = ENDED4;
        o.timer.stop();
        o.on.call("interrupt", node2, node2.__data__, o.index, o.group);
        delete schedules[i];
      } else if (+i < id5) {
        o.state = ENDED4;
        o.timer.stop();
        o.on.call("cancel", node2, node2.__data__, o.index, o.group);
        delete schedules[i];
      }
    }
    timeout_default5(function() {
      if (self2.state === STARTED4) {
        self2.state = RUNNING4;
        self2.timer.restart(tick, self2.delay, self2.time);
        tick(elapsed);
      }
    });
    self2.state = STARTING4;
    self2.on.call("start", node2, node2.__data__, self2.index, self2.group);
    if (self2.state !== STARTING4)
      return;
    self2.state = STARTED4;
    tween = new Array(n = self2.tween.length);
    for (i = 0, j = -1; i < n; ++i) {
      if (o = self2.tween[i].value.call(node2, node2.__data__, self2.index, self2.group)) {
        tween[++j] = o;
      }
    }
    tween.length = j + 1;
  }
  function tick(elapsed) {
    var t = elapsed < self2.duration ? self2.ease.call(null, elapsed / self2.duration) : (self2.timer.restart(stop), self2.state = ENDING4, 1), i = -1, n = tween.length;
    while (++i < n) {
      tween[i].call(node2, t);
    }
    if (self2.state === ENDING4) {
      self2.on.call("end", node2, node2.__data__, self2.index, self2.group);
      stop();
    }
  }
  function stop() {
    self2.state = ENDED4;
    self2.timer.stop();
    delete schedules[id5];
    for (var i in schedules)
      return;
    delete node2.__transition;
  }
}
var emptyOn4, emptyTween4, CREATED4, SCHEDULED4, STARTING4, STARTED4, RUNNING4, ENDING4, ENDED4;
var init_schedule = __esm({
  "node_modules/d3-transition/src/transition/schedule.js"() {
    init_src3();
    init_src8();
    emptyOn4 = dispatch_default8("start", "end", "cancel", "interrupt");
    emptyTween4 = [];
    CREATED4 = 0;
    SCHEDULED4 = 1;
    STARTING4 = 2;
    STARTED4 = 3;
    RUNNING4 = 4;
    ENDING4 = 5;
    ENDED4 = 6;
  }
});

// node_modules/d3-transition/src/interrupt.js
function interrupt_default7(node2, name2) {
  var schedules = node2.__transition, schedule, active, empty6 = true, i;
  if (!schedules)
    return;
  name2 = name2 == null ? null : name2 + "";
  for (i in schedules) {
    if ((schedule = schedules[i]).name !== name2) {
      empty6 = false;
      continue;
    }
    active = schedule.state > STARTING4 && schedule.state < ENDING4;
    schedule.state = ENDED4;
    schedule.timer.stop();
    schedule.on.call(active ? "interrupt" : "cancel", node2, node2.__data__, schedule.index, schedule.group);
    delete schedules[i];
  }
  if (empty6)
    delete node2.__transition;
}
var init_interrupt = __esm({
  "node_modules/d3-transition/src/interrupt.js"() {
    init_schedule();
  }
});

// node_modules/d3-transition/src/selection/interrupt.js
function interrupt_default8(name2) {
  return this.each(function() {
    interrupt_default7(this, name2);
  });
}
var init_interrupt2 = __esm({
  "node_modules/d3-transition/src/selection/interrupt.js"() {
    init_interrupt();
  }
});

// node_modules/d3-transition/src/transition/tween.js
function tweenRemove4(id5, name2) {
  var tween0, tween1;
  return function() {
    var schedule = set9(this, id5), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = tween0 = tween;
      for (var i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name2) {
          tween1 = tween1.slice();
          tween1.splice(i, 1);
          break;
        }
      }
    }
    schedule.tween = tween1;
  };
}
function tweenFunction4(id5, name2, value) {
  var tween0, tween1;
  if (typeof value !== "function")
    throw new Error();
  return function() {
    var schedule = set9(this, id5), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = (tween0 = tween).slice();
      for (var t = { name: name2, value }, i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name2) {
          tween1[i] = t;
          break;
        }
      }
      if (i === n)
        tween1.push(t);
    }
    schedule.tween = tween1;
  };
}
function tween_default4(name2, value) {
  var id5 = this._id;
  name2 += "";
  if (arguments.length < 2) {
    var tween = get9(this.node(), id5).tween;
    for (var i = 0, n = tween.length, t; i < n; ++i) {
      if ((t = tween[i]).name === name2) {
        return t.value;
      }
    }
    return null;
  }
  return this.each((value == null ? tweenRemove4 : tweenFunction4)(id5, name2, value));
}
function tweenValue4(transition5, name2, value) {
  var id5 = transition5._id;
  transition5.each(function() {
    var schedule = set9(this, id5);
    (schedule.value || (schedule.value = {}))[name2] = value.apply(this, arguments);
  });
  return function(node2) {
    return get9(node2, id5).value[name2];
  };
}
var init_tween = __esm({
  "node_modules/d3-transition/src/transition/tween.js"() {
    init_schedule();
  }
});

// node_modules/d3-transition/src/transition/interpolate.js
function interpolate_default5(a3, b) {
  var c7;
  return (typeof b === "number" ? number_default7 : b instanceof color6 ? rgb_default7 : (c7 = color6(b)) ? (b = c7, rgb_default7) : string_default6)(a3, b);
}
var init_interpolate = __esm({
  "node_modules/d3-transition/src/transition/interpolate.js"() {
    init_src6();
    init_src7();
  }
});

// node_modules/d3-transition/src/transition/attr.js
function attrRemove8(name2) {
  return function() {
    this.removeAttribute(name2);
  };
}
function attrRemoveNS8(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant8(name2, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttribute(name2);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrConstantNS8(fullname, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttributeNS(fullname.space, fullname.local);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrFunction8(name2, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttribute(name2);
    string0 = this.getAttribute(name2);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attrFunctionNS8(fullname, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttributeNS(fullname.space, fullname.local);
    string0 = this.getAttributeNS(fullname.space, fullname.local);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attr_default8(name2, value) {
  var fullname = namespace_default4(name2), i = fullname === "transform" ? interpolateTransformSvg6 : interpolate_default5;
  return this.attrTween(name2, typeof value === "function" ? (fullname.local ? attrFunctionNS8 : attrFunction8)(fullname, i, tweenValue4(this, "attr." + name2, value)) : value == null ? (fullname.local ? attrRemoveNS8 : attrRemove8)(fullname) : (fullname.local ? attrConstantNS8 : attrConstant8)(fullname, i, value));
}
var init_attr2 = __esm({
  "node_modules/d3-transition/src/transition/attr.js"() {
    init_src7();
    init_src4();
    init_tween();
    init_interpolate();
  }
});

// node_modules/d3-transition/src/transition/attrTween.js
function attrInterpolate4(name2, i) {
  return function(t) {
    this.setAttribute(name2, i.call(this, t));
  };
}
function attrInterpolateNS4(fullname, i) {
  return function(t) {
    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));
  };
}
function attrTweenNS4(fullname, value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && attrInterpolateNS4(fullname, i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function attrTween4(name2, value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && attrInterpolate4(name2, i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function attrTween_default4(name2, value) {
  var key = "attr." + name2;
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  var fullname = namespace_default4(name2);
  return this.tween(key, (fullname.local ? attrTweenNS4 : attrTween4)(fullname, value));
}
var init_attrTween = __esm({
  "node_modules/d3-transition/src/transition/attrTween.js"() {
    init_src4();
  }
});

// node_modules/d3-transition/src/transition/delay.js
function delayFunction4(id5, value) {
  return function() {
    init4(this, id5).delay = +value.apply(this, arguments);
  };
}
function delayConstant4(id5, value) {
  return value = +value, function() {
    init4(this, id5).delay = value;
  };
}
function delay_default4(value) {
  var id5 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? delayFunction4 : delayConstant4)(id5, value)) : get9(this.node(), id5).delay;
}
var init_delay = __esm({
  "node_modules/d3-transition/src/transition/delay.js"() {
    init_schedule();
  }
});

// node_modules/d3-transition/src/transition/duration.js
function durationFunction4(id5, value) {
  return function() {
    set9(this, id5).duration = +value.apply(this, arguments);
  };
}
function durationConstant4(id5, value) {
  return value = +value, function() {
    set9(this, id5).duration = value;
  };
}
function duration_default4(value) {
  var id5 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? durationFunction4 : durationConstant4)(id5, value)) : get9(this.node(), id5).duration;
}
var init_duration = __esm({
  "node_modules/d3-transition/src/transition/duration.js"() {
    init_schedule();
  }
});

// node_modules/d3-transition/src/transition/ease.js
function easeConstant4(id5, value) {
  if (typeof value !== "function")
    throw new Error();
  return function() {
    set9(this, id5).ease = value;
  };
}
function ease_default4(value) {
  var id5 = this._id;
  return arguments.length ? this.each(easeConstant4(id5, value)) : get9(this.node(), id5).ease;
}
var init_ease = __esm({
  "node_modules/d3-transition/src/transition/ease.js"() {
    init_schedule();
  }
});

// node_modules/d3-transition/src/transition/filter.js
function filter_default8(match2) {
  if (typeof match2 !== "function")
    match2 = matcher_default4(match2);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = [], node2, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && match2.call(node2, node2.__data__, i, group5)) {
        subgroup.push(node2);
      }
    }
  }
  return new Transition4(subgroups, this._parents, this._name, this._id);
}
var init_filter2 = __esm({
  "node_modules/d3-transition/src/transition/filter.js"() {
    init_src4();
    init_transition2();
  }
});

// node_modules/d3-transition/src/transition/merge.js
function merge_default9(transition5) {
  if (transition5._id !== this._id)
    throw new Error();
  for (var groups0 = this._groups, groups1 = transition5._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge6 = merges[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group0[i] || group1[i]) {
        merge6[i] = node2;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Transition4(merges, this._parents, this._name, this._id);
}
var init_merge3 = __esm({
  "node_modules/d3-transition/src/transition/merge.js"() {
    init_transition2();
  }
});

// node_modules/d3-transition/src/transition/on.js
function start4(name2) {
  return (name2 + "").trim().split(/^|\s+/).every(function(t) {
    var i = t.indexOf(".");
    if (i >= 0)
      t = t.slice(0, i);
    return !t || t === "start";
  });
}
function onFunction4(id5, name2, listener) {
  var on0, on1, sit = start4(name2) ? init4 : set9;
  return function() {
    var schedule = sit(this, id5), on = schedule.on;
    if (on !== on0)
      (on1 = (on0 = on).copy()).on(name2, listener);
    schedule.on = on1;
  };
}
function on_default8(name2, listener) {
  var id5 = this._id;
  return arguments.length < 2 ? get9(this.node(), id5).on.on(name2) : this.each(onFunction4(id5, name2, listener));
}
var init_on2 = __esm({
  "node_modules/d3-transition/src/transition/on.js"() {
    init_schedule();
  }
});

// node_modules/d3-transition/src/transition/remove.js
function removeFunction4(id5) {
  return function() {
    var parent = this.parentNode;
    for (var i in this.__transition)
      if (+i !== id5)
        return;
    if (parent)
      parent.removeChild(this);
  };
}
function remove_default10() {
  return this.on("end.remove", removeFunction4(this._id));
}
var init_remove2 = __esm({
  "node_modules/d3-transition/src/transition/remove.js"() {
  }
});

// node_modules/d3-transition/src/transition/select.js
function select_default12(select) {
  var name2 = this._name, id5 = this._id;
  if (typeof select !== "function")
    select = selector_default4(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = new Array(n), node2, subnode, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && (subnode = select.call(node2, node2.__data__, i, group5))) {
        if ("__data__" in node2)
          subnode.__data__ = node2.__data__;
        subgroup[i] = subnode;
        schedule_default4(subgroup[i], name2, id5, i, subgroup, get9(node2, id5));
      }
    }
  }
  return new Transition4(subgroups, this._parents, name2, id5);
}
var init_select3 = __esm({
  "node_modules/d3-transition/src/transition/select.js"() {
    init_src4();
    init_transition2();
    init_schedule();
  }
});

// node_modules/d3-transition/src/transition/selectAll.js
function selectAll_default12(select) {
  var name2 = this._name, id5 = this._id;
  if (typeof select !== "function")
    select = selectorAll_default4(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = [], parents2 = [], j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        for (var children4 = select.call(node2, node2.__data__, i, group5), child, inherit5 = get9(node2, id5), k3 = 0, l = children4.length; k3 < l; ++k3) {
          if (child = children4[k3]) {
            schedule_default4(child, name2, id5, k3, children4, inherit5);
          }
        }
        subgroups.push(children4);
        parents2.push(node2);
      }
    }
  }
  return new Transition4(subgroups, parents2, name2, id5);
}
var init_selectAll3 = __esm({
  "node_modules/d3-transition/src/transition/selectAll.js"() {
    init_src4();
    init_transition2();
    init_schedule();
  }
});

// node_modules/d3-transition/src/transition/selection.js
function selection_default8() {
  return new Selection8(this._groups, this._parents);
}
var Selection8;
var init_selection2 = __esm({
  "node_modules/d3-transition/src/transition/selection.js"() {
    init_src4();
    Selection8 = selection_default7.prototype.constructor;
  }
});

// node_modules/d3-transition/src/transition/style.js
function styleNull4(name2, interpolate) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue4(this, name2), string1 = (this.style.removeProperty(name2), styleValue4(this, name2));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);
  };
}
function styleRemove8(name2) {
  return function() {
    this.style.removeProperty(name2);
  };
}
function styleConstant8(name2, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = styleValue4(this, name2);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function styleFunction8(name2, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue4(this, name2), value1 = value(this), string1 = value1 + "";
    if (value1 == null)
      string1 = value1 = (this.style.removeProperty(name2), styleValue4(this, name2));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function styleMaybeRemove4(id5, name2) {
  var on0, on1, listener0, key = "style." + name2, event2 = "end." + key, remove5;
  return function() {
    var schedule = set9(this, id5), on = schedule.on, listener = schedule.value[key] == null ? remove5 || (remove5 = styleRemove8(name2)) : void 0;
    if (on !== on0 || listener0 !== listener)
      (on1 = (on0 = on).copy()).on(event2, listener0 = listener);
    schedule.on = on1;
  };
}
function style_default8(name2, value, priority) {
  var i = (name2 += "") === "transform" ? interpolateTransformCss6 : interpolate_default5;
  return value == null ? this.styleTween(name2, styleNull4(name2, i)).on("end.style." + name2, styleRemove8(name2)) : typeof value === "function" ? this.styleTween(name2, styleFunction8(name2, i, tweenValue4(this, "style." + name2, value))).each(styleMaybeRemove4(this._id, name2)) : this.styleTween(name2, styleConstant8(name2, i, value), priority).on("end.style." + name2, null);
}
var init_style2 = __esm({
  "node_modules/d3-transition/src/transition/style.js"() {
    init_src7();
    init_src4();
    init_schedule();
    init_tween();
    init_interpolate();
  }
});

// node_modules/d3-transition/src/transition/styleTween.js
function styleInterpolate4(name2, i, priority) {
  return function(t) {
    this.style.setProperty(name2, i.call(this, t), priority);
  };
}
function styleTween4(name2, value, priority) {
  var t, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t = (i0 = i) && styleInterpolate4(name2, i, priority);
    return t;
  }
  tween._value = value;
  return tween;
}
function styleTween_default4(name2, value, priority) {
  var key = "style." + (name2 += "");
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, styleTween4(name2, value, priority == null ? "" : priority));
}
var init_styleTween = __esm({
  "node_modules/d3-transition/src/transition/styleTween.js"() {
  }
});

// node_modules/d3-transition/src/transition/text.js
function textConstant8(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction8(value) {
  return function() {
    var value1 = value(this);
    this.textContent = value1 == null ? "" : value1;
  };
}
function text_default9(value) {
  return this.tween("text", typeof value === "function" ? textFunction8(tweenValue4(this, "text", value)) : textConstant8(value == null ? "" : value + ""));
}
var init_text2 = __esm({
  "node_modules/d3-transition/src/transition/text.js"() {
    init_tween();
  }
});

// node_modules/d3-transition/src/transition/textTween.js
function textInterpolate4(i) {
  return function(t) {
    this.textContent = i.call(this, t);
  };
}
function textTween4(value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && textInterpolate4(i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function textTween_default4(value) {
  var key = "text";
  if (arguments.length < 1)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, textTween4(value));
}
var init_textTween = __esm({
  "node_modules/d3-transition/src/transition/textTween.js"() {
  }
});

// node_modules/d3-transition/src/transition/transition.js
function transition_default7() {
  var name2 = this._name, id0 = this._id, id1 = newId4();
  for (var groups5 = this._groups, m = groups5.length, j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        var inherit5 = get9(node2, id0);
        schedule_default4(node2, name2, id1, i, group5, {
          time: inherit5.time + inherit5.delay + inherit5.duration,
          delay: 0,
          duration: inherit5.duration,
          ease: inherit5.ease
        });
      }
    }
  }
  return new Transition4(groups5, this._parents, name2, id1);
}
var init_transition = __esm({
  "node_modules/d3-transition/src/transition/transition.js"() {
    init_transition2();
    init_schedule();
  }
});

// node_modules/d3-transition/src/transition/end.js
function end_default4() {
  var on0, on1, that = this, id5 = that._id, size = that.size();
  return new Promise(function(resolve, reject) {
    var cancel = { value: reject }, end2 = { value: function() {
      if (--size === 0)
        resolve();
    } };
    that.each(function() {
      var schedule = set9(this, id5), on = schedule.on;
      if (on !== on0) {
        on1 = (on0 = on).copy();
        on1._.cancel.push(cancel);
        on1._.interrupt.push(cancel);
        on1._.end.push(end2);
      }
      schedule.on = on1;
    });
  });
}
var init_end = __esm({
  "node_modules/d3-transition/src/transition/end.js"() {
    init_schedule();
  }
});

// node_modules/d3-transition/src/transition/index.js
function Transition4(groups5, parents2, name2, id5) {
  this._groups = groups5;
  this._parents = parents2;
  this._name = name2;
  this._id = id5;
}
function transition4(name2) {
  return selection_default7().transition(name2);
}
function newId4() {
  return ++id4;
}
var id4, selection_prototype4;
var init_transition2 = __esm({
  "node_modules/d3-transition/src/transition/index.js"() {
    init_src4();
    init_attr2();
    init_attrTween();
    init_delay();
    init_duration();
    init_ease();
    init_filter2();
    init_merge3();
    init_on2();
    init_remove2();
    init_select3();
    init_selectAll3();
    init_selection2();
    init_style2();
    init_styleTween();
    init_text2();
    init_textTween();
    init_transition();
    init_tween();
    init_end();
    id4 = 0;
    selection_prototype4 = selection_default7.prototype;
    Transition4.prototype = transition4.prototype = {
      constructor: Transition4,
      select: select_default12,
      selectAll: selectAll_default12,
      filter: filter_default8,
      merge: merge_default9,
      selection: selection_default8,
      transition: transition_default7,
      call: selection_prototype4.call,
      nodes: selection_prototype4.nodes,
      node: selection_prototype4.node,
      size: selection_prototype4.size,
      empty: selection_prototype4.empty,
      each: selection_prototype4.each,
      on: on_default8,
      attr: attr_default8,
      attrTween: attrTween_default4,
      style: style_default8,
      styleTween: styleTween_default4,
      text: text_default9,
      textTween: textTween_default4,
      remove: remove_default10,
      tween: tween_default4,
      delay: delay_default4,
      duration: duration_default4,
      ease: ease_default4,
      end: end_default4
    };
  }
});

// node_modules/d3-ease/src/linear.js
function linear11(t) {
  return +t;
}
var init_linear = __esm({
  "node_modules/d3-ease/src/linear.js"() {
  }
});

// node_modules/d3-ease/src/quad.js
function quadIn4(t) {
  return t * t;
}
function quadOut4(t) {
  return t * (2 - t);
}
function quadInOut4(t) {
  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
}
var init_quad = __esm({
  "node_modules/d3-ease/src/quad.js"() {
  }
});

// node_modules/d3-ease/src/cubic.js
function cubicIn4(t) {
  return t * t * t;
}
function cubicOut4(t) {
  return --t * t * t + 1;
}
function cubicInOut4(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}
var init_cubic = __esm({
  "node_modules/d3-ease/src/cubic.js"() {
  }
});

// node_modules/d3-ease/src/poly.js
var exponent4, polyIn4, polyOut4, polyInOut4;
var init_poly = __esm({
  "node_modules/d3-ease/src/poly.js"() {
    exponent4 = 3;
    polyIn4 = function custom37(e) {
      e = +e;
      function polyIn5(t) {
        return Math.pow(t, e);
      }
      polyIn5.exponent = custom37;
      return polyIn5;
    }(exponent4);
    polyOut4 = function custom38(e) {
      e = +e;
      function polyOut5(t) {
        return 1 - Math.pow(1 - t, e);
      }
      polyOut5.exponent = custom38;
      return polyOut5;
    }(exponent4);
    polyInOut4 = function custom39(e) {
      e = +e;
      function polyInOut5(t) {
        return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
      }
      polyInOut5.exponent = custom39;
      return polyInOut5;
    }(exponent4);
  }
});

// node_modules/d3-ease/src/sin.js
function sinIn4(t) {
  return +t === 1 ? 1 : 1 - Math.cos(t * halfPi7);
}
function sinOut4(t) {
  return Math.sin(t * halfPi7);
}
function sinInOut4(t) {
  return (1 - Math.cos(pi10 * t)) / 2;
}
var pi10, halfPi7;
var init_sin = __esm({
  "node_modules/d3-ease/src/sin.js"() {
    pi10 = Math.PI;
    halfPi7 = pi10 / 2;
  }
});

// node_modules/d3-ease/src/math.js
function tpmt4(x7) {
  return (Math.pow(2, -10 * x7) - 9765625e-10) * 1.0009775171065494;
}
var init_math2 = __esm({
  "node_modules/d3-ease/src/math.js"() {
  }
});

// node_modules/d3-ease/src/exp.js
function expIn4(t) {
  return tpmt4(1 - +t);
}
function expOut4(t) {
  return 1 - tpmt4(t);
}
function expInOut4(t) {
  return ((t *= 2) <= 1 ? tpmt4(1 - t) : 2 - tpmt4(t - 1)) / 2;
}
var init_exp = __esm({
  "node_modules/d3-ease/src/exp.js"() {
    init_math2();
  }
});

// node_modules/d3-ease/src/circle.js
function circleIn4(t) {
  return 1 - Math.sqrt(1 - t * t);
}
function circleOut4(t) {
  return Math.sqrt(1 - --t * t);
}
function circleInOut4(t) {
  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;
}
var init_circle = __esm({
  "node_modules/d3-ease/src/circle.js"() {
  }
});

// node_modules/d3-ease/src/bounce.js
function bounceIn4(t) {
  return 1 - bounceOut4(1 - t);
}
function bounceOut4(t) {
  return (t = +t) < b14 ? b04 * t * t : t < b34 ? b04 * (t -= b24) * t + b44 : t < b64 ? b04 * (t -= b54) * t + b74 : b04 * (t -= b84) * t + b94;
}
function bounceInOut4(t) {
  return ((t *= 2) <= 1 ? 1 - bounceOut4(1 - t) : bounceOut4(t - 1) + 1) / 2;
}
var b14, b24, b34, b44, b54, b64, b74, b84, b94, b04;
var init_bounce = __esm({
  "node_modules/d3-ease/src/bounce.js"() {
    b14 = 4 / 11;
    b24 = 6 / 11;
    b34 = 8 / 11;
    b44 = 3 / 4;
    b54 = 9 / 11;
    b64 = 10 / 11;
    b74 = 15 / 16;
    b84 = 21 / 22;
    b94 = 63 / 64;
    b04 = 1 / b14 / b14;
  }
});

// node_modules/d3-ease/src/back.js
var overshoot4, backIn4, backOut4, backInOut4;
var init_back = __esm({
  "node_modules/d3-ease/src/back.js"() {
    overshoot4 = 1.70158;
    backIn4 = function custom40(s3) {
      s3 = +s3;
      function backIn5(t) {
        return (t = +t) * t * (s3 * (t - 1) + t);
      }
      backIn5.overshoot = custom40;
      return backIn5;
    }(overshoot4);
    backOut4 = function custom41(s3) {
      s3 = +s3;
      function backOut5(t) {
        return --t * t * ((t + 1) * s3 + t) + 1;
      }
      backOut5.overshoot = custom41;
      return backOut5;
    }(overshoot4);
    backInOut4 = function custom42(s3) {
      s3 = +s3;
      function backInOut5(t) {
        return ((t *= 2) < 1 ? t * t * ((s3 + 1) * t - s3) : (t -= 2) * t * ((s3 + 1) * t + s3) + 2) / 2;
      }
      backInOut5.overshoot = custom42;
      return backInOut5;
    }(overshoot4);
  }
});

// node_modules/d3-ease/src/elastic.js
var tau11, amplitude4, period4, elasticIn4, elasticOut4, elasticInOut4;
var init_elastic = __esm({
  "node_modules/d3-ease/src/elastic.js"() {
    init_math2();
    tau11 = 2 * Math.PI;
    amplitude4 = 1;
    period4 = 0.3;
    elasticIn4 = function custom43(a3, p) {
      var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau11);
      function elasticIn5(t) {
        return a3 * tpmt4(- --t) * Math.sin((s3 - t) / p);
      }
      elasticIn5.amplitude = function(a4) {
        return custom43(a4, p * tau11);
      };
      elasticIn5.period = function(p2) {
        return custom43(a3, p2);
      };
      return elasticIn5;
    }(amplitude4, period4);
    elasticOut4 = function custom44(a3, p) {
      var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau11);
      function elasticOut5(t) {
        return 1 - a3 * tpmt4(t = +t) * Math.sin((t + s3) / p);
      }
      elasticOut5.amplitude = function(a4) {
        return custom44(a4, p * tau11);
      };
      elasticOut5.period = function(p2) {
        return custom44(a3, p2);
      };
      return elasticOut5;
    }(amplitude4, period4);
    elasticInOut4 = function custom45(a3, p) {
      var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau11);
      function elasticInOut5(t) {
        return ((t = t * 2 - 1) < 0 ? a3 * tpmt4(-t) * Math.sin((s3 - t) / p) : 2 - a3 * tpmt4(t) * Math.sin((s3 + t) / p)) / 2;
      }
      elasticInOut5.amplitude = function(a4) {
        return custom45(a4, p * tau11);
      };
      elasticInOut5.period = function(p2) {
        return custom45(a3, p2);
      };
      return elasticInOut5;
    }(amplitude4, period4);
  }
});

// node_modules/d3-ease/src/index.js
var init_src9 = __esm({
  "node_modules/d3-ease/src/index.js"() {
    init_linear();
    init_quad();
    init_cubic();
    init_poly();
    init_sin();
    init_exp();
    init_circle();
    init_bounce();
    init_back();
    init_elastic();
  }
});

// node_modules/d3-transition/src/selection/transition.js
function inherit4(node2, id5) {
  var timing;
  while (!(timing = node2.__transition) || !(timing = timing[id5])) {
    if (!(node2 = node2.parentNode)) {
      return defaultTiming4.time = now5(), defaultTiming4;
    }
  }
  return timing;
}
function transition_default8(name2) {
  var id5, timing;
  if (name2 instanceof Transition4) {
    id5 = name2._id, name2 = name2._name;
  } else {
    id5 = newId4(), (timing = defaultTiming4).time = now5(), name2 = name2 == null ? null : name2 + "";
  }
  for (var groups5 = this._groups, m = groups5.length, j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        schedule_default4(node2, name2, id5, i, group5, timing || inherit4(node2, id5));
      }
    }
  }
  return new Transition4(groups5, this._parents, name2, id5);
}
var defaultTiming4;
var init_transition3 = __esm({
  "node_modules/d3-transition/src/selection/transition.js"() {
    init_transition2();
    init_schedule();
    init_src9();
    init_src8();
    defaultTiming4 = {
      time: null,
      delay: 0,
      duration: 250,
      ease: cubicInOut4
    };
  }
});

// node_modules/d3-transition/src/selection/index.js
var init_selection3 = __esm({
  "node_modules/d3-transition/src/selection/index.js"() {
    init_src4();
    init_interrupt2();
    init_transition3();
    selection_default7.prototype.interrupt = interrupt_default8;
    selection_default7.prototype.transition = transition_default8;
  }
});

// node_modules/d3-transition/src/active.js
function active_default4(node2, name2) {
  var schedules = node2.__transition, schedule, i;
  if (schedules) {
    name2 = name2 == null ? null : name2 + "";
    for (i in schedules) {
      if ((schedule = schedules[i]).state > SCHEDULED4 && schedule.name === name2) {
        return new Transition4([[node2]], root5, name2, +i);
      }
    }
  }
  return null;
}
var root5;
var init_active = __esm({
  "node_modules/d3-transition/src/active.js"() {
    init_transition2();
    init_schedule();
    root5 = [null];
  }
});

// node_modules/d3-transition/src/index.js
var init_src10 = __esm({
  "node_modules/d3-transition/src/index.js"() {
    init_selection3();
    init_transition2();
    init_active();
    init_interrupt();
  }
});

// node_modules/dagre-d3/node_modules/d3-brush/src/constant.js
function constant_default24(x7) {
  return function() {
    return x7;
  };
}
var init_constant5 = __esm({
  "node_modules/dagre-d3/node_modules/d3-brush/src/constant.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-brush/src/event.js
function event_default(target, type4, selection5) {
  this.target = target;
  this.type = type4;
  this.selection = selection5;
}
var init_event2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-brush/src/event.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-brush/src/noevent.js
function nopropagation7() {
  event.stopImmediatePropagation();
}
function noevent_default7() {
  event.preventDefault();
  event.stopImmediatePropagation();
}
var init_noevent2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-brush/src/noevent.js"() {
    init_src4();
  }
});

// node_modules/dagre-d3/node_modules/d3-brush/src/brush.js
function number12(e) {
  return [+e[0], +e[1]];
}
function number23(e) {
  return [number12(e[0]), number12(e[1])];
}
function toucher(identifier2) {
  return function(target) {
    return touch_default(target, event.touches, identifier2);
  };
}
function type2(t) {
  return { type: t };
}
function defaultFilter2() {
  return !event.ctrlKey && !event.button;
}
function defaultExtent() {
  var svg4 = this.ownerSVGElement || this;
  if (svg4.hasAttribute("viewBox")) {
    svg4 = svg4.viewBox.baseVal;
    return [[svg4.x, svg4.y], [svg4.x + svg4.width, svg4.y + svg4.height]];
  }
  return [[0, 0], [svg4.width.baseVal.value, svg4.height.baseVal.value]];
}
function defaultTouchable2() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function local5(node2) {
  while (!node2.__brush)
    if (!(node2 = node2.parentNode))
      return;
  return node2.__brush;
}
function empty5(extent5) {
  return extent5[0][0] === extent5[1][0] || extent5[0][1] === extent5[1][1];
}
function brushSelection2(node2) {
  var state = node2.__brush;
  return state ? state.dim.output(state.selection) : null;
}
function brushX2() {
  return brush(X2);
}
function brushY2() {
  return brush(Y2);
}
function brush_default2() {
  return brush(XY2);
}
function brush(dim) {
  var extent5 = defaultExtent, filter8 = defaultFilter2, touchable = defaultTouchable2, keys = true, listeners = dispatch_default8("start", "brush", "end"), handleSize = 6, touchending;
  function brush2(group5) {
    var overlay = group5.property("__brush", initialize2).selectAll(".overlay").data([type2("overlay")]);
    overlay.enter().append("rect").attr("class", "overlay").attr("pointer-events", "all").attr("cursor", cursors.overlay).merge(overlay).each(function() {
      var extent6 = local5(this).extent;
      select_default11(this).attr("x", extent6[0][0]).attr("y", extent6[0][1]).attr("width", extent6[1][0] - extent6[0][0]).attr("height", extent6[1][1] - extent6[0][1]);
    });
    group5.selectAll(".selection").data([type2("selection")]).enter().append("rect").attr("class", "selection").attr("cursor", cursors.selection).attr("fill", "#777").attr("fill-opacity", 0.3).attr("stroke", "#fff").attr("shape-rendering", "crispEdges");
    var handle = group5.selectAll(".handle").data(dim.handles, function(d) {
      return d.type;
    });
    handle.exit().remove();
    handle.enter().append("rect").attr("class", function(d) {
      return "handle handle--" + d.type;
    }).attr("cursor", function(d) {
      return cursors[d.type];
    });
    group5.each(redraw).attr("fill", "none").attr("pointer-events", "all").on("mousedown.brush", started).filter(touchable).on("touchstart.brush", started).on("touchmove.brush", touchmoved).on("touchend.brush touchcancel.brush", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  brush2.move = function(group5, selection5) {
    if (group5.selection) {
      group5.on("start.brush", function() {
        emitter(this, arguments).beforestart().start();
      }).on("interrupt.brush end.brush", function() {
        emitter(this, arguments).end();
      }).tween("brush", function() {
        var that = this, state = that.__brush, emit = emitter(that, arguments), selection0 = state.selection, selection1 = dim.input(typeof selection5 === "function" ? selection5.apply(this, arguments) : selection5, state.extent), i = value_default6(selection0, selection1);
        function tween(t) {
          state.selection = t === 1 && selection1 === null ? null : i(t);
          redraw.call(that);
          emit.brush();
        }
        return selection0 !== null && selection1 !== null ? tween : tween(1);
      });
    } else {
      group5.each(function() {
        var that = this, args = arguments, state = that.__brush, selection1 = dim.input(typeof selection5 === "function" ? selection5.apply(that, args) : selection5, state.extent), emit = emitter(that, args).beforestart();
        interrupt_default7(that);
        state.selection = selection1 === null ? null : selection1;
        redraw.call(that);
        emit.start().brush().end();
      });
    }
  };
  brush2.clear = function(group5) {
    brush2.move(group5, null);
  };
  function redraw() {
    var group5 = select_default11(this), selection5 = local5(this).selection;
    if (selection5) {
      group5.selectAll(".selection").style("display", null).attr("x", selection5[0][0]).attr("y", selection5[0][1]).attr("width", selection5[1][0] - selection5[0][0]).attr("height", selection5[1][1] - selection5[0][1]);
      group5.selectAll(".handle").style("display", null).attr("x", function(d) {
        return d.type[d.type.length - 1] === "e" ? selection5[1][0] - handleSize / 2 : selection5[0][0] - handleSize / 2;
      }).attr("y", function(d) {
        return d.type[0] === "s" ? selection5[1][1] - handleSize / 2 : selection5[0][1] - handleSize / 2;
      }).attr("width", function(d) {
        return d.type === "n" || d.type === "s" ? selection5[1][0] - selection5[0][0] + handleSize : handleSize;
      }).attr("height", function(d) {
        return d.type === "e" || d.type === "w" ? selection5[1][1] - selection5[0][1] + handleSize : handleSize;
      });
    } else {
      group5.selectAll(".selection,.handle").style("display", "none").attr("x", null).attr("y", null).attr("width", null).attr("height", null);
    }
  }
  function emitter(that, args, clean) {
    var emit = that.__brush.emitter;
    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);
  }
  function Emitter(that, args, clean) {
    this.that = that;
    this.args = args;
    this.state = that.__brush;
    this.active = 0;
    this.clean = clean;
  }
  Emitter.prototype = {
    beforestart: function() {
      if (++this.active === 1)
        this.state.emitter = this, this.starting = true;
      return this;
    },
    start: function() {
      if (this.starting)
        this.starting = false, this.emit("start");
      else
        this.emit("brush");
      return this;
    },
    brush: function() {
      this.emit("brush");
      return this;
    },
    end: function() {
      if (--this.active === 0)
        delete this.state.emitter, this.emit("end");
      return this;
    },
    emit: function(type4) {
      customEvent(new event_default(brush2, type4, dim.output(this.state.selection)), listeners.apply, listeners, [type4, this.that, this.args]);
    }
  };
  function started() {
    if (touchending && !event.touches)
      return;
    if (!filter8.apply(this, arguments))
      return;
    var that = this, type4 = event.target.__data__.type, mode5 = (keys && event.metaKey ? type4 = "overlay" : type4) === "selection" ? MODE_DRAG : keys && event.altKey ? MODE_CENTER : MODE_HANDLE, signX = dim === Y2 ? null : signsX[type4], signY = dim === X2 ? null : signsY[type4], state = local5(that), extent6 = state.extent, selection5 = state.selection, W = extent6[0][0], w0, w1, N = extent6[0][1], n0, n1, E7 = extent6[1][0], e0, e1, S = extent6[1][1], s0, s1, dx = 0, dy = 0, moving, shifting = signX && signY && keys && event.shiftKey, lockX, lockY, pointer = event.touches ? toucher(event.changedTouches[0].identifier) : mouse_default, point0 = pointer(that), point12 = point0, emit = emitter(that, arguments, true).beforestart();
    if (type4 === "overlay") {
      if (selection5)
        moving = true;
      state.selection = selection5 = [
        [w0 = dim === Y2 ? W : point0[0], n0 = dim === X2 ? N : point0[1]],
        [e0 = dim === Y2 ? E7 : w0, s0 = dim === X2 ? S : n0]
      ];
    } else {
      w0 = selection5[0][0];
      n0 = selection5[0][1];
      e0 = selection5[1][0];
      s0 = selection5[1][1];
    }
    w1 = w0;
    n1 = n0;
    e1 = e0;
    s1 = s0;
    var group5 = select_default11(that).attr("pointer-events", "none");
    var overlay = group5.selectAll(".overlay").attr("cursor", cursors[type4]);
    if (event.touches) {
      emit.moved = moved;
      emit.ended = ended;
    } else {
      var view = select_default11(event.view).on("mousemove.brush", moved, true).on("mouseup.brush", ended, true);
      if (keys)
        view.on("keydown.brush", keydowned, true).on("keyup.brush", keyupped, true);
      nodrag_default4(event.view);
    }
    nopropagation7();
    interrupt_default7(that);
    redraw.call(that);
    emit.start();
    function moved() {
      var point1 = pointer(that);
      if (shifting && !lockX && !lockY) {
        if (Math.abs(point1[0] - point12[0]) > Math.abs(point1[1] - point12[1]))
          lockY = true;
        else
          lockX = true;
      }
      point12 = point1;
      moving = true;
      noevent_default7();
      move();
    }
    function move() {
      var t;
      dx = point12[0] - point0[0];
      dy = point12[1] - point0[1];
      switch (mode5) {
        case MODE_SPACE:
        case MODE_DRAG: {
          if (signX)
            dx = Math.max(W - w0, Math.min(E7 - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;
          if (signY)
            dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;
          break;
        }
        case MODE_HANDLE: {
          if (signX < 0)
            dx = Math.max(W - w0, Math.min(E7 - w0, dx)), w1 = w0 + dx, e1 = e0;
          else if (signX > 0)
            dx = Math.max(W - e0, Math.min(E7 - e0, dx)), w1 = w0, e1 = e0 + dx;
          if (signY < 0)
            dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;
          else if (signY > 0)
            dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;
          break;
        }
        case MODE_CENTER: {
          if (signX)
            w1 = Math.max(W, Math.min(E7, w0 - dx * signX)), e1 = Math.max(W, Math.min(E7, e0 + dx * signX));
          if (signY)
            n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));
          break;
        }
      }
      if (e1 < w1) {
        signX *= -1;
        t = w0, w0 = e0, e0 = t;
        t = w1, w1 = e1, e1 = t;
        if (type4 in flipX)
          overlay.attr("cursor", cursors[type4 = flipX[type4]]);
      }
      if (s1 < n1) {
        signY *= -1;
        t = n0, n0 = s0, s0 = t;
        t = n1, n1 = s1, s1 = t;
        if (type4 in flipY)
          overlay.attr("cursor", cursors[type4 = flipY[type4]]);
      }
      if (state.selection)
        selection5 = state.selection;
      if (lockX)
        w1 = selection5[0][0], e1 = selection5[1][0];
      if (lockY)
        n1 = selection5[0][1], s1 = selection5[1][1];
      if (selection5[0][0] !== w1 || selection5[0][1] !== n1 || selection5[1][0] !== e1 || selection5[1][1] !== s1) {
        state.selection = [[w1, n1], [e1, s1]];
        redraw.call(that);
        emit.brush();
      }
    }
    function ended() {
      nopropagation7();
      if (event.touches) {
        if (event.touches.length)
          return;
        if (touchending)
          clearTimeout(touchending);
        touchending = setTimeout(function() {
          touchending = null;
        }, 500);
      } else {
        yesdrag4(event.view, moving);
        view.on("keydown.brush keyup.brush mousemove.brush mouseup.brush", null);
      }
      group5.attr("pointer-events", "all");
      overlay.attr("cursor", cursors.overlay);
      if (state.selection)
        selection5 = state.selection;
      if (empty5(selection5))
        state.selection = null, redraw.call(that);
      emit.end();
    }
    function keydowned() {
      switch (event.keyCode) {
        case 16: {
          shifting = signX && signY;
          break;
        }
        case 18: {
          if (mode5 === MODE_HANDLE) {
            if (signX)
              e0 = e1 - dx * signX, w0 = w1 + dx * signX;
            if (signY)
              s0 = s1 - dy * signY, n0 = n1 + dy * signY;
            mode5 = MODE_CENTER;
            move();
          }
          break;
        }
        case 32: {
          if (mode5 === MODE_HANDLE || mode5 === MODE_CENTER) {
            if (signX < 0)
              e0 = e1 - dx;
            else if (signX > 0)
              w0 = w1 - dx;
            if (signY < 0)
              s0 = s1 - dy;
            else if (signY > 0)
              n0 = n1 - dy;
            mode5 = MODE_SPACE;
            overlay.attr("cursor", cursors.selection);
            move();
          }
          break;
        }
        default:
          return;
      }
      noevent_default7();
    }
    function keyupped() {
      switch (event.keyCode) {
        case 16: {
          if (shifting) {
            lockX = lockY = shifting = false;
            move();
          }
          break;
        }
        case 18: {
          if (mode5 === MODE_CENTER) {
            if (signX < 0)
              e0 = e1;
            else if (signX > 0)
              w0 = w1;
            if (signY < 0)
              s0 = s1;
            else if (signY > 0)
              n0 = n1;
            mode5 = MODE_HANDLE;
            move();
          }
          break;
        }
        case 32: {
          if (mode5 === MODE_SPACE) {
            if (event.altKey) {
              if (signX)
                e0 = e1 - dx * signX, w0 = w1 + dx * signX;
              if (signY)
                s0 = s1 - dy * signY, n0 = n1 + dy * signY;
              mode5 = MODE_CENTER;
            } else {
              if (signX < 0)
                e0 = e1;
              else if (signX > 0)
                w0 = w1;
              if (signY < 0)
                s0 = s1;
              else if (signY > 0)
                n0 = n1;
              mode5 = MODE_HANDLE;
            }
            overlay.attr("cursor", cursors[type4]);
            move();
          }
          break;
        }
        default:
          return;
      }
      noevent_default7();
    }
  }
  function touchmoved() {
    emitter(this, arguments).moved();
  }
  function touchended() {
    emitter(this, arguments).ended();
  }
  function initialize2() {
    var state = this.__brush || { selection: null };
    state.extent = number23(extent5.apply(this, arguments));
    state.dim = dim;
    return state;
  }
  brush2.extent = function(_2) {
    return arguments.length ? (extent5 = typeof _2 === "function" ? _2 : constant_default24(number23(_2)), brush2) : extent5;
  };
  brush2.filter = function(_2) {
    return arguments.length ? (filter8 = typeof _2 === "function" ? _2 : constant_default24(!!_2), brush2) : filter8;
  };
  brush2.touchable = function(_2) {
    return arguments.length ? (touchable = typeof _2 === "function" ? _2 : constant_default24(!!_2), brush2) : touchable;
  };
  brush2.handleSize = function(_2) {
    return arguments.length ? (handleSize = +_2, brush2) : handleSize;
  };
  brush2.keyModifiers = function(_2) {
    return arguments.length ? (keys = !!_2, brush2) : keys;
  };
  brush2.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? brush2 : value;
  };
  return brush2;
}
var MODE_DRAG, MODE_SPACE, MODE_HANDLE, MODE_CENTER, X2, Y2, XY2, cursors, flipX, flipY, signsX, signsY;
var init_brush = __esm({
  "node_modules/dagre-d3/node_modules/d3-brush/src/brush.js"() {
    init_src3();
    init_src5();
    init_src7();
    init_src4();
    init_src10();
    init_constant5();
    init_event2();
    init_noevent2();
    MODE_DRAG = { name: "drag" };
    MODE_SPACE = { name: "space" };
    MODE_HANDLE = { name: "handle" };
    MODE_CENTER = { name: "center" };
    X2 = {
      name: "x",
      handles: ["w", "e"].map(type2),
      input: function(x7, e) {
        return x7 == null ? null : [[+x7[0], e[0][1]], [+x7[1], e[1][1]]];
      },
      output: function(xy) {
        return xy && [xy[0][0], xy[1][0]];
      }
    };
    Y2 = {
      name: "y",
      handles: ["n", "s"].map(type2),
      input: function(y7, e) {
        return y7 == null ? null : [[e[0][0], +y7[0]], [e[1][0], +y7[1]]];
      },
      output: function(xy) {
        return xy && [xy[0][1], xy[1][1]];
      }
    };
    XY2 = {
      name: "xy",
      handles: ["n", "w", "e", "s", "nw", "ne", "sw", "se"].map(type2),
      input: function(xy) {
        return xy == null ? null : number23(xy);
      },
      output: function(xy) {
        return xy;
      }
    };
    cursors = {
      overlay: "crosshair",
      selection: "move",
      n: "ns-resize",
      e: "ew-resize",
      s: "ns-resize",
      w: "ew-resize",
      nw: "nwse-resize",
      ne: "nesw-resize",
      se: "nwse-resize",
      sw: "nesw-resize"
    };
    flipX = {
      e: "w",
      w: "e",
      nw: "ne",
      ne: "nw",
      se: "sw",
      sw: "se"
    };
    flipY = {
      n: "s",
      s: "n",
      nw: "sw",
      ne: "se",
      se: "ne",
      sw: "nw"
    };
    signsX = {
      overlay: 1,
      selection: 1,
      n: null,
      e: 1,
      s: null,
      w: -1,
      nw: -1,
      ne: 1,
      se: 1,
      sw: -1
    };
    signsY = {
      overlay: 1,
      selection: 1,
      n: -1,
      e: null,
      s: 1,
      w: null,
      nw: -1,
      ne: -1,
      se: 1,
      sw: 1
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-brush/src/index.js
var init_src11 = __esm({
  "node_modules/dagre-d3/node_modules/d3-brush/src/index.js"() {
    init_brush();
  }
});

// node_modules/dagre-d3/node_modules/d3-chord/src/math.js
var cos4, sin4, pi11, halfPi8, tau12, max8;
var init_math3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-chord/src/math.js"() {
    cos4 = Math.cos;
    sin4 = Math.sin;
    pi11 = Math.PI;
    halfPi8 = pi11 / 2;
    tau12 = pi11 * 2;
    max8 = Math.max;
  }
});

// node_modules/dagre-d3/node_modules/d3-chord/src/chord.js
function compareValue(compare) {
  return function(a3, b) {
    return compare(
      a3.source.value + a3.target.value,
      b.source.value + b.target.value
    );
  };
}
function chord_default2() {
  var padAngle = 0, sortGroups = null, sortSubgroups = null, sortChords = null;
  function chord(matrix) {
    var n = matrix.length, groupSums = [], groupIndex = range_default(n), subgroupIndex = [], chords = [], groups5 = chords.groups = new Array(n), subgroups = new Array(n * n), k3, x7, x07, dx, i, j;
    k3 = 0, i = -1;
    while (++i < n) {
      x7 = 0, j = -1;
      while (++j < n) {
        x7 += matrix[i][j];
      }
      groupSums.push(x7);
      subgroupIndex.push(range_default(n));
      k3 += x7;
    }
    if (sortGroups)
      groupIndex.sort(function(a3, b) {
        return sortGroups(groupSums[a3], groupSums[b]);
      });
    if (sortSubgroups)
      subgroupIndex.forEach(function(d, i2) {
        d.sort(function(a3, b) {
          return sortSubgroups(matrix[i2][a3], matrix[i2][b]);
        });
      });
    k3 = max8(0, tau12 - padAngle * n) / k3;
    dx = k3 ? padAngle : tau12 / n;
    x7 = 0, i = -1;
    while (++i < n) {
      x07 = x7, j = -1;
      while (++j < n) {
        var di = groupIndex[i], dj = subgroupIndex[di][j], v2 = matrix[di][dj], a0 = x7, a1 = x7 += v2 * k3;
        subgroups[dj * n + di] = {
          index: di,
          subindex: dj,
          startAngle: a0,
          endAngle: a1,
          value: v2
        };
      }
      groups5[di] = {
        index: di,
        startAngle: x07,
        endAngle: x7,
        value: groupSums[di]
      };
      x7 += dx;
    }
    i = -1;
    while (++i < n) {
      j = i - 1;
      while (++j < n) {
        var source = subgroups[j * n + i], target = subgroups[i * n + j];
        if (source.value || target.value) {
          chords.push(source.value < target.value ? { source: target, target: source } : { source, target });
        }
      }
    }
    return sortChords ? chords.sort(sortChords) : chords;
  }
  chord.padAngle = function(_2) {
    return arguments.length ? (padAngle = max8(0, _2), chord) : padAngle;
  };
  chord.sortGroups = function(_2) {
    return arguments.length ? (sortGroups = _2, chord) : sortGroups;
  };
  chord.sortSubgroups = function(_2) {
    return arguments.length ? (sortSubgroups = _2, chord) : sortSubgroups;
  };
  chord.sortChords = function(_2) {
    return arguments.length ? (_2 == null ? sortChords = null : (sortChords = compareValue(_2))._ = _2, chord) : sortChords && sortChords._;
  };
  return chord;
}
var init_chord = __esm({
  "node_modules/dagre-d3/node_modules/d3-chord/src/chord.js"() {
    init_src();
    init_math3();
  }
});

// node_modules/dagre-d3/node_modules/d3-chord/src/array.js
var slice11;
var init_array4 = __esm({
  "node_modules/dagre-d3/node_modules/d3-chord/src/array.js"() {
    slice11 = Array.prototype.slice;
  }
});

// node_modules/dagre-d3/node_modules/d3-chord/src/constant.js
function constant_default25(x7) {
  return function() {
    return x7;
  };
}
var init_constant6 = __esm({
  "node_modules/dagre-d3/node_modules/d3-chord/src/constant.js"() {
  }
});

// node_modules/d3-path/src/path.js
function Path5() {
  this._x0 = this._y0 = this._x1 = this._y1 = null;
  this._ = "";
}
function path4() {
  return new Path5();
}
var pi12, tau13, epsilon11, tauEpsilon4, path_default6;
var init_path = __esm({
  "node_modules/d3-path/src/path.js"() {
    pi12 = Math.PI;
    tau13 = 2 * pi12;
    epsilon11 = 1e-6;
    tauEpsilon4 = tau13 - epsilon11;
    Path5.prototype = path4.prototype = {
      constructor: Path5,
      moveTo: function(x7, y7) {
        this._ += "M" + (this._x0 = this._x1 = +x7) + "," + (this._y0 = this._y1 = +y7);
      },
      closePath: function() {
        if (this._x1 !== null) {
          this._x1 = this._x0, this._y1 = this._y0;
          this._ += "Z";
        }
      },
      lineTo: function(x7, y7) {
        this._ += "L" + (this._x1 = +x7) + "," + (this._y1 = +y7);
      },
      quadraticCurveTo: function(x13, y12, x7, y7) {
        this._ += "Q" + +x13 + "," + +y12 + "," + (this._x1 = +x7) + "," + (this._y1 = +y7);
      },
      bezierCurveTo: function(x13, y12, x22, y22, x7, y7) {
        this._ += "C" + +x13 + "," + +y12 + "," + +x22 + "," + +y22 + "," + (this._x1 = +x7) + "," + (this._y1 = +y7);
      },
      arcTo: function(x13, y12, x22, y22, r) {
        x13 = +x13, y12 = +y12, x22 = +x22, y22 = +y22, r = +r;
        var x07 = this._x1, y06 = this._y1, x21 = x22 - x13, y21 = y22 - y12, x01 = x07 - x13, y01 = y06 - y12, l01_2 = x01 * x01 + y01 * y01;
        if (r < 0)
          throw new Error("negative radius: " + r);
        if (this._x1 === null) {
          this._ += "M" + (this._x1 = x13) + "," + (this._y1 = y12);
        } else if (!(l01_2 > epsilon11))
          ;
        else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon11) || !r) {
          this._ += "L" + (this._x1 = x13) + "," + (this._y1 = y12);
        } else {
          var x20 = x22 - x07, y20 = y22 - y06, l21_2 = x21 * x21 + y21 * y21, l20_2 = x20 * x20 + y20 * y20, l21 = Math.sqrt(l21_2), l01 = Math.sqrt(l01_2), l = r * Math.tan((pi12 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2), t01 = l / l01, t21 = l / l21;
          if (Math.abs(t01 - 1) > epsilon11) {
            this._ += "L" + (x13 + t01 * x01) + "," + (y12 + t01 * y01);
          }
          this._ += "A" + r + "," + r + ",0,0," + +(y01 * x20 > x01 * y20) + "," + (this._x1 = x13 + t21 * x21) + "," + (this._y1 = y12 + t21 * y21);
        }
      },
      arc: function(x7, y7, r, a0, a1, ccw) {
        x7 = +x7, y7 = +y7, r = +r, ccw = !!ccw;
        var dx = r * Math.cos(a0), dy = r * Math.sin(a0), x07 = x7 + dx, y06 = y7 + dy, cw = 1 ^ ccw, da2 = ccw ? a0 - a1 : a1 - a0;
        if (r < 0)
          throw new Error("negative radius: " + r);
        if (this._x1 === null) {
          this._ += "M" + x07 + "," + y06;
        } else if (Math.abs(this._x1 - x07) > epsilon11 || Math.abs(this._y1 - y06) > epsilon11) {
          this._ += "L" + x07 + "," + y06;
        }
        if (!r)
          return;
        if (da2 < 0)
          da2 = da2 % tau13 + tau13;
        if (da2 > tauEpsilon4) {
          this._ += "A" + r + "," + r + ",0,1," + cw + "," + (x7 - dx) + "," + (y7 - dy) + "A" + r + "," + r + ",0,1," + cw + "," + (this._x1 = x07) + "," + (this._y1 = y06);
        } else if (da2 > epsilon11) {
          this._ += "A" + r + "," + r + ",0," + +(da2 >= pi12) + "," + cw + "," + (this._x1 = x7 + r * Math.cos(a1)) + "," + (this._y1 = y7 + r * Math.sin(a1));
        }
      },
      rect: function(x7, y7, w2, h) {
        this._ += "M" + (this._x0 = this._x1 = +x7) + "," + (this._y0 = this._y1 = +y7) + "h" + +w2 + "v" + +h + "h" + -w2 + "Z";
      },
      toString: function() {
        return this._;
      }
    };
    path_default6 = path4;
  }
});

// node_modules/d3-path/src/index.js
var init_src12 = __esm({
  "node_modules/d3-path/src/index.js"() {
    init_path();
  }
});

// node_modules/dagre-d3/node_modules/d3-chord/src/ribbon.js
function defaultSource(d) {
  return d.source;
}
function defaultTarget(d) {
  return d.target;
}
function defaultRadius(d) {
  return d.radius;
}
function defaultStartAngle(d) {
  return d.startAngle;
}
function defaultEndAngle(d) {
  return d.endAngle;
}
function ribbon_default2() {
  var source = defaultSource, target = defaultTarget, radius = defaultRadius, startAngle = defaultStartAngle, endAngle = defaultEndAngle, context = null;
  function ribbon() {
    var buffer, argv = slice11.call(arguments), s3 = source.apply(this, argv), t = target.apply(this, argv), sr = +radius.apply(this, (argv[0] = s3, argv)), sa0 = startAngle.apply(this, argv) - halfPi8, sa1 = endAngle.apply(this, argv) - halfPi8, sx0 = sr * cos4(sa0), sy0 = sr * sin4(sa0), tr = +radius.apply(this, (argv[0] = t, argv)), ta0 = startAngle.apply(this, argv) - halfPi8, ta1 = endAngle.apply(this, argv) - halfPi8;
    if (!context)
      context = buffer = path_default6();
    context.moveTo(sx0, sy0);
    context.arc(0, 0, sr, sa0, sa1);
    if (sa0 !== ta0 || sa1 !== ta1) {
      context.quadraticCurveTo(0, 0, tr * cos4(ta0), tr * sin4(ta0));
      context.arc(0, 0, tr, ta0, ta1);
    }
    context.quadraticCurveTo(0, 0, sx0, sy0);
    context.closePath();
    if (buffer)
      return context = null, buffer + "" || null;
  }
  ribbon.radius = function(_2) {
    return arguments.length ? (radius = typeof _2 === "function" ? _2 : constant_default25(+_2), ribbon) : radius;
  };
  ribbon.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant_default25(+_2), ribbon) : startAngle;
  };
  ribbon.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant_default25(+_2), ribbon) : endAngle;
  };
  ribbon.source = function(_2) {
    return arguments.length ? (source = _2, ribbon) : source;
  };
  ribbon.target = function(_2) {
    return arguments.length ? (target = _2, ribbon) : target;
  };
  ribbon.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, ribbon) : context;
  };
  return ribbon;
}
var init_ribbon = __esm({
  "node_modules/dagre-d3/node_modules/d3-chord/src/ribbon.js"() {
    init_array4();
    init_constant6();
    init_math3();
    init_src12();
  }
});

// node_modules/dagre-d3/node_modules/d3-chord/src/index.js
var init_src13 = __esm({
  "node_modules/dagre-d3/node_modules/d3-chord/src/index.js"() {
    init_chord();
    init_ribbon();
  }
});

// node_modules/d3-collection/src/map.js
function Map2() {
}
function map12(object2, f2) {
  var map15 = new Map2();
  if (object2 instanceof Map2)
    object2.each(function(value, key2) {
      map15.set(key2, value);
    });
  else if (Array.isArray(object2)) {
    var i = -1, n = object2.length, o;
    if (f2 == null)
      while (++i < n)
        map15.set(i, object2[i]);
    else
      while (++i < n)
        map15.set(f2(o = object2[i], i, object2), o);
  } else if (object2)
    for (var key in object2)
      map15.set(key, object2[key]);
  return map15;
}
var prefix2, map_default;
var init_map = __esm({
  "node_modules/d3-collection/src/map.js"() {
    prefix2 = "$";
    Map2.prototype = map12.prototype = {
      constructor: Map2,
      has: function(key) {
        return prefix2 + key in this;
      },
      get: function(key) {
        return this[prefix2 + key];
      },
      set: function(key, value) {
        this[prefix2 + key] = value;
        return this;
      },
      remove: function(key) {
        var property = prefix2 + key;
        return property in this && delete this[property];
      },
      clear: function() {
        for (var property in this)
          if (property[0] === prefix2)
            delete this[property];
      },
      keys: function() {
        var keys = [];
        for (var property in this)
          if (property[0] === prefix2)
            keys.push(property.slice(1));
        return keys;
      },
      values: function() {
        var values = [];
        for (var property in this)
          if (property[0] === prefix2)
            values.push(this[property]);
        return values;
      },
      entries: function() {
        var entries = [];
        for (var property in this)
          if (property[0] === prefix2)
            entries.push({ key: property.slice(1), value: this[property] });
        return entries;
      },
      size: function() {
        var size = 0;
        for (var property in this)
          if (property[0] === prefix2)
            ++size;
        return size;
      },
      empty: function() {
        for (var property in this)
          if (property[0] === prefix2)
            return false;
        return true;
      },
      each: function(f2) {
        for (var property in this)
          if (property[0] === prefix2)
            f2(this[property], property.slice(1), this);
      }
    };
    map_default = map12;
  }
});

// node_modules/d3-collection/src/nest.js
function nest_default() {
  var keys = [], sortKeys = [], sortValues, rollup5, nest;
  function apply3(array12, depth, createResult, setResult) {
    if (depth >= keys.length) {
      if (sortValues != null)
        array12.sort(sortValues);
      return rollup5 != null ? rollup5(array12) : array12;
    }
    var i = -1, n = array12.length, key = keys[depth++], keyValue, value, valuesByKey = map_default(), values, result = createResult();
    while (++i < n) {
      if (values = valuesByKey.get(keyValue = key(value = array12[i]) + "")) {
        values.push(value);
      } else {
        valuesByKey.set(keyValue, [value]);
      }
    }
    valuesByKey.each(function(values2, key2) {
      setResult(result, key2, apply3(values2, depth, createResult, setResult));
    });
    return result;
  }
  function entries(map15, depth) {
    if (++depth > keys.length)
      return map15;
    var array12, sortKey = sortKeys[depth - 1];
    if (rollup5 != null && depth >= keys.length)
      array12 = map15.entries();
    else
      array12 = [], map15.each(function(v2, k3) {
        array12.push({ key: k3, values: entries(v2, depth) });
      });
    return sortKey != null ? array12.sort(function(a3, b) {
      return sortKey(a3.key, b.key);
    }) : array12;
  }
  return nest = {
    object: function(array12) {
      return apply3(array12, 0, createObject, setObject);
    },
    map: function(array12) {
      return apply3(array12, 0, createMap, setMap);
    },
    entries: function(array12) {
      return entries(apply3(array12, 0, createMap, setMap), 0);
    },
    key: function(d) {
      keys.push(d);
      return nest;
    },
    sortKeys: function(order) {
      sortKeys[keys.length - 1] = order;
      return nest;
    },
    sortValues: function(order) {
      sortValues = order;
      return nest;
    },
    rollup: function(f2) {
      rollup5 = f2;
      return nest;
    }
  };
}
function createObject() {
  return {};
}
function setObject(object2, key, value) {
  object2[key] = value;
}
function createMap() {
  return map_default();
}
function setMap(map15, key, value) {
  map15.set(key, value);
}
var init_nest = __esm({
  "node_modules/d3-collection/src/nest.js"() {
    init_map();
  }
});

// node_modules/d3-collection/src/set.js
function Set2() {
}
function set10(object2, f2) {
  var set11 = new Set2();
  if (object2 instanceof Set2)
    object2.each(function(value) {
      set11.add(value);
    });
  else if (object2) {
    var i = -1, n = object2.length;
    if (f2 == null)
      while (++i < n)
        set11.add(object2[i]);
    else
      while (++i < n)
        set11.add(f2(object2[i], i, object2));
  }
  return set11;
}
var proto, set_default;
var init_set = __esm({
  "node_modules/d3-collection/src/set.js"() {
    init_map();
    proto = map_default.prototype;
    Set2.prototype = set10.prototype = {
      constructor: Set2,
      has: proto.has,
      add: function(value) {
        value += "";
        this[prefix2 + value] = value;
        return this;
      },
      remove: proto.remove,
      clear: proto.clear,
      values: proto.keys,
      size: proto.size,
      empty: proto.empty,
      each: proto.each
    };
    set_default = set10;
  }
});

// node_modules/d3-collection/src/keys.js
function keys_default(map15) {
  var keys = [];
  for (var key in map15)
    keys.push(key);
  return keys;
}
var init_keys = __esm({
  "node_modules/d3-collection/src/keys.js"() {
  }
});

// node_modules/d3-collection/src/values.js
function values_default(map15) {
  var values = [];
  for (var key in map15)
    values.push(map15[key]);
  return values;
}
var init_values = __esm({
  "node_modules/d3-collection/src/values.js"() {
  }
});

// node_modules/d3-collection/src/entries.js
function entries_default(map15) {
  var entries = [];
  for (var key in map15)
    entries.push({ key, value: map15[key] });
  return entries;
}
var init_entries = __esm({
  "node_modules/d3-collection/src/entries.js"() {
  }
});

// node_modules/d3-collection/src/index.js
var init_src14 = __esm({
  "node_modules/d3-collection/src/index.js"() {
    init_nest();
    init_set();
    init_map();
    init_keys();
    init_values();
    init_entries();
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/array.js
var array10, slice12;
var init_array5 = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/array.js"() {
    array10 = Array.prototype;
    slice12 = array10.slice;
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/ascending.js
function ascending_default4(a3, b) {
  return a3 - b;
}
var init_ascending2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/ascending.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/area.js
function area_default6(ring) {
  var i = 0, n = ring.length, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];
  while (++i < n)
    area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];
  return area;
}
var init_area = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/area.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/constant.js
function constant_default26(x7) {
  return function() {
    return x7;
  };
}
var init_constant7 = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/constant.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/contains.js
function contains_default4(ring, hole) {
  var i = -1, n = hole.length, c7;
  while (++i < n)
    if (c7 = ringContains(ring, hole[i]))
      return c7;
  return 0;
}
function ringContains(ring, point12) {
  var x7 = point12[0], y7 = point12[1], contains = -1;
  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {
    var pi15 = ring[i], xi = pi15[0], yi = pi15[1], pj = ring[j], xj = pj[0], yj = pj[1];
    if (segmentContains(pi15, pj, point12))
      return 0;
    if (yi > y7 !== yj > y7 && x7 < (xj - xi) * (y7 - yi) / (yj - yi) + xi)
      contains = -contains;
  }
  return contains;
}
function segmentContains(a3, b, c7) {
  var i;
  return collinear(a3, b, c7) && within(a3[i = +(a3[0] === b[0])], c7[i], b[i]);
}
function collinear(a3, b, c7) {
  return (b[0] - a3[0]) * (c7[1] - a3[1]) === (c7[0] - a3[0]) * (b[1] - a3[1]);
}
function within(p, q, r) {
  return p <= q && q <= r || r <= q && q <= p;
}
var init_contains = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/contains.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/noop.js
function noop_default3() {
}
var init_noop = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/noop.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/contours.js
function contours_default2() {
  var dx = 1, dy = 1, threshold3 = sturges_default, smooth = smoothLinear;
  function contours(values) {
    var tz = threshold3(values);
    if (!Array.isArray(tz)) {
      var domain = extent_default4(values), start6 = domain[0], stop = domain[1];
      tz = tickStep5(start6, stop, tz);
      tz = range_default(Math.floor(start6 / tz) * tz, Math.floor(stop / tz) * tz, tz);
    } else {
      tz = tz.slice().sort(ascending_default4);
    }
    return tz.map(function(value) {
      return contour(values, value);
    });
  }
  function contour(values, value) {
    var polygons = [], holes = [];
    isorings(values, value, function(ring) {
      smooth(ring, values, value);
      if (area_default6(ring) > 0)
        polygons.push([ring]);
      else
        holes.push(ring);
    });
    holes.forEach(function(hole) {
      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {
        if (contains_default4((polygon = polygons[i])[0], hole) !== -1) {
          polygon.push(hole);
          return;
        }
      }
    });
    return {
      type: "MultiPolygon",
      value,
      coordinates: polygons
    };
  }
  function isorings(values, value, callback) {
    var fragmentByStart = new Array(), fragmentByEnd = new Array(), x7, y7, t010, t110, t27, t37;
    x7 = y7 = -1;
    t110 = values[0] >= value;
    cases[t110 << 1].forEach(stitch);
    while (++x7 < dx - 1) {
      t010 = t110, t110 = values[x7 + 1] >= value;
      cases[t010 | t110 << 1].forEach(stitch);
    }
    cases[t110 << 0].forEach(stitch);
    while (++y7 < dy - 1) {
      x7 = -1;
      t110 = values[y7 * dx + dx] >= value;
      t27 = values[y7 * dx] >= value;
      cases[t110 << 1 | t27 << 2].forEach(stitch);
      while (++x7 < dx - 1) {
        t010 = t110, t110 = values[y7 * dx + dx + x7 + 1] >= value;
        t37 = t27, t27 = values[y7 * dx + x7 + 1] >= value;
        cases[t010 | t110 << 1 | t27 << 2 | t37 << 3].forEach(stitch);
      }
      cases[t110 | t27 << 3].forEach(stitch);
    }
    x7 = -1;
    t27 = values[y7 * dx] >= value;
    cases[t27 << 2].forEach(stitch);
    while (++x7 < dx - 1) {
      t37 = t27, t27 = values[y7 * dx + x7 + 1] >= value;
      cases[t27 << 2 | t37 << 3].forEach(stitch);
    }
    cases[t27 << 3].forEach(stitch);
    function stitch(line2) {
      var start6 = [line2[0][0] + x7, line2[0][1] + y7], end2 = [line2[1][0] + x7, line2[1][1] + y7], startIndex = index6(start6), endIndex = index6(end2), f2, g;
      if (f2 = fragmentByEnd[startIndex]) {
        if (g = fragmentByStart[endIndex]) {
          delete fragmentByEnd[f2.end];
          delete fragmentByStart[g.start];
          if (f2 === g) {
            f2.ring.push(end2);
            callback(f2.ring);
          } else {
            fragmentByStart[f2.start] = fragmentByEnd[g.end] = { start: f2.start, end: g.end, ring: f2.ring.concat(g.ring) };
          }
        } else {
          delete fragmentByEnd[f2.end];
          f2.ring.push(end2);
          fragmentByEnd[f2.end = endIndex] = f2;
        }
      } else if (f2 = fragmentByStart[endIndex]) {
        if (g = fragmentByEnd[startIndex]) {
          delete fragmentByStart[f2.start];
          delete fragmentByEnd[g.end];
          if (f2 === g) {
            f2.ring.push(end2);
            callback(f2.ring);
          } else {
            fragmentByStart[g.start] = fragmentByEnd[f2.end] = { start: g.start, end: f2.end, ring: g.ring.concat(f2.ring) };
          }
        } else {
          delete fragmentByStart[f2.start];
          f2.ring.unshift(start6);
          fragmentByStart[f2.start = startIndex] = f2;
        }
      } else {
        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = { start: startIndex, end: endIndex, ring: [start6, end2] };
      }
    }
  }
  function index6(point12) {
    return point12[0] * 2 + point12[1] * (dx + 1) * 4;
  }
  function smoothLinear(ring, values, value) {
    ring.forEach(function(point12) {
      var x7 = point12[0], y7 = point12[1], xt = x7 | 0, yt = y7 | 0, v0, v1 = values[yt * dx + xt];
      if (x7 > 0 && x7 < dx && xt === x7) {
        v0 = values[yt * dx + xt - 1];
        point12[0] = x7 + (value - v0) / (v1 - v0) - 0.5;
      }
      if (y7 > 0 && y7 < dy && yt === y7) {
        v0 = values[(yt - 1) * dx + xt];
        point12[1] = y7 + (value - v0) / (v1 - v0) - 0.5;
      }
    });
  }
  contours.contour = contour;
  contours.size = function(_2) {
    if (!arguments.length)
      return [dx, dy];
    var _0 = Math.ceil(_2[0]), _1 = Math.ceil(_2[1]);
    if (!(_0 > 0) || !(_1 > 0))
      throw new Error("invalid size");
    return dx = _0, dy = _1, contours;
  };
  contours.thresholds = function(_2) {
    return arguments.length ? (threshold3 = typeof _2 === "function" ? _2 : Array.isArray(_2) ? constant_default26(slice12.call(_2)) : constant_default26(_2), contours) : threshold3;
  };
  contours.smooth = function(_2) {
    return arguments.length ? (smooth = _2 ? smoothLinear : noop_default3, contours) : smooth === smoothLinear;
  };
  return contours;
}
var cases;
var init_contours = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/contours.js"() {
    init_src();
    init_array5();
    init_ascending2();
    init_area();
    init_constant7();
    init_contains();
    init_noop();
    cases = [
      [],
      [[[1, 1.5], [0.5, 1]]],
      [[[1.5, 1], [1, 1.5]]],
      [[[1.5, 1], [0.5, 1]]],
      [[[1, 0.5], [1.5, 1]]],
      [[[1, 1.5], [0.5, 1]], [[1, 0.5], [1.5, 1]]],
      [[[1, 0.5], [1, 1.5]]],
      [[[1, 0.5], [0.5, 1]]],
      [[[0.5, 1], [1, 0.5]]],
      [[[1, 1.5], [1, 0.5]]],
      [[[0.5, 1], [1, 0.5]], [[1.5, 1], [1, 1.5]]],
      [[[1.5, 1], [1, 0.5]]],
      [[[0.5, 1], [1.5, 1]]],
      [[[1, 1.5], [1.5, 1]]],
      [[[0.5, 1], [1, 1.5]]],
      []
    ];
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/blur.js
function blurX(source, target, r) {
  var n = source.width, m = source.height, w2 = (r << 1) + 1;
  for (var j = 0; j < m; ++j) {
    for (var i = 0, sr = 0; i < n + r; ++i) {
      if (i < n) {
        sr += source.data[i + j * n];
      }
      if (i >= r) {
        if (i >= w2) {
          sr -= source.data[i - w2 + j * n];
        }
        target.data[i - r + j * n] = sr / Math.min(i + 1, n - 1 + w2 - i, w2);
      }
    }
  }
}
function blurY(source, target, r) {
  var n = source.width, m = source.height, w2 = (r << 1) + 1;
  for (var i = 0; i < n; ++i) {
    for (var j = 0, sr = 0; j < m + r; ++j) {
      if (j < m) {
        sr += source.data[i + j * n];
      }
      if (j >= r) {
        if (j >= w2) {
          sr -= source.data[i + (j - w2) * n];
        }
        target.data[i + (j - r) * n] = sr / Math.min(j + 1, m - 1 + w2 - j, w2);
      }
    }
  }
}
var init_blur = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/blur.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/density.js
function defaultX3(d) {
  return d[0];
}
function defaultY3(d) {
  return d[1];
}
function defaultWeight() {
  return 1;
}
function density_default2() {
  var x7 = defaultX3, y7 = defaultY3, weight = defaultWeight, dx = 960, dy = 500, r = 20, k3 = 2, o = r * 3, n = dx + o * 2 >> k3, m = dy + o * 2 >> k3, threshold3 = constant_default26(20);
  function density(data) {
    var values0 = new Float32Array(n * m), values1 = new Float32Array(n * m);
    data.forEach(function(d, i, data2) {
      var xi = +x7(d, i, data2) + o >> k3, yi = +y7(d, i, data2) + o >> k3, wi = +weight(d, i, data2);
      if (xi >= 0 && xi < n && yi >= 0 && yi < m) {
        values0[xi + yi * n] += wi;
      }
    });
    blurX({ width: n, height: m, data: values0 }, { width: n, height: m, data: values1 }, r >> k3);
    blurY({ width: n, height: m, data: values1 }, { width: n, height: m, data: values0 }, r >> k3);
    blurX({ width: n, height: m, data: values0 }, { width: n, height: m, data: values1 }, r >> k3);
    blurY({ width: n, height: m, data: values1 }, { width: n, height: m, data: values0 }, r >> k3);
    blurX({ width: n, height: m, data: values0 }, { width: n, height: m, data: values1 }, r >> k3);
    blurY({ width: n, height: m, data: values1 }, { width: n, height: m, data: values0 }, r >> k3);
    var tz = threshold3(values0);
    if (!Array.isArray(tz)) {
      var stop = max_default(values0);
      tz = tickStep5(0, stop, tz);
      tz = range_default(0, Math.floor(stop / tz) * tz, tz);
      tz.shift();
    }
    return contours_default2().thresholds(tz).size([n, m])(values0).map(transform3);
  }
  function transform3(geometry) {
    geometry.value *= Math.pow(2, -2 * k3);
    geometry.coordinates.forEach(transformPolygon);
    return geometry;
  }
  function transformPolygon(coordinates2) {
    coordinates2.forEach(transformRing);
  }
  function transformRing(coordinates2) {
    coordinates2.forEach(transformPoint);
  }
  function transformPoint(coordinates2) {
    coordinates2[0] = coordinates2[0] * Math.pow(2, k3) - o;
    coordinates2[1] = coordinates2[1] * Math.pow(2, k3) - o;
  }
  function resize() {
    o = r * 3;
    n = dx + o * 2 >> k3;
    m = dy + o * 2 >> k3;
    return density;
  }
  density.x = function(_2) {
    return arguments.length ? (x7 = typeof _2 === "function" ? _2 : constant_default26(+_2), density) : x7;
  };
  density.y = function(_2) {
    return arguments.length ? (y7 = typeof _2 === "function" ? _2 : constant_default26(+_2), density) : y7;
  };
  density.weight = function(_2) {
    return arguments.length ? (weight = typeof _2 === "function" ? _2 : constant_default26(+_2), density) : weight;
  };
  density.size = function(_2) {
    if (!arguments.length)
      return [dx, dy];
    var _0 = Math.ceil(_2[0]), _1 = Math.ceil(_2[1]);
    if (!(_0 >= 0) && !(_0 >= 0))
      throw new Error("invalid size");
    return dx = _0, dy = _1, resize();
  };
  density.cellSize = function(_2) {
    if (!arguments.length)
      return 1 << k3;
    if (!((_2 = +_2) >= 1))
      throw new Error("invalid cell size");
    return k3 = Math.floor(Math.log(_2) / Math.LN2), resize();
  };
  density.thresholds = function(_2) {
    return arguments.length ? (threshold3 = typeof _2 === "function" ? _2 : Array.isArray(_2) ? constant_default26(slice12.call(_2)) : constant_default26(_2), density) : threshold3;
  };
  density.bandwidth = function(_2) {
    if (!arguments.length)
      return Math.sqrt(r * (r + 1));
    if (!((_2 = +_2) >= 0))
      throw new Error("invalid bandwidth");
    return r = Math.round((Math.sqrt(4 * _2 * _2 + 1) - 1) / 2), resize();
  };
  return density;
}
var init_density = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/density.js"() {
    init_src();
    init_array5();
    init_blur();
    init_constant7();
    init_contours();
  }
});

// node_modules/dagre-d3/node_modules/d3-contour/src/index.js
var init_src15 = __esm({
  "node_modules/dagre-d3/node_modules/d3-contour/src/index.js"() {
    init_contours();
    init_density();
  }
});

// node_modules/d3-dsv/src/dsv.js
function objectConverter3(columns) {
  return new Function("d", "return {" + columns.map(function(name2, i) {
    return JSON.stringify(name2) + ": d[" + i + '] || ""';
  }).join(",") + "}");
}
function customConverter3(columns, f2) {
  var object2 = objectConverter3(columns);
  return function(row, i) {
    return f2(object2(row), i, columns);
  };
}
function inferColumns3(rows) {
  var columnSet = /* @__PURE__ */ Object.create(null), columns = [];
  rows.forEach(function(row) {
    for (var column2 in row) {
      if (!(column2 in columnSet)) {
        columns.push(columnSet[column2] = column2);
      }
    }
  });
  return columns;
}
function pad5(value, width2) {
  var s3 = value + "", length3 = s3.length;
  return length3 < width2 ? new Array(width2 - length3 + 1).join(0) + s3 : s3;
}
function formatYear5(year4) {
  return year4 < 0 ? "-" + pad5(-year4, 6) : year4 > 9999 ? "+" + pad5(year4, 6) : pad5(year4, 4);
}
function formatDate3(date3) {
  var hours4 = date3.getUTCHours(), minutes4 = date3.getUTCMinutes(), seconds4 = date3.getUTCSeconds(), milliseconds4 = date3.getUTCMilliseconds();
  return isNaN(date3) ? "Invalid Date" : formatYear5(date3.getUTCFullYear(), 4) + "-" + pad5(date3.getUTCMonth() + 1, 2) + "-" + pad5(date3.getUTCDate(), 2) + (milliseconds4 ? "T" + pad5(hours4, 2) + ":" + pad5(minutes4, 2) + ":" + pad5(seconds4, 2) + "." + pad5(milliseconds4, 3) + "Z" : seconds4 ? "T" + pad5(hours4, 2) + ":" + pad5(minutes4, 2) + ":" + pad5(seconds4, 2) + "Z" : minutes4 || hours4 ? "T" + pad5(hours4, 2) + ":" + pad5(minutes4, 2) + "Z" : "");
}
function dsv_default3(delimiter2) {
  var reFormat = new RegExp('["' + delimiter2 + "\n\r]"), DELIMITER = delimiter2.charCodeAt(0);
  function parse4(text2, f2) {
    var convert, columns, rows = parseRows(text2, function(row, i) {
      if (convert)
        return convert(row, i - 1);
      columns = row, convert = f2 ? customConverter3(row, f2) : objectConverter3(row);
    });
    rows.columns = columns || [];
    return rows;
  }
  function parseRows(text2, f2) {
    var rows = [], N = text2.length, I = 0, n = 0, t, eof = N <= 0, eol = false;
    if (text2.charCodeAt(N - 1) === NEWLINE3)
      --N;
    if (text2.charCodeAt(N - 1) === RETURN3)
      --N;
    function token2() {
      if (eof)
        return EOF3;
      if (eol)
        return eol = false, EOL3;
      var i, j = I, c7;
      if (text2.charCodeAt(j) === QUOTE3) {
        while (I++ < N && text2.charCodeAt(I) !== QUOTE3 || text2.charCodeAt(++I) === QUOTE3)
          ;
        if ((i = I) >= N)
          eof = true;
        else if ((c7 = text2.charCodeAt(I++)) === NEWLINE3)
          eol = true;
        else if (c7 === RETURN3) {
          eol = true;
          if (text2.charCodeAt(I) === NEWLINE3)
            ++I;
        }
        return text2.slice(j + 1, i - 1).replace(/""/g, '"');
      }
      while (I < N) {
        if ((c7 = text2.charCodeAt(i = I++)) === NEWLINE3)
          eol = true;
        else if (c7 === RETURN3) {
          eol = true;
          if (text2.charCodeAt(I) === NEWLINE3)
            ++I;
        } else if (c7 !== DELIMITER)
          continue;
        return text2.slice(j, i);
      }
      return eof = true, text2.slice(j, N);
    }
    while ((t = token2()) !== EOF3) {
      var row = [];
      while (t !== EOL3 && t !== EOF3)
        row.push(t), t = token2();
      if (f2 && (row = f2(row, n++)) == null)
        continue;
      rows.push(row);
    }
    return rows;
  }
  function preformatBody(rows, columns) {
    return rows.map(function(row) {
      return columns.map(function(column2) {
        return formatValue(row[column2]);
      }).join(delimiter2);
    });
  }
  function format5(rows, columns) {
    if (columns == null)
      columns = inferColumns3(rows);
    return [columns.map(formatValue).join(delimiter2)].concat(preformatBody(rows, columns)).join("\n");
  }
  function formatBody(rows, columns) {
    if (columns == null)
      columns = inferColumns3(rows);
    return preformatBody(rows, columns).join("\n");
  }
  function formatRows(rows) {
    return rows.map(formatRow).join("\n");
  }
  function formatRow(row) {
    return row.map(formatValue).join(delimiter2);
  }
  function formatValue(value) {
    return value == null ? "" : value instanceof Date ? formatDate3(value) : reFormat.test(value += "") ? '"' + value.replace(/"/g, '""') + '"' : value;
  }
  return {
    parse: parse4,
    parseRows,
    format: format5,
    formatBody,
    formatRows,
    formatRow,
    formatValue
  };
}
var EOL3, EOF3, QUOTE3, NEWLINE3, RETURN3;
var init_dsv = __esm({
  "node_modules/d3-dsv/src/dsv.js"() {
    EOL3 = {};
    EOF3 = {};
    QUOTE3 = 34;
    NEWLINE3 = 10;
    RETURN3 = 13;
  }
});

// node_modules/d3-dsv/src/csv.js
var csv4, csvParse3, csvParseRows3, csvFormat3, csvFormatBody3, csvFormatRows3, csvFormatRow3, csvFormatValue3;
var init_csv = __esm({
  "node_modules/d3-dsv/src/csv.js"() {
    init_dsv();
    csv4 = dsv_default3(",");
    csvParse3 = csv4.parse;
    csvParseRows3 = csv4.parseRows;
    csvFormat3 = csv4.format;
    csvFormatBody3 = csv4.formatBody;
    csvFormatRows3 = csv4.formatRows;
    csvFormatRow3 = csv4.formatRow;
    csvFormatValue3 = csv4.formatValue;
  }
});

// node_modules/d3-dsv/src/tsv.js
var tsv4, tsvParse3, tsvParseRows3, tsvFormat3, tsvFormatBody3, tsvFormatRows3, tsvFormatRow3, tsvFormatValue3;
var init_tsv = __esm({
  "node_modules/d3-dsv/src/tsv.js"() {
    init_dsv();
    tsv4 = dsv_default3("	");
    tsvParse3 = tsv4.parse;
    tsvParseRows3 = tsv4.parseRows;
    tsvFormat3 = tsv4.format;
    tsvFormatBody3 = tsv4.formatBody;
    tsvFormatRows3 = tsv4.formatRows;
    tsvFormatRow3 = tsv4.formatRow;
    tsvFormatValue3 = tsv4.formatValue;
  }
});

// node_modules/d3-dsv/src/autoType.js
function autoType3(object2) {
  for (var key in object2) {
    var value = object2[key].trim(), number10, m;
    if (!value)
      value = null;
    else if (value === "true")
      value = true;
    else if (value === "false")
      value = false;
    else if (value === "NaN")
      value = NaN;
    else if (!isNaN(number10 = +value))
      value = number10;
    else if (m = value.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)) {
      if (fixtz3 && !!m[4] && !m[7])
        value = value.replace(/-/g, "/").replace(/T/, " ");
      value = new Date(value);
    } else
      continue;
    object2[key] = value;
  }
  return object2;
}
var fixtz3;
var init_autoType = __esm({
  "node_modules/d3-dsv/src/autoType.js"() {
    fixtz3 = new Date("2019-01-01T00:00").getHours() || new Date("2019-07-01T00:00").getHours();
  }
});

// node_modules/d3-dsv/src/index.js
var init_src16 = __esm({
  "node_modules/d3-dsv/src/index.js"() {
    init_dsv();
    init_csv();
    init_tsv();
    init_autoType();
  }
});

// node_modules/dagre-d3/node_modules/d3-fetch/src/blob.js
function responseBlob(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.blob();
}
function blob_default2(input, init6) {
  return fetch(input, init6).then(responseBlob);
}
var init_blob = __esm({
  "node_modules/dagre-d3/node_modules/d3-fetch/src/blob.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-fetch/src/buffer.js
function responseArrayBuffer(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.arrayBuffer();
}
function buffer_default3(input, init6) {
  return fetch(input, init6).then(responseArrayBuffer);
}
var init_buffer = __esm({
  "node_modules/dagre-d3/node_modules/d3-fetch/src/buffer.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-fetch/src/text.js
function responseText2(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.text();
}
function text_default10(input, init6) {
  return fetch(input, init6).then(responseText2);
}
var init_text3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-fetch/src/text.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-fetch/src/dsv.js
function dsvParse2(parse4) {
  return function(input, init6, row) {
    if (arguments.length === 2 && typeof init6 === "function")
      row = init6, init6 = void 0;
    return text_default10(input, init6).then(function(response) {
      return parse4(response, row);
    });
  };
}
function dsv2(delimiter2, input, init6, row) {
  if (arguments.length === 3 && typeof init6 === "function")
    row = init6, init6 = void 0;
  var format5 = dsv_default3(delimiter2);
  return text_default10(input, init6).then(function(response) {
    return format5.parse(response, row);
  });
}
var csv5, tsv5;
var init_dsv2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-fetch/src/dsv.js"() {
    init_src16();
    init_text3();
    csv5 = dsvParse2(csvParse3);
    tsv5 = dsvParse2(tsvParse3);
  }
});

// node_modules/dagre-d3/node_modules/d3-fetch/src/image.js
function image_default2(input, init6) {
  return new Promise(function(resolve, reject) {
    var image = new Image();
    for (var key in init6)
      image[key] = init6[key];
    image.onerror = reject;
    image.onload = function() {
      resolve(image);
    };
    image.src = input;
  });
}
var init_image = __esm({
  "node_modules/dagre-d3/node_modules/d3-fetch/src/image.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-fetch/src/json.js
function responseJson(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  if (response.status === 204 || response.status === 205)
    return;
  return response.json();
}
function json_default2(input, init6) {
  return fetch(input, init6).then(responseJson);
}
var init_json = __esm({
  "node_modules/dagre-d3/node_modules/d3-fetch/src/json.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-fetch/src/xml.js
function parser2(type4) {
  return function(input, init6) {
    return text_default10(input, init6).then(function(text2) {
      return new DOMParser().parseFromString(text2, type4);
    });
  };
}
var xml_default2, html3, svg3;
var init_xml = __esm({
  "node_modules/dagre-d3/node_modules/d3-fetch/src/xml.js"() {
    init_text3();
    xml_default2 = parser2("application/xml");
    html3 = parser2("text/html");
    svg3 = parser2("image/svg+xml");
  }
});

// node_modules/dagre-d3/node_modules/d3-fetch/src/index.js
var init_src17 = __esm({
  "node_modules/dagre-d3/node_modules/d3-fetch/src/index.js"() {
    init_blob();
    init_buffer();
    init_dsv2();
    init_image();
    init_json();
    init_text3();
    init_xml();
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/center.js
function center_default2(x7, y7) {
  var nodes;
  if (x7 == null)
    x7 = 0;
  if (y7 == null)
    y7 = 0;
  function force() {
    var i, n = nodes.length, node2, sx = 0, sy = 0;
    for (i = 0; i < n; ++i) {
      node2 = nodes[i], sx += node2.x, sy += node2.y;
    }
    for (sx = sx / n - x7, sy = sy / n - y7, i = 0; i < n; ++i) {
      node2 = nodes[i], node2.x -= sx, node2.y -= sy;
    }
  }
  force.initialize = function(_2) {
    nodes = _2;
  };
  force.x = function(_2) {
    return arguments.length ? (x7 = +_2, force) : x7;
  };
  force.y = function(_2) {
    return arguments.length ? (y7 = +_2, force) : y7;
  };
  return force;
}
var init_center = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/center.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/constant.js
function constant_default27(x7) {
  return function() {
    return x7;
  };
}
var init_constant8 = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/constant.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/jiggle.js
function jiggle_default2() {
  return (Math.random() - 0.5) * 1e-6;
}
var init_jiggle = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/jiggle.js"() {
  }
});

// node_modules/d3-quadtree/src/add.js
function add_default3(d) {
  var x7 = +this._x.call(null, d), y7 = +this._y.call(null, d);
  return add3(this.cover(x7, y7), x7, y7, d);
}
function add3(tree, x7, y7, d) {
  if (isNaN(x7) || isNaN(y7))
    return tree;
  var parent, node2 = tree._root, leaf = { data: d }, x07 = tree._x0, y06 = tree._y0, x13 = tree._x1, y12 = tree._y1, xm, ym, xp, yp, right3, bottom3, i, j;
  if (!node2)
    return tree._root = leaf, tree;
  while (node2.length) {
    if (right3 = x7 >= (xm = (x07 + x13) / 2))
      x07 = xm;
    else
      x13 = xm;
    if (bottom3 = y7 >= (ym = (y06 + y12) / 2))
      y06 = ym;
    else
      y12 = ym;
    if (parent = node2, !(node2 = node2[i = bottom3 << 1 | right3]))
      return parent[i] = leaf, tree;
  }
  xp = +tree._x.call(null, node2.data);
  yp = +tree._y.call(null, node2.data);
  if (x7 === xp && y7 === yp)
    return leaf.next = node2, parent ? parent[i] = leaf : tree._root = leaf, tree;
  do {
    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);
    if (right3 = x7 >= (xm = (x07 + x13) / 2))
      x07 = xm;
    else
      x13 = xm;
    if (bottom3 = y7 >= (ym = (y06 + y12) / 2))
      y06 = ym;
    else
      y12 = ym;
  } while ((i = bottom3 << 1 | right3) === (j = (yp >= ym) << 1 | xp >= xm));
  return parent[j] = node2, parent[i] = leaf, tree;
}
function addAll3(data) {
  var d, i, n = data.length, x7, y7, xz = new Array(n), yz = new Array(n), x07 = Infinity, y06 = Infinity, x13 = -Infinity, y12 = -Infinity;
  for (i = 0; i < n; ++i) {
    if (isNaN(x7 = +this._x.call(null, d = data[i])) || isNaN(y7 = +this._y.call(null, d)))
      continue;
    xz[i] = x7;
    yz[i] = y7;
    if (x7 < x07)
      x07 = x7;
    if (x7 > x13)
      x13 = x7;
    if (y7 < y06)
      y06 = y7;
    if (y7 > y12)
      y12 = y7;
  }
  if (x07 > x13 || y06 > y12)
    return this;
  this.cover(x07, y06).cover(x13, y12);
  for (i = 0; i < n; ++i) {
    add3(this, xz[i], yz[i], data[i]);
  }
  return this;
}
var init_add = __esm({
  "node_modules/d3-quadtree/src/add.js"() {
  }
});

// node_modules/d3-quadtree/src/cover.js
function cover_default3(x7, y7) {
  if (isNaN(x7 = +x7) || isNaN(y7 = +y7))
    return this;
  var x07 = this._x0, y06 = this._y0, x13 = this._x1, y12 = this._y1;
  if (isNaN(x07)) {
    x13 = (x07 = Math.floor(x7)) + 1;
    y12 = (y06 = Math.floor(y7)) + 1;
  } else {
    var z = x13 - x07, node2 = this._root, parent, i;
    while (x07 > x7 || x7 >= x13 || y06 > y7 || y7 >= y12) {
      i = (y7 < y06) << 1 | x7 < x07;
      parent = new Array(4), parent[i] = node2, node2 = parent, z *= 2;
      switch (i) {
        case 0:
          x13 = x07 + z, y12 = y06 + z;
          break;
        case 1:
          x07 = x13 - z, y12 = y06 + z;
          break;
        case 2:
          x13 = x07 + z, y06 = y12 - z;
          break;
        case 3:
          x07 = x13 - z, y06 = y12 - z;
          break;
      }
    }
    if (this._root && this._root.length)
      this._root = node2;
  }
  this._x0 = x07;
  this._y0 = y06;
  this._x1 = x13;
  this._y1 = y12;
  return this;
}
var init_cover = __esm({
  "node_modules/d3-quadtree/src/cover.js"() {
  }
});

// node_modules/d3-quadtree/src/data.js
function data_default7() {
  var data = [];
  this.visit(function(node2) {
    if (!node2.length)
      do
        data.push(node2.data);
      while (node2 = node2.next);
  });
  return data;
}
var init_data2 = __esm({
  "node_modules/d3-quadtree/src/data.js"() {
  }
});

// node_modules/d3-quadtree/src/extent.js
function extent_default5(_2) {
  return arguments.length ? this.cover(+_2[0][0], +_2[0][1]).cover(+_2[1][0], +_2[1][1]) : isNaN(this._x0) ? void 0 : [[this._x0, this._y0], [this._x1, this._y1]];
}
var init_extent2 = __esm({
  "node_modules/d3-quadtree/src/extent.js"() {
  }
});

// node_modules/d3-quadtree/src/quad.js
function quad_default3(node2, x07, y06, x13, y12) {
  this.node = node2;
  this.x0 = x07;
  this.y0 = y06;
  this.x1 = x13;
  this.y1 = y12;
}
var init_quad2 = __esm({
  "node_modules/d3-quadtree/src/quad.js"() {
  }
});

// node_modules/d3-quadtree/src/find.js
function find_default4(x7, y7, radius) {
  var data, x07 = this._x0, y06 = this._y0, x13, y12, x22, y22, x32 = this._x1, y32 = this._y1, quads = [], node2 = this._root, q, i;
  if (node2)
    quads.push(new quad_default3(node2, x07, y06, x32, y32));
  if (radius == null)
    radius = Infinity;
  else {
    x07 = x7 - radius, y06 = y7 - radius;
    x32 = x7 + radius, y32 = y7 + radius;
    radius *= radius;
  }
  while (q = quads.pop()) {
    if (!(node2 = q.node) || (x13 = q.x0) > x32 || (y12 = q.y0) > y32 || (x22 = q.x1) < x07 || (y22 = q.y1) < y06)
      continue;
    if (node2.length) {
      var xm = (x13 + x22) / 2, ym = (y12 + y22) / 2;
      quads.push(
        new quad_default3(node2[3], xm, ym, x22, y22),
        new quad_default3(node2[2], x13, ym, xm, y22),
        new quad_default3(node2[1], xm, y12, x22, ym),
        new quad_default3(node2[0], x13, y12, xm, ym)
      );
      if (i = (y7 >= ym) << 1 | x7 >= xm) {
        q = quads[quads.length - 1];
        quads[quads.length - 1] = quads[quads.length - 1 - i];
        quads[quads.length - 1 - i] = q;
      }
    } else {
      var dx = x7 - +this._x.call(null, node2.data), dy = y7 - +this._y.call(null, node2.data), d2 = dx * dx + dy * dy;
      if (d2 < radius) {
        var d = Math.sqrt(radius = d2);
        x07 = x7 - d, y06 = y7 - d;
        x32 = x7 + d, y32 = y7 + d;
        data = node2.data;
      }
    }
  }
  return data;
}
var init_find = __esm({
  "node_modules/d3-quadtree/src/find.js"() {
    init_quad2();
  }
});

// node_modules/d3-quadtree/src/remove.js
function remove_default11(d) {
  if (isNaN(x7 = +this._x.call(null, d)) || isNaN(y7 = +this._y.call(null, d)))
    return this;
  var parent, node2 = this._root, retainer, previous, next2, x07 = this._x0, y06 = this._y0, x13 = this._x1, y12 = this._y1, x7, y7, xm, ym, right3, bottom3, i, j;
  if (!node2)
    return this;
  if (node2.length)
    while (true) {
      if (right3 = x7 >= (xm = (x07 + x13) / 2))
        x07 = xm;
      else
        x13 = xm;
      if (bottom3 = y7 >= (ym = (y06 + y12) / 2))
        y06 = ym;
      else
        y12 = ym;
      if (!(parent = node2, node2 = node2[i = bottom3 << 1 | right3]))
        return this;
      if (!node2.length)
        break;
      if (parent[i + 1 & 3] || parent[i + 2 & 3] || parent[i + 3 & 3])
        retainer = parent, j = i;
    }
  while (node2.data !== d)
    if (!(previous = node2, node2 = node2.next))
      return this;
  if (next2 = node2.next)
    delete node2.next;
  if (previous)
    return next2 ? previous.next = next2 : delete previous.next, this;
  if (!parent)
    return this._root = next2, this;
  next2 ? parent[i] = next2 : delete parent[i];
  if ((node2 = parent[0] || parent[1] || parent[2] || parent[3]) && node2 === (parent[3] || parent[2] || parent[1] || parent[0]) && !node2.length) {
    if (retainer)
      retainer[j] = node2;
    else
      this._root = node2;
  }
  return this;
}
function removeAll3(data) {
  for (var i = 0, n = data.length; i < n; ++i)
    this.remove(data[i]);
  return this;
}
var init_remove3 = __esm({
  "node_modules/d3-quadtree/src/remove.js"() {
  }
});

// node_modules/d3-quadtree/src/root.js
function root_default3() {
  return this._root;
}
var init_root = __esm({
  "node_modules/d3-quadtree/src/root.js"() {
  }
});

// node_modules/d3-quadtree/src/size.js
function size_default7() {
  var size = 0;
  this.visit(function(node2) {
    if (!node2.length)
      do
        ++size;
      while (node2 = node2.next);
  });
  return size;
}
var init_size2 = __esm({
  "node_modules/d3-quadtree/src/size.js"() {
  }
});

// node_modules/d3-quadtree/src/visit.js
function visit_default3(callback) {
  var quads = [], q, node2 = this._root, child, x07, y06, x13, y12;
  if (node2)
    quads.push(new quad_default3(node2, this._x0, this._y0, this._x1, this._y1));
  while (q = quads.pop()) {
    if (!callback(node2 = q.node, x07 = q.x0, y06 = q.y0, x13 = q.x1, y12 = q.y1) && node2.length) {
      var xm = (x07 + x13) / 2, ym = (y06 + y12) / 2;
      if (child = node2[3])
        quads.push(new quad_default3(child, xm, ym, x13, y12));
      if (child = node2[2])
        quads.push(new quad_default3(child, x07, ym, xm, y12));
      if (child = node2[1])
        quads.push(new quad_default3(child, xm, y06, x13, ym));
      if (child = node2[0])
        quads.push(new quad_default3(child, x07, y06, xm, ym));
    }
  }
  return this;
}
var init_visit = __esm({
  "node_modules/d3-quadtree/src/visit.js"() {
    init_quad2();
  }
});

// node_modules/d3-quadtree/src/visitAfter.js
function visitAfter_default3(callback) {
  var quads = [], next2 = [], q;
  if (this._root)
    quads.push(new quad_default3(this._root, this._x0, this._y0, this._x1, this._y1));
  while (q = quads.pop()) {
    var node2 = q.node;
    if (node2.length) {
      var child, x07 = q.x0, y06 = q.y0, x13 = q.x1, y12 = q.y1, xm = (x07 + x13) / 2, ym = (y06 + y12) / 2;
      if (child = node2[0])
        quads.push(new quad_default3(child, x07, y06, xm, ym));
      if (child = node2[1])
        quads.push(new quad_default3(child, xm, y06, x13, ym));
      if (child = node2[2])
        quads.push(new quad_default3(child, x07, ym, xm, y12));
      if (child = node2[3])
        quads.push(new quad_default3(child, xm, ym, x13, y12));
    }
    next2.push(q);
  }
  while (q = next2.pop()) {
    callback(q.node, q.x0, q.y0, q.x1, q.y1);
  }
  return this;
}
var init_visitAfter = __esm({
  "node_modules/d3-quadtree/src/visitAfter.js"() {
    init_quad2();
  }
});

// node_modules/d3-quadtree/src/x.js
function defaultX4(d) {
  return d[0];
}
function x_default5(_2) {
  return arguments.length ? (this._x = _2, this) : this._x;
}
var init_x = __esm({
  "node_modules/d3-quadtree/src/x.js"() {
  }
});

// node_modules/d3-quadtree/src/y.js
function defaultY4(d) {
  return d[1];
}
function y_default4(_2) {
  return arguments.length ? (this._y = _2, this) : this._y;
}
var init_y = __esm({
  "node_modules/d3-quadtree/src/y.js"() {
  }
});

// node_modules/d3-quadtree/src/quadtree.js
function quadtree3(nodes, x7, y7) {
  var tree = new Quadtree3(x7 == null ? defaultX4 : x7, y7 == null ? defaultY4 : y7, NaN, NaN, NaN, NaN);
  return nodes == null ? tree : tree.addAll(nodes);
}
function Quadtree3(x7, y7, x07, y06, x13, y12) {
  this._x = x7;
  this._y = y7;
  this._x0 = x07;
  this._y0 = y06;
  this._x1 = x13;
  this._y1 = y12;
  this._root = void 0;
}
function leaf_copy3(leaf) {
  var copy7 = { data: leaf.data }, next2 = copy7;
  while (leaf = leaf.next)
    next2 = next2.next = { data: leaf.data };
  return copy7;
}
var treeProto3;
var init_quadtree = __esm({
  "node_modules/d3-quadtree/src/quadtree.js"() {
    init_add();
    init_cover();
    init_data2();
    init_extent2();
    init_find();
    init_remove3();
    init_root();
    init_size2();
    init_visit();
    init_visitAfter();
    init_x();
    init_y();
    treeProto3 = quadtree3.prototype = Quadtree3.prototype;
    treeProto3.copy = function() {
      var copy7 = new Quadtree3(this._x, this._y, this._x0, this._y0, this._x1, this._y1), node2 = this._root, nodes, child;
      if (!node2)
        return copy7;
      if (!node2.length)
        return copy7._root = leaf_copy3(node2), copy7;
      nodes = [{ source: node2, target: copy7._root = new Array(4) }];
      while (node2 = nodes.pop()) {
        for (var i = 0; i < 4; ++i) {
          if (child = node2.source[i]) {
            if (child.length)
              nodes.push({ source: child, target: node2.target[i] = new Array(4) });
            else
              node2.target[i] = leaf_copy3(child);
          }
        }
      }
      return copy7;
    };
    treeProto3.add = add_default3;
    treeProto3.addAll = addAll3;
    treeProto3.cover = cover_default3;
    treeProto3.data = data_default7;
    treeProto3.extent = extent_default5;
    treeProto3.find = find_default4;
    treeProto3.remove = remove_default11;
    treeProto3.removeAll = removeAll3;
    treeProto3.root = root_default3;
    treeProto3.size = size_default7;
    treeProto3.visit = visit_default3;
    treeProto3.visitAfter = visitAfter_default3;
    treeProto3.x = x_default5;
    treeProto3.y = y_default4;
  }
});

// node_modules/d3-quadtree/src/index.js
var init_src18 = __esm({
  "node_modules/d3-quadtree/src/index.js"() {
    init_quadtree();
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/collide.js
function x3(d) {
  return d.x + d.vx;
}
function y3(d) {
  return d.y + d.vy;
}
function collide_default2(radius) {
  var nodes, radii, strength = 1, iterations3 = 1;
  if (typeof radius !== "function")
    radius = constant_default27(radius == null ? 1 : +radius);
  function force() {
    var i, n = nodes.length, tree, node2, xi, yi, ri, ri2;
    for (var k3 = 0; k3 < iterations3; ++k3) {
      tree = quadtree3(nodes, x3, y3).visitAfter(prepare);
      for (i = 0; i < n; ++i) {
        node2 = nodes[i];
        ri = radii[node2.index], ri2 = ri * ri;
        xi = node2.x + node2.vx;
        yi = node2.y + node2.vy;
        tree.visit(apply3);
      }
    }
    function apply3(quad, x07, y06, x13, y12) {
      var data = quad.data, rj = quad.r, r = ri + rj;
      if (data) {
        if (data.index > node2.index) {
          var x7 = xi - data.x - data.vx, y7 = yi - data.y - data.vy, l = x7 * x7 + y7 * y7;
          if (l < r * r) {
            if (x7 === 0)
              x7 = jiggle_default2(), l += x7 * x7;
            if (y7 === 0)
              y7 = jiggle_default2(), l += y7 * y7;
            l = (r - (l = Math.sqrt(l))) / l * strength;
            node2.vx += (x7 *= l) * (r = (rj *= rj) / (ri2 + rj));
            node2.vy += (y7 *= l) * r;
            data.vx -= x7 * (r = 1 - r);
            data.vy -= y7 * r;
          }
        }
        return;
      }
      return x07 > xi + r || x13 < xi - r || y06 > yi + r || y12 < yi - r;
    }
  }
  function prepare(quad) {
    if (quad.data)
      return quad.r = radii[quad.data.index];
    for (var i = quad.r = 0; i < 4; ++i) {
      if (quad[i] && quad[i].r > quad.r) {
        quad.r = quad[i].r;
      }
    }
  }
  function initialize2() {
    if (!nodes)
      return;
    var i, n = nodes.length, node2;
    radii = new Array(n);
    for (i = 0; i < n; ++i)
      node2 = nodes[i], radii[node2.index] = +radius(node2, i, nodes);
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize2();
  };
  force.iterations = function(_2) {
    return arguments.length ? (iterations3 = +_2, force) : iterations3;
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = +_2, force) : strength;
  };
  force.radius = function(_2) {
    return arguments.length ? (radius = typeof _2 === "function" ? _2 : constant_default27(+_2), initialize2(), force) : radius;
  };
  return force;
}
var init_collide = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/collide.js"() {
    init_constant8();
    init_jiggle();
    init_src18();
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/link.js
function index5(d) {
  return d.index;
}
function find4(nodeById, nodeId) {
  var node2 = nodeById.get(nodeId);
  if (!node2)
    throw new Error("missing: " + nodeId);
  return node2;
}
function link_default2(links2) {
  var id5 = index5, strength = defaultStrength, strengths, distance2 = constant_default27(30), distances, nodes, count7, bias, iterations3 = 1;
  if (links2 == null)
    links2 = [];
  function defaultStrength(link5) {
    return 1 / Math.min(count7[link5.source.index], count7[link5.target.index]);
  }
  function force(alpha) {
    for (var k3 = 0, n = links2.length; k3 < iterations3; ++k3) {
      for (var i = 0, link5, source, target, x7, y7, l, b; i < n; ++i) {
        link5 = links2[i], source = link5.source, target = link5.target;
        x7 = target.x + target.vx - source.x - source.vx || jiggle_default2();
        y7 = target.y + target.vy - source.y - source.vy || jiggle_default2();
        l = Math.sqrt(x7 * x7 + y7 * y7);
        l = (l - distances[i]) / l * alpha * strengths[i];
        x7 *= l, y7 *= l;
        target.vx -= x7 * (b = bias[i]);
        target.vy -= y7 * b;
        source.vx += x7 * (b = 1 - b);
        source.vy += y7 * b;
      }
    }
  }
  function initialize2() {
    if (!nodes)
      return;
    var i, n = nodes.length, m = links2.length, nodeById = map_default(nodes, id5), link5;
    for (i = 0, count7 = new Array(n); i < m; ++i) {
      link5 = links2[i], link5.index = i;
      if (typeof link5.source !== "object")
        link5.source = find4(nodeById, link5.source);
      if (typeof link5.target !== "object")
        link5.target = find4(nodeById, link5.target);
      count7[link5.source.index] = (count7[link5.source.index] || 0) + 1;
      count7[link5.target.index] = (count7[link5.target.index] || 0) + 1;
    }
    for (i = 0, bias = new Array(m); i < m; ++i) {
      link5 = links2[i], bias[i] = count7[link5.source.index] / (count7[link5.source.index] + count7[link5.target.index]);
    }
    strengths = new Array(m), initializeStrength();
    distances = new Array(m), initializeDistance();
  }
  function initializeStrength() {
    if (!nodes)
      return;
    for (var i = 0, n = links2.length; i < n; ++i) {
      strengths[i] = +strength(links2[i], i, links2);
    }
  }
  function initializeDistance() {
    if (!nodes)
      return;
    for (var i = 0, n = links2.length; i < n; ++i) {
      distances[i] = +distance2(links2[i], i, links2);
    }
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize2();
  };
  force.links = function(_2) {
    return arguments.length ? (links2 = _2, initialize2(), force) : links2;
  };
  force.id = function(_2) {
    return arguments.length ? (id5 = _2, force) : id5;
  };
  force.iterations = function(_2) {
    return arguments.length ? (iterations3 = +_2, force) : iterations3;
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant_default27(+_2), initializeStrength(), force) : strength;
  };
  force.distance = function(_2) {
    return arguments.length ? (distance2 = typeof _2 === "function" ? _2 : constant_default27(+_2), initializeDistance(), force) : distance2;
  };
  return force;
}
var init_link = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/link.js"() {
    init_constant8();
    init_jiggle();
    init_src14();
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/simulation.js
function x4(d) {
  return d.x;
}
function y4(d) {
  return d.y;
}
function simulation_default2(nodes) {
  var simulation, alpha = 1, alphaMin = 1e-3, alphaDecay = 1 - Math.pow(alphaMin, 1 / 300), alphaTarget = 0, velocityDecay = 0.6, forces = map_default(), stepper = timer5(step), event2 = dispatch_default8("tick", "end");
  if (nodes == null)
    nodes = [];
  function step() {
    tick();
    event2.call("tick", simulation);
    if (alpha < alphaMin) {
      stepper.stop();
      event2.call("end", simulation);
    }
  }
  function tick(iterations3) {
    var i, n = nodes.length, node2;
    if (iterations3 === void 0)
      iterations3 = 1;
    for (var k3 = 0; k3 < iterations3; ++k3) {
      alpha += (alphaTarget - alpha) * alphaDecay;
      forces.each(function(force) {
        force(alpha);
      });
      for (i = 0; i < n; ++i) {
        node2 = nodes[i];
        if (node2.fx == null)
          node2.x += node2.vx *= velocityDecay;
        else
          node2.x = node2.fx, node2.vx = 0;
        if (node2.fy == null)
          node2.y += node2.vy *= velocityDecay;
        else
          node2.y = node2.fy, node2.vy = 0;
      }
    }
    return simulation;
  }
  function initializeNodes() {
    for (var i = 0, n = nodes.length, node2; i < n; ++i) {
      node2 = nodes[i], node2.index = i;
      if (node2.fx != null)
        node2.x = node2.fx;
      if (node2.fy != null)
        node2.y = node2.fy;
      if (isNaN(node2.x) || isNaN(node2.y)) {
        var radius = initialRadius * Math.sqrt(i), angle2 = i * initialAngle2;
        node2.x = radius * Math.cos(angle2);
        node2.y = radius * Math.sin(angle2);
      }
      if (isNaN(node2.vx) || isNaN(node2.vy)) {
        node2.vx = node2.vy = 0;
      }
    }
  }
  function initializeForce(force) {
    if (force.initialize)
      force.initialize(nodes);
    return force;
  }
  initializeNodes();
  return simulation = {
    tick,
    restart: function() {
      return stepper.restart(step), simulation;
    },
    stop: function() {
      return stepper.stop(), simulation;
    },
    nodes: function(_2) {
      return arguments.length ? (nodes = _2, initializeNodes(), forces.each(initializeForce), simulation) : nodes;
    },
    alpha: function(_2) {
      return arguments.length ? (alpha = +_2, simulation) : alpha;
    },
    alphaMin: function(_2) {
      return arguments.length ? (alphaMin = +_2, simulation) : alphaMin;
    },
    alphaDecay: function(_2) {
      return arguments.length ? (alphaDecay = +_2, simulation) : +alphaDecay;
    },
    alphaTarget: function(_2) {
      return arguments.length ? (alphaTarget = +_2, simulation) : alphaTarget;
    },
    velocityDecay: function(_2) {
      return arguments.length ? (velocityDecay = 1 - _2, simulation) : 1 - velocityDecay;
    },
    force: function(name2, _2) {
      return arguments.length > 1 ? (_2 == null ? forces.remove(name2) : forces.set(name2, initializeForce(_2)), simulation) : forces.get(name2);
    },
    find: function(x7, y7, radius) {
      var i = 0, n = nodes.length, dx, dy, d2, node2, closest;
      if (radius == null)
        radius = Infinity;
      else
        radius *= radius;
      for (i = 0; i < n; ++i) {
        node2 = nodes[i];
        dx = x7 - node2.x;
        dy = y7 - node2.y;
        d2 = dx * dx + dy * dy;
        if (d2 < radius)
          closest = node2, radius = d2;
      }
      return closest;
    },
    on: function(name2, _2) {
      return arguments.length > 1 ? (event2.on(name2, _2), simulation) : event2.on(name2);
    }
  };
}
var initialRadius, initialAngle2;
var init_simulation = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/simulation.js"() {
    init_src3();
    init_src14();
    init_src8();
    initialRadius = 10;
    initialAngle2 = Math.PI * (3 - Math.sqrt(5));
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/manyBody.js
function manyBody_default2() {
  var nodes, node2, alpha, strength = constant_default27(-30), strengths, distanceMin2 = 1, distanceMax2 = Infinity, theta2 = 0.81;
  function force(_2) {
    var i, n = nodes.length, tree = quadtree3(nodes, x4, y4).visitAfter(accumulate);
    for (alpha = _2, i = 0; i < n; ++i)
      node2 = nodes[i], tree.visit(apply3);
  }
  function initialize2() {
    if (!nodes)
      return;
    var i, n = nodes.length, node3;
    strengths = new Array(n);
    for (i = 0; i < n; ++i)
      node3 = nodes[i], strengths[node3.index] = +strength(node3, i, nodes);
  }
  function accumulate(quad) {
    var strength2 = 0, q, c7, weight = 0, x7, y7, i;
    if (quad.length) {
      for (x7 = y7 = i = 0; i < 4; ++i) {
        if ((q = quad[i]) && (c7 = Math.abs(q.value))) {
          strength2 += q.value, weight += c7, x7 += c7 * q.x, y7 += c7 * q.y;
        }
      }
      quad.x = x7 / weight;
      quad.y = y7 / weight;
    } else {
      q = quad;
      q.x = q.data.x;
      q.y = q.data.y;
      do
        strength2 += strengths[q.data.index];
      while (q = q.next);
    }
    quad.value = strength2;
  }
  function apply3(quad, x13, _2, x22) {
    if (!quad.value)
      return true;
    var x7 = quad.x - node2.x, y7 = quad.y - node2.y, w2 = x22 - x13, l = x7 * x7 + y7 * y7;
    if (w2 * w2 / theta2 < l) {
      if (l < distanceMax2) {
        if (x7 === 0)
          x7 = jiggle_default2(), l += x7 * x7;
        if (y7 === 0)
          y7 = jiggle_default2(), l += y7 * y7;
        if (l < distanceMin2)
          l = Math.sqrt(distanceMin2 * l);
        node2.vx += x7 * quad.value * alpha / l;
        node2.vy += y7 * quad.value * alpha / l;
      }
      return true;
    } else if (quad.length || l >= distanceMax2)
      return;
    if (quad.data !== node2 || quad.next) {
      if (x7 === 0)
        x7 = jiggle_default2(), l += x7 * x7;
      if (y7 === 0)
        y7 = jiggle_default2(), l += y7 * y7;
      if (l < distanceMin2)
        l = Math.sqrt(distanceMin2 * l);
    }
    do
      if (quad.data !== node2) {
        w2 = strengths[quad.data.index] * alpha / l;
        node2.vx += x7 * w2;
        node2.vy += y7 * w2;
      }
    while (quad = quad.next);
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize2();
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant_default27(+_2), initialize2(), force) : strength;
  };
  force.distanceMin = function(_2) {
    return arguments.length ? (distanceMin2 = _2 * _2, force) : Math.sqrt(distanceMin2);
  };
  force.distanceMax = function(_2) {
    return arguments.length ? (distanceMax2 = _2 * _2, force) : Math.sqrt(distanceMax2);
  };
  force.theta = function(_2) {
    return arguments.length ? (theta2 = _2 * _2, force) : Math.sqrt(theta2);
  };
  return force;
}
var init_manyBody = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/manyBody.js"() {
    init_constant8();
    init_jiggle();
    init_src18();
    init_simulation();
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/radial.js
function radial_default2(radius, x7, y7) {
  var nodes, strength = constant_default27(0.1), strengths, radiuses;
  if (typeof radius !== "function")
    radius = constant_default27(+radius);
  if (x7 == null)
    x7 = 0;
  if (y7 == null)
    y7 = 0;
  function force(alpha) {
    for (var i = 0, n = nodes.length; i < n; ++i) {
      var node2 = nodes[i], dx = node2.x - x7 || 1e-6, dy = node2.y - y7 || 1e-6, r = Math.sqrt(dx * dx + dy * dy), k3 = (radiuses[i] - r) * strengths[i] * alpha / r;
      node2.vx += dx * k3;
      node2.vy += dy * k3;
    }
  }
  function initialize2() {
    if (!nodes)
      return;
    var i, n = nodes.length;
    strengths = new Array(n);
    radiuses = new Array(n);
    for (i = 0; i < n; ++i) {
      radiuses[i] = +radius(nodes[i], i, nodes);
      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);
    }
  }
  force.initialize = function(_2) {
    nodes = _2, initialize2();
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant_default27(+_2), initialize2(), force) : strength;
  };
  force.radius = function(_2) {
    return arguments.length ? (radius = typeof _2 === "function" ? _2 : constant_default27(+_2), initialize2(), force) : radius;
  };
  force.x = function(_2) {
    return arguments.length ? (x7 = +_2, force) : x7;
  };
  force.y = function(_2) {
    return arguments.length ? (y7 = +_2, force) : y7;
  };
  return force;
}
var init_radial = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/radial.js"() {
    init_constant8();
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/x.js
function x_default6(x7) {
  var strength = constant_default27(0.1), nodes, strengths, xz;
  if (typeof x7 !== "function")
    x7 = constant_default27(x7 == null ? 0 : +x7);
  function force(alpha) {
    for (var i = 0, n = nodes.length, node2; i < n; ++i) {
      node2 = nodes[i], node2.vx += (xz[i] - node2.x) * strengths[i] * alpha;
    }
  }
  function initialize2() {
    if (!nodes)
      return;
    var i, n = nodes.length;
    strengths = new Array(n);
    xz = new Array(n);
    for (i = 0; i < n; ++i) {
      strengths[i] = isNaN(xz[i] = +x7(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);
    }
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize2();
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant_default27(+_2), initialize2(), force) : strength;
  };
  force.x = function(_2) {
    return arguments.length ? (x7 = typeof _2 === "function" ? _2 : constant_default27(+_2), initialize2(), force) : x7;
  };
  return force;
}
var init_x2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/x.js"() {
    init_constant8();
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/y.js
function y_default5(y7) {
  var strength = constant_default27(0.1), nodes, strengths, yz;
  if (typeof y7 !== "function")
    y7 = constant_default27(y7 == null ? 0 : +y7);
  function force(alpha) {
    for (var i = 0, n = nodes.length, node2; i < n; ++i) {
      node2 = nodes[i], node2.vy += (yz[i] - node2.y) * strengths[i] * alpha;
    }
  }
  function initialize2() {
    if (!nodes)
      return;
    var i, n = nodes.length;
    strengths = new Array(n);
    yz = new Array(n);
    for (i = 0; i < n; ++i) {
      strengths[i] = isNaN(yz[i] = +y7(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);
    }
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize2();
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant_default27(+_2), initialize2(), force) : strength;
  };
  force.y = function(_2) {
    return arguments.length ? (y7 = typeof _2 === "function" ? _2 : constant_default27(+_2), initialize2(), force) : y7;
  };
  return force;
}
var init_y2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/y.js"() {
    init_constant8();
  }
});

// node_modules/dagre-d3/node_modules/d3-force/src/index.js
var init_src19 = __esm({
  "node_modules/dagre-d3/node_modules/d3-force/src/index.js"() {
    init_center();
    init_collide();
    init_link();
    init_manyBody();
    init_radial();
    init_simulation();
    init_x2();
    init_y2();
  }
});

// node_modules/d3-format/src/formatDecimal.js
function formatDecimal_default3(x7) {
  return Math.abs(x7 = Math.round(x7)) >= 1e21 ? x7.toLocaleString("en").replace(/,/g, "") : x7.toString(10);
}
function formatDecimalParts3(x7, p) {
  if ((i = (x7 = p ? x7.toExponential(p - 1) : x7.toExponential()).indexOf("e")) < 0)
    return null;
  var i, coefficient = x7.slice(0, i);
  return [
    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,
    +x7.slice(i + 1)
  ];
}
var init_formatDecimal = __esm({
  "node_modules/d3-format/src/formatDecimal.js"() {
  }
});

// node_modules/d3-format/src/exponent.js
function exponent_default3(x7) {
  return x7 = formatDecimalParts3(Math.abs(x7)), x7 ? x7[1] : NaN;
}
var init_exponent = __esm({
  "node_modules/d3-format/src/exponent.js"() {
    init_formatDecimal();
  }
});

// node_modules/d3-format/src/formatGroup.js
function formatGroup_default3(grouping, thousands) {
  return function(value, width2) {
    var i = value.length, t = [], j = 0, g = grouping[0], length3 = 0;
    while (i > 0 && g > 0) {
      if (length3 + g + 1 > width2)
        g = Math.max(1, width2 - length3);
      t.push(value.substring(i -= g, i + g));
      if ((length3 += g + 1) > width2)
        break;
      g = grouping[j = (j + 1) % grouping.length];
    }
    return t.reverse().join(thousands);
  };
}
var init_formatGroup = __esm({
  "node_modules/d3-format/src/formatGroup.js"() {
  }
});

// node_modules/d3-format/src/formatNumerals.js
function formatNumerals_default3(numerals) {
  return function(value) {
    return value.replace(/[0-9]/g, function(i) {
      return numerals[+i];
    });
  };
}
var init_formatNumerals = __esm({
  "node_modules/d3-format/src/formatNumerals.js"() {
  }
});

// node_modules/d3-format/src/formatSpecifier.js
function formatSpecifier3(specifier) {
  if (!(match2 = re3.exec(specifier)))
    throw new Error("invalid format: " + specifier);
  var match2;
  return new FormatSpecifier3({
    fill: match2[1],
    align: match2[2],
    sign: match2[3],
    symbol: match2[4],
    zero: match2[5],
    width: match2[6],
    comma: match2[7],
    precision: match2[8] && match2[8].slice(1),
    trim: match2[9],
    type: match2[10]
  });
}
function FormatSpecifier3(specifier) {
  this.fill = specifier.fill === void 0 ? " " : specifier.fill + "";
  this.align = specifier.align === void 0 ? ">" : specifier.align + "";
  this.sign = specifier.sign === void 0 ? "-" : specifier.sign + "";
  this.symbol = specifier.symbol === void 0 ? "" : specifier.symbol + "";
  this.zero = !!specifier.zero;
  this.width = specifier.width === void 0 ? void 0 : +specifier.width;
  this.comma = !!specifier.comma;
  this.precision = specifier.precision === void 0 ? void 0 : +specifier.precision;
  this.trim = !!specifier.trim;
  this.type = specifier.type === void 0 ? "" : specifier.type + "";
}
var re3;
var init_formatSpecifier = __esm({
  "node_modules/d3-format/src/formatSpecifier.js"() {
    re3 = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
    formatSpecifier3.prototype = FormatSpecifier3.prototype;
    FormatSpecifier3.prototype.toString = function() {
      return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma ? "," : "") + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) + (this.trim ? "~" : "") + this.type;
    };
  }
});

// node_modules/d3-format/src/formatTrim.js
function formatTrim_default3(s3) {
  out:
    for (var n = s3.length, i = 1, i0 = -1, i1; i < n; ++i) {
      switch (s3[i]) {
        case ".":
          i0 = i1 = i;
          break;
        case "0":
          if (i0 === 0)
            i0 = i;
          i1 = i;
          break;
        default:
          if (!+s3[i])
            break out;
          if (i0 > 0)
            i0 = 0;
          break;
      }
    }
  return i0 > 0 ? s3.slice(0, i0) + s3.slice(i1 + 1) : s3;
}
var init_formatTrim = __esm({
  "node_modules/d3-format/src/formatTrim.js"() {
  }
});

// node_modules/d3-format/src/formatPrefixAuto.js
function formatPrefixAuto_default3(x7, p) {
  var d = formatDecimalParts3(x7, p);
  if (!d)
    return x7 + "";
  var coefficient = d[0], exponent5 = d[1], i = exponent5 - (prefixExponent3 = Math.max(-8, Math.min(8, Math.floor(exponent5 / 3))) * 3) + 1, n = coefficient.length;
  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join("0") : i > 0 ? coefficient.slice(0, i) + "." + coefficient.slice(i) : "0." + new Array(1 - i).join("0") + formatDecimalParts3(x7, Math.max(0, p + i - 1))[0];
}
var prefixExponent3;
var init_formatPrefixAuto = __esm({
  "node_modules/d3-format/src/formatPrefixAuto.js"() {
    init_formatDecimal();
  }
});

// node_modules/d3-format/src/formatRounded.js
function formatRounded_default3(x7, p) {
  var d = formatDecimalParts3(x7, p);
  if (!d)
    return x7 + "";
  var coefficient = d[0], exponent5 = d[1];
  return exponent5 < 0 ? "0." + new Array(-exponent5).join("0") + coefficient : coefficient.length > exponent5 + 1 ? coefficient.slice(0, exponent5 + 1) + "." + coefficient.slice(exponent5 + 1) : coefficient + new Array(exponent5 - coefficient.length + 2).join("0");
}
var init_formatRounded = __esm({
  "node_modules/d3-format/src/formatRounded.js"() {
    init_formatDecimal();
  }
});

// node_modules/d3-format/src/formatTypes.js
var formatTypes_default3;
var init_formatTypes = __esm({
  "node_modules/d3-format/src/formatTypes.js"() {
    init_formatDecimal();
    init_formatPrefixAuto();
    init_formatRounded();
    formatTypes_default3 = {
      "%": function(x7, p) {
        return (x7 * 100).toFixed(p);
      },
      "b": function(x7) {
        return Math.round(x7).toString(2);
      },
      "c": function(x7) {
        return x7 + "";
      },
      "d": formatDecimal_default3,
      "e": function(x7, p) {
        return x7.toExponential(p);
      },
      "f": function(x7, p) {
        return x7.toFixed(p);
      },
      "g": function(x7, p) {
        return x7.toPrecision(p);
      },
      "o": function(x7) {
        return Math.round(x7).toString(8);
      },
      "p": function(x7, p) {
        return formatRounded_default3(x7 * 100, p);
      },
      "r": formatRounded_default3,
      "s": formatPrefixAuto_default3,
      "X": function(x7) {
        return Math.round(x7).toString(16).toUpperCase();
      },
      "x": function(x7) {
        return Math.round(x7).toString(16);
      }
    };
  }
});

// node_modules/d3-format/src/identity.js
function identity_default9(x7) {
  return x7;
}
var init_identity3 = __esm({
  "node_modules/d3-format/src/identity.js"() {
  }
});

// node_modules/d3-format/src/locale.js
function locale_default3(locale7) {
  var group5 = locale7.grouping === void 0 || locale7.thousands === void 0 ? identity_default9 : formatGroup_default3(map13.call(locale7.grouping, Number), locale7.thousands + ""), currencyPrefix = locale7.currency === void 0 ? "" : locale7.currency[0] + "", currencySuffix = locale7.currency === void 0 ? "" : locale7.currency[1] + "", decimal = locale7.decimal === void 0 ? "." : locale7.decimal + "", numerals = locale7.numerals === void 0 ? identity_default9 : formatNumerals_default3(map13.call(locale7.numerals, String)), percent = locale7.percent === void 0 ? "%" : locale7.percent + "", minus = locale7.minus === void 0 ? "-" : locale7.minus + "", nan = locale7.nan === void 0 ? "NaN" : locale7.nan + "";
  function newFormat(specifier) {
    specifier = formatSpecifier3(specifier);
    var fill = specifier.fill, align = specifier.align, sign5 = specifier.sign, symbol = specifier.symbol, zero10 = specifier.zero, width2 = specifier.width, comma = specifier.comma, precision = specifier.precision, trim2 = specifier.trim, type4 = specifier.type;
    if (type4 === "n")
      comma = true, type4 = "g";
    else if (!formatTypes_default3[type4])
      precision === void 0 && (precision = 12), trim2 = true, type4 = "g";
    if (zero10 || fill === "0" && align === "=")
      zero10 = true, fill = "0", align = "=";
    var prefix3 = symbol === "$" ? currencyPrefix : symbol === "#" && /[boxX]/.test(type4) ? "0" + type4.toLowerCase() : "", suffix = symbol === "$" ? currencySuffix : /[%p]/.test(type4) ? percent : "";
    var formatType = formatTypes_default3[type4], maybeSuffix = /[defgprs%]/.test(type4);
    precision = precision === void 0 ? 6 : /[gprs]/.test(type4) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));
    function format5(value) {
      var valuePrefix = prefix3, valueSuffix = suffix, i, n, c7;
      if (type4 === "c") {
        valueSuffix = formatType(value) + valueSuffix;
        value = "";
      } else {
        value = +value;
        var valueNegative = value < 0 || 1 / value < 0;
        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);
        if (trim2)
          value = formatTrim_default3(value);
        if (valueNegative && +value === 0 && sign5 !== "+")
          valueNegative = false;
        valuePrefix = (valueNegative ? sign5 === "(" ? sign5 : minus : sign5 === "-" || sign5 === "(" ? "" : sign5) + valuePrefix;
        valueSuffix = (type4 === "s" ? prefixes3[8 + prefixExponent3 / 3] : "") + valueSuffix + (valueNegative && sign5 === "(" ? ")" : "");
        if (maybeSuffix) {
          i = -1, n = value.length;
          while (++i < n) {
            if (c7 = value.charCodeAt(i), 48 > c7 || c7 > 57) {
              valueSuffix = (c7 === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;
              value = value.slice(0, i);
              break;
            }
          }
        }
      }
      if (comma && !zero10)
        value = group5(value, Infinity);
      var length3 = valuePrefix.length + value.length + valueSuffix.length, padding2 = length3 < width2 ? new Array(width2 - length3 + 1).join(fill) : "";
      if (comma && zero10)
        value = group5(padding2 + value, padding2.length ? width2 - valueSuffix.length : Infinity), padding2 = "";
      switch (align) {
        case "<":
          value = valuePrefix + value + valueSuffix + padding2;
          break;
        case "=":
          value = valuePrefix + padding2 + value + valueSuffix;
          break;
        case "^":
          value = padding2.slice(0, length3 = padding2.length >> 1) + valuePrefix + value + valueSuffix + padding2.slice(length3);
          break;
        default:
          value = padding2 + valuePrefix + value + valueSuffix;
          break;
      }
      return numerals(value);
    }
    format5.toString = function() {
      return specifier + "";
    };
    return format5;
  }
  function formatPrefix4(specifier, value) {
    var f2 = newFormat((specifier = formatSpecifier3(specifier), specifier.type = "f", specifier)), e = Math.max(-8, Math.min(8, Math.floor(exponent_default3(value) / 3))) * 3, k3 = Math.pow(10, -e), prefix3 = prefixes3[8 + e / 3];
    return function(value2) {
      return f2(k3 * value2) + prefix3;
    };
  }
  return {
    format: newFormat,
    formatPrefix: formatPrefix4
  };
}
var map13, prefixes3;
var init_locale = __esm({
  "node_modules/d3-format/src/locale.js"() {
    init_exponent();
    init_formatGroup();
    init_formatNumerals();
    init_formatSpecifier();
    init_formatTrim();
    init_formatTypes();
    init_formatPrefixAuto();
    init_identity3();
    map13 = Array.prototype.map;
    prefixes3 = ["y", "z", "a", "f", "p", "n", "\xB5", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
  }
});

// node_modules/d3-format/src/defaultLocale.js
function defaultLocale5(definition) {
  locale5 = locale_default3(definition);
  format3 = locale5.format;
  formatPrefix3 = locale5.formatPrefix;
  return locale5;
}
var locale5, format3, formatPrefix3;
var init_defaultLocale = __esm({
  "node_modules/d3-format/src/defaultLocale.js"() {
    init_locale();
    defaultLocale5({
      decimal: ".",
      thousands: ",",
      grouping: [3],
      currency: ["$", ""],
      minus: "-"
    });
  }
});

// node_modules/d3-format/src/precisionFixed.js
function precisionFixed_default3(step) {
  return Math.max(0, -exponent_default3(Math.abs(step)));
}
var init_precisionFixed = __esm({
  "node_modules/d3-format/src/precisionFixed.js"() {
    init_exponent();
  }
});

// node_modules/d3-format/src/precisionPrefix.js
function precisionPrefix_default3(step, value) {
  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent_default3(value) / 3))) * 3 - exponent_default3(Math.abs(step)));
}
var init_precisionPrefix = __esm({
  "node_modules/d3-format/src/precisionPrefix.js"() {
    init_exponent();
  }
});

// node_modules/d3-format/src/precisionRound.js
function precisionRound_default3(step, max10) {
  step = Math.abs(step), max10 = Math.abs(max10) - step;
  return Math.max(0, exponent_default3(max10) - exponent_default3(step)) + 1;
}
var init_precisionRound = __esm({
  "node_modules/d3-format/src/precisionRound.js"() {
    init_exponent();
  }
});

// node_modules/d3-format/src/index.js
var init_src20 = __esm({
  "node_modules/d3-format/src/index.js"() {
    init_defaultLocale();
    init_locale();
    init_formatSpecifier();
    init_precisionFixed();
    init_precisionPrefix();
    init_precisionRound();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/adder.js
function adder_default() {
  return new Adder5();
}
function Adder5() {
  this.reset();
}
function add4(adder, a3, b) {
  var x7 = adder.s = a3 + b, bv = x7 - a3, av = x7 - bv;
  adder.t = a3 - av + (b - bv);
}
var temp;
var init_adder = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/adder.js"() {
    Adder5.prototype = {
      constructor: Adder5,
      reset: function() {
        this.s = this.t = 0;
      },
      add: function(y7) {
        add4(temp, y7, this.t);
        add4(this, temp.s, this.s);
        if (this.s)
          this.t += temp.t;
        else
          this.s = temp.t;
      },
      valueOf: function() {
        return this.s;
      }
    };
    temp = new Adder5();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/math.js
function acos3(x7) {
  return x7 > 1 ? 0 : x7 < -1 ? pi13 : Math.acos(x7);
}
function asin3(x7) {
  return x7 > 1 ? halfPi9 : x7 < -1 ? -halfPi9 : Math.asin(x7);
}
function haversin2(x7) {
  return (x7 = sin5(x7 / 2)) * x7;
}
var epsilon12, epsilon28, pi13, halfPi9, quarterPi2, tau14, degrees13, radians7, abs6, atan3, atan23, cos5, ceil2, exp2, log3, pow3, sin5, sign3, sqrt4, tan2;
var init_math4 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/math.js"() {
    epsilon12 = 1e-6;
    epsilon28 = 1e-12;
    pi13 = Math.PI;
    halfPi9 = pi13 / 2;
    quarterPi2 = pi13 / 4;
    tau14 = pi13 * 2;
    degrees13 = 180 / pi13;
    radians7 = pi13 / 180;
    abs6 = Math.abs;
    atan3 = Math.atan;
    atan23 = Math.atan2;
    cos5 = Math.cos;
    ceil2 = Math.ceil;
    exp2 = Math.exp;
    log3 = Math.log;
    pow3 = Math.pow;
    sin5 = Math.sin;
    sign3 = Math.sign || function(x7) {
      return x7 > 0 ? 1 : x7 < 0 ? -1 : 0;
    };
    sqrt4 = Math.sqrt;
    tan2 = Math.tan;
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/noop.js
function noop7() {
}
var init_noop2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/noop.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/stream.js
function streamGeometry(geometry, stream) {
  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {
    streamGeometryType[geometry.type](geometry, stream);
  }
}
function streamLine(coordinates2, stream, closed) {
  var i = -1, n = coordinates2.length - closed, coordinate;
  stream.lineStart();
  while (++i < n)
    coordinate = coordinates2[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);
  stream.lineEnd();
}
function streamPolygon(coordinates2, stream) {
  var i = -1, n = coordinates2.length;
  stream.polygonStart();
  while (++i < n)
    streamLine(coordinates2[i], stream, 1);
  stream.polygonEnd();
}
function stream_default2(object2, stream) {
  if (object2 && streamObjectType.hasOwnProperty(object2.type)) {
    streamObjectType[object2.type](object2, stream);
  } else {
    streamGeometry(object2, stream);
  }
}
var streamObjectType, streamGeometryType;
var init_stream = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/stream.js"() {
    streamObjectType = {
      Feature: function(object2, stream) {
        streamGeometry(object2.geometry, stream);
      },
      FeatureCollection: function(object2, stream) {
        var features = object2.features, i = -1, n = features.length;
        while (++i < n)
          streamGeometry(features[i].geometry, stream);
      }
    };
    streamGeometryType = {
      Sphere: function(object2, stream) {
        stream.sphere();
      },
      Point: function(object2, stream) {
        object2 = object2.coordinates;
        stream.point(object2[0], object2[1], object2[2]);
      },
      MultiPoint: function(object2, stream) {
        var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
        while (++i < n)
          object2 = coordinates2[i], stream.point(object2[0], object2[1], object2[2]);
      },
      LineString: function(object2, stream) {
        streamLine(object2.coordinates, stream, 0);
      },
      MultiLineString: function(object2, stream) {
        var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
        while (++i < n)
          streamLine(coordinates2[i], stream, 0);
      },
      Polygon: function(object2, stream) {
        streamPolygon(object2.coordinates, stream);
      },
      MultiPolygon: function(object2, stream) {
        var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
        while (++i < n)
          streamPolygon(coordinates2[i], stream);
      },
      GeometryCollection: function(object2, stream) {
        var geometries = object2.geometries, i = -1, n = geometries.length;
        while (++i < n)
          streamGeometry(geometries[i], stream);
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/area.js
function areaRingStart() {
  areaStream2.point = areaPointFirst;
}
function areaRingEnd() {
  areaPoint(lambda00, phi00);
}
function areaPointFirst(lambda, phi3) {
  areaStream2.point = areaPoint;
  lambda00 = lambda, phi00 = phi3;
  lambda *= radians7, phi3 *= radians7;
  lambda0 = lambda, cosPhi0 = cos5(phi3 = phi3 / 2 + quarterPi2), sinPhi0 = sin5(phi3);
}
function areaPoint(lambda, phi3) {
  lambda *= radians7, phi3 *= radians7;
  phi3 = phi3 / 2 + quarterPi2;
  var dLambda = lambda - lambda0, sdLambda = dLambda >= 0 ? 1 : -1, adLambda = sdLambda * dLambda, cosPhi = cos5(phi3), sinPhi = sin5(phi3), k3 = sinPhi0 * sinPhi, u4 = cosPhi0 * cosPhi + k3 * cos5(adLambda), v2 = k3 * sdLambda * sin5(adLambda);
  areaRingSum3.add(atan23(v2, u4));
  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;
}
function area_default7(object2) {
  areaSum3.reset();
  stream_default2(object2, areaStream2);
  return areaSum3 * 2;
}
var areaRingSum3, areaSum3, lambda00, phi00, lambda0, cosPhi0, sinPhi0, areaStream2;
var init_area2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/area.js"() {
    init_adder();
    init_math4();
    init_noop2();
    init_stream();
    areaRingSum3 = adder_default();
    areaSum3 = adder_default();
    areaStream2 = {
      point: noop7,
      lineStart: noop7,
      lineEnd: noop7,
      polygonStart: function() {
        areaRingSum3.reset();
        areaStream2.lineStart = areaRingStart;
        areaStream2.lineEnd = areaRingEnd;
      },
      polygonEnd: function() {
        var areaRing = +areaRingSum3;
        areaSum3.add(areaRing < 0 ? tau14 + areaRing : areaRing);
        this.lineStart = this.lineEnd = this.point = noop7;
      },
      sphere: function() {
        areaSum3.add(tau14);
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/cartesian.js
function spherical2(cartesian3) {
  return [atan23(cartesian3[1], cartesian3[0]), asin3(cartesian3[2])];
}
function cartesian2(spherical3) {
  var lambda = spherical3[0], phi3 = spherical3[1], cosPhi = cos5(phi3);
  return [cosPhi * cos5(lambda), cosPhi * sin5(lambda), sin5(phi3)];
}
function cartesianDot2(a3, b) {
  return a3[0] * b[0] + a3[1] * b[1] + a3[2] * b[2];
}
function cartesianCross2(a3, b) {
  return [a3[1] * b[2] - a3[2] * b[1], a3[2] * b[0] - a3[0] * b[2], a3[0] * b[1] - a3[1] * b[0]];
}
function cartesianAddInPlace2(a3, b) {
  a3[0] += b[0], a3[1] += b[1], a3[2] += b[2];
}
function cartesianScale2(vector, k3) {
  return [vector[0] * k3, vector[1] * k3, vector[2] * k3];
}
function cartesianNormalizeInPlace2(d) {
  var l = sqrt4(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);
  d[0] /= l, d[1] /= l, d[2] /= l;
}
var init_cartesian = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/cartesian.js"() {
    init_math4();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/bounds.js
function boundsPoint(lambda, phi3) {
  ranges.push(range5 = [lambda02 = lambda, lambda1 = lambda]);
  if (phi3 < phi0)
    phi0 = phi3;
  if (phi3 > phi1)
    phi1 = phi3;
}
function linePoint(lambda, phi3) {
  var p = cartesian2([lambda * radians7, phi3 * radians7]);
  if (p0) {
    var normal = cartesianCross2(p0, p), equatorial = [normal[1], -normal[0], 0], inflection = cartesianCross2(equatorial, normal);
    cartesianNormalizeInPlace2(inflection);
    inflection = spherical2(inflection);
    var delta = lambda - lambda2, sign5 = delta > 0 ? 1 : -1, lambdai = inflection[0] * degrees13 * sign5, phii, antimeridian = abs6(delta) > 180;
    if (antimeridian ^ (sign5 * lambda2 < lambdai && lambdai < sign5 * lambda)) {
      phii = inflection[1] * degrees13;
      if (phii > phi1)
        phi1 = phii;
    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign5 * lambda2 < lambdai && lambdai < sign5 * lambda)) {
      phii = -inflection[1] * degrees13;
      if (phii < phi0)
        phi0 = phii;
    } else {
      if (phi3 < phi0)
        phi0 = phi3;
      if (phi3 > phi1)
        phi1 = phi3;
    }
    if (antimeridian) {
      if (lambda < lambda2) {
        if (angle(lambda02, lambda) > angle(lambda02, lambda1))
          lambda1 = lambda;
      } else {
        if (angle(lambda, lambda1) > angle(lambda02, lambda1))
          lambda02 = lambda;
      }
    } else {
      if (lambda1 >= lambda02) {
        if (lambda < lambda02)
          lambda02 = lambda;
        if (lambda > lambda1)
          lambda1 = lambda;
      } else {
        if (lambda > lambda2) {
          if (angle(lambda02, lambda) > angle(lambda02, lambda1))
            lambda1 = lambda;
        } else {
          if (angle(lambda, lambda1) > angle(lambda02, lambda1))
            lambda02 = lambda;
        }
      }
    }
  } else {
    ranges.push(range5 = [lambda02 = lambda, lambda1 = lambda]);
  }
  if (phi3 < phi0)
    phi0 = phi3;
  if (phi3 > phi1)
    phi1 = phi3;
  p0 = p, lambda2 = lambda;
}
function boundsLineStart() {
  boundsStream.point = linePoint;
}
function boundsLineEnd() {
  range5[0] = lambda02, range5[1] = lambda1;
  boundsStream.point = boundsPoint;
  p0 = null;
}
function boundsRingPoint(lambda, phi3) {
  if (p0) {
    var delta = lambda - lambda2;
    deltaSum.add(abs6(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);
  } else {
    lambda002 = lambda, phi002 = phi3;
  }
  areaStream2.point(lambda, phi3);
  linePoint(lambda, phi3);
}
function boundsRingStart() {
  areaStream2.lineStart();
}
function boundsRingEnd() {
  boundsRingPoint(lambda002, phi002);
  areaStream2.lineEnd();
  if (abs6(deltaSum) > epsilon12)
    lambda02 = -(lambda1 = 180);
  range5[0] = lambda02, range5[1] = lambda1;
  p0 = null;
}
function angle(lambda04, lambda12) {
  return (lambda12 -= lambda04) < 0 ? lambda12 + 360 : lambda12;
}
function rangeCompare(a3, b) {
  return a3[0] - b[0];
}
function rangeContains(range6, x7) {
  return range6[0] <= range6[1] ? range6[0] <= x7 && x7 <= range6[1] : x7 < range6[0] || range6[1] < x7;
}
function bounds_default3(feature) {
  var i, n, a3, b, merged, deltaMax, delta;
  phi1 = lambda1 = -(lambda02 = phi0 = Infinity);
  ranges = [];
  stream_default2(feature, boundsStream);
  if (n = ranges.length) {
    ranges.sort(rangeCompare);
    for (i = 1, a3 = ranges[0], merged = [a3]; i < n; ++i) {
      b = ranges[i];
      if (rangeContains(a3, b[0]) || rangeContains(a3, b[1])) {
        if (angle(a3[0], b[1]) > angle(a3[0], a3[1]))
          a3[1] = b[1];
        if (angle(b[0], a3[1]) > angle(a3[0], a3[1]))
          a3[0] = b[0];
      } else {
        merged.push(a3 = b);
      }
    }
    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a3 = merged[n]; i <= n; a3 = b, ++i) {
      b = merged[i];
      if ((delta = angle(a3[1], b[0])) > deltaMax)
        deltaMax = delta, lambda02 = b[0], lambda1 = a3[1];
    }
  }
  ranges = range5 = null;
  return lambda02 === Infinity || phi0 === Infinity ? [[NaN, NaN], [NaN, NaN]] : [[lambda02, phi0], [lambda1, phi1]];
}
var lambda02, phi0, lambda1, phi1, lambda2, lambda002, phi002, p0, deltaSum, ranges, range5, boundsStream;
var init_bounds = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/bounds.js"() {
    init_adder();
    init_area2();
    init_cartesian();
    init_math4();
    init_stream();
    deltaSum = adder_default();
    boundsStream = {
      point: boundsPoint,
      lineStart: boundsLineStart,
      lineEnd: boundsLineEnd,
      polygonStart: function() {
        boundsStream.point = boundsRingPoint;
        boundsStream.lineStart = boundsRingStart;
        boundsStream.lineEnd = boundsRingEnd;
        deltaSum.reset();
        areaStream2.polygonStart();
      },
      polygonEnd: function() {
        areaStream2.polygonEnd();
        boundsStream.point = boundsPoint;
        boundsStream.lineStart = boundsLineStart;
        boundsStream.lineEnd = boundsLineEnd;
        if (areaRingSum3 < 0)
          lambda02 = -(lambda1 = 180), phi0 = -(phi1 = 90);
        else if (deltaSum > epsilon12)
          phi1 = 90;
        else if (deltaSum < -epsilon12)
          phi0 = -90;
        range5[0] = lambda02, range5[1] = lambda1;
      },
      sphere: function() {
        lambda02 = -(lambda1 = 180), phi0 = -(phi1 = 90);
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/centroid.js
function centroidPoint(lambda, phi3) {
  lambda *= radians7, phi3 *= radians7;
  var cosPhi = cos5(phi3);
  centroidPointCartesian(cosPhi * cos5(lambda), cosPhi * sin5(lambda), sin5(phi3));
}
function centroidPointCartesian(x7, y7, z) {
  ++W0;
  X0 += (x7 - X0) / W0;
  Y0 += (y7 - Y0) / W0;
  Z0 += (z - Z0) / W0;
}
function centroidLineStart() {
  centroidStream.point = centroidLinePointFirst;
}
function centroidLinePointFirst(lambda, phi3) {
  lambda *= radians7, phi3 *= radians7;
  var cosPhi = cos5(phi3);
  x02 = cosPhi * cos5(lambda);
  y0 = cosPhi * sin5(lambda);
  z0 = sin5(phi3);
  centroidStream.point = centroidLinePoint;
  centroidPointCartesian(x02, y0, z0);
}
function centroidLinePoint(lambda, phi3) {
  lambda *= radians7, phi3 *= radians7;
  var cosPhi = cos5(phi3), x7 = cosPhi * cos5(lambda), y7 = cosPhi * sin5(lambda), z = sin5(phi3), w2 = atan23(sqrt4((w2 = y0 * z - z0 * y7) * w2 + (w2 = z0 * x7 - x02 * z) * w2 + (w2 = x02 * y7 - y0 * x7) * w2), x02 * x7 + y0 * y7 + z0 * z);
  W1 += w2;
  X1 += w2 * (x02 + (x02 = x7));
  Y1 += w2 * (y0 + (y0 = y7));
  Z1 += w2 * (z0 + (z0 = z));
  centroidPointCartesian(x02, y0, z0);
}
function centroidLineEnd() {
  centroidStream.point = centroidPoint;
}
function centroidRingStart() {
  centroidStream.point = centroidRingPointFirst;
}
function centroidRingEnd() {
  centroidRingPoint(lambda003, phi003);
  centroidStream.point = centroidPoint;
}
function centroidRingPointFirst(lambda, phi3) {
  lambda003 = lambda, phi003 = phi3;
  lambda *= radians7, phi3 *= radians7;
  centroidStream.point = centroidRingPoint;
  var cosPhi = cos5(phi3);
  x02 = cosPhi * cos5(lambda);
  y0 = cosPhi * sin5(lambda);
  z0 = sin5(phi3);
  centroidPointCartesian(x02, y0, z0);
}
function centroidRingPoint(lambda, phi3) {
  lambda *= radians7, phi3 *= radians7;
  var cosPhi = cos5(phi3), x7 = cosPhi * cos5(lambda), y7 = cosPhi * sin5(lambda), z = sin5(phi3), cx = y0 * z - z0 * y7, cy = z0 * x7 - x02 * z, cz = x02 * y7 - y0 * x7, m = sqrt4(cx * cx + cy * cy + cz * cz), w2 = asin3(m), v2 = m && -w2 / m;
  X22 += v2 * cx;
  Y22 += v2 * cy;
  Z2 += v2 * cz;
  W1 += w2;
  X1 += w2 * (x02 + (x02 = x7));
  Y1 += w2 * (y0 + (y0 = y7));
  Z1 += w2 * (z0 + (z0 = z));
  centroidPointCartesian(x02, y0, z0);
}
function centroid_default4(object2) {
  W0 = W1 = X0 = Y0 = Z0 = X1 = Y1 = Z1 = X22 = Y22 = Z2 = 0;
  stream_default2(object2, centroidStream);
  var x7 = X22, y7 = Y22, z = Z2, m = x7 * x7 + y7 * y7 + z * z;
  if (m < epsilon28) {
    x7 = X1, y7 = Y1, z = Z1;
    if (W1 < epsilon12)
      x7 = X0, y7 = Y0, z = Z0;
    m = x7 * x7 + y7 * y7 + z * z;
    if (m < epsilon28)
      return [NaN, NaN];
  }
  return [atan23(y7, x7) * degrees13, asin3(z / sqrt4(m)) * degrees13];
}
var W0, W1, X0, Y0, Z0, X1, Y1, Z1, X22, Y22, Z2, lambda003, phi003, x02, y0, z0, centroidStream;
var init_centroid = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/centroid.js"() {
    init_math4();
    init_noop2();
    init_stream();
    centroidStream = {
      sphere: noop7,
      point: centroidPoint,
      lineStart: centroidLineStart,
      lineEnd: centroidLineEnd,
      polygonStart: function() {
        centroidStream.lineStart = centroidRingStart;
        centroidStream.lineEnd = centroidRingEnd;
      },
      polygonEnd: function() {
        centroidStream.lineStart = centroidLineStart;
        centroidStream.lineEnd = centroidLineEnd;
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/constant.js
function constant_default28(x7) {
  return function() {
    return x7;
  };
}
var init_constant9 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/constant.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/compose.js
function compose_default2(a3, b) {
  function compose(x7, y7) {
    return x7 = a3(x7, y7), b(x7[0], x7[1]);
  }
  if (a3.invert && b.invert)
    compose.invert = function(x7, y7) {
      return x7 = b.invert(x7, y7), x7 && a3.invert(x7[0], x7[1]);
    };
  return compose;
}
var init_compose = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/compose.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/rotation.js
function rotationIdentity2(lambda, phi3) {
  return [abs6(lambda) > pi13 ? lambda + Math.round(-lambda / tau14) * tau14 : lambda, phi3];
}
function rotateRadians2(deltaLambda, deltaPhi, deltaGamma) {
  return (deltaLambda %= tau14) ? deltaPhi || deltaGamma ? compose_default2(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma)) : rotationLambda(deltaLambda) : deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma) : rotationIdentity2;
}
function forwardRotationLambda(deltaLambda) {
  return function(lambda, phi3) {
    return lambda += deltaLambda, [lambda > pi13 ? lambda - tau14 : lambda < -pi13 ? lambda + tau14 : lambda, phi3];
  };
}
function rotationLambda(deltaLambda) {
  var rotation = forwardRotationLambda(deltaLambda);
  rotation.invert = forwardRotationLambda(-deltaLambda);
  return rotation;
}
function rotationPhiGamma(deltaPhi, deltaGamma) {
  var cosDeltaPhi = cos5(deltaPhi), sinDeltaPhi = sin5(deltaPhi), cosDeltaGamma = cos5(deltaGamma), sinDeltaGamma = sin5(deltaGamma);
  function rotation(lambda, phi3) {
    var cosPhi = cos5(phi3), x7 = cos5(lambda) * cosPhi, y7 = sin5(lambda) * cosPhi, z = sin5(phi3), k3 = z * cosDeltaPhi + x7 * sinDeltaPhi;
    return [
      atan23(y7 * cosDeltaGamma - k3 * sinDeltaGamma, x7 * cosDeltaPhi - z * sinDeltaPhi),
      asin3(k3 * cosDeltaGamma + y7 * sinDeltaGamma)
    ];
  }
  rotation.invert = function(lambda, phi3) {
    var cosPhi = cos5(phi3), x7 = cos5(lambda) * cosPhi, y7 = sin5(lambda) * cosPhi, z = sin5(phi3), k3 = z * cosDeltaGamma - y7 * sinDeltaGamma;
    return [
      atan23(y7 * cosDeltaGamma + z * sinDeltaGamma, x7 * cosDeltaPhi + k3 * sinDeltaPhi),
      asin3(k3 * cosDeltaPhi - x7 * sinDeltaPhi)
    ];
  };
  return rotation;
}
function rotation_default2(rotate) {
  rotate = rotateRadians2(rotate[0] * radians7, rotate[1] * radians7, rotate.length > 2 ? rotate[2] * radians7 : 0);
  function forward(coordinates2) {
    coordinates2 = rotate(coordinates2[0] * radians7, coordinates2[1] * radians7);
    return coordinates2[0] *= degrees13, coordinates2[1] *= degrees13, coordinates2;
  }
  forward.invert = function(coordinates2) {
    coordinates2 = rotate.invert(coordinates2[0] * radians7, coordinates2[1] * radians7);
    return coordinates2[0] *= degrees13, coordinates2[1] *= degrees13, coordinates2;
  };
  return forward;
}
var init_rotation = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/rotation.js"() {
    init_compose();
    init_math4();
    rotationIdentity2.invert = rotationIdentity2;
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/circle.js
function circleStream2(stream, radius, delta, direction2, t010, t110) {
  if (!delta)
    return;
  var cosRadius = cos5(radius), sinRadius = sin5(radius), step = direction2 * delta;
  if (t010 == null) {
    t010 = radius + direction2 * tau14;
    t110 = radius - step / 2;
  } else {
    t010 = circleRadius(cosRadius, t010);
    t110 = circleRadius(cosRadius, t110);
    if (direction2 > 0 ? t010 < t110 : t010 > t110)
      t010 += direction2 * tau14;
  }
  for (var point12, t = t010; direction2 > 0 ? t > t110 : t < t110; t -= step) {
    point12 = spherical2([cosRadius, -sinRadius * cos5(t), -sinRadius * sin5(t)]);
    stream.point(point12[0], point12[1]);
  }
}
function circleRadius(cosRadius, point12) {
  point12 = cartesian2(point12), point12[0] -= cosRadius;
  cartesianNormalizeInPlace2(point12);
  var radius = acos3(-point12[1]);
  return ((-point12[2] < 0 ? -radius : radius) + tau14 - epsilon12) % tau14;
}
function circle_default4() {
  var center3 = constant_default28([0, 0]), radius = constant_default28(90), precision = constant_default28(6), ring, rotate, stream = { point: point12 };
  function point12(x7, y7) {
    ring.push(x7 = rotate(x7, y7));
    x7[0] *= degrees13, x7[1] *= degrees13;
  }
  function circle4() {
    var c7 = center3.apply(this, arguments), r = radius.apply(this, arguments) * radians7, p = precision.apply(this, arguments) * radians7;
    ring = [];
    rotate = rotateRadians2(-c7[0] * radians7, -c7[1] * radians7, 0).invert;
    circleStream2(stream, r, p, 1);
    c7 = { type: "Polygon", coordinates: [ring] };
    ring = rotate = null;
    return c7;
  }
  circle4.center = function(_2) {
    return arguments.length ? (center3 = typeof _2 === "function" ? _2 : constant_default28([+_2[0], +_2[1]]), circle4) : center3;
  };
  circle4.radius = function(_2) {
    return arguments.length ? (radius = typeof _2 === "function" ? _2 : constant_default28(+_2), circle4) : radius;
  };
  circle4.precision = function(_2) {
    return arguments.length ? (precision = typeof _2 === "function" ? _2 : constant_default28(+_2), circle4) : precision;
  };
  return circle4;
}
var init_circle2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/circle.js"() {
    init_cartesian();
    init_constant9();
    init_math4();
    init_rotation();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/clip/buffer.js
function buffer_default4() {
  var lines = [], line2;
  return {
    point: function(x7, y7, m) {
      line2.push([x7, y7, m]);
    },
    lineStart: function() {
      lines.push(line2 = []);
    },
    lineEnd: noop7,
    rejoin: function() {
      if (lines.length > 1)
        lines.push(lines.pop().concat(lines.shift()));
    },
    result: function() {
      var result = lines;
      lines = [];
      line2 = null;
      return result;
    }
  };
}
var init_buffer2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/clip/buffer.js"() {
    init_noop2();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/pointEqual.js
function pointEqual_default2(a3, b) {
  return abs6(a3[0] - b[0]) < epsilon12 && abs6(a3[1] - b[1]) < epsilon12;
}
var init_pointEqual = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/pointEqual.js"() {
    init_math4();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/clip/rejoin.js
function Intersection2(point12, points, other, entry) {
  this.x = point12;
  this.z = points;
  this.o = other;
  this.e = entry;
  this.v = false;
  this.n = this.p = null;
}
function rejoin_default2(segments, compareIntersection3, startInside, interpolate, stream) {
  var subject = [], clip = [], i, n;
  segments.forEach(function(segment) {
    if ((n2 = segment.length - 1) <= 0)
      return;
    var n2, p02 = segment[0], p1 = segment[n2], x7;
    if (pointEqual_default2(p02, p1)) {
      if (!p02[2] && !p1[2]) {
        stream.lineStart();
        for (i = 0; i < n2; ++i)
          stream.point((p02 = segment[i])[0], p02[1]);
        stream.lineEnd();
        return;
      }
      p1[0] += 2 * epsilon12;
    }
    subject.push(x7 = new Intersection2(p02, segment, null, true));
    clip.push(x7.o = new Intersection2(p02, null, x7, false));
    subject.push(x7 = new Intersection2(p1, segment, null, false));
    clip.push(x7.o = new Intersection2(p1, null, x7, true));
  });
  if (!subject.length)
    return;
  clip.sort(compareIntersection3);
  link3(subject);
  link3(clip);
  for (i = 0, n = clip.length; i < n; ++i) {
    clip[i].e = startInside = !startInside;
  }
  var start6 = subject[0], points, point12;
  while (1) {
    var current = start6, isSubject = true;
    while (current.v)
      if ((current = current.n) === start6)
        return;
    points = current.z;
    stream.lineStart();
    do {
      current.v = current.o.v = true;
      if (current.e) {
        if (isSubject) {
          for (i = 0, n = points.length; i < n; ++i)
            stream.point((point12 = points[i])[0], point12[1]);
        } else {
          interpolate(current.x, current.n.x, 1, stream);
        }
        current = current.n;
      } else {
        if (isSubject) {
          points = current.p.z;
          for (i = points.length - 1; i >= 0; --i)
            stream.point((point12 = points[i])[0], point12[1]);
        } else {
          interpolate(current.x, current.p.x, -1, stream);
        }
        current = current.p;
      }
      current = current.o;
      points = current.z;
      isSubject = !isSubject;
    } while (!current.v);
    stream.lineEnd();
  }
}
function link3(array12) {
  if (!(n = array12.length))
    return;
  var n, i = 0, a3 = array12[0], b;
  while (++i < n) {
    a3.n = b = array12[i];
    b.p = a3;
    a3 = b;
  }
  a3.n = b = array12[0];
  b.p = a3;
}
var init_rejoin = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/clip/rejoin.js"() {
    init_pointEqual();
    init_math4();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/polygonContains.js
function longitude2(point12) {
  if (abs6(point12[0]) <= pi13)
    return point12[0];
  else
    return sign3(point12[0]) * ((abs6(point12[0]) + pi13) % tau14 - pi13);
}
function polygonContains_default2(polygon, point12) {
  var lambda = longitude2(point12), phi3 = point12[1], sinPhi = sin5(phi3), normal = [sin5(lambda), -cos5(lambda), 0], angle2 = 0, winding = 0;
  sum7.reset();
  if (sinPhi === 1)
    phi3 = halfPi9 + epsilon12;
  else if (sinPhi === -1)
    phi3 = -halfPi9 - epsilon12;
  for (var i = 0, n = polygon.length; i < n; ++i) {
    if (!(m = (ring = polygon[i]).length))
      continue;
    var ring, m, point0 = ring[m - 1], lambda04 = longitude2(point0), phi02 = point0[1] / 2 + quarterPi2, sinPhi03 = sin5(phi02), cosPhi03 = cos5(phi02);
    for (var j = 0; j < m; ++j, lambda04 = lambda12, sinPhi03 = sinPhi1, cosPhi03 = cosPhi1, point0 = point1) {
      var point1 = ring[j], lambda12 = longitude2(point1), phi12 = point1[1] / 2 + quarterPi2, sinPhi1 = sin5(phi12), cosPhi1 = cos5(phi12), delta = lambda12 - lambda04, sign5 = delta >= 0 ? 1 : -1, absDelta = sign5 * delta, antimeridian = absDelta > pi13, k3 = sinPhi03 * sinPhi1;
      sum7.add(atan23(k3 * sign5 * sin5(absDelta), cosPhi03 * cosPhi1 + k3 * cos5(absDelta)));
      angle2 += antimeridian ? delta + sign5 * tau14 : delta;
      if (antimeridian ^ lambda04 >= lambda ^ lambda12 >= lambda) {
        var arc = cartesianCross2(cartesian2(point0), cartesian2(point1));
        cartesianNormalizeInPlace2(arc);
        var intersection6 = cartesianCross2(normal, arc);
        cartesianNormalizeInPlace2(intersection6);
        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin3(intersection6[2]);
        if (phi3 > phiArc || phi3 === phiArc && (arc[0] || arc[1])) {
          winding += antimeridian ^ delta >= 0 ? 1 : -1;
        }
      }
    }
  }
  return (angle2 < -epsilon12 || angle2 < epsilon12 && sum7 < -epsilon12) ^ winding & 1;
}
var sum7;
var init_polygonContains = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/polygonContains.js"() {
    init_adder();
    init_cartesian();
    init_math4();
    sum7 = adder_default();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/clip/index.js
function clip_default2(pointVisible, clipLine, interpolate, start6) {
  return function(sink) {
    var line2 = clipLine(sink), ringBuffer = buffer_default4(), ringSink = clipLine(ringBuffer), polygonStarted = false, polygon, segments, ring;
    var clip = {
      point: point12,
      lineStart,
      lineEnd,
      polygonStart: function() {
        clip.point = pointRing;
        clip.lineStart = ringStart;
        clip.lineEnd = ringEnd;
        segments = [];
        polygon = [];
      },
      polygonEnd: function() {
        clip.point = point12;
        clip.lineStart = lineStart;
        clip.lineEnd = lineEnd;
        segments = merge_default7(segments);
        var startInside = polygonContains_default2(polygon, start6);
        if (segments.length) {
          if (!polygonStarted)
            sink.polygonStart(), polygonStarted = true;
          rejoin_default2(segments, compareIntersection2, startInside, interpolate, sink);
        } else if (startInside) {
          if (!polygonStarted)
            sink.polygonStart(), polygonStarted = true;
          sink.lineStart();
          interpolate(null, null, 1, sink);
          sink.lineEnd();
        }
        if (polygonStarted)
          sink.polygonEnd(), polygonStarted = false;
        segments = polygon = null;
      },
      sphere: function() {
        sink.polygonStart();
        sink.lineStart();
        interpolate(null, null, 1, sink);
        sink.lineEnd();
        sink.polygonEnd();
      }
    };
    function point12(lambda, phi3) {
      if (pointVisible(lambda, phi3))
        sink.point(lambda, phi3);
    }
    function pointLine(lambda, phi3) {
      line2.point(lambda, phi3);
    }
    function lineStart() {
      clip.point = pointLine;
      line2.lineStart();
    }
    function lineEnd() {
      clip.point = point12;
      line2.lineEnd();
    }
    function pointRing(lambda, phi3) {
      ring.push([lambda, phi3]);
      ringSink.point(lambda, phi3);
    }
    function ringStart() {
      ringSink.lineStart();
      ring = [];
    }
    function ringEnd() {
      pointRing(ring[0][0], ring[0][1]);
      ringSink.lineEnd();
      var clean = ringSink.clean(), ringSegments = ringBuffer.result(), i, n = ringSegments.length, m, segment, point13;
      ring.pop();
      polygon.push(ring);
      ring = null;
      if (!n)
        return;
      if (clean & 1) {
        segment = ringSegments[0];
        if ((m = segment.length - 1) > 0) {
          if (!polygonStarted)
            sink.polygonStart(), polygonStarted = true;
          sink.lineStart();
          for (i = 0; i < m; ++i)
            sink.point((point13 = segment[i])[0], point13[1]);
          sink.lineEnd();
        }
        return;
      }
      if (n > 1 && clean & 2)
        ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));
      segments.push(ringSegments.filter(validSegment2));
    }
    return clip;
  };
}
function validSegment2(segment) {
  return segment.length > 1;
}
function compareIntersection2(a3, b) {
  return ((a3 = a3.x)[0] < 0 ? a3[1] - halfPi9 - epsilon12 : halfPi9 - a3[1]) - ((b = b.x)[0] < 0 ? b[1] - halfPi9 - epsilon12 : halfPi9 - b[1]);
}
var init_clip = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/clip/index.js"() {
    init_buffer2();
    init_rejoin();
    init_math4();
    init_polygonContains();
    init_src();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/clip/antimeridian.js
function clipAntimeridianLine2(stream) {
  var lambda04 = NaN, phi02 = NaN, sign0 = NaN, clean;
  return {
    lineStart: function() {
      stream.lineStart();
      clean = 1;
    },
    point: function(lambda12, phi12) {
      var sign1 = lambda12 > 0 ? pi13 : -pi13, delta = abs6(lambda12 - lambda04);
      if (abs6(delta - pi13) < epsilon12) {
        stream.point(lambda04, phi02 = (phi02 + phi12) / 2 > 0 ? halfPi9 : -halfPi9);
        stream.point(sign0, phi02);
        stream.lineEnd();
        stream.lineStart();
        stream.point(sign1, phi02);
        stream.point(lambda12, phi02);
        clean = 0;
      } else if (sign0 !== sign1 && delta >= pi13) {
        if (abs6(lambda04 - sign0) < epsilon12)
          lambda04 -= sign0 * epsilon12;
        if (abs6(lambda12 - sign1) < epsilon12)
          lambda12 -= sign1 * epsilon12;
        phi02 = clipAntimeridianIntersect2(lambda04, phi02, lambda12, phi12);
        stream.point(sign0, phi02);
        stream.lineEnd();
        stream.lineStart();
        stream.point(sign1, phi02);
        clean = 0;
      }
      stream.point(lambda04 = lambda12, phi02 = phi12);
      sign0 = sign1;
    },
    lineEnd: function() {
      stream.lineEnd();
      lambda04 = phi02 = NaN;
    },
    clean: function() {
      return 2 - clean;
    }
  };
}
function clipAntimeridianIntersect2(lambda04, phi02, lambda12, phi12) {
  var cosPhi03, cosPhi1, sinLambda0Lambda1 = sin5(lambda04 - lambda12);
  return abs6(sinLambda0Lambda1) > epsilon12 ? atan3((sin5(phi02) * (cosPhi1 = cos5(phi12)) * sin5(lambda12) - sin5(phi12) * (cosPhi03 = cos5(phi02)) * sin5(lambda04)) / (cosPhi03 * cosPhi1 * sinLambda0Lambda1)) : (phi02 + phi12) / 2;
}
function clipAntimeridianInterpolate2(from2, to, direction2, stream) {
  var phi3;
  if (from2 == null) {
    phi3 = direction2 * halfPi9;
    stream.point(-pi13, phi3);
    stream.point(0, phi3);
    stream.point(pi13, phi3);
    stream.point(pi13, 0);
    stream.point(pi13, -phi3);
    stream.point(0, -phi3);
    stream.point(-pi13, -phi3);
    stream.point(-pi13, 0);
    stream.point(-pi13, phi3);
  } else if (abs6(from2[0] - to[0]) > epsilon12) {
    var lambda = from2[0] < to[0] ? pi13 : -pi13;
    phi3 = direction2 * lambda / 2;
    stream.point(-lambda, phi3);
    stream.point(0, phi3);
    stream.point(lambda, phi3);
  } else {
    stream.point(to[0], to[1]);
  }
}
var antimeridian_default2;
var init_antimeridian = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/clip/antimeridian.js"() {
    init_clip();
    init_math4();
    antimeridian_default2 = clip_default2(
      function() {
        return true;
      },
      clipAntimeridianLine2,
      clipAntimeridianInterpolate2,
      [-pi13, -halfPi9]
    );
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/clip/circle.js
function circle_default5(radius) {
  var cr = cos5(radius), delta = 6 * radians7, smallRadius = cr > 0, notHemisphere = abs6(cr) > epsilon12;
  function interpolate(from2, to, direction2, stream) {
    circleStream2(stream, radius, delta, direction2, from2, to);
  }
  function visible(lambda, phi3) {
    return cos5(lambda) * cos5(phi3) > cr;
  }
  function clipLine(stream) {
    var point0, c0, v0, v00, clean;
    return {
      lineStart: function() {
        v00 = v0 = false;
        clean = 1;
      },
      point: function(lambda, phi3) {
        var point1 = [lambda, phi3], point22, v2 = visible(lambda, phi3), c7 = smallRadius ? v2 ? 0 : code(lambda, phi3) : v2 ? code(lambda + (lambda < 0 ? pi13 : -pi13), phi3) : 0;
        if (!point0 && (v00 = v0 = v2))
          stream.lineStart();
        if (v2 !== v0) {
          point22 = intersect4(point0, point1);
          if (!point22 || pointEqual_default2(point0, point22) || pointEqual_default2(point1, point22))
            point1[2] = 1;
        }
        if (v2 !== v0) {
          clean = 0;
          if (v2) {
            stream.lineStart();
            point22 = intersect4(point1, point0);
            stream.point(point22[0], point22[1]);
          } else {
            point22 = intersect4(point0, point1);
            stream.point(point22[0], point22[1], 2);
            stream.lineEnd();
          }
          point0 = point22;
        } else if (notHemisphere && point0 && smallRadius ^ v2) {
          var t;
          if (!(c7 & c0) && (t = intersect4(point1, point0, true))) {
            clean = 0;
            if (smallRadius) {
              stream.lineStart();
              stream.point(t[0][0], t[0][1]);
              stream.point(t[1][0], t[1][1]);
              stream.lineEnd();
            } else {
              stream.point(t[1][0], t[1][1]);
              stream.lineEnd();
              stream.lineStart();
              stream.point(t[0][0], t[0][1], 3);
            }
          }
        }
        if (v2 && (!point0 || !pointEqual_default2(point0, point1))) {
          stream.point(point1[0], point1[1]);
        }
        point0 = point1, v0 = v2, c0 = c7;
      },
      lineEnd: function() {
        if (v0)
          stream.lineEnd();
        point0 = null;
      },
      clean: function() {
        return clean | (v00 && v0) << 1;
      }
    };
  }
  function intersect4(a3, b, two) {
    var pa = cartesian2(a3), pb = cartesian2(b);
    var n1 = [1, 0, 0], n2 = cartesianCross2(pa, pb), n2n2 = cartesianDot2(n2, n2), n1n2 = n2[0], determinant = n2n2 - n1n2 * n1n2;
    if (!determinant)
      return !two && a3;
    var c1 = cr * n2n2 / determinant, c22 = -cr * n1n2 / determinant, n1xn2 = cartesianCross2(n1, n2), A9 = cartesianScale2(n1, c1), B8 = cartesianScale2(n2, c22);
    cartesianAddInPlace2(A9, B8);
    var u4 = n1xn2, w2 = cartesianDot2(A9, u4), uu = cartesianDot2(u4, u4), t27 = w2 * w2 - uu * (cartesianDot2(A9, A9) - 1);
    if (t27 < 0)
      return;
    var t = sqrt4(t27), q = cartesianScale2(u4, (-w2 - t) / uu);
    cartesianAddInPlace2(q, A9);
    q = spherical2(q);
    if (!two)
      return q;
    var lambda04 = a3[0], lambda12 = b[0], phi02 = a3[1], phi12 = b[1], z;
    if (lambda12 < lambda04)
      z = lambda04, lambda04 = lambda12, lambda12 = z;
    var delta2 = lambda12 - lambda04, polar = abs6(delta2 - pi13) < epsilon12, meridian = polar || delta2 < epsilon12;
    if (!polar && phi12 < phi02)
      z = phi02, phi02 = phi12, phi12 = z;
    if (meridian ? polar ? phi02 + phi12 > 0 ^ q[1] < (abs6(q[0] - lambda04) < epsilon12 ? phi02 : phi12) : phi02 <= q[1] && q[1] <= phi12 : delta2 > pi13 ^ (lambda04 <= q[0] && q[0] <= lambda12)) {
      var q1 = cartesianScale2(u4, (-w2 + t) / uu);
      cartesianAddInPlace2(q1, A9);
      return [q, spherical2(q1)];
    }
  }
  function code(lambda, phi3) {
    var r = smallRadius ? radius : pi13 - radius, code2 = 0;
    if (lambda < -r)
      code2 |= 1;
    else if (lambda > r)
      code2 |= 2;
    if (phi3 < -r)
      code2 |= 4;
    else if (phi3 > r)
      code2 |= 8;
    return code2;
  }
  return clip_default2(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi13, radius - pi13]);
}
var init_circle3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/clip/circle.js"() {
    init_cartesian();
    init_circle2();
    init_math4();
    init_pointEqual();
    init_clip();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/clip/line.js
function line_default3(a3, b, x07, y06, x13, y12) {
  var ax = a3[0], ay = a3[1], bx = b[0], by = b[1], t010 = 0, t110 = 1, dx = bx - ax, dy = by - ay, r;
  r = x07 - ax;
  if (!dx && r > 0)
    return;
  r /= dx;
  if (dx < 0) {
    if (r < t010)
      return;
    if (r < t110)
      t110 = r;
  } else if (dx > 0) {
    if (r > t110)
      return;
    if (r > t010)
      t010 = r;
  }
  r = x13 - ax;
  if (!dx && r < 0)
    return;
  r /= dx;
  if (dx < 0) {
    if (r > t110)
      return;
    if (r > t010)
      t010 = r;
  } else if (dx > 0) {
    if (r < t010)
      return;
    if (r < t110)
      t110 = r;
  }
  r = y06 - ay;
  if (!dy && r > 0)
    return;
  r /= dy;
  if (dy < 0) {
    if (r < t010)
      return;
    if (r < t110)
      t110 = r;
  } else if (dy > 0) {
    if (r > t110)
      return;
    if (r > t010)
      t010 = r;
  }
  r = y12 - ay;
  if (!dy && r < 0)
    return;
  r /= dy;
  if (dy < 0) {
    if (r > t110)
      return;
    if (r > t010)
      t010 = r;
  } else if (dy > 0) {
    if (r < t010)
      return;
    if (r < t110)
      t110 = r;
  }
  if (t010 > 0)
    a3[0] = ax + t010 * dx, a3[1] = ay + t010 * dy;
  if (t110 < 1)
    b[0] = ax + t110 * dx, b[1] = ay + t110 * dy;
  return true;
}
var init_line = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/clip/line.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/clip/rectangle.js
function clipRectangle2(x07, y06, x13, y12) {
  function visible(x7, y7) {
    return x07 <= x7 && x7 <= x13 && y06 <= y7 && y7 <= y12;
  }
  function interpolate(from2, to, direction2, stream) {
    var a3 = 0, a1 = 0;
    if (from2 == null || (a3 = corner(from2, direction2)) !== (a1 = corner(to, direction2)) || comparePoint(from2, to) < 0 ^ direction2 > 0) {
      do
        stream.point(a3 === 0 || a3 === 3 ? x07 : x13, a3 > 1 ? y12 : y06);
      while ((a3 = (a3 + direction2 + 4) % 4) !== a1);
    } else {
      stream.point(to[0], to[1]);
    }
  }
  function corner(p, direction2) {
    return abs6(p[0] - x07) < epsilon12 ? direction2 > 0 ? 0 : 3 : abs6(p[0] - x13) < epsilon12 ? direction2 > 0 ? 2 : 1 : abs6(p[1] - y06) < epsilon12 ? direction2 > 0 ? 1 : 0 : direction2 > 0 ? 3 : 2;
  }
  function compareIntersection3(a3, b) {
    return comparePoint(a3.x, b.x);
  }
  function comparePoint(a3, b) {
    var ca3 = corner(a3, 1), cb = corner(b, 1);
    return ca3 !== cb ? ca3 - cb : ca3 === 0 ? b[1] - a3[1] : ca3 === 1 ? a3[0] - b[0] : ca3 === 2 ? a3[1] - b[1] : b[0] - a3[0];
  }
  return function(stream) {
    var activeStream = stream, bufferStream = buffer_default4(), segments, polygon, ring, x__, y__, v__, x_, y_, v_, first, clean;
    var clipStream = {
      point: point12,
      lineStart,
      lineEnd,
      polygonStart,
      polygonEnd
    };
    function point12(x7, y7) {
      if (visible(x7, y7))
        activeStream.point(x7, y7);
    }
    function polygonInside() {
      var winding = 0;
      for (var i = 0, n = polygon.length; i < n; ++i) {
        for (var ring2 = polygon[i], j = 1, m = ring2.length, point13 = ring2[0], a0, a1, b05 = point13[0], b15 = point13[1]; j < m; ++j) {
          a0 = b05, a1 = b15, point13 = ring2[j], b05 = point13[0], b15 = point13[1];
          if (a1 <= y12) {
            if (b15 > y12 && (b05 - a0) * (y12 - a1) > (b15 - a1) * (x07 - a0))
              ++winding;
          } else {
            if (b15 <= y12 && (b05 - a0) * (y12 - a1) < (b15 - a1) * (x07 - a0))
              --winding;
          }
        }
      }
      return winding;
    }
    function polygonStart() {
      activeStream = bufferStream, segments = [], polygon = [], clean = true;
    }
    function polygonEnd() {
      var startInside = polygonInside(), cleanInside = clean && startInside, visible2 = (segments = merge_default7(segments)).length;
      if (cleanInside || visible2) {
        stream.polygonStart();
        if (cleanInside) {
          stream.lineStart();
          interpolate(null, null, 1, stream);
          stream.lineEnd();
        }
        if (visible2) {
          rejoin_default2(segments, compareIntersection3, startInside, interpolate, stream);
        }
        stream.polygonEnd();
      }
      activeStream = stream, segments = polygon = ring = null;
    }
    function lineStart() {
      clipStream.point = linePoint2;
      if (polygon)
        polygon.push(ring = []);
      first = true;
      v_ = false;
      x_ = y_ = NaN;
    }
    function lineEnd() {
      if (segments) {
        linePoint2(x__, y__);
        if (v__ && v_)
          bufferStream.rejoin();
        segments.push(bufferStream.result());
      }
      clipStream.point = point12;
      if (v_)
        activeStream.lineEnd();
    }
    function linePoint2(x7, y7) {
      var v2 = visible(x7, y7);
      if (polygon)
        ring.push([x7, y7]);
      if (first) {
        x__ = x7, y__ = y7, v__ = v2;
        first = false;
        if (v2) {
          activeStream.lineStart();
          activeStream.point(x7, y7);
        }
      } else {
        if (v2 && v_)
          activeStream.point(x7, y7);
        else {
          var a3 = [x_ = Math.max(clipMin2, Math.min(clipMax2, x_)), y_ = Math.max(clipMin2, Math.min(clipMax2, y_))], b = [x7 = Math.max(clipMin2, Math.min(clipMax2, x7)), y7 = Math.max(clipMin2, Math.min(clipMax2, y7))];
          if (line_default3(a3, b, x07, y06, x13, y12)) {
            if (!v_) {
              activeStream.lineStart();
              activeStream.point(a3[0], a3[1]);
            }
            activeStream.point(b[0], b[1]);
            if (!v2)
              activeStream.lineEnd();
            clean = false;
          } else if (v2) {
            activeStream.lineStart();
            activeStream.point(x7, y7);
            clean = false;
          }
        }
      }
      x_ = x7, y_ = y7, v_ = v2;
    }
    return clipStream;
  };
}
var clipMax2, clipMin2;
var init_rectangle = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/clip/rectangle.js"() {
    init_math4();
    init_buffer2();
    init_line();
    init_rejoin();
    init_src();
    clipMax2 = 1e9;
    clipMin2 = -clipMax2;
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/clip/extent.js
function extent_default6() {
  var x07 = 0, y06 = 0, x13 = 960, y12 = 500, cache, cacheStream, clip;
  return clip = {
    stream: function(stream) {
      return cache && cacheStream === stream ? cache : cache = clipRectangle2(x07, y06, x13, y12)(cacheStream = stream);
    },
    extent: function(_2) {
      return arguments.length ? (x07 = +_2[0][0], y06 = +_2[0][1], x13 = +_2[1][0], y12 = +_2[1][1], cache = cacheStream = null, clip) : [[x07, y06], [x13, y12]];
    }
  };
}
var init_extent3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/clip/extent.js"() {
    init_rectangle();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/length.js
function lengthLineStart() {
  lengthStream.point = lengthPointFirst;
  lengthStream.lineEnd = lengthLineEnd;
}
function lengthLineEnd() {
  lengthStream.point = lengthStream.lineEnd = noop7;
}
function lengthPointFirst(lambda, phi3) {
  lambda *= radians7, phi3 *= radians7;
  lambda03 = lambda, sinPhi02 = sin5(phi3), cosPhi02 = cos5(phi3);
  lengthStream.point = lengthPoint;
}
function lengthPoint(lambda, phi3) {
  lambda *= radians7, phi3 *= radians7;
  var sinPhi = sin5(phi3), cosPhi = cos5(phi3), delta = abs6(lambda - lambda03), cosDelta = cos5(delta), sinDelta = sin5(delta), x7 = cosPhi * sinDelta, y7 = cosPhi02 * sinPhi - sinPhi02 * cosPhi * cosDelta, z = sinPhi02 * sinPhi + cosPhi02 * cosPhi * cosDelta;
  lengthSum2.add(atan23(sqrt4(x7 * x7 + y7 * y7), z));
  lambda03 = lambda, sinPhi02 = sinPhi, cosPhi02 = cosPhi;
}
function length_default3(object2) {
  lengthSum2.reset();
  stream_default2(object2, lengthStream);
  return +lengthSum2;
}
var lengthSum2, lambda03, sinPhi02, cosPhi02, lengthStream;
var init_length = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/length.js"() {
    init_adder();
    init_math4();
    init_noop2();
    init_stream();
    lengthSum2 = adder_default();
    lengthStream = {
      sphere: noop7,
      point: noop7,
      lineStart: lengthLineStart,
      lineEnd: noop7,
      polygonStart: noop7,
      polygonEnd: noop7
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/distance.js
function distance_default2(a3, b) {
  coordinates[0] = a3;
  coordinates[1] = b;
  return length_default3(object);
}
var coordinates, object;
var init_distance = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/distance.js"() {
    init_length();
    coordinates = [null, null];
    object = { type: "LineString", coordinates };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/contains.js
function containsGeometry(geometry, point12) {
  return geometry && containsGeometryType.hasOwnProperty(geometry.type) ? containsGeometryType[geometry.type](geometry, point12) : false;
}
function containsPoint(coordinates2, point12) {
  return distance_default2(coordinates2, point12) === 0;
}
function containsLine(coordinates2, point12) {
  var ao, bo, ab4;
  for (var i = 0, n = coordinates2.length; i < n; i++) {
    bo = distance_default2(coordinates2[i], point12);
    if (bo === 0)
      return true;
    if (i > 0) {
      ab4 = distance_default2(coordinates2[i], coordinates2[i - 1]);
      if (ab4 > 0 && ao <= ab4 && bo <= ab4 && (ao + bo - ab4) * (1 - Math.pow((ao - bo) / ab4, 2)) < epsilon28 * ab4)
        return true;
    }
    ao = bo;
  }
  return false;
}
function containsPolygon(coordinates2, point12) {
  return !!polygonContains_default2(coordinates2.map(ringRadians), pointRadians(point12));
}
function ringRadians(ring) {
  return ring = ring.map(pointRadians), ring.pop(), ring;
}
function pointRadians(point12) {
  return [point12[0] * radians7, point12[1] * radians7];
}
function contains_default5(object2, point12) {
  return (object2 && containsObjectType.hasOwnProperty(object2.type) ? containsObjectType[object2.type] : containsGeometry)(object2, point12);
}
var containsObjectType, containsGeometryType;
var init_contains2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/contains.js"() {
    init_polygonContains();
    init_distance();
    init_math4();
    containsObjectType = {
      Feature: function(object2, point12) {
        return containsGeometry(object2.geometry, point12);
      },
      FeatureCollection: function(object2, point12) {
        var features = object2.features, i = -1, n = features.length;
        while (++i < n)
          if (containsGeometry(features[i].geometry, point12))
            return true;
        return false;
      }
    };
    containsGeometryType = {
      Sphere: function() {
        return true;
      },
      Point: function(object2, point12) {
        return containsPoint(object2.coordinates, point12);
      },
      MultiPoint: function(object2, point12) {
        var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
        while (++i < n)
          if (containsPoint(coordinates2[i], point12))
            return true;
        return false;
      },
      LineString: function(object2, point12) {
        return containsLine(object2.coordinates, point12);
      },
      MultiLineString: function(object2, point12) {
        var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
        while (++i < n)
          if (containsLine(coordinates2[i], point12))
            return true;
        return false;
      },
      Polygon: function(object2, point12) {
        return containsPolygon(object2.coordinates, point12);
      },
      MultiPolygon: function(object2, point12) {
        var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
        while (++i < n)
          if (containsPolygon(coordinates2[i], point12))
            return true;
        return false;
      },
      GeometryCollection: function(object2, point12) {
        var geometries = object2.geometries, i = -1, n = geometries.length;
        while (++i < n)
          if (containsGeometry(geometries[i], point12))
            return true;
        return false;
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/graticule.js
function graticuleX(y06, y12, dy) {
  var y7 = range_default(y06, y12 - epsilon12, dy).concat(y12);
  return function(x7) {
    return y7.map(function(y8) {
      return [x7, y8];
    });
  };
}
function graticuleY(x07, x13, dx) {
  var x7 = range_default(x07, x13 - epsilon12, dx).concat(x13);
  return function(y7) {
    return x7.map(function(x8) {
      return [x8, y7];
    });
  };
}
function graticule2() {
  var x13, x07, X13, X03, y12, y06, Y13, Y03, dx = 10, dy = dx, DX = 90, DY = 360, x7, y7, X3, Y3, precision = 2.5;
  function graticule3() {
    return { type: "MultiLineString", coordinates: lines() };
  }
  function lines() {
    return range_default(ceil2(X03 / DX) * DX, X13, DX).map(X3).concat(range_default(ceil2(Y03 / DY) * DY, Y13, DY).map(Y3)).concat(range_default(ceil2(x07 / dx) * dx, x13, dx).filter(function(x8) {
      return abs6(x8 % DX) > epsilon12;
    }).map(x7)).concat(range_default(ceil2(y06 / dy) * dy, y12, dy).filter(function(y8) {
      return abs6(y8 % DY) > epsilon12;
    }).map(y7));
  }
  graticule3.lines = function() {
    return lines().map(function(coordinates2) {
      return { type: "LineString", coordinates: coordinates2 };
    });
  };
  graticule3.outline = function() {
    return {
      type: "Polygon",
      coordinates: [
        X3(X03).concat(
          Y3(Y13).slice(1),
          X3(X13).reverse().slice(1),
          Y3(Y03).reverse().slice(1)
        )
      ]
    };
  };
  graticule3.extent = function(_2) {
    if (!arguments.length)
      return graticule3.extentMinor();
    return graticule3.extentMajor(_2).extentMinor(_2);
  };
  graticule3.extentMajor = function(_2) {
    if (!arguments.length)
      return [[X03, Y03], [X13, Y13]];
    X03 = +_2[0][0], X13 = +_2[1][0];
    Y03 = +_2[0][1], Y13 = +_2[1][1];
    if (X03 > X13)
      _2 = X03, X03 = X13, X13 = _2;
    if (Y03 > Y13)
      _2 = Y03, Y03 = Y13, Y13 = _2;
    return graticule3.precision(precision);
  };
  graticule3.extentMinor = function(_2) {
    if (!arguments.length)
      return [[x07, y06], [x13, y12]];
    x07 = +_2[0][0], x13 = +_2[1][0];
    y06 = +_2[0][1], y12 = +_2[1][1];
    if (x07 > x13)
      _2 = x07, x07 = x13, x13 = _2;
    if (y06 > y12)
      _2 = y06, y06 = y12, y12 = _2;
    return graticule3.precision(precision);
  };
  graticule3.step = function(_2) {
    if (!arguments.length)
      return graticule3.stepMinor();
    return graticule3.stepMajor(_2).stepMinor(_2);
  };
  graticule3.stepMajor = function(_2) {
    if (!arguments.length)
      return [DX, DY];
    DX = +_2[0], DY = +_2[1];
    return graticule3;
  };
  graticule3.stepMinor = function(_2) {
    if (!arguments.length)
      return [dx, dy];
    dx = +_2[0], dy = +_2[1];
    return graticule3;
  };
  graticule3.precision = function(_2) {
    if (!arguments.length)
      return precision;
    precision = +_2;
    x7 = graticuleX(y06, y12, 90);
    y7 = graticuleY(x07, x13, precision);
    X3 = graticuleX(Y03, Y13, 90);
    Y3 = graticuleY(X03, X13, precision);
    return graticule3;
  };
  return graticule3.extentMajor([[-180, -90 + epsilon12], [180, 90 - epsilon12]]).extentMinor([[-180, -80 - epsilon12], [180, 80 + epsilon12]]);
}
function graticule102() {
  return graticule2()();
}
var init_graticule = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/graticule.js"() {
    init_src();
    init_math4();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/interpolate.js
function interpolate_default6(a3, b) {
  var x07 = a3[0] * radians7, y06 = a3[1] * radians7, x13 = b[0] * radians7, y12 = b[1] * radians7, cy0 = cos5(y06), sy0 = sin5(y06), cy1 = cos5(y12), sy1 = sin5(y12), kx0 = cy0 * cos5(x07), ky0 = cy0 * sin5(x07), kx1 = cy1 * cos5(x13), ky1 = cy1 * sin5(x13), d = 2 * asin3(sqrt4(haversin2(y12 - y06) + cy0 * cy1 * haversin2(x13 - x07))), k3 = sin5(d);
  var interpolate = d ? function(t) {
    var B8 = sin5(t *= d) / k3, A9 = sin5(d - t) / k3, x7 = A9 * kx0 + B8 * kx1, y7 = A9 * ky0 + B8 * ky1, z = A9 * sy0 + B8 * sy1;
    return [
      atan23(y7, x7) * degrees13,
      atan23(z, sqrt4(x7 * x7 + y7 * y7)) * degrees13
    ];
  } : function() {
    return [x07 * degrees13, y06 * degrees13];
  };
  interpolate.distance = d;
  return interpolate;
}
var init_interpolate2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/interpolate.js"() {
    init_math4();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/identity.js
function identity_default10(x7) {
  return x7;
}
var init_identity4 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/identity.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/path/area.js
function areaRingStart2() {
  areaStream3.point = areaPointFirst2;
}
function areaPointFirst2(x7, y7) {
  areaStream3.point = areaPoint2;
  x00 = x03 = x7, y00 = y02 = y7;
}
function areaPoint2(x7, y7) {
  areaRingSum4.add(y02 * x7 - x03 * y7);
  x03 = x7, y02 = y7;
}
function areaRingEnd2() {
  areaPoint2(x00, y00);
}
var areaSum4, areaRingSum4, x00, y00, x03, y02, areaStream3, area_default8;
var init_area3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/path/area.js"() {
    init_adder();
    init_math4();
    init_noop2();
    areaSum4 = adder_default();
    areaRingSum4 = adder_default();
    areaStream3 = {
      point: noop7,
      lineStart: noop7,
      lineEnd: noop7,
      polygonStart: function() {
        areaStream3.lineStart = areaRingStart2;
        areaStream3.lineEnd = areaRingEnd2;
      },
      polygonEnd: function() {
        areaStream3.lineStart = areaStream3.lineEnd = areaStream3.point = noop7;
        areaSum4.add(abs6(areaRingSum4));
        areaRingSum4.reset();
      },
      result: function() {
        var area = areaSum4 / 2;
        areaSum4.reset();
        return area;
      }
    };
    area_default8 = areaStream3;
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/path/bounds.js
function boundsPoint2(x7, y7) {
  if (x7 < x04)
    x04 = x7;
  if (x7 > x12)
    x12 = x7;
  if (y7 < y03)
    y03 = y7;
  if (y7 > y1)
    y1 = y7;
}
var x04, y03, x12, y1, boundsStream2, bounds_default4;
var init_bounds2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/path/bounds.js"() {
    init_noop2();
    x04 = Infinity;
    y03 = x04;
    x12 = -x04;
    y1 = x12;
    boundsStream2 = {
      point: boundsPoint2,
      lineStart: noop7,
      lineEnd: noop7,
      polygonStart: noop7,
      polygonEnd: noop7,
      result: function() {
        var bounds2 = [[x04, y03], [x12, y1]];
        x12 = y1 = -(y03 = x04 = Infinity);
        return bounds2;
      }
    };
    bounds_default4 = boundsStream2;
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/path/centroid.js
function centroidPoint2(x7, y7) {
  X02 += x7;
  Y02 += y7;
  ++Z02;
}
function centroidLineStart2() {
  centroidStream2.point = centroidPointFirstLine;
}
function centroidPointFirstLine(x7, y7) {
  centroidStream2.point = centroidPointLine;
  centroidPoint2(x05 = x7, y04 = y7);
}
function centroidPointLine(x7, y7) {
  var dx = x7 - x05, dy = y7 - y04, z = sqrt4(dx * dx + dy * dy);
  X12 += z * (x05 + x7) / 2;
  Y12 += z * (y04 + y7) / 2;
  Z12 += z;
  centroidPoint2(x05 = x7, y04 = y7);
}
function centroidLineEnd2() {
  centroidStream2.point = centroidPoint2;
}
function centroidRingStart2() {
  centroidStream2.point = centroidPointFirstRing;
}
function centroidRingEnd2() {
  centroidPointRing(x002, y002);
}
function centroidPointFirstRing(x7, y7) {
  centroidStream2.point = centroidPointRing;
  centroidPoint2(x002 = x05 = x7, y002 = y04 = y7);
}
function centroidPointRing(x7, y7) {
  var dx = x7 - x05, dy = y7 - y04, z = sqrt4(dx * dx + dy * dy);
  X12 += z * (x05 + x7) / 2;
  Y12 += z * (y04 + y7) / 2;
  Z12 += z;
  z = y04 * x7 - x05 * y7;
  X23 += z * (x05 + x7);
  Y23 += z * (y04 + y7);
  Z22 += z * 3;
  centroidPoint2(x05 = x7, y04 = y7);
}
var X02, Y02, Z02, X12, Y12, Z12, X23, Y23, Z22, x002, y002, x05, y04, centroidStream2, centroid_default5;
var init_centroid2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/path/centroid.js"() {
    init_math4();
    X02 = 0;
    Y02 = 0;
    Z02 = 0;
    X12 = 0;
    Y12 = 0;
    Z12 = 0;
    X23 = 0;
    Y23 = 0;
    Z22 = 0;
    centroidStream2 = {
      point: centroidPoint2,
      lineStart: centroidLineStart2,
      lineEnd: centroidLineEnd2,
      polygonStart: function() {
        centroidStream2.lineStart = centroidRingStart2;
        centroidStream2.lineEnd = centroidRingEnd2;
      },
      polygonEnd: function() {
        centroidStream2.point = centroidPoint2;
        centroidStream2.lineStart = centroidLineStart2;
        centroidStream2.lineEnd = centroidLineEnd2;
      },
      result: function() {
        var centroid = Z22 ? [X23 / Z22, Y23 / Z22] : Z12 ? [X12 / Z12, Y12 / Z12] : Z02 ? [X02 / Z02, Y02 / Z02] : [NaN, NaN];
        X02 = Y02 = Z02 = X12 = Y12 = Z12 = X23 = Y23 = Z22 = 0;
        return centroid;
      }
    };
    centroid_default5 = centroidStream2;
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/path/context.js
function PathContext2(context) {
  this._context = context;
}
var init_context = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/path/context.js"() {
    init_math4();
    init_noop2();
    PathContext2.prototype = {
      _radius: 4.5,
      pointRadius: function(_2) {
        return this._radius = _2, this;
      },
      polygonStart: function() {
        this._line = 0;
      },
      polygonEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._point = 0;
      },
      lineEnd: function() {
        if (this._line === 0)
          this._context.closePath();
        this._point = NaN;
      },
      point: function(x7, y7) {
        switch (this._point) {
          case 0: {
            this._context.moveTo(x7, y7);
            this._point = 1;
            break;
          }
          case 1: {
            this._context.lineTo(x7, y7);
            break;
          }
          default: {
            this._context.moveTo(x7 + this._radius, y7);
            this._context.arc(x7, y7, this._radius, 0, tau14);
            break;
          }
        }
      },
      result: noop7
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/path/measure.js
function lengthPointFirst2(x7, y7) {
  lengthStream2.point = lengthPoint2;
  x003 = x06 = x7, y003 = y05 = y7;
}
function lengthPoint2(x7, y7) {
  x06 -= x7, y05 -= y7;
  lengthSum3.add(sqrt4(x06 * x06 + y05 * y05));
  x06 = x7, y05 = y7;
}
var lengthSum3, lengthRing, x003, y003, x06, y05, lengthStream2, measure_default2;
var init_measure = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/path/measure.js"() {
    init_adder();
    init_math4();
    init_noop2();
    lengthSum3 = adder_default();
    lengthStream2 = {
      point: noop7,
      lineStart: function() {
        lengthStream2.point = lengthPointFirst2;
      },
      lineEnd: function() {
        if (lengthRing)
          lengthPoint2(x003, y003);
        lengthStream2.point = noop7;
      },
      polygonStart: function() {
        lengthRing = true;
      },
      polygonEnd: function() {
        lengthRing = null;
      },
      result: function() {
        var length3 = +lengthSum3;
        lengthSum3.reset();
        return length3;
      }
    };
    measure_default2 = lengthStream2;
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/path/string.js
function PathString2() {
  this._string = [];
}
function circle2(radius) {
  return "m0," + radius + "a" + radius + "," + radius + " 0 1,1 0," + -2 * radius + "a" + radius + "," + radius + " 0 1,1 0," + 2 * radius + "z";
}
var init_string2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/path/string.js"() {
    PathString2.prototype = {
      _radius: 4.5,
      _circle: circle2(4.5),
      pointRadius: function(_2) {
        if ((_2 = +_2) !== this._radius)
          this._radius = _2, this._circle = null;
        return this;
      },
      polygonStart: function() {
        this._line = 0;
      },
      polygonEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._point = 0;
      },
      lineEnd: function() {
        if (this._line === 0)
          this._string.push("Z");
        this._point = NaN;
      },
      point: function(x7, y7) {
        switch (this._point) {
          case 0: {
            this._string.push("M", x7, ",", y7);
            this._point = 1;
            break;
          }
          case 1: {
            this._string.push("L", x7, ",", y7);
            break;
          }
          default: {
            if (this._circle == null)
              this._circle = circle2(this._radius);
            this._string.push("M", x7, ",", y7, this._circle);
            break;
          }
        }
      },
      result: function() {
        if (this._string.length) {
          var result = this._string.join("");
          this._string = [];
          return result;
        } else {
          return null;
        }
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/path/index.js
function path_default7(projection3, context) {
  var pointRadius = 4.5, projectionStream, contextStream;
  function path5(object2) {
    if (object2) {
      if (typeof pointRadius === "function")
        contextStream.pointRadius(+pointRadius.apply(this, arguments));
      stream_default2(object2, projectionStream(contextStream));
    }
    return contextStream.result();
  }
  path5.area = function(object2) {
    stream_default2(object2, projectionStream(area_default8));
    return area_default8.result();
  };
  path5.measure = function(object2) {
    stream_default2(object2, projectionStream(measure_default2));
    return measure_default2.result();
  };
  path5.bounds = function(object2) {
    stream_default2(object2, projectionStream(bounds_default4));
    return bounds_default4.result();
  };
  path5.centroid = function(object2) {
    stream_default2(object2, projectionStream(centroid_default5));
    return centroid_default5.result();
  };
  path5.projection = function(_2) {
    return arguments.length ? (projectionStream = _2 == null ? (projection3 = null, identity_default10) : (projection3 = _2).stream, path5) : projection3;
  };
  path5.context = function(_2) {
    if (!arguments.length)
      return context;
    contextStream = _2 == null ? (context = null, new PathString2()) : new PathContext2(context = _2);
    if (typeof pointRadius !== "function")
      contextStream.pointRadius(pointRadius);
    return path5;
  };
  path5.pointRadius = function(_2) {
    if (!arguments.length)
      return pointRadius;
    pointRadius = typeof _2 === "function" ? _2 : (contextStream.pointRadius(+_2), +_2);
    return path5;
  };
  return path5.projection(projection3).context(context);
}
var init_path2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/path/index.js"() {
    init_identity4();
    init_stream();
    init_area3();
    init_bounds2();
    init_centroid2();
    init_context();
    init_measure();
    init_string2();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/transform.js
function transform_default2(methods) {
  return {
    stream: transformer3(methods)
  };
}
function transformer3(methods) {
  return function(stream) {
    var s3 = new TransformStream2();
    for (var key in methods)
      s3[key] = methods[key];
    s3.stream = stream;
    return s3;
  };
}
function TransformStream2() {
}
var init_transform2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/transform.js"() {
    TransformStream2.prototype = {
      constructor: TransformStream2,
      point: function(x7, y7) {
        this.stream.point(x7, y7);
      },
      sphere: function() {
        this.stream.sphere();
      },
      lineStart: function() {
        this.stream.lineStart();
      },
      lineEnd: function() {
        this.stream.lineEnd();
      },
      polygonStart: function() {
        this.stream.polygonStart();
      },
      polygonEnd: function() {
        this.stream.polygonEnd();
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/fit.js
function fit(projection3, fitBounds, object2) {
  var clip = projection3.clipExtent && projection3.clipExtent();
  projection3.scale(150).translate([0, 0]);
  if (clip != null)
    projection3.clipExtent(null);
  stream_default2(object2, projection3.stream(bounds_default4));
  fitBounds(bounds_default4.result());
  if (clip != null)
    projection3.clipExtent(clip);
  return projection3;
}
function fitExtent2(projection3, extent5, object2) {
  return fit(projection3, function(b) {
    var w2 = extent5[1][0] - extent5[0][0], h = extent5[1][1] - extent5[0][1], k3 = Math.min(w2 / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])), x7 = +extent5[0][0] + (w2 - k3 * (b[1][0] + b[0][0])) / 2, y7 = +extent5[0][1] + (h - k3 * (b[1][1] + b[0][1])) / 2;
    projection3.scale(150 * k3).translate([x7, y7]);
  }, object2);
}
function fitSize2(projection3, size, object2) {
  return fitExtent2(projection3, [[0, 0], size], object2);
}
function fitWidth2(projection3, width2, object2) {
  return fit(projection3, function(b) {
    var w2 = +width2, k3 = w2 / (b[1][0] - b[0][0]), x7 = (w2 - k3 * (b[1][0] + b[0][0])) / 2, y7 = -k3 * b[0][1];
    projection3.scale(150 * k3).translate([x7, y7]);
  }, object2);
}
function fitHeight2(projection3, height2, object2) {
  return fit(projection3, function(b) {
    var h = +height2, k3 = h / (b[1][1] - b[0][1]), x7 = -k3 * b[0][0], y7 = (h - k3 * (b[1][1] + b[0][1])) / 2;
    projection3.scale(150 * k3).translate([x7, y7]);
  }, object2);
}
var init_fit = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/fit.js"() {
    init_stream();
    init_bounds2();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/resample.js
function resample_default2(project, delta2) {
  return +delta2 ? resample(project, delta2) : resampleNone(project);
}
function resampleNone(project) {
  return transformer3({
    point: function(x7, y7) {
      x7 = project(x7, y7);
      this.stream.point(x7[0], x7[1]);
    }
  });
}
function resample(project, delta2) {
  function resampleLineTo(x07, y06, lambda04, a0, b05, c0, x13, y12, lambda12, a1, b15, c1, depth, stream) {
    var dx = x13 - x07, dy = y12 - y06, d2 = dx * dx + dy * dy;
    if (d2 > 4 * delta2 && depth--) {
      var a3 = a0 + a1, b = b05 + b15, c7 = c0 + c1, m = sqrt4(a3 * a3 + b * b + c7 * c7), phi22 = asin3(c7 /= m), lambda22 = abs6(abs6(c7) - 1) < epsilon12 || abs6(lambda04 - lambda12) < epsilon12 ? (lambda04 + lambda12) / 2 : atan23(b, a3), p = project(lambda22, phi22), x22 = p[0], y22 = p[1], dx2 = x22 - x07, dy2 = y22 - y06, dz = dy * dx2 - dx * dy2;
      if (dz * dz / d2 > delta2 || abs6((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 || a0 * a1 + b05 * b15 + c0 * c1 < cosMinDistance2) {
        resampleLineTo(x07, y06, lambda04, a0, b05, c0, x22, y22, lambda22, a3 /= m, b /= m, c7, depth, stream);
        stream.point(x22, y22);
        resampleLineTo(x22, y22, lambda22, a3, b, c7, x13, y12, lambda12, a1, b15, c1, depth, stream);
      }
    }
  }
  return function(stream) {
    var lambda004, x004, y004, a00, b00, c00, lambda04, x07, y06, a0, b05, c0;
    var resampleStream = {
      point: point12,
      lineStart,
      lineEnd,
      polygonStart: function() {
        stream.polygonStart();
        resampleStream.lineStart = ringStart;
      },
      polygonEnd: function() {
        stream.polygonEnd();
        resampleStream.lineStart = lineStart;
      }
    };
    function point12(x7, y7) {
      x7 = project(x7, y7);
      stream.point(x7[0], x7[1]);
    }
    function lineStart() {
      x07 = NaN;
      resampleStream.point = linePoint2;
      stream.lineStart();
    }
    function linePoint2(lambda, phi3) {
      var c7 = cartesian2([lambda, phi3]), p = project(lambda, phi3);
      resampleLineTo(x07, y06, lambda04, a0, b05, c0, x07 = p[0], y06 = p[1], lambda04 = lambda, a0 = c7[0], b05 = c7[1], c0 = c7[2], maxDepth, stream);
      stream.point(x07, y06);
    }
    function lineEnd() {
      resampleStream.point = point12;
      stream.lineEnd();
    }
    function ringStart() {
      lineStart();
      resampleStream.point = ringPoint;
      resampleStream.lineEnd = ringEnd;
    }
    function ringPoint(lambda, phi3) {
      linePoint2(lambda004 = lambda, phi3), x004 = x07, y004 = y06, a00 = a0, b00 = b05, c00 = c0;
      resampleStream.point = linePoint2;
    }
    function ringEnd() {
      resampleLineTo(x07, y06, lambda04, a0, b05, c0, x004, y004, lambda004, a00, b00, c00, maxDepth, stream);
      resampleStream.lineEnd = lineEnd;
      lineEnd();
    }
    return resampleStream;
  };
}
var maxDepth, cosMinDistance2;
var init_resample = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/resample.js"() {
    init_cartesian();
    init_math4();
    init_transform2();
    maxDepth = 16;
    cosMinDistance2 = cos5(30 * radians7);
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/index.js
function transformRotate(rotate) {
  return transformer3({
    point: function(x7, y7) {
      var r = rotate(x7, y7);
      return this.stream.point(r[0], r[1]);
    }
  });
}
function scaleTranslate(k3, dx, dy, sx, sy) {
  function transform3(x7, y7) {
    x7 *= sx;
    y7 *= sy;
    return [dx + k3 * x7, dy - k3 * y7];
  }
  transform3.invert = function(x7, y7) {
    return [(x7 - dx) / k3 * sx, (dy - y7) / k3 * sy];
  };
  return transform3;
}
function scaleTranslateRotate(k3, dx, dy, sx, sy, alpha) {
  var cosAlpha = cos5(alpha), sinAlpha = sin5(alpha), a3 = cosAlpha * k3, b = sinAlpha * k3, ai = cosAlpha / k3, bi = sinAlpha / k3, ci = (sinAlpha * dy - cosAlpha * dx) / k3, fi = (sinAlpha * dx + cosAlpha * dy) / k3;
  function transform3(x7, y7) {
    x7 *= sx;
    y7 *= sy;
    return [a3 * x7 - b * y7 + dx, dy - b * x7 - a3 * y7];
  }
  transform3.invert = function(x7, y7) {
    return [sx * (ai * x7 - bi * y7 + ci), sy * (fi - bi * x7 - ai * y7)];
  };
  return transform3;
}
function projection2(project) {
  return projectionMutator2(function() {
    return project;
  })();
}
function projectionMutator2(projectAt) {
  var project, k3 = 150, x7 = 480, y7 = 250, lambda = 0, phi3 = 0, deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, alpha = 0, sx = 1, sy = 1, theta = null, preclip = antimeridian_default2, x07 = null, y06, x13, y12, postclip = identity_default10, delta2 = 0.5, projectResample, projectTransform, projectRotateTransform, cache, cacheStream;
  function projection3(point12) {
    return projectRotateTransform(point12[0] * radians7, point12[1] * radians7);
  }
  function invert2(point12) {
    point12 = projectRotateTransform.invert(point12[0], point12[1]);
    return point12 && [point12[0] * degrees13, point12[1] * degrees13];
  }
  projection3.stream = function(stream) {
    return cache && cacheStream === stream ? cache : cache = transformRadians2(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));
  };
  projection3.preclip = function(_2) {
    return arguments.length ? (preclip = _2, theta = void 0, reset2()) : preclip;
  };
  projection3.postclip = function(_2) {
    return arguments.length ? (postclip = _2, x07 = y06 = x13 = y12 = null, reset2()) : postclip;
  };
  projection3.clipAngle = function(_2) {
    return arguments.length ? (preclip = +_2 ? circle_default5(theta = _2 * radians7) : (theta = null, antimeridian_default2), reset2()) : theta * degrees13;
  };
  projection3.clipExtent = function(_2) {
    return arguments.length ? (postclip = _2 == null ? (x07 = y06 = x13 = y12 = null, identity_default10) : clipRectangle2(x07 = +_2[0][0], y06 = +_2[0][1], x13 = +_2[1][0], y12 = +_2[1][1]), reset2()) : x07 == null ? null : [[x07, y06], [x13, y12]];
  };
  projection3.scale = function(_2) {
    return arguments.length ? (k3 = +_2, recenter()) : k3;
  };
  projection3.translate = function(_2) {
    return arguments.length ? (x7 = +_2[0], y7 = +_2[1], recenter()) : [x7, y7];
  };
  projection3.center = function(_2) {
    return arguments.length ? (lambda = _2[0] % 360 * radians7, phi3 = _2[1] % 360 * radians7, recenter()) : [lambda * degrees13, phi3 * degrees13];
  };
  projection3.rotate = function(_2) {
    return arguments.length ? (deltaLambda = _2[0] % 360 * radians7, deltaPhi = _2[1] % 360 * radians7, deltaGamma = _2.length > 2 ? _2[2] % 360 * radians7 : 0, recenter()) : [deltaLambda * degrees13, deltaPhi * degrees13, deltaGamma * degrees13];
  };
  projection3.angle = function(_2) {
    return arguments.length ? (alpha = _2 % 360 * radians7, recenter()) : alpha * degrees13;
  };
  projection3.reflectX = function(_2) {
    return arguments.length ? (sx = _2 ? -1 : 1, recenter()) : sx < 0;
  };
  projection3.reflectY = function(_2) {
    return arguments.length ? (sy = _2 ? -1 : 1, recenter()) : sy < 0;
  };
  projection3.precision = function(_2) {
    return arguments.length ? (projectResample = resample_default2(projectTransform, delta2 = _2 * _2), reset2()) : sqrt4(delta2);
  };
  projection3.fitExtent = function(extent5, object2) {
    return fitExtent2(projection3, extent5, object2);
  };
  projection3.fitSize = function(size, object2) {
    return fitSize2(projection3, size, object2);
  };
  projection3.fitWidth = function(width2, object2) {
    return fitWidth2(projection3, width2, object2);
  };
  projection3.fitHeight = function(height2, object2) {
    return fitHeight2(projection3, height2, object2);
  };
  function recenter() {
    var center3 = scaleTranslateRotate(k3, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi3)), transform3 = (alpha ? scaleTranslateRotate : scaleTranslate)(k3, x7 - center3[0], y7 - center3[1], sx, sy, alpha);
    rotate = rotateRadians2(deltaLambda, deltaPhi, deltaGamma);
    projectTransform = compose_default2(project, transform3);
    projectRotateTransform = compose_default2(rotate, projectTransform);
    projectResample = resample_default2(projectTransform, delta2);
    return reset2();
  }
  function reset2() {
    cache = cacheStream = null;
    return projection3;
  }
  return function() {
    project = projectAt.apply(this, arguments);
    projection3.invert = project.invert && invert2;
    return recenter();
  };
}
var transformRadians2;
var init_projection = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/index.js"() {
    init_antimeridian();
    init_circle3();
    init_rectangle();
    init_compose();
    init_identity4();
    init_math4();
    init_rotation();
    init_transform2();
    init_fit();
    init_resample();
    transformRadians2 = transformer3({
      point: function(x7, y7) {
        this.stream.point(x7 * radians7, y7 * radians7);
      }
    });
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/conic.js
function conicProjection2(projectAt) {
  var phi02 = 0, phi12 = pi13 / 3, m = projectionMutator2(projectAt), p = m(phi02, phi12);
  p.parallels = function(_2) {
    return arguments.length ? m(phi02 = _2[0] * radians7, phi12 = _2[1] * radians7) : [phi02 * degrees13, phi12 * degrees13];
  };
  return p;
}
var init_conic = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/conic.js"() {
    init_math4();
    init_projection();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/cylindricalEqualArea.js
function cylindricalEqualAreaRaw2(phi02) {
  var cosPhi03 = cos5(phi02);
  function forward(lambda, phi3) {
    return [lambda * cosPhi03, sin5(phi3) / cosPhi03];
  }
  forward.invert = function(x7, y7) {
    return [x7 / cosPhi03, asin3(y7 * cosPhi03)];
  };
  return forward;
}
var init_cylindricalEqualArea = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/cylindricalEqualArea.js"() {
    init_math4();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/conicEqualArea.js
function conicEqualAreaRaw2(y06, y12) {
  var sy0 = sin5(y06), n = (sy0 + sin5(y12)) / 2;
  if (abs6(n) < epsilon12)
    return cylindricalEqualAreaRaw2(y06);
  var c7 = 1 + sy0 * (2 * n - sy0), r0 = sqrt4(c7) / n;
  function project(x7, y7) {
    var r = sqrt4(c7 - 2 * n * sin5(y7)) / n;
    return [r * sin5(x7 *= n), r0 - r * cos5(x7)];
  }
  project.invert = function(x7, y7) {
    var r0y = r0 - y7, l = atan23(x7, abs6(r0y)) * sign3(r0y);
    if (r0y * n < 0)
      l -= pi13 * sign3(x7) * sign3(r0y);
    return [l / n, asin3((c7 - (x7 * x7 + r0y * r0y) * n * n) / (2 * n))];
  };
  return project;
}
function conicEqualArea_default2() {
  return conicProjection2(conicEqualAreaRaw2).scale(155.424).center([0, 33.6442]);
}
var init_conicEqualArea = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/conicEqualArea.js"() {
    init_math4();
    init_conic();
    init_cylindricalEqualArea();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/albers.js
function albers_default2() {
  return conicEqualArea_default2().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-0.6, 38.7]);
}
var init_albers = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/albers.js"() {
    init_conicEqualArea();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/albersUsa.js
function multiplex(streams) {
  var n = streams.length;
  return {
    point: function(x7, y7) {
      var i = -1;
      while (++i < n)
        streams[i].point(x7, y7);
    },
    sphere: function() {
      var i = -1;
      while (++i < n)
        streams[i].sphere();
    },
    lineStart: function() {
      var i = -1;
      while (++i < n)
        streams[i].lineStart();
    },
    lineEnd: function() {
      var i = -1;
      while (++i < n)
        streams[i].lineEnd();
    },
    polygonStart: function() {
      var i = -1;
      while (++i < n)
        streams[i].polygonStart();
    },
    polygonEnd: function() {
      var i = -1;
      while (++i < n)
        streams[i].polygonEnd();
    }
  };
}
function albersUsa_default2() {
  var cache, cacheStream, lower48 = albers_default2(), lower48Point, alaska = conicEqualArea_default2().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, hawaii = conicEqualArea_default2().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, point12, pointStream = { point: function(x7, y7) {
    point12 = [x7, y7];
  } };
  function albersUsa(coordinates2) {
    var x7 = coordinates2[0], y7 = coordinates2[1];
    return point12 = null, (lower48Point.point(x7, y7), point12) || (alaskaPoint.point(x7, y7), point12) || (hawaiiPoint.point(x7, y7), point12);
  }
  albersUsa.invert = function(coordinates2) {
    var k3 = lower48.scale(), t = lower48.translate(), x7 = (coordinates2[0] - t[0]) / k3, y7 = (coordinates2[1] - t[1]) / k3;
    return (y7 >= 0.12 && y7 < 0.234 && x7 >= -0.425 && x7 < -0.214 ? alaska : y7 >= 0.166 && y7 < 0.234 && x7 >= -0.214 && x7 < -0.115 ? hawaii : lower48).invert(coordinates2);
  };
  albersUsa.stream = function(stream) {
    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);
  };
  albersUsa.precision = function(_2) {
    if (!arguments.length)
      return lower48.precision();
    lower48.precision(_2), alaska.precision(_2), hawaii.precision(_2);
    return reset2();
  };
  albersUsa.scale = function(_2) {
    if (!arguments.length)
      return lower48.scale();
    lower48.scale(_2), alaska.scale(_2 * 0.35), hawaii.scale(_2);
    return albersUsa.translate(lower48.translate());
  };
  albersUsa.translate = function(_2) {
    if (!arguments.length)
      return lower48.translate();
    var k3 = lower48.scale(), x7 = +_2[0], y7 = +_2[1];
    lower48Point = lower48.translate(_2).clipExtent([[x7 - 0.455 * k3, y7 - 0.238 * k3], [x7 + 0.455 * k3, y7 + 0.238 * k3]]).stream(pointStream);
    alaskaPoint = alaska.translate([x7 - 0.307 * k3, y7 + 0.201 * k3]).clipExtent([[x7 - 0.425 * k3 + epsilon12, y7 + 0.12 * k3 + epsilon12], [x7 - 0.214 * k3 - epsilon12, y7 + 0.234 * k3 - epsilon12]]).stream(pointStream);
    hawaiiPoint = hawaii.translate([x7 - 0.205 * k3, y7 + 0.212 * k3]).clipExtent([[x7 - 0.214 * k3 + epsilon12, y7 + 0.166 * k3 + epsilon12], [x7 - 0.115 * k3 - epsilon12, y7 + 0.234 * k3 - epsilon12]]).stream(pointStream);
    return reset2();
  };
  albersUsa.fitExtent = function(extent5, object2) {
    return fitExtent2(albersUsa, extent5, object2);
  };
  albersUsa.fitSize = function(size, object2) {
    return fitSize2(albersUsa, size, object2);
  };
  albersUsa.fitWidth = function(width2, object2) {
    return fitWidth2(albersUsa, width2, object2);
  };
  albersUsa.fitHeight = function(height2, object2) {
    return fitHeight2(albersUsa, height2, object2);
  };
  function reset2() {
    cache = cacheStream = null;
    return albersUsa;
  }
  return albersUsa.scale(1070);
}
var init_albersUsa = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/albersUsa.js"() {
    init_math4();
    init_albers();
    init_conicEqualArea();
    init_fit();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/azimuthal.js
function azimuthalRaw2(scale2) {
  return function(x7, y7) {
    var cx = cos5(x7), cy = cos5(y7), k3 = scale2(cx * cy);
    return [
      k3 * cy * sin5(x7),
      k3 * sin5(y7)
    ];
  };
}
function azimuthalInvert2(angle2) {
  return function(x7, y7) {
    var z = sqrt4(x7 * x7 + y7 * y7), c7 = angle2(z), sc = sin5(c7), cc2 = cos5(c7);
    return [
      atan23(x7 * sc, z * cc2),
      asin3(z && y7 * sc / z)
    ];
  };
}
var init_azimuthal = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/azimuthal.js"() {
    init_math4();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/azimuthalEqualArea.js
function azimuthalEqualArea_default2() {
  return projection2(azimuthalEqualAreaRaw2).scale(124.75).clipAngle(180 - 1e-3);
}
var azimuthalEqualAreaRaw2;
var init_azimuthalEqualArea = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/azimuthalEqualArea.js"() {
    init_math4();
    init_azimuthal();
    init_projection();
    azimuthalEqualAreaRaw2 = azimuthalRaw2(function(cxcy) {
      return sqrt4(2 / (1 + cxcy));
    });
    azimuthalEqualAreaRaw2.invert = azimuthalInvert2(function(z) {
      return 2 * asin3(z / 2);
    });
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/azimuthalEquidistant.js
function azimuthalEquidistant_default2() {
  return projection2(azimuthalEquidistantRaw2).scale(79.4188).clipAngle(180 - 1e-3);
}
var azimuthalEquidistantRaw2;
var init_azimuthalEquidistant = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/azimuthalEquidistant.js"() {
    init_math4();
    init_azimuthal();
    init_projection();
    azimuthalEquidistantRaw2 = azimuthalRaw2(function(c7) {
      return (c7 = acos3(c7)) && c7 / sin5(c7);
    });
    azimuthalEquidistantRaw2.invert = azimuthalInvert2(function(z) {
      return z;
    });
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/mercator.js
function mercatorRaw2(lambda, phi3) {
  return [lambda, log3(tan2((halfPi9 + phi3) / 2))];
}
function mercator_default2() {
  return mercatorProjection2(mercatorRaw2).scale(961 / tau14);
}
function mercatorProjection2(project) {
  var m = projection2(project), center3 = m.center, scale2 = m.scale, translate = m.translate, clipExtent = m.clipExtent, x07 = null, y06, x13, y12;
  m.scale = function(_2) {
    return arguments.length ? (scale2(_2), reclip()) : scale2();
  };
  m.translate = function(_2) {
    return arguments.length ? (translate(_2), reclip()) : translate();
  };
  m.center = function(_2) {
    return arguments.length ? (center3(_2), reclip()) : center3();
  };
  m.clipExtent = function(_2) {
    return arguments.length ? (_2 == null ? x07 = y06 = x13 = y12 = null : (x07 = +_2[0][0], y06 = +_2[0][1], x13 = +_2[1][0], y12 = +_2[1][1]), reclip()) : x07 == null ? null : [[x07, y06], [x13, y12]];
  };
  function reclip() {
    var k3 = pi13 * scale2(), t = m(rotation_default2(m.rotate()).invert([0, 0]));
    return clipExtent(x07 == null ? [[t[0] - k3, t[1] - k3], [t[0] + k3, t[1] + k3]] : project === mercatorRaw2 ? [[Math.max(t[0] - k3, x07), y06], [Math.min(t[0] + k3, x13), y12]] : [[x07, Math.max(t[1] - k3, y06)], [x13, Math.min(t[1] + k3, y12)]]);
  }
  return reclip();
}
var init_mercator = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/mercator.js"() {
    init_math4();
    init_rotation();
    init_projection();
    mercatorRaw2.invert = function(x7, y7) {
      return [x7, 2 * atan3(exp2(y7)) - halfPi9];
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/conicConformal.js
function tany(y7) {
  return tan2((halfPi9 + y7) / 2);
}
function conicConformalRaw2(y06, y12) {
  var cy0 = cos5(y06), n = y06 === y12 ? sin5(y06) : log3(cy0 / cos5(y12)) / log3(tany(y12) / tany(y06)), f2 = cy0 * pow3(tany(y06), n) / n;
  if (!n)
    return mercatorRaw2;
  function project(x7, y7) {
    if (f2 > 0) {
      if (y7 < -halfPi9 + epsilon12)
        y7 = -halfPi9 + epsilon12;
    } else {
      if (y7 > halfPi9 - epsilon12)
        y7 = halfPi9 - epsilon12;
    }
    var r = f2 / pow3(tany(y7), n);
    return [r * sin5(n * x7), f2 - r * cos5(n * x7)];
  }
  project.invert = function(x7, y7) {
    var fy = f2 - y7, r = sign3(n) * sqrt4(x7 * x7 + fy * fy), l = atan23(x7, abs6(fy)) * sign3(fy);
    if (fy * n < 0)
      l -= pi13 * sign3(x7) * sign3(fy);
    return [l / n, 2 * atan3(pow3(f2 / r, 1 / n)) - halfPi9];
  };
  return project;
}
function conicConformal_default2() {
  return conicProjection2(conicConformalRaw2).scale(109.5).parallels([30, 30]);
}
var init_conicConformal = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/conicConformal.js"() {
    init_math4();
    init_conic();
    init_mercator();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/equirectangular.js
function equirectangularRaw2(lambda, phi3) {
  return [lambda, phi3];
}
function equirectangular_default2() {
  return projection2(equirectangularRaw2).scale(152.63);
}
var init_equirectangular = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/equirectangular.js"() {
    init_projection();
    equirectangularRaw2.invert = equirectangularRaw2;
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/conicEquidistant.js
function conicEquidistantRaw2(y06, y12) {
  var cy0 = cos5(y06), n = y06 === y12 ? sin5(y06) : (cy0 - cos5(y12)) / (y12 - y06), g = cy0 / n + y06;
  if (abs6(n) < epsilon12)
    return equirectangularRaw2;
  function project(x7, y7) {
    var gy = g - y7, nx = n * x7;
    return [gy * sin5(nx), g - gy * cos5(nx)];
  }
  project.invert = function(x7, y7) {
    var gy = g - y7, l = atan23(x7, abs6(gy)) * sign3(gy);
    if (gy * n < 0)
      l -= pi13 * sign3(x7) * sign3(gy);
    return [l / n, g - sign3(n) * sqrt4(x7 * x7 + gy * gy)];
  };
  return project;
}
function conicEquidistant_default2() {
  return conicProjection2(conicEquidistantRaw2).scale(131.154).center([0, 13.9389]);
}
var init_conicEquidistant = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/conicEquidistant.js"() {
    init_math4();
    init_conic();
    init_equirectangular();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/equalEarth.js
function equalEarthRaw2(lambda, phi3) {
  var l = asin3(M2 * sin5(phi3)), l2 = l * l, l6 = l2 * l2 * l2;
  return [
    lambda * cos5(l) / (M2 * (A12 + 3 * A23 * l2 + l6 * (7 * A32 + 9 * A42 * l2))),
    l * (A12 + A23 * l2 + l6 * (A32 + A42 * l2))
  ];
}
function equalEarth_default2() {
  return projection2(equalEarthRaw2).scale(177.158);
}
var A12, A23, A32, A42, M2, iterations2;
var init_equalEarth = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/equalEarth.js"() {
    init_projection();
    init_math4();
    A12 = 1.340264;
    A23 = -0.081106;
    A32 = 893e-6;
    A42 = 3796e-6;
    M2 = sqrt4(3) / 2;
    iterations2 = 12;
    equalEarthRaw2.invert = function(x7, y7) {
      var l = y7, l2 = l * l, l6 = l2 * l2 * l2;
      for (var i = 0, delta, fy, fpy; i < iterations2; ++i) {
        fy = l * (A12 + A23 * l2 + l6 * (A32 + A42 * l2)) - y7;
        fpy = A12 + 3 * A23 * l2 + l6 * (7 * A32 + 9 * A42 * l2);
        l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;
        if (abs6(delta) < epsilon28)
          break;
      }
      return [
        M2 * x7 * (A12 + 3 * A23 * l2 + l6 * (7 * A32 + 9 * A42 * l2)) / cos5(l),
        asin3(sin5(l) / M2)
      ];
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/gnomonic.js
function gnomonicRaw2(x7, y7) {
  var cy = cos5(y7), k3 = cos5(x7) * cy;
  return [cy * sin5(x7) / k3, sin5(y7) / k3];
}
function gnomonic_default2() {
  return projection2(gnomonicRaw2).scale(144.049).clipAngle(60);
}
var init_gnomonic = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/gnomonic.js"() {
    init_math4();
    init_azimuthal();
    init_projection();
    gnomonicRaw2.invert = azimuthalInvert2(atan3);
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/identity.js
function identity_default11() {
  var k3 = 1, tx = 0, ty = 0, sx = 1, sy = 1, alpha = 0, ca3, sa, x07 = null, y06, x13, y12, kx3 = 1, ky3 = 1, transform3 = transformer3({
    point: function(x7, y7) {
      var p = projection3([x7, y7]);
      this.stream.point(p[0], p[1]);
    }
  }), postclip = identity_default10, cache, cacheStream;
  function reset2() {
    kx3 = k3 * sx;
    ky3 = k3 * sy;
    cache = cacheStream = null;
    return projection3;
  }
  function projection3(p) {
    var x7 = p[0] * kx3, y7 = p[1] * ky3;
    if (alpha) {
      var t = y7 * ca3 - x7 * sa;
      x7 = x7 * ca3 + y7 * sa;
      y7 = t;
    }
    return [x7 + tx, y7 + ty];
  }
  projection3.invert = function(p) {
    var x7 = p[0] - tx, y7 = p[1] - ty;
    if (alpha) {
      var t = y7 * ca3 + x7 * sa;
      x7 = x7 * ca3 - y7 * sa;
      y7 = t;
    }
    return [x7 / kx3, y7 / ky3];
  };
  projection3.stream = function(stream) {
    return cache && cacheStream === stream ? cache : cache = transform3(postclip(cacheStream = stream));
  };
  projection3.postclip = function(_2) {
    return arguments.length ? (postclip = _2, x07 = y06 = x13 = y12 = null, reset2()) : postclip;
  };
  projection3.clipExtent = function(_2) {
    return arguments.length ? (postclip = _2 == null ? (x07 = y06 = x13 = y12 = null, identity_default10) : clipRectangle2(x07 = +_2[0][0], y06 = +_2[0][1], x13 = +_2[1][0], y12 = +_2[1][1]), reset2()) : x07 == null ? null : [[x07, y06], [x13, y12]];
  };
  projection3.scale = function(_2) {
    return arguments.length ? (k3 = +_2, reset2()) : k3;
  };
  projection3.translate = function(_2) {
    return arguments.length ? (tx = +_2[0], ty = +_2[1], reset2()) : [tx, ty];
  };
  projection3.angle = function(_2) {
    return arguments.length ? (alpha = _2 % 360 * radians7, sa = sin5(alpha), ca3 = cos5(alpha), reset2()) : alpha * degrees13;
  };
  projection3.reflectX = function(_2) {
    return arguments.length ? (sx = _2 ? -1 : 1, reset2()) : sx < 0;
  };
  projection3.reflectY = function(_2) {
    return arguments.length ? (sy = _2 ? -1 : 1, reset2()) : sy < 0;
  };
  projection3.fitExtent = function(extent5, object2) {
    return fitExtent2(projection3, extent5, object2);
  };
  projection3.fitSize = function(size, object2) {
    return fitSize2(projection3, size, object2);
  };
  projection3.fitWidth = function(width2, object2) {
    return fitWidth2(projection3, width2, object2);
  };
  projection3.fitHeight = function(height2, object2) {
    return fitHeight2(projection3, height2, object2);
  };
  return projection3;
}
var init_identity5 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/identity.js"() {
    init_rectangle();
    init_identity4();
    init_transform2();
    init_fit();
    init_math4();
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/naturalEarth1.js
function naturalEarth1Raw2(lambda, phi3) {
  var phi22 = phi3 * phi3, phi4 = phi22 * phi22;
  return [
    lambda * (0.8707 - 0.131979 * phi22 + phi4 * (-0.013791 + phi4 * (3971e-6 * phi22 - 1529e-6 * phi4))),
    phi3 * (1.007226 + phi22 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi22 - 5916e-6 * phi4)))
  ];
}
function naturalEarth1_default2() {
  return projection2(naturalEarth1Raw2).scale(175.295);
}
var init_naturalEarth1 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/naturalEarth1.js"() {
    init_projection();
    init_math4();
    naturalEarth1Raw2.invert = function(x7, y7) {
      var phi3 = y7, i = 25, delta;
      do {
        var phi22 = phi3 * phi3, phi4 = phi22 * phi22;
        phi3 -= delta = (phi3 * (1.007226 + phi22 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi22 - 5916e-6 * phi4))) - y7) / (1.007226 + phi22 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi22 - 5916e-6 * 11 * phi4)));
      } while (abs6(delta) > epsilon12 && --i > 0);
      return [
        x7 / (0.8707 + (phi22 = phi3 * phi3) * (-0.131979 + phi22 * (-0.013791 + phi22 * phi22 * phi22 * (3971e-6 - 1529e-6 * phi22)))),
        phi3
      ];
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/orthographic.js
function orthographicRaw2(x7, y7) {
  return [cos5(y7) * sin5(x7), sin5(y7)];
}
function orthographic_default2() {
  return projection2(orthographicRaw2).scale(249.5).clipAngle(90 + epsilon12);
}
var init_orthographic = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/orthographic.js"() {
    init_math4();
    init_azimuthal();
    init_projection();
    orthographicRaw2.invert = azimuthalInvert2(asin3);
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/stereographic.js
function stereographicRaw2(x7, y7) {
  var cy = cos5(y7), k3 = 1 + cos5(x7) * cy;
  return [cy * sin5(x7) / k3, sin5(y7) / k3];
}
function stereographic_default2() {
  return projection2(stereographicRaw2).scale(250).clipAngle(142);
}
var init_stereographic = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/stereographic.js"() {
    init_math4();
    init_azimuthal();
    init_projection();
    stereographicRaw2.invert = azimuthalInvert2(function(z) {
      return 2 * atan3(z);
    });
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/projection/transverseMercator.js
function transverseMercatorRaw2(lambda, phi3) {
  return [log3(tan2((halfPi9 + phi3) / 2)), -lambda];
}
function transverseMercator_default2() {
  var m = mercatorProjection2(transverseMercatorRaw2), center3 = m.center, rotate = m.rotate;
  m.center = function(_2) {
    return arguments.length ? center3([-_2[1], _2[0]]) : (_2 = center3(), [_2[1], -_2[0]]);
  };
  m.rotate = function(_2) {
    return arguments.length ? rotate([_2[0], _2[1], _2.length > 2 ? _2[2] + 90 : 90]) : (_2 = rotate(), [_2[0], _2[1], _2[2] - 90]);
  };
  return rotate([0, 0, 90]).scale(159.155);
}
var init_transverseMercator = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/projection/transverseMercator.js"() {
    init_math4();
    init_mercator();
    transverseMercatorRaw2.invert = function(x7, y7) {
      return [-y7, 2 * atan3(exp2(x7)) - halfPi9];
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-geo/src/index.js
var init_src21 = __esm({
  "node_modules/dagre-d3/node_modules/d3-geo/src/index.js"() {
    init_area2();
    init_bounds();
    init_centroid();
    init_circle2();
    init_antimeridian();
    init_circle3();
    init_extent3();
    init_rectangle();
    init_contains2();
    init_distance();
    init_graticule();
    init_interpolate2();
    init_length();
    init_path2();
    init_albers();
    init_albersUsa();
    init_azimuthalEqualArea();
    init_azimuthalEquidistant();
    init_conicConformal();
    init_conicEqualArea();
    init_conicEquidistant();
    init_equalEarth();
    init_equirectangular();
    init_gnomonic();
    init_identity5();
    init_projection();
    init_mercator();
    init_naturalEarth1();
    init_orthographic();
    init_stereographic();
    init_transverseMercator();
    init_rotation();
    init_stream();
    init_transform2();
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/cluster.js
function defaultSeparation(a3, b) {
  return a3.parent === b.parent ? 1 : 2;
}
function meanX(children4) {
  return children4.reduce(meanXReduce, 0) / children4.length;
}
function meanXReduce(x7, c7) {
  return x7 + c7.x;
}
function maxY(children4) {
  return 1 + children4.reduce(maxYReduce, 0);
}
function maxYReduce(y7, c7) {
  return Math.max(y7, c7.y);
}
function leafLeft(node2) {
  var children4;
  while (children4 = node2.children)
    node2 = children4[0];
  return node2;
}
function leafRight(node2) {
  var children4;
  while (children4 = node2.children)
    node2 = children4[children4.length - 1];
  return node2;
}
function cluster_default2() {
  var separation = defaultSeparation, dx = 1, dy = 1, nodeSize = false;
  function cluster(root7) {
    var previousNode, x7 = 0;
    root7.eachAfter(function(node2) {
      var children4 = node2.children;
      if (children4) {
        node2.x = meanX(children4);
        node2.y = maxY(children4);
      } else {
        node2.x = previousNode ? x7 += separation(node2, previousNode) : 0;
        node2.y = 0;
        previousNode = node2;
      }
    });
    var left3 = leafLeft(root7), right3 = leafRight(root7), x07 = left3.x - separation(left3, right3) / 2, x13 = right3.x + separation(right3, left3) / 2;
    return root7.eachAfter(nodeSize ? function(node2) {
      node2.x = (node2.x - root7.x) * dx;
      node2.y = (root7.y - node2.y) * dy;
    } : function(node2) {
      node2.x = (node2.x - x07) / (x13 - x07) * dx;
      node2.y = (1 - (root7.y ? node2.y / root7.y : 1)) * dy;
    });
  }
  cluster.separation = function(x7) {
    return arguments.length ? (separation = x7, cluster) : separation;
  };
  cluster.size = function(x7) {
    return arguments.length ? (nodeSize = false, dx = +x7[0], dy = +x7[1], cluster) : nodeSize ? null : [dx, dy];
  };
  cluster.nodeSize = function(x7) {
    return arguments.length ? (nodeSize = true, dx = +x7[0], dy = +x7[1], cluster) : nodeSize ? [dx, dy] : null;
  };
  return cluster;
}
var init_cluster = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/cluster.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/count.js
function count6(node2) {
  var sum9 = 0, children4 = node2.children, i = children4 && children4.length;
  if (!i)
    sum9 = 1;
  else
    while (--i >= 0)
      sum9 += children4[i].value;
  node2.value = sum9;
}
function count_default2() {
  return this.eachAfter(count6);
}
var init_count = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/count.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/each.js
function each_default6(callback) {
  var node2 = this, current, next2 = [node2], children4, i, n;
  do {
    current = next2.reverse(), next2 = [];
    while (node2 = current.pop()) {
      callback(node2), children4 = node2.children;
      if (children4)
        for (i = 0, n = children4.length; i < n; ++i) {
          next2.push(children4[i]);
        }
    }
  } while (next2.length);
  return this;
}
var init_each2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/each.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js
function eachBefore_default2(callback) {
  var node2 = this, nodes = [node2], children4, i;
  while (node2 = nodes.pop()) {
    callback(node2), children4 = node2.children;
    if (children4)
      for (i = children4.length - 1; i >= 0; --i) {
        nodes.push(children4[i]);
      }
  }
  return this;
}
var init_eachBefore = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js
function eachAfter_default2(callback) {
  var node2 = this, nodes = [node2], next2 = [], children4, i, n;
  while (node2 = nodes.pop()) {
    next2.push(node2), children4 = node2.children;
    if (children4)
      for (i = 0, n = children4.length; i < n; ++i) {
        nodes.push(children4[i]);
      }
  }
  while (node2 = next2.pop()) {
    callback(node2);
  }
  return this;
}
var init_eachAfter = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/sum.js
function sum_default3(value) {
  return this.eachAfter(function(node2) {
    var sum9 = +value(node2.data) || 0, children4 = node2.children, i = children4 && children4.length;
    while (--i >= 0)
      sum9 += children4[i].value;
    node2.value = sum9;
  });
}
var init_sum2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/sum.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/sort.js
function sort_default6(compare) {
  return this.eachBefore(function(node2) {
    if (node2.children) {
      node2.children.sort(compare);
    }
  });
}
var init_sort2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/sort.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/path.js
function path_default8(end2) {
  var start6 = this, ancestor = leastCommonAncestor2(start6, end2), nodes = [start6];
  while (start6 !== ancestor) {
    start6 = start6.parent;
    nodes.push(start6);
  }
  var k3 = nodes.length;
  while (end2 !== ancestor) {
    nodes.splice(k3, 0, end2);
    end2 = end2.parent;
  }
  return nodes;
}
function leastCommonAncestor2(a3, b) {
  if (a3 === b)
    return a3;
  var aNodes = a3.ancestors(), bNodes = b.ancestors(), c7 = null;
  a3 = aNodes.pop();
  b = bNodes.pop();
  while (a3 === b) {
    c7 = a3;
    a3 = aNodes.pop();
    b = bNodes.pop();
  }
  return c7;
}
var init_path3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/path.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/ancestors.js
function ancestors_default2() {
  var node2 = this, nodes = [node2];
  while (node2 = node2.parent) {
    nodes.push(node2);
  }
  return nodes;
}
var init_ancestors = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/ancestors.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/descendants.js
function descendants_default2() {
  var nodes = [];
  this.each(function(node2) {
    nodes.push(node2);
  });
  return nodes;
}
var init_descendants = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/descendants.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/leaves.js
function leaves_default2() {
  var leaves = [];
  this.eachBefore(function(node2) {
    if (!node2.children) {
      leaves.push(node2);
    }
  });
  return leaves;
}
var init_leaves = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/leaves.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/links.js
function links_default2() {
  var root7 = this, links2 = [];
  root7.each(function(node2) {
    if (node2 !== root7) {
      links2.push({ source: node2.parent, target: node2 });
    }
  });
  return links2;
}
var init_links = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/links.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/index.js
function hierarchy2(data, children4) {
  var root7 = new Node2(data), valued = +data.value && (root7.value = data.value), node2, nodes = [root7], child, childs, i, n;
  if (children4 == null)
    children4 = defaultChildren;
  while (node2 = nodes.pop()) {
    if (valued)
      node2.value = +node2.data.value;
    if ((childs = children4(node2.data)) && (n = childs.length)) {
      node2.children = new Array(n);
      for (i = n - 1; i >= 0; --i) {
        nodes.push(child = node2.children[i] = new Node2(childs[i]));
        child.parent = node2;
        child.depth = node2.depth + 1;
      }
    }
  }
  return root7.eachBefore(computeHeight2);
}
function node_copy2() {
  return hierarchy2(this).eachBefore(copyData2);
}
function defaultChildren(d) {
  return d.children;
}
function copyData2(node2) {
  node2.data = node2.data.data;
}
function computeHeight2(node2) {
  var height2 = 0;
  do
    node2.height = height2;
  while ((node2 = node2.parent) && node2.height < ++height2);
}
function Node2(data) {
  this.data = data;
  this.depth = this.height = 0;
  this.parent = null;
}
var init_hierarchy = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/hierarchy/index.js"() {
    init_count();
    init_each2();
    init_eachBefore();
    init_eachAfter();
    init_sum2();
    init_sort2();
    init_path3();
    init_ancestors();
    init_descendants();
    init_leaves();
    init_links();
    Node2.prototype = hierarchy2.prototype = {
      constructor: Node2,
      count: count_default2,
      each: each_default6,
      eachAfter: eachAfter_default2,
      eachBefore: eachBefore_default2,
      sum: sum_default3,
      sort: sort_default6,
      path: path_default8,
      ancestors: ancestors_default2,
      descendants: descendants_default2,
      leaves: leaves_default2,
      links: links_default2,
      copy: node_copy2
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/array.js
function shuffle2(array12) {
  var m = array12.length, t, i;
  while (m) {
    i = Math.random() * m-- | 0;
    t = array12[m];
    array12[m] = array12[i];
    array12[i] = t;
  }
  return array12;
}
var slice13;
var init_array6 = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/array.js"() {
    slice13 = Array.prototype.slice;
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/pack/enclose.js
function enclose_default2(circles2) {
  var i = 0, n = (circles2 = shuffle2(slice13.call(circles2))).length, B8 = [], p, e;
  while (i < n) {
    p = circles2[i];
    if (e && enclosesWeak(e, p))
      ++i;
    else
      e = encloseBasis(B8 = extendBasis(B8, p)), i = 0;
  }
  return e;
}
function extendBasis(B8, p) {
  var i, j;
  if (enclosesWeakAll(p, B8))
    return [p];
  for (i = 0; i < B8.length; ++i) {
    if (enclosesNot(p, B8[i]) && enclosesWeakAll(encloseBasis2(B8[i], p), B8)) {
      return [B8[i], p];
    }
  }
  for (i = 0; i < B8.length - 1; ++i) {
    for (j = i + 1; j < B8.length; ++j) {
      if (enclosesNot(encloseBasis2(B8[i], B8[j]), p) && enclosesNot(encloseBasis2(B8[i], p), B8[j]) && enclosesNot(encloseBasis2(B8[j], p), B8[i]) && enclosesWeakAll(encloseBasis3(B8[i], B8[j], p), B8)) {
        return [B8[i], B8[j], p];
      }
    }
  }
  throw new Error();
}
function enclosesNot(a3, b) {
  var dr = a3.r - b.r, dx = b.x - a3.x, dy = b.y - a3.y;
  return dr < 0 || dr * dr < dx * dx + dy * dy;
}
function enclosesWeak(a3, b) {
  var dr = a3.r - b.r + 1e-6, dx = b.x - a3.x, dy = b.y - a3.y;
  return dr > 0 && dr * dr > dx * dx + dy * dy;
}
function enclosesWeakAll(a3, B8) {
  for (var i = 0; i < B8.length; ++i) {
    if (!enclosesWeak(a3, B8[i])) {
      return false;
    }
  }
  return true;
}
function encloseBasis(B8) {
  switch (B8.length) {
    case 1:
      return encloseBasis1(B8[0]);
    case 2:
      return encloseBasis2(B8[0], B8[1]);
    case 3:
      return encloseBasis3(B8[0], B8[1], B8[2]);
  }
}
function encloseBasis1(a3) {
  return {
    x: a3.x,
    y: a3.y,
    r: a3.r
  };
}
function encloseBasis2(a3, b) {
  var x13 = a3.x, y12 = a3.y, r1 = a3.r, x22 = b.x, y22 = b.y, r2 = b.r, x21 = x22 - x13, y21 = y22 - y12, r21 = r2 - r1, l = Math.sqrt(x21 * x21 + y21 * y21);
  return {
    x: (x13 + x22 + x21 / l * r21) / 2,
    y: (y12 + y22 + y21 / l * r21) / 2,
    r: (l + r1 + r2) / 2
  };
}
function encloseBasis3(a3, b, c7) {
  var x13 = a3.x, y12 = a3.y, r1 = a3.r, x22 = b.x, y22 = b.y, r2 = b.r, x32 = c7.x, y32 = c7.y, r3 = c7.r, a22 = x13 - x22, a32 = x13 - x32, b25 = y12 - y22, b35 = y12 - y32, c22 = r2 - r1, c32 = r3 - r1, d1 = x13 * x13 + y12 * y12 - r1 * r1, d2 = d1 - x22 * x22 - y22 * y22 + r2 * r2, d3 = d1 - x32 * x32 - y32 * y32 + r3 * r3, ab4 = a32 * b25 - a22 * b35, xa = (b25 * d3 - b35 * d2) / (ab4 * 2) - x13, xb = (b35 * c22 - b25 * c32) / ab4, ya = (a32 * d2 - a22 * d3) / (ab4 * 2) - y12, yb = (a22 * c32 - a32 * c22) / ab4, A9 = xb * xb + yb * yb - 1, B8 = 2 * (r1 + xa * xb + ya * yb), C7 = xa * xa + ya * ya - r1 * r1, r = -(A9 ? (B8 + Math.sqrt(B8 * B8 - 4 * A9 * C7)) / (2 * A9) : C7 / B8);
  return {
    x: x13 + xa + xb * r,
    y: y12 + ya + yb * r,
    r
  };
}
var init_enclose = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/pack/enclose.js"() {
    init_array6();
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/pack/siblings.js
function place(b, a3, c7) {
  var dx = b.x - a3.x, x7, a22, dy = b.y - a3.y, y7, b25, d2 = dx * dx + dy * dy;
  if (d2) {
    a22 = a3.r + c7.r, a22 *= a22;
    b25 = b.r + c7.r, b25 *= b25;
    if (a22 > b25) {
      x7 = (d2 + b25 - a22) / (2 * d2);
      y7 = Math.sqrt(Math.max(0, b25 / d2 - x7 * x7));
      c7.x = b.x - x7 * dx - y7 * dy;
      c7.y = b.y - x7 * dy + y7 * dx;
    } else {
      x7 = (d2 + a22 - b25) / (2 * d2);
      y7 = Math.sqrt(Math.max(0, a22 / d2 - x7 * x7));
      c7.x = a3.x + x7 * dx - y7 * dy;
      c7.y = a3.y + x7 * dy + y7 * dx;
    }
  } else {
    c7.x = a3.x + c7.r;
    c7.y = a3.y;
  }
}
function intersects(a3, b) {
  var dr = a3.r + b.r - 1e-6, dx = b.x - a3.x, dy = b.y - a3.y;
  return dr > 0 && dr * dr > dx * dx + dy * dy;
}
function score(node2) {
  var a3 = node2._, b = node2.next._, ab4 = a3.r + b.r, dx = (a3.x * b.r + b.x * a3.r) / ab4, dy = (a3.y * b.r + b.y * a3.r) / ab4;
  return dx * dx + dy * dy;
}
function Node3(circle4) {
  this._ = circle4;
  this.next = null;
  this.previous = null;
}
function packEnclose(circles2) {
  if (!(n = circles2.length))
    return 0;
  var a3, b, c7, n, aa2, ca3, i, j, k3, sj, sk;
  a3 = circles2[0], a3.x = 0, a3.y = 0;
  if (!(n > 1))
    return a3.r;
  b = circles2[1], a3.x = -b.r, b.x = a3.r, b.y = 0;
  if (!(n > 2))
    return a3.r + b.r;
  place(b, a3, c7 = circles2[2]);
  a3 = new Node3(a3), b = new Node3(b), c7 = new Node3(c7);
  a3.next = c7.previous = b;
  b.next = a3.previous = c7;
  c7.next = b.previous = a3;
  pack:
    for (i = 3; i < n; ++i) {
      place(a3._, b._, c7 = circles2[i]), c7 = new Node3(c7);
      j = b.next, k3 = a3.previous, sj = b._.r, sk = a3._.r;
      do {
        if (sj <= sk) {
          if (intersects(j._, c7._)) {
            b = j, a3.next = b, b.previous = a3, --i;
            continue pack;
          }
          sj += j._.r, j = j.next;
        } else {
          if (intersects(k3._, c7._)) {
            a3 = k3, a3.next = b, b.previous = a3, --i;
            continue pack;
          }
          sk += k3._.r, k3 = k3.previous;
        }
      } while (j !== k3.next);
      c7.previous = a3, c7.next = b, a3.next = b.previous = b = c7;
      aa2 = score(a3);
      while ((c7 = c7.next) !== b) {
        if ((ca3 = score(c7)) < aa2) {
          a3 = c7, aa2 = ca3;
        }
      }
      b = a3.next;
    }
  a3 = [b._], c7 = b;
  while ((c7 = c7.next) !== b)
    a3.push(c7._);
  c7 = enclose_default2(a3);
  for (i = 0; i < n; ++i)
    a3 = circles2[i], a3.x -= c7.x, a3.y -= c7.y;
  return c7.r;
}
function siblings_default2(circles2) {
  packEnclose(circles2);
  return circles2;
}
var init_siblings = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/pack/siblings.js"() {
    init_enclose();
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/accessors.js
function optional2(f2) {
  return f2 == null ? null : required2(f2);
}
function required2(f2) {
  if (typeof f2 !== "function")
    throw new Error();
  return f2;
}
var init_accessors = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/accessors.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/constant.js
function constantZero2() {
  return 0;
}
function constant_default29(x7) {
  return function() {
    return x7;
  };
}
var init_constant10 = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/constant.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/pack/index.js
function defaultRadius2(d) {
  return Math.sqrt(d.value);
}
function pack_default2() {
  var radius = null, dx = 1, dy = 1, padding2 = constantZero2;
  function pack(root7) {
    root7.x = dx / 2, root7.y = dy / 2;
    if (radius) {
      root7.eachBefore(radiusLeaf(radius)).eachAfter(packChildren(padding2, 0.5)).eachBefore(translateChild(1));
    } else {
      root7.eachBefore(radiusLeaf(defaultRadius2)).eachAfter(packChildren(constantZero2, 1)).eachAfter(packChildren(padding2, root7.r / Math.min(dx, dy))).eachBefore(translateChild(Math.min(dx, dy) / (2 * root7.r)));
    }
    return root7;
  }
  pack.radius = function(x7) {
    return arguments.length ? (radius = optional2(x7), pack) : radius;
  };
  pack.size = function(x7) {
    return arguments.length ? (dx = +x7[0], dy = +x7[1], pack) : [dx, dy];
  };
  pack.padding = function(x7) {
    return arguments.length ? (padding2 = typeof x7 === "function" ? x7 : constant_default29(+x7), pack) : padding2;
  };
  return pack;
}
function radiusLeaf(radius) {
  return function(node2) {
    if (!node2.children) {
      node2.r = Math.max(0, +radius(node2) || 0);
    }
  };
}
function packChildren(padding2, k3) {
  return function(node2) {
    if (children4 = node2.children) {
      var children4, i, n = children4.length, r = padding2(node2) * k3 || 0, e;
      if (r)
        for (i = 0; i < n; ++i)
          children4[i].r += r;
      e = packEnclose(children4);
      if (r)
        for (i = 0; i < n; ++i)
          children4[i].r -= r;
      node2.r = e + r;
    }
  };
}
function translateChild(k3) {
  return function(node2) {
    var parent = node2.parent;
    node2.r *= k3;
    if (parent) {
      node2.x = parent.x + k3 * node2.x;
      node2.y = parent.y + k3 * node2.y;
    }
  };
}
var init_pack = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/pack/index.js"() {
    init_siblings();
    init_accessors();
    init_constant10();
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/round.js
function round_default8(node2) {
  node2.x0 = Math.round(node2.x0);
  node2.y0 = Math.round(node2.y0);
  node2.x1 = Math.round(node2.x1);
  node2.y1 = Math.round(node2.y1);
}
var init_round2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/round.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/dice.js
function dice_default2(parent, x07, y06, x13, y12) {
  var nodes = parent.children, node2, i = -1, n = nodes.length, k3 = parent.value && (x13 - x07) / parent.value;
  while (++i < n) {
    node2 = nodes[i], node2.y0 = y06, node2.y1 = y12;
    node2.x0 = x07, node2.x1 = x07 += node2.value * k3;
  }
}
var init_dice = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/dice.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/partition.js
function partition_default2() {
  var dx = 1, dy = 1, padding2 = 0, round = false;
  function partition(root7) {
    var n = root7.height + 1;
    root7.x0 = root7.y0 = padding2;
    root7.x1 = dx;
    root7.y1 = dy / n;
    root7.eachBefore(positionNode2(dy, n));
    if (round)
      root7.eachBefore(round_default8);
    return root7;
  }
  function positionNode2(dy2, n) {
    return function(node2) {
      if (node2.children) {
        dice_default2(node2, node2.x0, dy2 * (node2.depth + 1) / n, node2.x1, dy2 * (node2.depth + 2) / n);
      }
      var x07 = node2.x0, y06 = node2.y0, x13 = node2.x1 - padding2, y12 = node2.y1 - padding2;
      if (x13 < x07)
        x07 = x13 = (x07 + x13) / 2;
      if (y12 < y06)
        y06 = y12 = (y06 + y12) / 2;
      node2.x0 = x07;
      node2.y0 = y06;
      node2.x1 = x13;
      node2.y1 = y12;
    };
  }
  partition.round = function(x7) {
    return arguments.length ? (round = !!x7, partition) : round;
  };
  partition.size = function(x7) {
    return arguments.length ? (dx = +x7[0], dy = +x7[1], partition) : [dx, dy];
  };
  partition.padding = function(x7) {
    return arguments.length ? (padding2 = +x7, partition) : padding2;
  };
  return partition;
}
var init_partition = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/partition.js"() {
    init_round2();
    init_dice();
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/stratify.js
function defaultId(d) {
  return d.id;
}
function defaultParentId(d) {
  return d.parentId;
}
function stratify_default2() {
  var id5 = defaultId, parentId = defaultParentId;
  function stratify(data) {
    var d, i, n = data.length, root7, parent, node2, nodes = new Array(n), nodeId, nodeKey, nodeByKey = {};
    for (i = 0; i < n; ++i) {
      d = data[i], node2 = nodes[i] = new Node2(d);
      if ((nodeId = id5(d, i, data)) != null && (nodeId += "")) {
        nodeKey = keyPrefix2 + (node2.id = nodeId);
        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node2;
      }
    }
    for (i = 0; i < n; ++i) {
      node2 = nodes[i], nodeId = parentId(data[i], i, data);
      if (nodeId == null || !(nodeId += "")) {
        if (root7)
          throw new Error("multiple roots");
        root7 = node2;
      } else {
        parent = nodeByKey[keyPrefix2 + nodeId];
        if (!parent)
          throw new Error("missing: " + nodeId);
        if (parent === ambiguous)
          throw new Error("ambiguous: " + nodeId);
        if (parent.children)
          parent.children.push(node2);
        else
          parent.children = [node2];
        node2.parent = parent;
      }
    }
    if (!root7)
      throw new Error("no root");
    root7.parent = preroot;
    root7.eachBefore(function(node3) {
      node3.depth = node3.parent.depth + 1;
      --n;
    }).eachBefore(computeHeight2);
    root7.parent = null;
    if (n > 0)
      throw new Error("cycle");
    return root7;
  }
  stratify.id = function(x7) {
    return arguments.length ? (id5 = required2(x7), stratify) : id5;
  };
  stratify.parentId = function(x7) {
    return arguments.length ? (parentId = required2(x7), stratify) : parentId;
  };
  return stratify;
}
var keyPrefix2, preroot, ambiguous;
var init_stratify = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/stratify.js"() {
    init_accessors();
    init_hierarchy();
    keyPrefix2 = "$";
    preroot = { depth: -1 };
    ambiguous = {};
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/tree.js
function defaultSeparation2(a3, b) {
  return a3.parent === b.parent ? 1 : 2;
}
function nextLeft(v2) {
  var children4 = v2.children;
  return children4 ? children4[0] : v2.t;
}
function nextRight(v2) {
  var children4 = v2.children;
  return children4 ? children4[children4.length - 1] : v2.t;
}
function moveSubtree(wm, wp, shift) {
  var change2 = shift / (wp.i - wm.i);
  wp.c -= change2;
  wp.s += shift;
  wm.c += change2;
  wp.z += shift;
  wp.m += shift;
}
function executeShifts(v2) {
  var shift = 0, change2 = 0, children4 = v2.children, i = children4.length, w2;
  while (--i >= 0) {
    w2 = children4[i];
    w2.z += shift;
    w2.m += shift;
    shift += w2.s + (change2 += w2.c);
  }
}
function nextAncestor(vim, v2, ancestor) {
  return vim.a.parent === v2.parent ? vim.a : ancestor;
}
function TreeNode2(node2, i) {
  this._ = node2;
  this.parent = null;
  this.children = null;
  this.A = null;
  this.a = this;
  this.z = 0;
  this.m = 0;
  this.c = 0;
  this.s = 0;
  this.t = null;
  this.i = i;
}
function treeRoot(root7) {
  var tree = new TreeNode2(root7, 0), node2, nodes = [tree], child, children4, i, n;
  while (node2 = nodes.pop()) {
    if (children4 = node2._.children) {
      node2.children = new Array(n = children4.length);
      for (i = n - 1; i >= 0; --i) {
        nodes.push(child = node2.children[i] = new TreeNode2(children4[i], i));
        child.parent = node2;
      }
    }
  }
  (tree.parent = new TreeNode2(null, 0)).children = [tree];
  return tree;
}
function tree_default2() {
  var separation = defaultSeparation2, dx = 1, dy = 1, nodeSize = null;
  function tree(root7) {
    var t = treeRoot(root7);
    t.eachAfter(firstWalk), t.parent.m = -t.z;
    t.eachBefore(secondWalk);
    if (nodeSize)
      root7.eachBefore(sizeNode);
    else {
      var left3 = root7, right3 = root7, bottom3 = root7;
      root7.eachBefore(function(node2) {
        if (node2.x < left3.x)
          left3 = node2;
        if (node2.x > right3.x)
          right3 = node2;
        if (node2.depth > bottom3.depth)
          bottom3 = node2;
      });
      var s3 = left3 === right3 ? 1 : separation(left3, right3) / 2, tx = s3 - left3.x, kx3 = dx / (right3.x + s3 + tx), ky3 = dy / (bottom3.depth || 1);
      root7.eachBefore(function(node2) {
        node2.x = (node2.x + tx) * kx3;
        node2.y = node2.depth * ky3;
      });
    }
    return root7;
  }
  function firstWalk(v2) {
    var children4 = v2.children, siblings = v2.parent.children, w2 = v2.i ? siblings[v2.i - 1] : null;
    if (children4) {
      executeShifts(v2);
      var midpoint = (children4[0].z + children4[children4.length - 1].z) / 2;
      if (w2) {
        v2.z = w2.z + separation(v2._, w2._);
        v2.m = v2.z - midpoint;
      } else {
        v2.z = midpoint;
      }
    } else if (w2) {
      v2.z = w2.z + separation(v2._, w2._);
    }
    v2.parent.A = apportion(v2, w2, v2.parent.A || siblings[0]);
  }
  function secondWalk(v2) {
    v2._.x = v2.z + v2.parent.m;
    v2.m += v2.parent.m;
  }
  function apportion(v2, w2, ancestor) {
    if (w2) {
      var vip = v2, vop = v2, vim = w2, vom = vip.parent.children[0], sip = vip.m, sop = vop.m, sim = vim.m, som = vom.m, shift;
      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {
        vom = nextLeft(vom);
        vop = nextRight(vop);
        vop.a = v2;
        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);
        if (shift > 0) {
          moveSubtree(nextAncestor(vim, v2, ancestor), v2, shift);
          sip += shift;
          sop += shift;
        }
        sim += vim.m;
        sip += vip.m;
        som += vom.m;
        sop += vop.m;
      }
      if (vim && !nextRight(vop)) {
        vop.t = vim;
        vop.m += sim - sop;
      }
      if (vip && !nextLeft(vom)) {
        vom.t = vip;
        vom.m += sip - som;
        ancestor = v2;
      }
    }
    return ancestor;
  }
  function sizeNode(node2) {
    node2.x *= dx;
    node2.y = node2.depth * dy;
  }
  tree.separation = function(x7) {
    return arguments.length ? (separation = x7, tree) : separation;
  };
  tree.size = function(x7) {
    return arguments.length ? (nodeSize = false, dx = +x7[0], dy = +x7[1], tree) : nodeSize ? null : [dx, dy];
  };
  tree.nodeSize = function(x7) {
    return arguments.length ? (nodeSize = true, dx = +x7[0], dy = +x7[1], tree) : nodeSize ? [dx, dy] : null;
  };
  return tree;
}
var init_tree = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/tree.js"() {
    init_hierarchy();
    TreeNode2.prototype = Object.create(Node2.prototype);
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/slice.js
function slice_default2(parent, x07, y06, x13, y12) {
  var nodes = parent.children, node2, i = -1, n = nodes.length, k3 = parent.value && (y12 - y06) / parent.value;
  while (++i < n) {
    node2 = nodes[i], node2.x0 = x07, node2.x1 = x13;
    node2.y0 = y06, node2.y1 = y06 += node2.value * k3;
  }
}
var init_slice = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/slice.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/squarify.js
function squarifyRatio2(ratio, parent, x07, y06, x13, y12) {
  var rows = [], nodes = parent.children, row, nodeValue, i0 = 0, i1 = 0, n = nodes.length, dx, dy, value = parent.value, sumValue, minValue, maxValue, newRatio, minRatio, alpha, beta;
  while (i0 < n) {
    dx = x13 - x07, dy = y12 - y06;
    do
      sumValue = nodes[i1++].value;
    while (!sumValue && i1 < n);
    minValue = maxValue = sumValue;
    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);
    beta = sumValue * sumValue * alpha;
    minRatio = Math.max(maxValue / beta, beta / minValue);
    for (; i1 < n; ++i1) {
      sumValue += nodeValue = nodes[i1].value;
      if (nodeValue < minValue)
        minValue = nodeValue;
      if (nodeValue > maxValue)
        maxValue = nodeValue;
      beta = sumValue * sumValue * alpha;
      newRatio = Math.max(maxValue / beta, beta / minValue);
      if (newRatio > minRatio) {
        sumValue -= nodeValue;
        break;
      }
      minRatio = newRatio;
    }
    rows.push(row = { value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1) });
    if (row.dice)
      dice_default2(row, x07, y06, x13, value ? y06 += dy * sumValue / value : y12);
    else
      slice_default2(row, x07, y06, value ? x07 += dx * sumValue / value : x13, y12);
    value -= sumValue, i0 = i1;
  }
  return rows;
}
var phi2, squarify_default2;
var init_squarify = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/squarify.js"() {
    init_dice();
    init_slice();
    phi2 = (1 + Math.sqrt(5)) / 2;
    squarify_default2 = function custom46(ratio) {
      function squarify(parent, x07, y06, x13, y12) {
        squarifyRatio2(ratio, parent, x07, y06, x13, y12);
      }
      squarify.ratio = function(x7) {
        return custom46((x7 = +x7) > 1 ? x7 : 1);
      };
      return squarify;
    }(phi2);
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/index.js
function treemap_default2() {
  var tile = squarify_default2, round = false, dx = 1, dy = 1, paddingStack = [0], paddingInner = constantZero2, paddingTop = constantZero2, paddingRight = constantZero2, paddingBottom = constantZero2, paddingLeft = constantZero2;
  function treemap(root7) {
    root7.x0 = root7.y0 = 0;
    root7.x1 = dx;
    root7.y1 = dy;
    root7.eachBefore(positionNode2);
    paddingStack = [0];
    if (round)
      root7.eachBefore(round_default8);
    return root7;
  }
  function positionNode2(node2) {
    var p = paddingStack[node2.depth], x07 = node2.x0 + p, y06 = node2.y0 + p, x13 = node2.x1 - p, y12 = node2.y1 - p;
    if (x13 < x07)
      x07 = x13 = (x07 + x13) / 2;
    if (y12 < y06)
      y06 = y12 = (y06 + y12) / 2;
    node2.x0 = x07;
    node2.y0 = y06;
    node2.x1 = x13;
    node2.y1 = y12;
    if (node2.children) {
      p = paddingStack[node2.depth + 1] = paddingInner(node2) / 2;
      x07 += paddingLeft(node2) - p;
      y06 += paddingTop(node2) - p;
      x13 -= paddingRight(node2) - p;
      y12 -= paddingBottom(node2) - p;
      if (x13 < x07)
        x07 = x13 = (x07 + x13) / 2;
      if (y12 < y06)
        y06 = y12 = (y06 + y12) / 2;
      tile(node2, x07, y06, x13, y12);
    }
  }
  treemap.round = function(x7) {
    return arguments.length ? (round = !!x7, treemap) : round;
  };
  treemap.size = function(x7) {
    return arguments.length ? (dx = +x7[0], dy = +x7[1], treemap) : [dx, dy];
  };
  treemap.tile = function(x7) {
    return arguments.length ? (tile = required2(x7), treemap) : tile;
  };
  treemap.padding = function(x7) {
    return arguments.length ? treemap.paddingInner(x7).paddingOuter(x7) : treemap.paddingInner();
  };
  treemap.paddingInner = function(x7) {
    return arguments.length ? (paddingInner = typeof x7 === "function" ? x7 : constant_default29(+x7), treemap) : paddingInner;
  };
  treemap.paddingOuter = function(x7) {
    return arguments.length ? treemap.paddingTop(x7).paddingRight(x7).paddingBottom(x7).paddingLeft(x7) : treemap.paddingTop();
  };
  treemap.paddingTop = function(x7) {
    return arguments.length ? (paddingTop = typeof x7 === "function" ? x7 : constant_default29(+x7), treemap) : paddingTop;
  };
  treemap.paddingRight = function(x7) {
    return arguments.length ? (paddingRight = typeof x7 === "function" ? x7 : constant_default29(+x7), treemap) : paddingRight;
  };
  treemap.paddingBottom = function(x7) {
    return arguments.length ? (paddingBottom = typeof x7 === "function" ? x7 : constant_default29(+x7), treemap) : paddingBottom;
  };
  treemap.paddingLeft = function(x7) {
    return arguments.length ? (paddingLeft = typeof x7 === "function" ? x7 : constant_default29(+x7), treemap) : paddingLeft;
  };
  return treemap;
}
var init_treemap = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/index.js"() {
    init_round2();
    init_squarify();
    init_accessors();
    init_constant10();
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/binary.js
function binary_default2(parent, x07, y06, x13, y12) {
  var nodes = parent.children, i, n = nodes.length, sum9, sums = new Array(n + 1);
  for (sums[0] = sum9 = i = 0; i < n; ++i) {
    sums[i + 1] = sum9 += nodes[i].value;
  }
  partition(0, n, parent.value, x07, y06, x13, y12);
  function partition(i2, j, value, x08, y07, x14, y13) {
    if (i2 >= j - 1) {
      var node2 = nodes[i2];
      node2.x0 = x08, node2.y0 = y07;
      node2.x1 = x14, node2.y1 = y13;
      return;
    }
    var valueOffset = sums[i2], valueTarget = value / 2 + valueOffset, k3 = i2 + 1, hi = j - 1;
    while (k3 < hi) {
      var mid = k3 + hi >>> 1;
      if (sums[mid] < valueTarget)
        k3 = mid + 1;
      else
        hi = mid;
    }
    if (valueTarget - sums[k3 - 1] < sums[k3] - valueTarget && i2 + 1 < k3)
      --k3;
    var valueLeft = sums[k3] - valueOffset, valueRight = value - valueLeft;
    if (x14 - x08 > y13 - y07) {
      var xk = (x08 * valueRight + x14 * valueLeft) / value;
      partition(i2, k3, valueLeft, x08, y07, xk, y13);
      partition(k3, j, valueRight, xk, y07, x14, y13);
    } else {
      var yk = (y07 * valueRight + y13 * valueLeft) / value;
      partition(i2, k3, valueLeft, x08, y07, x14, yk);
      partition(k3, j, valueRight, x08, yk, x14, y13);
    }
  }
}
var init_binary = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/binary.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/sliceDice.js
function sliceDice_default2(parent, x07, y06, x13, y12) {
  (parent.depth & 1 ? slice_default2 : dice_default2)(parent, x07, y06, x13, y12);
}
var init_sliceDice = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/sliceDice.js"() {
    init_dice();
    init_slice();
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/resquarify.js
var resquarify_default2;
var init_resquarify = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/treemap/resquarify.js"() {
    init_dice();
    init_slice();
    init_squarify();
    resquarify_default2 = function custom47(ratio) {
      function resquarify(parent, x07, y06, x13, y12) {
        if ((rows = parent._squarify) && rows.ratio === ratio) {
          var rows, row, nodes, i, j = -1, n, m = rows.length, value = parent.value;
          while (++j < m) {
            row = rows[j], nodes = row.children;
            for (i = row.value = 0, n = nodes.length; i < n; ++i)
              row.value += nodes[i].value;
            if (row.dice)
              dice_default2(row, x07, y06, x13, y06 += (y12 - y06) * row.value / value);
            else
              slice_default2(row, x07, y06, x07 += (x13 - x07) * row.value / value, y12);
            value -= row.value;
          }
        } else {
          parent._squarify = rows = squarifyRatio2(ratio, parent, x07, y06, x13, y12);
          rows.ratio = ratio;
        }
      }
      resquarify.ratio = function(x7) {
        return custom47((x7 = +x7) > 1 ? x7 : 1);
      };
      return resquarify;
    }(phi2);
  }
});

// node_modules/dagre-d3/node_modules/d3-hierarchy/src/index.js
var init_src22 = __esm({
  "node_modules/dagre-d3/node_modules/d3-hierarchy/src/index.js"() {
    init_cluster();
    init_hierarchy();
    init_pack();
    init_siblings();
    init_enclose();
    init_partition();
    init_stratify();
    init_tree();
    init_treemap();
    init_binary();
    init_dice();
    init_slice();
    init_sliceDice();
    init_squarify();
    init_resquarify();
  }
});

// node_modules/dagre-d3/node_modules/d3-polygon/src/area.js
function area_default9(polygon) {
  var i = -1, n = polygon.length, a3, b = polygon[n - 1], area = 0;
  while (++i < n) {
    a3 = b;
    b = polygon[i];
    area += a3[1] * b[0] - a3[0] * b[1];
  }
  return area / 2;
}
var init_area4 = __esm({
  "node_modules/dagre-d3/node_modules/d3-polygon/src/area.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-polygon/src/centroid.js
function centroid_default6(polygon) {
  var i = -1, n = polygon.length, x7 = 0, y7 = 0, a3, b = polygon[n - 1], c7, k3 = 0;
  while (++i < n) {
    a3 = b;
    b = polygon[i];
    k3 += c7 = a3[0] * b[1] - b[0] * a3[1];
    x7 += (a3[0] + b[0]) * c7;
    y7 += (a3[1] + b[1]) * c7;
  }
  return k3 *= 3, [x7 / k3, y7 / k3];
}
var init_centroid3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-polygon/src/centroid.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-polygon/src/cross.js
function cross_default4(a3, b, c7) {
  return (b[0] - a3[0]) * (c7[1] - a3[1]) - (b[1] - a3[1]) * (c7[0] - a3[0]);
}
var init_cross2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-polygon/src/cross.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-polygon/src/hull.js
function lexicographicOrder(a3, b) {
  return a3[0] - b[0] || a3[1] - b[1];
}
function computeUpperHullIndexes(points) {
  var n = points.length, indexes5 = [0, 1], size = 2;
  for (var i = 2; i < n; ++i) {
    while (size > 1 && cross_default4(points[indexes5[size - 2]], points[indexes5[size - 1]], points[i]) <= 0)
      --size;
    indexes5[size++] = i;
  }
  return indexes5.slice(0, size);
}
function hull_default2(points) {
  if ((n = points.length) < 3)
    return null;
  var i, n, sortedPoints = new Array(n), flippedPoints = new Array(n);
  for (i = 0; i < n; ++i)
    sortedPoints[i] = [+points[i][0], +points[i][1], i];
  sortedPoints.sort(lexicographicOrder);
  for (i = 0; i < n; ++i)
    flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];
  var upperIndexes = computeUpperHullIndexes(sortedPoints), lowerIndexes = computeUpperHullIndexes(flippedPoints);
  var skipLeft = lowerIndexes[0] === upperIndexes[0], skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1], hull = [];
  for (i = upperIndexes.length - 1; i >= 0; --i)
    hull.push(points[sortedPoints[upperIndexes[i]][2]]);
  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i)
    hull.push(points[sortedPoints[lowerIndexes[i]][2]]);
  return hull;
}
var init_hull = __esm({
  "node_modules/dagre-d3/node_modules/d3-polygon/src/hull.js"() {
    init_cross2();
  }
});

// node_modules/dagre-d3/node_modules/d3-polygon/src/contains.js
function contains_default6(polygon, point12) {
  var n = polygon.length, p = polygon[n - 1], x7 = point12[0], y7 = point12[1], x07 = p[0], y06 = p[1], x13, y12, inside = false;
  for (var i = 0; i < n; ++i) {
    p = polygon[i], x13 = p[0], y12 = p[1];
    if (y12 > y7 !== y06 > y7 && x7 < (x07 - x13) * (y7 - y12) / (y06 - y12) + x13)
      inside = !inside;
    x07 = x13, y06 = y12;
  }
  return inside;
}
var init_contains3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-polygon/src/contains.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-polygon/src/length.js
function length_default4(polygon) {
  var i = -1, n = polygon.length, b = polygon[n - 1], xa, ya, xb = b[0], yb = b[1], perimeter = 0;
  while (++i < n) {
    xa = xb;
    ya = yb;
    b = polygon[i];
    xb = b[0];
    yb = b[1];
    xa -= xb;
    ya -= yb;
    perimeter += Math.sqrt(xa * xa + ya * ya);
  }
  return perimeter;
}
var init_length2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-polygon/src/length.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-polygon/src/index.js
var init_src23 = __esm({
  "node_modules/dagre-d3/node_modules/d3-polygon/src/index.js"() {
    init_area4();
    init_centroid3();
    init_hull();
    init_contains3();
    init_length2();
  }
});

// node_modules/dagre-d3/node_modules/d3-random/src/defaultSource.js
function defaultSource_default2() {
  return Math.random();
}
var init_defaultSource = __esm({
  "node_modules/dagre-d3/node_modules/d3-random/src/defaultSource.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-random/src/uniform.js
var uniform_default2;
var init_uniform = __esm({
  "node_modules/dagre-d3/node_modules/d3-random/src/uniform.js"() {
    init_defaultSource();
    uniform_default2 = function sourceRandomUniform2(source) {
      function randomUniform(min8, max10) {
        min8 = min8 == null ? 0 : +min8;
        max10 = max10 == null ? 1 : +max10;
        if (arguments.length === 1)
          max10 = min8, min8 = 0;
        else
          max10 -= min8;
        return function() {
          return source() * max10 + min8;
        };
      }
      randomUniform.source = sourceRandomUniform2;
      return randomUniform;
    }(defaultSource_default2);
  }
});

// node_modules/dagre-d3/node_modules/d3-random/src/normal.js
var normal_default2;
var init_normal = __esm({
  "node_modules/dagre-d3/node_modules/d3-random/src/normal.js"() {
    init_defaultSource();
    normal_default2 = function sourceRandomNormal2(source) {
      function randomNormal(mu, sigma) {
        var x7, r;
        mu = mu == null ? 0 : +mu;
        sigma = sigma == null ? 1 : +sigma;
        return function() {
          var y7;
          if (x7 != null)
            y7 = x7, x7 = null;
          else
            do {
              x7 = source() * 2 - 1;
              y7 = source() * 2 - 1;
              r = x7 * x7 + y7 * y7;
            } while (!r || r > 1);
          return mu + sigma * y7 * Math.sqrt(-2 * Math.log(r) / r);
        };
      }
      randomNormal.source = sourceRandomNormal2;
      return randomNormal;
    }(defaultSource_default2);
  }
});

// node_modules/dagre-d3/node_modules/d3-random/src/logNormal.js
var logNormal_default2;
var init_logNormal = __esm({
  "node_modules/dagre-d3/node_modules/d3-random/src/logNormal.js"() {
    init_defaultSource();
    init_normal();
    logNormal_default2 = function sourceRandomLogNormal2(source) {
      function randomLogNormal() {
        var randomNormal = normal_default2.source(source).apply(this, arguments);
        return function() {
          return Math.exp(randomNormal());
        };
      }
      randomLogNormal.source = sourceRandomLogNormal2;
      return randomLogNormal;
    }(defaultSource_default2);
  }
});

// node_modules/dagre-d3/node_modules/d3-random/src/irwinHall.js
var irwinHall_default2;
var init_irwinHall = __esm({
  "node_modules/dagre-d3/node_modules/d3-random/src/irwinHall.js"() {
    init_defaultSource();
    irwinHall_default2 = function sourceRandomIrwinHall2(source) {
      function randomIrwinHall(n) {
        return function() {
          for (var sum9 = 0, i = 0; i < n; ++i)
            sum9 += source();
          return sum9;
        };
      }
      randomIrwinHall.source = sourceRandomIrwinHall2;
      return randomIrwinHall;
    }(defaultSource_default2);
  }
});

// node_modules/dagre-d3/node_modules/d3-random/src/bates.js
var bates_default2;
var init_bates = __esm({
  "node_modules/dagre-d3/node_modules/d3-random/src/bates.js"() {
    init_defaultSource();
    init_irwinHall();
    bates_default2 = function sourceRandomBates2(source) {
      function randomBates(n) {
        var randomIrwinHall = irwinHall_default2.source(source)(n);
        return function() {
          return randomIrwinHall() / n;
        };
      }
      randomBates.source = sourceRandomBates2;
      return randomBates;
    }(defaultSource_default2);
  }
});

// node_modules/dagre-d3/node_modules/d3-random/src/exponential.js
var exponential_default2;
var init_exponential = __esm({
  "node_modules/dagre-d3/node_modules/d3-random/src/exponential.js"() {
    init_defaultSource();
    exponential_default2 = function sourceRandomExponential2(source) {
      function randomExponential(lambda) {
        return function() {
          return -Math.log(1 - source()) / lambda;
        };
      }
      randomExponential.source = sourceRandomExponential2;
      return randomExponential;
    }(defaultSource_default2);
  }
});

// node_modules/dagre-d3/node_modules/d3-random/src/index.js
var init_src24 = __esm({
  "node_modules/dagre-d3/node_modules/d3-random/src/index.js"() {
    init_uniform();
    init_normal();
    init_logNormal();
    init_bates();
    init_irwinHall();
    init_exponential();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/init.js
function initRange2(domain, range6) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(domain);
      break;
    default:
      this.range(range6).domain(domain);
      break;
  }
  return this;
}
function initInterpolator2(domain, interpolator) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.interpolator(domain);
      break;
    default:
      this.interpolator(interpolator).domain(domain);
      break;
  }
  return this;
}
var init_init = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/init.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/array.js
var array11, map14, slice14;
var init_array7 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/array.js"() {
    array11 = Array.prototype;
    map14 = array11.map;
    slice14 = array11.slice;
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/ordinal.js
function ordinal2() {
  var index6 = map_default(), domain = [], range6 = [], unknown = implicit2;
  function scale2(d) {
    var key = d + "", i = index6.get(key);
    if (!i) {
      if (unknown !== implicit2)
        return unknown;
      index6.set(key, i = domain.push(d));
    }
    return range6[(i - 1) % range6.length];
  }
  scale2.domain = function(_2) {
    if (!arguments.length)
      return domain.slice();
    domain = [], index6 = map_default();
    var i = -1, n = _2.length, d, key;
    while (++i < n)
      if (!index6.has(key = (d = _2[i]) + ""))
        index6.set(key, domain.push(d));
    return scale2;
  };
  scale2.range = function(_2) {
    return arguments.length ? (range6 = slice14.call(_2), scale2) : range6.slice();
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.copy = function() {
    return ordinal2(domain, range6).unknown(unknown);
  };
  initRange2.apply(scale2, arguments);
  return scale2;
}
var implicit2;
var init_ordinal = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/ordinal.js"() {
    init_src14();
    init_array7();
    init_init();
    implicit2 = { name: "implicit" };
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/band.js
function band2() {
  var scale2 = ordinal2().unknown(void 0), domain = scale2.domain, ordinalRange = scale2.range, range6 = [0, 1], step, bandwidth, round = false, paddingInner = 0, paddingOuter = 0, align = 0.5;
  delete scale2.unknown;
  function rescale() {
    var n = domain().length, reverse5 = range6[1] < range6[0], start6 = range6[reverse5 - 0], stop = range6[1 - reverse5];
    step = (stop - start6) / Math.max(1, n - paddingInner + paddingOuter * 2);
    if (round)
      step = Math.floor(step);
    start6 += (stop - start6 - step * (n - paddingInner)) * align;
    bandwidth = step * (1 - paddingInner);
    if (round)
      start6 = Math.round(start6), bandwidth = Math.round(bandwidth);
    var values = range_default(n).map(function(i) {
      return start6 + step * i;
    });
    return ordinalRange(reverse5 ? values.reverse() : values);
  }
  scale2.domain = function(_2) {
    return arguments.length ? (domain(_2), rescale()) : domain();
  };
  scale2.range = function(_2) {
    return arguments.length ? (range6 = [+_2[0], +_2[1]], rescale()) : range6.slice();
  };
  scale2.rangeRound = function(_2) {
    return range6 = [+_2[0], +_2[1]], round = true, rescale();
  };
  scale2.bandwidth = function() {
    return bandwidth;
  };
  scale2.step = function() {
    return step;
  };
  scale2.round = function(_2) {
    return arguments.length ? (round = !!_2, rescale()) : round;
  };
  scale2.padding = function(_2) {
    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_2), rescale()) : paddingInner;
  };
  scale2.paddingInner = function(_2) {
    return arguments.length ? (paddingInner = Math.min(1, _2), rescale()) : paddingInner;
  };
  scale2.paddingOuter = function(_2) {
    return arguments.length ? (paddingOuter = +_2, rescale()) : paddingOuter;
  };
  scale2.align = function(_2) {
    return arguments.length ? (align = Math.max(0, Math.min(1, _2)), rescale()) : align;
  };
  scale2.copy = function() {
    return band2(domain(), range6).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);
  };
  return initRange2.apply(rescale(), arguments);
}
function pointish(scale2) {
  var copy7 = scale2.copy;
  scale2.padding = scale2.paddingOuter;
  delete scale2.paddingInner;
  delete scale2.paddingOuter;
  scale2.copy = function() {
    return pointish(copy7());
  };
  return scale2;
}
function point6() {
  return pointish(band2.apply(null, arguments).paddingInner(1));
}
var init_band = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/band.js"() {
    init_src();
    init_init();
    init_ordinal();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/constant.js
function constant_default30(x7) {
  return function() {
    return x7;
  };
}
var init_constant11 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/constant.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/number.js
function number_default8(x7) {
  return +x7;
}
var init_number3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/number.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/continuous.js
function identity14(x7) {
  return x7;
}
function normalize2(a3, b) {
  return (b -= a3 = +a3) ? function(x7) {
    return (x7 - a3) / b;
  } : constant_default30(isNaN(b) ? NaN : 0.5);
}
function clamper2(domain) {
  var a3 = domain[0], b = domain[domain.length - 1], t;
  if (a3 > b)
    t = a3, a3 = b, b = t;
  return function(x7) {
    return Math.max(a3, Math.min(b, x7));
  };
}
function bimap2(domain, range6, interpolate) {
  var d0 = domain[0], d1 = domain[1], r0 = range6[0], r1 = range6[1];
  if (d1 < d0)
    d0 = normalize2(d1, d0), r0 = interpolate(r1, r0);
  else
    d0 = normalize2(d0, d1), r0 = interpolate(r0, r1);
  return function(x7) {
    return r0(d0(x7));
  };
}
function polymap2(domain, range6, interpolate) {
  var j = Math.min(domain.length, range6.length) - 1, d = new Array(j), r = new Array(j), i = -1;
  if (domain[j] < domain[0]) {
    domain = domain.slice().reverse();
    range6 = range6.slice().reverse();
  }
  while (++i < j) {
    d[i] = normalize2(domain[i], domain[i + 1]);
    r[i] = interpolate(range6[i], range6[i + 1]);
  }
  return function(x7) {
    var i2 = bisect_default5(domain, x7, 1, j) - 1;
    return r[i2](d[i2](x7));
  };
}
function copy4(source, target) {
  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());
}
function transformer4() {
  var domain = unit2, range6 = unit2, interpolate = value_default6, transform3, untransform, unknown, clamp = identity14, piecewise7, output, input;
  function rescale() {
    piecewise7 = Math.min(domain.length, range6.length) > 2 ? polymap2 : bimap2;
    output = input = null;
    return scale2;
  }
  function scale2(x7) {
    return isNaN(x7 = +x7) ? unknown : (output || (output = piecewise7(domain.map(transform3), range6, interpolate)))(transform3(clamp(x7)));
  }
  scale2.invert = function(y7) {
    return clamp(untransform((input || (input = piecewise7(range6, domain.map(transform3), number_default7)))(y7)));
  };
  scale2.domain = function(_2) {
    return arguments.length ? (domain = map14.call(_2, number_default8), clamp === identity14 || (clamp = clamper2(domain)), rescale()) : domain.slice();
  };
  scale2.range = function(_2) {
    return arguments.length ? (range6 = slice14.call(_2), rescale()) : range6.slice();
  };
  scale2.rangeRound = function(_2) {
    return range6 = slice14.call(_2), interpolate = round_default7, rescale();
  };
  scale2.clamp = function(_2) {
    return arguments.length ? (clamp = _2 ? clamper2(domain) : identity14, scale2) : clamp !== identity14;
  };
  scale2.interpolate = function(_2) {
    return arguments.length ? (interpolate = _2, rescale()) : interpolate;
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  return function(t, u4) {
    transform3 = t, untransform = u4;
    return rescale();
  };
}
function continuous2(transform3, untransform) {
  return transformer4()(transform3, untransform);
}
var unit2;
var init_continuous = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/continuous.js"() {
    init_src();
    init_src7();
    init_array7();
    init_constant11();
    init_number3();
    unit2 = [0, 1];
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/tickFormat.js
function tickFormat_default(start6, stop, count7, specifier) {
  var step = tickStep5(start6, stop, count7), precision;
  specifier = formatSpecifier3(specifier == null ? ",f" : specifier);
  switch (specifier.type) {
    case "s": {
      var value = Math.max(Math.abs(start6), Math.abs(stop));
      if (specifier.precision == null && !isNaN(precision = precisionPrefix_default3(step, value)))
        specifier.precision = precision;
      return formatPrefix3(specifier, value);
    }
    case "":
    case "e":
    case "g":
    case "p":
    case "r": {
      if (specifier.precision == null && !isNaN(precision = precisionRound_default3(step, Math.max(Math.abs(start6), Math.abs(stop)))))
        specifier.precision = precision - (specifier.type === "e");
      break;
    }
    case "f":
    case "%": {
      if (specifier.precision == null && !isNaN(precision = precisionFixed_default3(step)))
        specifier.precision = precision - (specifier.type === "%") * 2;
      break;
    }
  }
  return format3(specifier);
}
var init_tickFormat = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/tickFormat.js"() {
    init_src();
    init_src20();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/linear.js
function linearish2(scale2) {
  var domain = scale2.domain;
  scale2.ticks = function(count7) {
    var d = domain();
    return ticks_default(d[0], d[d.length - 1], count7 == null ? 10 : count7);
  };
  scale2.tickFormat = function(count7, specifier) {
    var d = domain();
    return tickFormat_default(d[0], d[d.length - 1], count7 == null ? 10 : count7, specifier);
  };
  scale2.nice = function(count7) {
    if (count7 == null)
      count7 = 10;
    var d = domain(), i0 = 0, i1 = d.length - 1, start6 = d[i0], stop = d[i1], step;
    if (stop < start6) {
      step = start6, start6 = stop, stop = step;
      step = i0, i0 = i1, i1 = step;
    }
    step = tickIncrement5(start6, stop, count7);
    if (step > 0) {
      start6 = Math.floor(start6 / step) * step;
      stop = Math.ceil(stop / step) * step;
      step = tickIncrement5(start6, stop, count7);
    } else if (step < 0) {
      start6 = Math.ceil(start6 * step) / step;
      stop = Math.floor(stop * step) / step;
      step = tickIncrement5(start6, stop, count7);
    }
    if (step > 0) {
      d[i0] = Math.floor(start6 / step) * step;
      d[i1] = Math.ceil(stop / step) * step;
      domain(d);
    } else if (step < 0) {
      d[i0] = Math.ceil(start6 * step) / step;
      d[i1] = Math.floor(stop * step) / step;
      domain(d);
    }
    return scale2;
  };
  return scale2;
}
function linear12() {
  var scale2 = continuous2(identity14, identity14);
  scale2.copy = function() {
    return copy4(scale2, linear12());
  };
  initRange2.apply(scale2, arguments);
  return linearish2(scale2);
}
var init_linear2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/linear.js"() {
    init_src();
    init_continuous();
    init_init();
    init_tickFormat();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/identity.js
function identity15(domain) {
  var unknown;
  function scale2(x7) {
    return isNaN(x7 = +x7) ? unknown : x7;
  }
  scale2.invert = scale2;
  scale2.domain = scale2.range = function(_2) {
    return arguments.length ? (domain = map14.call(_2, number_default8), scale2) : domain.slice();
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.copy = function() {
    return identity15(domain).unknown(unknown);
  };
  domain = arguments.length ? map14.call(domain, number_default8) : [0, 1];
  return linearish2(scale2);
}
var init_identity6 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/identity.js"() {
    init_array7();
    init_linear2();
    init_number3();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/nice.js
function nice_default(domain, interval6) {
  domain = domain.slice();
  var i0 = 0, i1 = domain.length - 1, x07 = domain[i0], x13 = domain[i1], t;
  if (x13 < x07) {
    t = i0, i0 = i1, i1 = t;
    t = x07, x07 = x13, x13 = t;
  }
  domain[i0] = interval6.floor(x07);
  domain[i1] = interval6.ceil(x13);
  return domain;
}
var init_nice = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/nice.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/log.js
function transformLog(x7) {
  return Math.log(x7);
}
function transformExp(x7) {
  return Math.exp(x7);
}
function transformLogn(x7) {
  return -Math.log(-x7);
}
function transformExpn(x7) {
  return -Math.exp(-x7);
}
function pow10(x7) {
  return isFinite(x7) ? +("1e" + x7) : x7 < 0 ? 0 : x7;
}
function powp(base) {
  return base === 10 ? pow10 : base === Math.E ? Math.exp : function(x7) {
    return Math.pow(base, x7);
  };
}
function logp(base) {
  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function(x7) {
    return Math.log(x7) / base;
  });
}
function reflect(f2) {
  return function(x7) {
    return -f2(-x7);
  };
}
function loggish2(transform3) {
  var scale2 = transform3(transformLog, transformExp), domain = scale2.domain, base = 10, logs, pows;
  function rescale() {
    logs = logp(base), pows = powp(base);
    if (domain()[0] < 0) {
      logs = reflect(logs), pows = reflect(pows);
      transform3(transformLogn, transformExpn);
    } else {
      transform3(transformLog, transformExp);
    }
    return scale2;
  }
  scale2.base = function(_2) {
    return arguments.length ? (base = +_2, rescale()) : base;
  };
  scale2.domain = function(_2) {
    return arguments.length ? (domain(_2), rescale()) : domain();
  };
  scale2.ticks = function(count7) {
    var d = domain(), u4 = d[0], v2 = d[d.length - 1], r;
    if (r = v2 < u4)
      i = u4, u4 = v2, v2 = i;
    var i = logs(u4), j = logs(v2), p, k3, t, n = count7 == null ? 10 : +count7, z = [];
    if (!(base % 1) && j - i < n) {
      i = Math.round(i) - 1, j = Math.round(j) + 1;
      if (u4 > 0)
        for (; i < j; ++i) {
          for (k3 = 1, p = pows(i); k3 < base; ++k3) {
            t = p * k3;
            if (t < u4)
              continue;
            if (t > v2)
              break;
            z.push(t);
          }
        }
      else
        for (; i < j; ++i) {
          for (k3 = base - 1, p = pows(i); k3 >= 1; --k3) {
            t = p * k3;
            if (t < u4)
              continue;
            if (t > v2)
              break;
            z.push(t);
          }
        }
    } else {
      z = ticks_default(i, j, Math.min(j - i, n)).map(pows);
    }
    return r ? z.reverse() : z;
  };
  scale2.tickFormat = function(count7, specifier) {
    if (specifier == null)
      specifier = base === 10 ? ".0e" : ",";
    if (typeof specifier !== "function")
      specifier = format3(specifier);
    if (count7 === Infinity)
      return specifier;
    if (count7 == null)
      count7 = 10;
    var k3 = Math.max(1, base * count7 / scale2.ticks().length);
    return function(d) {
      var i = d / pows(Math.round(logs(d)));
      if (i * base < base - 0.5)
        i *= base;
      return i <= k3 ? specifier(d) : "";
    };
  };
  scale2.nice = function() {
    return domain(nice_default(domain(), {
      floor: function(x7) {
        return pows(Math.floor(logs(x7)));
      },
      ceil: function(x7) {
        return pows(Math.ceil(logs(x7)));
      }
    }));
  };
  return scale2;
}
function log4() {
  var scale2 = loggish2(transformer4()).domain([1, 10]);
  scale2.copy = function() {
    return copy4(scale2, log4()).base(scale2.base());
  };
  initRange2.apply(scale2, arguments);
  return scale2;
}
var init_log = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/log.js"() {
    init_src();
    init_src20();
    init_nice();
    init_continuous();
    init_init();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/symlog.js
function transformSymlog(c7) {
  return function(x7) {
    return Math.sign(x7) * Math.log1p(Math.abs(x7 / c7));
  };
}
function transformSymexp(c7) {
  return function(x7) {
    return Math.sign(x7) * Math.expm1(Math.abs(x7)) * c7;
  };
}
function symlogish2(transform3) {
  var c7 = 1, scale2 = transform3(transformSymlog(c7), transformSymexp(c7));
  scale2.constant = function(_2) {
    return arguments.length ? transform3(transformSymlog(c7 = +_2), transformSymexp(c7)) : c7;
  };
  return linearish2(scale2);
}
function symlog2() {
  var scale2 = symlogish2(transformer4());
  scale2.copy = function() {
    return copy4(scale2, symlog2()).constant(scale2.constant());
  };
  return initRange2.apply(scale2, arguments);
}
var init_symlog = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/symlog.js"() {
    init_linear2();
    init_continuous();
    init_init();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/pow.js
function transformPow(exponent5) {
  return function(x7) {
    return x7 < 0 ? -Math.pow(-x7, exponent5) : Math.pow(x7, exponent5);
  };
}
function transformSqrt(x7) {
  return x7 < 0 ? -Math.sqrt(-x7) : Math.sqrt(x7);
}
function transformSquare(x7) {
  return x7 < 0 ? -x7 * x7 : x7 * x7;
}
function powish2(transform3) {
  var scale2 = transform3(identity14, identity14), exponent5 = 1;
  function rescale() {
    return exponent5 === 1 ? transform3(identity14, identity14) : exponent5 === 0.5 ? transform3(transformSqrt, transformSquare) : transform3(transformPow(exponent5), transformPow(1 / exponent5));
  }
  scale2.exponent = function(_2) {
    return arguments.length ? (exponent5 = +_2, rescale()) : exponent5;
  };
  return linearish2(scale2);
}
function pow4() {
  var scale2 = powish2(transformer4());
  scale2.copy = function() {
    return copy4(scale2, pow4()).exponent(scale2.exponent());
  };
  initRange2.apply(scale2, arguments);
  return scale2;
}
function sqrt5() {
  return pow4.apply(null, arguments).exponent(0.5);
}
var init_pow = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/pow.js"() {
    init_linear2();
    init_continuous();
    init_init();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/quantile.js
function quantile6() {
  var domain = [], range6 = [], thresholds = [], unknown;
  function rescale() {
    var i = 0, n = Math.max(1, range6.length);
    thresholds = new Array(n - 1);
    while (++i < n)
      thresholds[i - 1] = quantile_default(domain, i / n);
    return scale2;
  }
  function scale2(x7) {
    return isNaN(x7 = +x7) ? unknown : range6[bisect_default5(thresholds, x7)];
  }
  scale2.invertExtent = function(y7) {
    var i = range6.indexOf(y7);
    return i < 0 ? [NaN, NaN] : [
      i > 0 ? thresholds[i - 1] : domain[0],
      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]
    ];
  };
  scale2.domain = function(_2) {
    if (!arguments.length)
      return domain.slice();
    domain = [];
    for (var i = 0, n = _2.length, d; i < n; ++i)
      if (d = _2[i], d != null && !isNaN(d = +d))
        domain.push(d);
    domain.sort(ascending_default3);
    return rescale();
  };
  scale2.range = function(_2) {
    return arguments.length ? (range6 = slice14.call(_2), rescale()) : range6.slice();
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.quantiles = function() {
    return thresholds.slice();
  };
  scale2.copy = function() {
    return quantile6().domain(domain).range(range6).unknown(unknown);
  };
  return initRange2.apply(scale2, arguments);
}
var init_quantile2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/quantile.js"() {
    init_src();
    init_array7();
    init_init();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/quantize.js
function quantize2() {
  var x07 = 0, x13 = 1, n = 1, domain = [0.5], range6 = [0, 1], unknown;
  function scale2(x7) {
    return x7 <= x7 ? range6[bisect_default5(domain, x7, 0, n)] : unknown;
  }
  function rescale() {
    var i = -1;
    domain = new Array(n);
    while (++i < n)
      domain[i] = ((i + 1) * x13 - (i - n) * x07) / (n + 1);
    return scale2;
  }
  scale2.domain = function(_2) {
    return arguments.length ? (x07 = +_2[0], x13 = +_2[1], rescale()) : [x07, x13];
  };
  scale2.range = function(_2) {
    return arguments.length ? (n = (range6 = slice14.call(_2)).length - 1, rescale()) : range6.slice();
  };
  scale2.invertExtent = function(y7) {
    var i = range6.indexOf(y7);
    return i < 0 ? [NaN, NaN] : i < 1 ? [x07, domain[0]] : i >= n ? [domain[n - 1], x13] : [domain[i - 1], domain[i]];
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : scale2;
  };
  scale2.thresholds = function() {
    return domain.slice();
  };
  scale2.copy = function() {
    return quantize2().domain([x07, x13]).range(range6).unknown(unknown);
  };
  return initRange2.apply(linearish2(scale2), arguments);
}
var init_quantize2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/quantize.js"() {
    init_src();
    init_array7();
    init_linear2();
    init_init();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/threshold.js
function threshold2() {
  var domain = [0.5], range6 = [0, 1], unknown, n = 1;
  function scale2(x7) {
    return x7 <= x7 ? range6[bisect_default5(domain, x7, 0, n)] : unknown;
  }
  scale2.domain = function(_2) {
    return arguments.length ? (domain = slice14.call(_2), n = Math.min(domain.length, range6.length - 1), scale2) : domain.slice();
  };
  scale2.range = function(_2) {
    return arguments.length ? (range6 = slice14.call(_2), n = Math.min(domain.length, range6.length - 1), scale2) : range6.slice();
  };
  scale2.invertExtent = function(y7) {
    var i = range6.indexOf(y7);
    return [domain[i - 1], domain[i]];
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.copy = function() {
    return threshold2().domain(domain).range(range6).unknown(unknown);
  };
  return initRange2.apply(scale2, arguments);
}
var init_threshold = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/threshold.js"() {
    init_src();
    init_array7();
    init_init();
  }
});

// node_modules/d3-time/src/interval.js
function newInterval3(floori, offseti, count7, field) {
  function interval6(date3) {
    return floori(date3 = arguments.length === 0 ? new Date() : new Date(+date3)), date3;
  }
  interval6.floor = function(date3) {
    return floori(date3 = new Date(+date3)), date3;
  };
  interval6.ceil = function(date3) {
    return floori(date3 = new Date(date3 - 1)), offseti(date3, 1), floori(date3), date3;
  };
  interval6.round = function(date3) {
    var d0 = interval6(date3), d1 = interval6.ceil(date3);
    return date3 - d0 < d1 - date3 ? d0 : d1;
  };
  interval6.offset = function(date3, step) {
    return offseti(date3 = new Date(+date3), step == null ? 1 : Math.floor(step)), date3;
  };
  interval6.range = function(start6, stop, step) {
    var range6 = [], previous;
    start6 = interval6.ceil(start6);
    step = step == null ? 1 : Math.floor(step);
    if (!(start6 < stop) || !(step > 0))
      return range6;
    do
      range6.push(previous = new Date(+start6)), offseti(start6, step), floori(start6);
    while (previous < start6 && start6 < stop);
    return range6;
  };
  interval6.filter = function(test) {
    return newInterval3(function(date3) {
      if (date3 >= date3)
        while (floori(date3), !test(date3))
          date3.setTime(date3 - 1);
    }, function(date3, step) {
      if (date3 >= date3) {
        if (step < 0)
          while (++step <= 0) {
            while (offseti(date3, -1), !test(date3)) {
            }
          }
        else
          while (--step >= 0) {
            while (offseti(date3, 1), !test(date3)) {
            }
          }
      }
    });
  };
  if (count7) {
    interval6.count = function(start6, end2) {
      t09.setTime(+start6), t19.setTime(+end2);
      floori(t09), floori(t19);
      return Math.floor(count7(t09, t19));
    };
    interval6.every = function(step) {
      step = Math.floor(step);
      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval6 : interval6.filter(field ? function(d) {
        return field(d) % step === 0;
      } : function(d) {
        return interval6.count(0, d) % step === 0;
      });
    };
  }
  return interval6;
}
var t09, t19;
var init_interval2 = __esm({
  "node_modules/d3-time/src/interval.js"() {
    t09 = new Date();
    t19 = new Date();
  }
});

// node_modules/d3-time/src/millisecond.js
var millisecond3, millisecond_default3, milliseconds3;
var init_millisecond = __esm({
  "node_modules/d3-time/src/millisecond.js"() {
    init_interval2();
    millisecond3 = newInterval3(function() {
    }, function(date3, step) {
      date3.setTime(+date3 + step);
    }, function(start6, end2) {
      return end2 - start6;
    });
    millisecond3.every = function(k3) {
      k3 = Math.floor(k3);
      if (!isFinite(k3) || !(k3 > 0))
        return null;
      if (!(k3 > 1))
        return millisecond3;
      return newInterval3(function(date3) {
        date3.setTime(Math.floor(date3 / k3) * k3);
      }, function(date3, step) {
        date3.setTime(+date3 + step * k3);
      }, function(start6, end2) {
        return (end2 - start6) / k3;
      });
    };
    millisecond_default3 = millisecond3;
    milliseconds3 = millisecond3.range;
  }
});

// node_modules/d3-time/src/duration.js
var durationSecond3, durationMinute3, durationHour3, durationDay3, durationWeek3;
var init_duration2 = __esm({
  "node_modules/d3-time/src/duration.js"() {
    durationSecond3 = 1e3;
    durationMinute3 = 6e4;
    durationHour3 = 36e5;
    durationDay3 = 864e5;
    durationWeek3 = 6048e5;
  }
});

// node_modules/d3-time/src/second.js
var second3, second_default3, seconds3;
var init_second = __esm({
  "node_modules/d3-time/src/second.js"() {
    init_interval2();
    init_duration2();
    second3 = newInterval3(function(date3) {
      date3.setTime(date3 - date3.getMilliseconds());
    }, function(date3, step) {
      date3.setTime(+date3 + step * durationSecond3);
    }, function(start6, end2) {
      return (end2 - start6) / durationSecond3;
    }, function(date3) {
      return date3.getUTCSeconds();
    });
    second_default3 = second3;
    seconds3 = second3.range;
  }
});

// node_modules/d3-time/src/minute.js
var minute3, minute_default3, minutes3;
var init_minute = __esm({
  "node_modules/d3-time/src/minute.js"() {
    init_interval2();
    init_duration2();
    minute3 = newInterval3(function(date3) {
      date3.setTime(date3 - date3.getMilliseconds() - date3.getSeconds() * durationSecond3);
    }, function(date3, step) {
      date3.setTime(+date3 + step * durationMinute3);
    }, function(start6, end2) {
      return (end2 - start6) / durationMinute3;
    }, function(date3) {
      return date3.getMinutes();
    });
    minute_default3 = minute3;
    minutes3 = minute3.range;
  }
});

// node_modules/d3-time/src/hour.js
var hour3, hour_default3, hours3;
var init_hour = __esm({
  "node_modules/d3-time/src/hour.js"() {
    init_interval2();
    init_duration2();
    hour3 = newInterval3(function(date3) {
      date3.setTime(date3 - date3.getMilliseconds() - date3.getSeconds() * durationSecond3 - date3.getMinutes() * durationMinute3);
    }, function(date3, step) {
      date3.setTime(+date3 + step * durationHour3);
    }, function(start6, end2) {
      return (end2 - start6) / durationHour3;
    }, function(date3) {
      return date3.getHours();
    });
    hour_default3 = hour3;
    hours3 = hour3.range;
  }
});

// node_modules/d3-time/src/day.js
var day3, day_default3, days3;
var init_day = __esm({
  "node_modules/d3-time/src/day.js"() {
    init_interval2();
    init_duration2();
    day3 = newInterval3(function(date3) {
      date3.setHours(0, 0, 0, 0);
    }, function(date3, step) {
      date3.setDate(date3.getDate() + step);
    }, function(start6, end2) {
      return (end2 - start6 - (end2.getTimezoneOffset() - start6.getTimezoneOffset()) * durationMinute3) / durationDay3;
    }, function(date3) {
      return date3.getDate() - 1;
    });
    day_default3 = day3;
    days3 = day3.range;
  }
});

// node_modules/d3-time/src/week.js
function weekday3(i) {
  return newInterval3(function(date3) {
    date3.setDate(date3.getDate() - (date3.getDay() + 7 - i) % 7);
    date3.setHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setDate(date3.getDate() + step * 7);
  }, function(start6, end2) {
    return (end2 - start6 - (end2.getTimezoneOffset() - start6.getTimezoneOffset()) * durationMinute3) / durationWeek3;
  });
}
var sunday3, monday3, tuesday3, wednesday3, thursday3, friday3, saturday3, sundays3, mondays3, tuesdays3, wednesdays3, thursdays3, fridays3, saturdays3;
var init_week = __esm({
  "node_modules/d3-time/src/week.js"() {
    init_interval2();
    init_duration2();
    sunday3 = weekday3(0);
    monday3 = weekday3(1);
    tuesday3 = weekday3(2);
    wednesday3 = weekday3(3);
    thursday3 = weekday3(4);
    friday3 = weekday3(5);
    saturday3 = weekday3(6);
    sundays3 = sunday3.range;
    mondays3 = monday3.range;
    tuesdays3 = tuesday3.range;
    wednesdays3 = wednesday3.range;
    thursdays3 = thursday3.range;
    fridays3 = friday3.range;
    saturdays3 = saturday3.range;
  }
});

// node_modules/d3-time/src/month.js
var month3, month_default3, months3;
var init_month = __esm({
  "node_modules/d3-time/src/month.js"() {
    init_interval2();
    month3 = newInterval3(function(date3) {
      date3.setDate(1);
      date3.setHours(0, 0, 0, 0);
    }, function(date3, step) {
      date3.setMonth(date3.getMonth() + step);
    }, function(start6, end2) {
      return end2.getMonth() - start6.getMonth() + (end2.getFullYear() - start6.getFullYear()) * 12;
    }, function(date3) {
      return date3.getMonth();
    });
    month_default3 = month3;
    months3 = month3.range;
  }
});

// node_modules/d3-time/src/year.js
var year3, year_default3, years3;
var init_year = __esm({
  "node_modules/d3-time/src/year.js"() {
    init_interval2();
    year3 = newInterval3(function(date3) {
      date3.setMonth(0, 1);
      date3.setHours(0, 0, 0, 0);
    }, function(date3, step) {
      date3.setFullYear(date3.getFullYear() + step);
    }, function(start6, end2) {
      return end2.getFullYear() - start6.getFullYear();
    }, function(date3) {
      return date3.getFullYear();
    });
    year3.every = function(k3) {
      return !isFinite(k3 = Math.floor(k3)) || !(k3 > 0) ? null : newInterval3(function(date3) {
        date3.setFullYear(Math.floor(date3.getFullYear() / k3) * k3);
        date3.setMonth(0, 1);
        date3.setHours(0, 0, 0, 0);
      }, function(date3, step) {
        date3.setFullYear(date3.getFullYear() + step * k3);
      });
    };
    year_default3 = year3;
    years3 = year3.range;
  }
});

// node_modules/d3-time/src/utcMinute.js
var utcMinute3, utcMinute_default3, utcMinutes3;
var init_utcMinute = __esm({
  "node_modules/d3-time/src/utcMinute.js"() {
    init_interval2();
    init_duration2();
    utcMinute3 = newInterval3(function(date3) {
      date3.setUTCSeconds(0, 0);
    }, function(date3, step) {
      date3.setTime(+date3 + step * durationMinute3);
    }, function(start6, end2) {
      return (end2 - start6) / durationMinute3;
    }, function(date3) {
      return date3.getUTCMinutes();
    });
    utcMinute_default3 = utcMinute3;
    utcMinutes3 = utcMinute3.range;
  }
});

// node_modules/d3-time/src/utcHour.js
var utcHour3, utcHour_default3, utcHours3;
var init_utcHour = __esm({
  "node_modules/d3-time/src/utcHour.js"() {
    init_interval2();
    init_duration2();
    utcHour3 = newInterval3(function(date3) {
      date3.setUTCMinutes(0, 0, 0);
    }, function(date3, step) {
      date3.setTime(+date3 + step * durationHour3);
    }, function(start6, end2) {
      return (end2 - start6) / durationHour3;
    }, function(date3) {
      return date3.getUTCHours();
    });
    utcHour_default3 = utcHour3;
    utcHours3 = utcHour3.range;
  }
});

// node_modules/d3-time/src/utcDay.js
var utcDay3, utcDay_default3, utcDays3;
var init_utcDay = __esm({
  "node_modules/d3-time/src/utcDay.js"() {
    init_interval2();
    init_duration2();
    utcDay3 = newInterval3(function(date3) {
      date3.setUTCHours(0, 0, 0, 0);
    }, function(date3, step) {
      date3.setUTCDate(date3.getUTCDate() + step);
    }, function(start6, end2) {
      return (end2 - start6) / durationDay3;
    }, function(date3) {
      return date3.getUTCDate() - 1;
    });
    utcDay_default3 = utcDay3;
    utcDays3 = utcDay3.range;
  }
});

// node_modules/d3-time/src/utcWeek.js
function utcWeekday3(i) {
  return newInterval3(function(date3) {
    date3.setUTCDate(date3.getUTCDate() - (date3.getUTCDay() + 7 - i) % 7);
    date3.setUTCHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setUTCDate(date3.getUTCDate() + step * 7);
  }, function(start6, end2) {
    return (end2 - start6) / durationWeek3;
  });
}
var utcSunday3, utcMonday3, utcTuesday3, utcWednesday3, utcThursday3, utcFriday3, utcSaturday3, utcSundays3, utcMondays3, utcTuesdays3, utcWednesdays3, utcThursdays3, utcFridays3, utcSaturdays3;
var init_utcWeek = __esm({
  "node_modules/d3-time/src/utcWeek.js"() {
    init_interval2();
    init_duration2();
    utcSunday3 = utcWeekday3(0);
    utcMonday3 = utcWeekday3(1);
    utcTuesday3 = utcWeekday3(2);
    utcWednesday3 = utcWeekday3(3);
    utcThursday3 = utcWeekday3(4);
    utcFriday3 = utcWeekday3(5);
    utcSaturday3 = utcWeekday3(6);
    utcSundays3 = utcSunday3.range;
    utcMondays3 = utcMonday3.range;
    utcTuesdays3 = utcTuesday3.range;
    utcWednesdays3 = utcWednesday3.range;
    utcThursdays3 = utcThursday3.range;
    utcFridays3 = utcFriday3.range;
    utcSaturdays3 = utcSaturday3.range;
  }
});

// node_modules/d3-time/src/utcMonth.js
var utcMonth3, utcMonth_default3, utcMonths3;
var init_utcMonth = __esm({
  "node_modules/d3-time/src/utcMonth.js"() {
    init_interval2();
    utcMonth3 = newInterval3(function(date3) {
      date3.setUTCDate(1);
      date3.setUTCHours(0, 0, 0, 0);
    }, function(date3, step) {
      date3.setUTCMonth(date3.getUTCMonth() + step);
    }, function(start6, end2) {
      return end2.getUTCMonth() - start6.getUTCMonth() + (end2.getUTCFullYear() - start6.getUTCFullYear()) * 12;
    }, function(date3) {
      return date3.getUTCMonth();
    });
    utcMonth_default3 = utcMonth3;
    utcMonths3 = utcMonth3.range;
  }
});

// node_modules/d3-time/src/utcYear.js
var utcYear3, utcYear_default3, utcYears3;
var init_utcYear = __esm({
  "node_modules/d3-time/src/utcYear.js"() {
    init_interval2();
    utcYear3 = newInterval3(function(date3) {
      date3.setUTCMonth(0, 1);
      date3.setUTCHours(0, 0, 0, 0);
    }, function(date3, step) {
      date3.setUTCFullYear(date3.getUTCFullYear() + step);
    }, function(start6, end2) {
      return end2.getUTCFullYear() - start6.getUTCFullYear();
    }, function(date3) {
      return date3.getUTCFullYear();
    });
    utcYear3.every = function(k3) {
      return !isFinite(k3 = Math.floor(k3)) || !(k3 > 0) ? null : newInterval3(function(date3) {
        date3.setUTCFullYear(Math.floor(date3.getUTCFullYear() / k3) * k3);
        date3.setUTCMonth(0, 1);
        date3.setUTCHours(0, 0, 0, 0);
      }, function(date3, step) {
        date3.setUTCFullYear(date3.getUTCFullYear() + step * k3);
      });
    };
    utcYear_default3 = utcYear3;
    utcYears3 = utcYear3.range;
  }
});

// node_modules/d3-time/src/index.js
var init_src25 = __esm({
  "node_modules/d3-time/src/index.js"() {
    init_interval2();
    init_millisecond();
    init_second();
    init_minute();
    init_hour();
    init_day();
    init_week();
    init_month();
    init_year();
    init_utcMinute();
    init_utcHour();
    init_utcDay();
    init_utcWeek();
    init_utcMonth();
    init_utcYear();
  }
});

// node_modules/d3-time-format/src/locale.js
function localDate3(d) {
  if (0 <= d.y && d.y < 100) {
    var date3 = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);
    date3.setFullYear(d.y);
    return date3;
  }
  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);
}
function utcDate3(d) {
  if (0 <= d.y && d.y < 100) {
    var date3 = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));
    date3.setUTCFullYear(d.y);
    return date3;
  }
  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));
}
function newDate3(y7, m, d) {
  return { y: y7, m, d, H: 0, M: 0, S: 0, L: 0 };
}
function formatLocale3(locale7) {
  var locale_dateTime = locale7.dateTime, locale_date = locale7.date, locale_time = locale7.time, locale_periods = locale7.periods, locale_weekdays = locale7.days, locale_shortWeekdays = locale7.shortDays, locale_months = locale7.months, locale_shortMonths = locale7.shortMonths;
  var periodRe = formatRe3(locale_periods), periodLookup = formatLookup3(locale_periods), weekdayRe = formatRe3(locale_weekdays), weekdayLookup = formatLookup3(locale_weekdays), shortWeekdayRe = formatRe3(locale_shortWeekdays), shortWeekdayLookup = formatLookup3(locale_shortWeekdays), monthRe = formatRe3(locale_months), monthLookup = formatLookup3(locale_months), shortMonthRe = formatRe3(locale_shortMonths), shortMonthLookup = formatLookup3(locale_shortMonths);
  var formats = {
    "a": formatShortWeekday,
    "A": formatWeekday,
    "b": formatShortMonth,
    "B": formatMonth,
    "c": null,
    "d": formatDayOfMonth3,
    "e": formatDayOfMonth3,
    "f": formatMicroseconds3,
    "g": formatYearISO3,
    "G": formatFullYearISO3,
    "H": formatHour243,
    "I": formatHour123,
    "j": formatDayOfYear3,
    "L": formatMilliseconds3,
    "m": formatMonthNumber3,
    "M": formatMinutes3,
    "p": formatPeriod,
    "q": formatQuarter,
    "Q": formatUnixTimestamp3,
    "s": formatUnixTimestampSeconds3,
    "S": formatSeconds3,
    "u": formatWeekdayNumberMonday3,
    "U": formatWeekNumberSunday3,
    "V": formatWeekNumberISO3,
    "w": formatWeekdayNumberSunday3,
    "W": formatWeekNumberMonday3,
    "x": null,
    "X": null,
    "y": formatYear6,
    "Y": formatFullYear3,
    "Z": formatZone3,
    "%": formatLiteralPercent3
  };
  var utcFormats = {
    "a": formatUTCShortWeekday,
    "A": formatUTCWeekday,
    "b": formatUTCShortMonth,
    "B": formatUTCMonth,
    "c": null,
    "d": formatUTCDayOfMonth3,
    "e": formatUTCDayOfMonth3,
    "f": formatUTCMicroseconds3,
    "g": formatUTCYearISO3,
    "G": formatUTCFullYearISO3,
    "H": formatUTCHour243,
    "I": formatUTCHour123,
    "j": formatUTCDayOfYear3,
    "L": formatUTCMilliseconds3,
    "m": formatUTCMonthNumber3,
    "M": formatUTCMinutes3,
    "p": formatUTCPeriod,
    "q": formatUTCQuarter,
    "Q": formatUnixTimestamp3,
    "s": formatUnixTimestampSeconds3,
    "S": formatUTCSeconds3,
    "u": formatUTCWeekdayNumberMonday3,
    "U": formatUTCWeekNumberSunday3,
    "V": formatUTCWeekNumberISO3,
    "w": formatUTCWeekdayNumberSunday3,
    "W": formatUTCWeekNumberMonday3,
    "x": null,
    "X": null,
    "y": formatUTCYear3,
    "Y": formatUTCFullYear3,
    "Z": formatUTCZone3,
    "%": formatLiteralPercent3
  };
  var parses = {
    "a": parseShortWeekday,
    "A": parseWeekday,
    "b": parseShortMonth,
    "B": parseMonth,
    "c": parseLocaleDateTime,
    "d": parseDayOfMonth3,
    "e": parseDayOfMonth3,
    "f": parseMicroseconds3,
    "g": parseYear3,
    "G": parseFullYear3,
    "H": parseHour243,
    "I": parseHour243,
    "j": parseDayOfYear3,
    "L": parseMilliseconds3,
    "m": parseMonthNumber3,
    "M": parseMinutes3,
    "p": parsePeriod,
    "q": parseQuarter3,
    "Q": parseUnixTimestamp3,
    "s": parseUnixTimestampSeconds3,
    "S": parseSeconds3,
    "u": parseWeekdayNumberMonday3,
    "U": parseWeekNumberSunday3,
    "V": parseWeekNumberISO3,
    "w": parseWeekdayNumberSunday3,
    "W": parseWeekNumberMonday3,
    "x": parseLocaleDate,
    "X": parseLocaleTime,
    "y": parseYear3,
    "Y": parseFullYear3,
    "Z": parseZone3,
    "%": parseLiteralPercent3
  };
  formats.x = newFormat(locale_date, formats);
  formats.X = newFormat(locale_time, formats);
  formats.c = newFormat(locale_dateTime, formats);
  utcFormats.x = newFormat(locale_date, utcFormats);
  utcFormats.X = newFormat(locale_time, utcFormats);
  utcFormats.c = newFormat(locale_dateTime, utcFormats);
  function newFormat(specifier, formats2) {
    return function(date3) {
      var string = [], i = -1, j = 0, n = specifier.length, c7, pad7, format5;
      if (!(date3 instanceof Date))
        date3 = new Date(+date3);
      while (++i < n) {
        if (specifier.charCodeAt(i) === 37) {
          string.push(specifier.slice(j, i));
          if ((pad7 = pads3[c7 = specifier.charAt(++i)]) != null)
            c7 = specifier.charAt(++i);
          else
            pad7 = c7 === "e" ? " " : "0";
          if (format5 = formats2[c7])
            c7 = format5(date3, pad7);
          string.push(c7);
          j = i + 1;
        }
      }
      string.push(specifier.slice(j, i));
      return string.join("");
    };
  }
  function newParse(specifier, Z) {
    return function(string) {
      var d = newDate3(1900, void 0, 1), i = parseSpecifier(d, specifier, string += "", 0), week, day4;
      if (i != string.length)
        return null;
      if ("Q" in d)
        return new Date(d.Q);
      if ("s" in d)
        return new Date(d.s * 1e3 + ("L" in d ? d.L : 0));
      if (Z && !("Z" in d))
        d.Z = 0;
      if ("p" in d)
        d.H = d.H % 12 + d.p * 12;
      if (d.m === void 0)
        d.m = "q" in d ? d.q : 0;
      if ("V" in d) {
        if (d.V < 1 || d.V > 53)
          return null;
        if (!("w" in d))
          d.w = 1;
        if ("Z" in d) {
          week = utcDate3(newDate3(d.y, 0, 1)), day4 = week.getUTCDay();
          week = day4 > 4 || day4 === 0 ? utcMonday3.ceil(week) : utcMonday3(week);
          week = utcDay_default3.offset(week, (d.V - 1) * 7);
          d.y = week.getUTCFullYear();
          d.m = week.getUTCMonth();
          d.d = week.getUTCDate() + (d.w + 6) % 7;
        } else {
          week = localDate3(newDate3(d.y, 0, 1)), day4 = week.getDay();
          week = day4 > 4 || day4 === 0 ? monday3.ceil(week) : monday3(week);
          week = day_default3.offset(week, (d.V - 1) * 7);
          d.y = week.getFullYear();
          d.m = week.getMonth();
          d.d = week.getDate() + (d.w + 6) % 7;
        }
      } else if ("W" in d || "U" in d) {
        if (!("w" in d))
          d.w = "u" in d ? d.u % 7 : "W" in d ? 1 : 0;
        day4 = "Z" in d ? utcDate3(newDate3(d.y, 0, 1)).getUTCDay() : localDate3(newDate3(d.y, 0, 1)).getDay();
        d.m = 0;
        d.d = "W" in d ? (d.w + 6) % 7 + d.W * 7 - (day4 + 5) % 7 : d.w + d.U * 7 - (day4 + 6) % 7;
      }
      if ("Z" in d) {
        d.H += d.Z / 100 | 0;
        d.M += d.Z % 100;
        return utcDate3(d);
      }
      return localDate3(d);
    };
  }
  function parseSpecifier(d, specifier, string, j) {
    var i = 0, n = specifier.length, m = string.length, c7, parse4;
    while (i < n) {
      if (j >= m)
        return -1;
      c7 = specifier.charCodeAt(i++);
      if (c7 === 37) {
        c7 = specifier.charAt(i++);
        parse4 = parses[c7 in pads3 ? specifier.charAt(i++) : c7];
        if (!parse4 || (j = parse4(d, string, j)) < 0)
          return -1;
      } else if (c7 != string.charCodeAt(j++)) {
        return -1;
      }
    }
    return j;
  }
  function parsePeriod(d, string, i) {
    var n = periodRe.exec(string.slice(i));
    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseShortWeekday(d, string, i) {
    var n = shortWeekdayRe.exec(string.slice(i));
    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseWeekday(d, string, i) {
    var n = weekdayRe.exec(string.slice(i));
    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseShortMonth(d, string, i) {
    var n = shortMonthRe.exec(string.slice(i));
    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseMonth(d, string, i) {
    var n = monthRe.exec(string.slice(i));
    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseLocaleDateTime(d, string, i) {
    return parseSpecifier(d, locale_dateTime, string, i);
  }
  function parseLocaleDate(d, string, i) {
    return parseSpecifier(d, locale_date, string, i);
  }
  function parseLocaleTime(d, string, i) {
    return parseSpecifier(d, locale_time, string, i);
  }
  function formatShortWeekday(d) {
    return locale_shortWeekdays[d.getDay()];
  }
  function formatWeekday(d) {
    return locale_weekdays[d.getDay()];
  }
  function formatShortMonth(d) {
    return locale_shortMonths[d.getMonth()];
  }
  function formatMonth(d) {
    return locale_months[d.getMonth()];
  }
  function formatPeriod(d) {
    return locale_periods[+(d.getHours() >= 12)];
  }
  function formatQuarter(d) {
    return 1 + ~~(d.getMonth() / 3);
  }
  function formatUTCShortWeekday(d) {
    return locale_shortWeekdays[d.getUTCDay()];
  }
  function formatUTCWeekday(d) {
    return locale_weekdays[d.getUTCDay()];
  }
  function formatUTCShortMonth(d) {
    return locale_shortMonths[d.getUTCMonth()];
  }
  function formatUTCMonth(d) {
    return locale_months[d.getUTCMonth()];
  }
  function formatUTCPeriod(d) {
    return locale_periods[+(d.getUTCHours() >= 12)];
  }
  function formatUTCQuarter(d) {
    return 1 + ~~(d.getUTCMonth() / 3);
  }
  return {
    format: function(specifier) {
      var f2 = newFormat(specifier += "", formats);
      f2.toString = function() {
        return specifier;
      };
      return f2;
    },
    parse: function(specifier) {
      var p = newParse(specifier += "", false);
      p.toString = function() {
        return specifier;
      };
      return p;
    },
    utcFormat: function(specifier) {
      var f2 = newFormat(specifier += "", utcFormats);
      f2.toString = function() {
        return specifier;
      };
      return f2;
    },
    utcParse: function(specifier) {
      var p = newParse(specifier += "", true);
      p.toString = function() {
        return specifier;
      };
      return p;
    }
  };
}
function pad6(value, fill, width2) {
  var sign5 = value < 0 ? "-" : "", string = (sign5 ? -value : value) + "", length3 = string.length;
  return sign5 + (length3 < width2 ? new Array(width2 - length3 + 1).join(fill) + string : string);
}
function requote3(s3) {
  return s3.replace(requoteRe3, "\\$&");
}
function formatRe3(names) {
  return new RegExp("^(?:" + names.map(requote3).join("|") + ")", "i");
}
function formatLookup3(names) {
  var map15 = {}, i = -1, n = names.length;
  while (++i < n)
    map15[names[i].toLowerCase()] = i;
  return map15;
}
function parseWeekdayNumberSunday3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 1));
  return n ? (d.w = +n[0], i + n[0].length) : -1;
}
function parseWeekdayNumberMonday3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 1));
  return n ? (d.u = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberSunday3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 2));
  return n ? (d.U = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberISO3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 2));
  return n ? (d.V = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberMonday3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 2));
  return n ? (d.W = +n[0], i + n[0].length) : -1;
}
function parseFullYear3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 4));
  return n ? (d.y = +n[0], i + n[0].length) : -1;
}
function parseYear3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 2));
  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3), i + n[0].length) : -1;
}
function parseZone3(d, string, i) {
  var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i, i + 6));
  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || "00")), i + n[0].length) : -1;
}
function parseQuarter3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 1));
  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;
}
function parseMonthNumber3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 2));
  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;
}
function parseDayOfMonth3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 2));
  return n ? (d.d = +n[0], i + n[0].length) : -1;
}
function parseDayOfYear3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 3));
  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;
}
function parseHour243(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 2));
  return n ? (d.H = +n[0], i + n[0].length) : -1;
}
function parseMinutes3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 2));
  return n ? (d.M = +n[0], i + n[0].length) : -1;
}
function parseSeconds3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 2));
  return n ? (d.S = +n[0], i + n[0].length) : -1;
}
function parseMilliseconds3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 3));
  return n ? (d.L = +n[0], i + n[0].length) : -1;
}
function parseMicroseconds3(d, string, i) {
  var n = numberRe3.exec(string.slice(i, i + 6));
  return n ? (d.L = Math.floor(n[0] / 1e3), i + n[0].length) : -1;
}
function parseLiteralPercent3(d, string, i) {
  var n = percentRe3.exec(string.slice(i, i + 1));
  return n ? i + n[0].length : -1;
}
function parseUnixTimestamp3(d, string, i) {
  var n = numberRe3.exec(string.slice(i));
  return n ? (d.Q = +n[0], i + n[0].length) : -1;
}
function parseUnixTimestampSeconds3(d, string, i) {
  var n = numberRe3.exec(string.slice(i));
  return n ? (d.s = +n[0], i + n[0].length) : -1;
}
function formatDayOfMonth3(d, p) {
  return pad6(d.getDate(), p, 2);
}
function formatHour243(d, p) {
  return pad6(d.getHours(), p, 2);
}
function formatHour123(d, p) {
  return pad6(d.getHours() % 12 || 12, p, 2);
}
function formatDayOfYear3(d, p) {
  return pad6(1 + day_default3.count(year_default3(d), d), p, 3);
}
function formatMilliseconds3(d, p) {
  return pad6(d.getMilliseconds(), p, 3);
}
function formatMicroseconds3(d, p) {
  return formatMilliseconds3(d, p) + "000";
}
function formatMonthNumber3(d, p) {
  return pad6(d.getMonth() + 1, p, 2);
}
function formatMinutes3(d, p) {
  return pad6(d.getMinutes(), p, 2);
}
function formatSeconds3(d, p) {
  return pad6(d.getSeconds(), p, 2);
}
function formatWeekdayNumberMonday3(d) {
  var day4 = d.getDay();
  return day4 === 0 ? 7 : day4;
}
function formatWeekNumberSunday3(d, p) {
  return pad6(sunday3.count(year_default3(d) - 1, d), p, 2);
}
function dISO3(d) {
  var day4 = d.getDay();
  return day4 >= 4 || day4 === 0 ? thursday3(d) : thursday3.ceil(d);
}
function formatWeekNumberISO3(d, p) {
  d = dISO3(d);
  return pad6(thursday3.count(year_default3(d), d) + (year_default3(d).getDay() === 4), p, 2);
}
function formatWeekdayNumberSunday3(d) {
  return d.getDay();
}
function formatWeekNumberMonday3(d, p) {
  return pad6(monday3.count(year_default3(d) - 1, d), p, 2);
}
function formatYear6(d, p) {
  return pad6(d.getFullYear() % 100, p, 2);
}
function formatYearISO3(d, p) {
  d = dISO3(d);
  return pad6(d.getFullYear() % 100, p, 2);
}
function formatFullYear3(d, p) {
  return pad6(d.getFullYear() % 1e4, p, 4);
}
function formatFullYearISO3(d, p) {
  var day4 = d.getDay();
  d = day4 >= 4 || day4 === 0 ? thursday3(d) : thursday3.ceil(d);
  return pad6(d.getFullYear() % 1e4, p, 4);
}
function formatZone3(d) {
  var z = d.getTimezoneOffset();
  return (z > 0 ? "-" : (z *= -1, "+")) + pad6(z / 60 | 0, "0", 2) + pad6(z % 60, "0", 2);
}
function formatUTCDayOfMonth3(d, p) {
  return pad6(d.getUTCDate(), p, 2);
}
function formatUTCHour243(d, p) {
  return pad6(d.getUTCHours(), p, 2);
}
function formatUTCHour123(d, p) {
  return pad6(d.getUTCHours() % 12 || 12, p, 2);
}
function formatUTCDayOfYear3(d, p) {
  return pad6(1 + utcDay_default3.count(utcYear_default3(d), d), p, 3);
}
function formatUTCMilliseconds3(d, p) {
  return pad6(d.getUTCMilliseconds(), p, 3);
}
function formatUTCMicroseconds3(d, p) {
  return formatUTCMilliseconds3(d, p) + "000";
}
function formatUTCMonthNumber3(d, p) {
  return pad6(d.getUTCMonth() + 1, p, 2);
}
function formatUTCMinutes3(d, p) {
  return pad6(d.getUTCMinutes(), p, 2);
}
function formatUTCSeconds3(d, p) {
  return pad6(d.getUTCSeconds(), p, 2);
}
function formatUTCWeekdayNumberMonday3(d) {
  var dow = d.getUTCDay();
  return dow === 0 ? 7 : dow;
}
function formatUTCWeekNumberSunday3(d, p) {
  return pad6(utcSunday3.count(utcYear_default3(d) - 1, d), p, 2);
}
function UTCdISO3(d) {
  var day4 = d.getUTCDay();
  return day4 >= 4 || day4 === 0 ? utcThursday3(d) : utcThursday3.ceil(d);
}
function formatUTCWeekNumberISO3(d, p) {
  d = UTCdISO3(d);
  return pad6(utcThursday3.count(utcYear_default3(d), d) + (utcYear_default3(d).getUTCDay() === 4), p, 2);
}
function formatUTCWeekdayNumberSunday3(d) {
  return d.getUTCDay();
}
function formatUTCWeekNumberMonday3(d, p) {
  return pad6(utcMonday3.count(utcYear_default3(d) - 1, d), p, 2);
}
function formatUTCYear3(d, p) {
  return pad6(d.getUTCFullYear() % 100, p, 2);
}
function formatUTCYearISO3(d, p) {
  d = UTCdISO3(d);
  return pad6(d.getUTCFullYear() % 100, p, 2);
}
function formatUTCFullYear3(d, p) {
  return pad6(d.getUTCFullYear() % 1e4, p, 4);
}
function formatUTCFullYearISO3(d, p) {
  var day4 = d.getUTCDay();
  d = day4 >= 4 || day4 === 0 ? utcThursday3(d) : utcThursday3.ceil(d);
  return pad6(d.getUTCFullYear() % 1e4, p, 4);
}
function formatUTCZone3() {
  return "+0000";
}
function formatLiteralPercent3() {
  return "%";
}
function formatUnixTimestamp3(d) {
  return +d;
}
function formatUnixTimestampSeconds3(d) {
  return Math.floor(+d / 1e3);
}
var pads3, numberRe3, percentRe3, requoteRe3;
var init_locale2 = __esm({
  "node_modules/d3-time-format/src/locale.js"() {
    init_src25();
    pads3 = { "-": "", "_": " ", "0": "0" };
    numberRe3 = /^\s*\d+/;
    percentRe3 = /^%/;
    requoteRe3 = /[\\^$*+?|[\]().{}]/g;
  }
});

// node_modules/d3-time-format/src/defaultLocale.js
function defaultLocale6(definition) {
  locale6 = formatLocale3(definition);
  timeFormat3 = locale6.format;
  timeParse3 = locale6.parse;
  utcFormat3 = locale6.utcFormat;
  utcParse3 = locale6.utcParse;
  return locale6;
}
var locale6, timeFormat3, timeParse3, utcFormat3, utcParse3;
var init_defaultLocale2 = __esm({
  "node_modules/d3-time-format/src/defaultLocale.js"() {
    init_locale2();
    defaultLocale6({
      dateTime: "%x, %X",
      date: "%-m/%-d/%Y",
      time: "%-I:%M:%S %p",
      periods: ["AM", "PM"],
      days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
      shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
      months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
      shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
    });
  }
});

// node_modules/d3-time-format/src/isoFormat.js
function formatIsoNative3(date3) {
  return date3.toISOString();
}
var isoSpecifier3, formatIso3, isoFormat_default3;
var init_isoFormat = __esm({
  "node_modules/d3-time-format/src/isoFormat.js"() {
    init_defaultLocale2();
    isoSpecifier3 = "%Y-%m-%dT%H:%M:%S.%LZ";
    formatIso3 = Date.prototype.toISOString ? formatIsoNative3 : utcFormat3(isoSpecifier3);
    isoFormat_default3 = formatIso3;
  }
});

// node_modules/d3-time-format/src/isoParse.js
function parseIsoNative3(string) {
  var date3 = new Date(string);
  return isNaN(date3) ? null : date3;
}
var parseIso3, isoParse_default3;
var init_isoParse = __esm({
  "node_modules/d3-time-format/src/isoParse.js"() {
    init_isoFormat();
    init_defaultLocale2();
    parseIso3 = +new Date("2000-01-01T00:00:00.000Z") ? parseIsoNative3 : utcParse3(isoSpecifier3);
    isoParse_default3 = parseIso3;
  }
});

// node_modules/d3-time-format/src/index.js
var init_src26 = __esm({
  "node_modules/d3-time-format/src/index.js"() {
    init_defaultLocale2();
    init_locale2();
    init_isoFormat();
    init_isoParse();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/time.js
function date2(t) {
  return new Date(t);
}
function number9(t) {
  return t instanceof Date ? +t : +new Date(+t);
}
function calendar2(year4, month4, week, day4, hour4, minute4, second4, millisecond4, format5) {
  var scale2 = continuous2(identity14, identity14), invert2 = scale2.invert, domain = scale2.domain;
  var formatMillisecond = format5(".%L"), formatSecond = format5(":%S"), formatMinute = format5("%I:%M"), formatHour = format5("%I %p"), formatDay = format5("%a %d"), formatWeek = format5("%b %d"), formatMonth = format5("%B"), formatYear7 = format5("%Y");
  var tickIntervals = [
    [second4, 1, durationSecond4],
    [second4, 5, 5 * durationSecond4],
    [second4, 15, 15 * durationSecond4],
    [second4, 30, 30 * durationSecond4],
    [minute4, 1, durationMinute4],
    [minute4, 5, 5 * durationMinute4],
    [minute4, 15, 15 * durationMinute4],
    [minute4, 30, 30 * durationMinute4],
    [hour4, 1, durationHour4],
    [hour4, 3, 3 * durationHour4],
    [hour4, 6, 6 * durationHour4],
    [hour4, 12, 12 * durationHour4],
    [day4, 1, durationDay4],
    [day4, 2, 2 * durationDay4],
    [week, 1, durationWeek4],
    [month4, 1, durationMonth3],
    [month4, 3, 3 * durationMonth3],
    [year4, 1, durationYear3]
  ];
  function tickFormat2(date3) {
    return (second4(date3) < date3 ? formatMillisecond : minute4(date3) < date3 ? formatSecond : hour4(date3) < date3 ? formatMinute : day4(date3) < date3 ? formatHour : month4(date3) < date3 ? week(date3) < date3 ? formatDay : formatWeek : year4(date3) < date3 ? formatMonth : formatYear7)(date3);
  }
  function tickInterval(interval6, start6, stop, step) {
    if (interval6 == null)
      interval6 = 10;
    if (typeof interval6 === "number") {
      var target = Math.abs(stop - start6) / interval6, i = bisector_default(function(i2) {
        return i2[2];
      }).right(tickIntervals, target);
      if (i === tickIntervals.length) {
        step = tickStep5(start6 / durationYear3, stop / durationYear3, interval6);
        interval6 = year4;
      } else if (i) {
        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];
        step = i[1];
        interval6 = i[0];
      } else {
        step = Math.max(tickStep5(start6, stop, interval6), 1);
        interval6 = millisecond4;
      }
    }
    return step == null ? interval6 : interval6.every(step);
  }
  scale2.invert = function(y7) {
    return new Date(invert2(y7));
  };
  scale2.domain = function(_2) {
    return arguments.length ? domain(map14.call(_2, number9)) : domain().map(date2);
  };
  scale2.ticks = function(interval6, step) {
    var d = domain(), t010 = d[0], t110 = d[d.length - 1], r = t110 < t010, t;
    if (r)
      t = t010, t010 = t110, t110 = t;
    t = tickInterval(interval6, t010, t110, step);
    t = t ? t.range(t010, t110 + 1) : [];
    return r ? t.reverse() : t;
  };
  scale2.tickFormat = function(count7, specifier) {
    return specifier == null ? tickFormat2 : format5(specifier);
  };
  scale2.nice = function(interval6, step) {
    var d = domain();
    return (interval6 = tickInterval(interval6, d[0], d[d.length - 1], step)) ? domain(nice_default(d, interval6)) : scale2;
  };
  scale2.copy = function() {
    return copy4(scale2, calendar2(year4, month4, week, day4, hour4, minute4, second4, millisecond4, format5));
  };
  return scale2;
}
function time_default() {
  return initRange2.apply(calendar2(year_default3, month_default3, sunday3, day_default3, hour_default3, minute_default3, second_default3, millisecond_default3, timeFormat3).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments);
}
var durationSecond4, durationMinute4, durationHour4, durationDay4, durationWeek4, durationMonth3, durationYear3;
var init_time = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/time.js"() {
    init_src();
    init_src25();
    init_src26();
    init_array7();
    init_continuous();
    init_init();
    init_nice();
    durationSecond4 = 1e3;
    durationMinute4 = durationSecond4 * 60;
    durationHour4 = durationMinute4 * 60;
    durationDay4 = durationHour4 * 24;
    durationWeek4 = durationDay4 * 7;
    durationMonth3 = durationDay4 * 30;
    durationYear3 = durationDay4 * 365;
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/utcTime.js
function utcTime_default() {
  return initRange2.apply(calendar2(utcYear_default3, utcMonth_default3, utcSunday3, utcDay_default3, utcHour_default3, utcMinute_default3, second_default3, millisecond_default3, utcFormat3).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments);
}
var init_utcTime = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/utcTime.js"() {
    init_time();
    init_src26();
    init_src25();
    init_init();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/sequential.js
function transformer5() {
  var x07 = 0, x13 = 1, t010, t110, k10, transform3, interpolator = identity14, clamp = false, unknown;
  function scale2(x7) {
    return isNaN(x7 = +x7) ? unknown : interpolator(k10 === 0 ? 0.5 : (x7 = (transform3(x7) - t010) * k10, clamp ? Math.max(0, Math.min(1, x7)) : x7));
  }
  scale2.domain = function(_2) {
    return arguments.length ? (t010 = transform3(x07 = +_2[0]), t110 = transform3(x13 = +_2[1]), k10 = t010 === t110 ? 0 : 1 / (t110 - t010), scale2) : [x07, x13];
  };
  scale2.clamp = function(_2) {
    return arguments.length ? (clamp = !!_2, scale2) : clamp;
  };
  scale2.interpolator = function(_2) {
    return arguments.length ? (interpolator = _2, scale2) : interpolator;
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  return function(t) {
    transform3 = t, t010 = t(x07), t110 = t(x13), k10 = t010 === t110 ? 0 : 1 / (t110 - t010);
    return scale2;
  };
}
function copy5(source, target) {
  return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown());
}
function sequential2() {
  var scale2 = linearish2(transformer5()(identity14));
  scale2.copy = function() {
    return copy5(scale2, sequential2());
  };
  return initInterpolator2.apply(scale2, arguments);
}
function sequentialLog2() {
  var scale2 = loggish2(transformer5()).domain([1, 10]);
  scale2.copy = function() {
    return copy5(scale2, sequentialLog2()).base(scale2.base());
  };
  return initInterpolator2.apply(scale2, arguments);
}
function sequentialSymlog2() {
  var scale2 = symlogish2(transformer5());
  scale2.copy = function() {
    return copy5(scale2, sequentialSymlog2()).constant(scale2.constant());
  };
  return initInterpolator2.apply(scale2, arguments);
}
function sequentialPow2() {
  var scale2 = powish2(transformer5());
  scale2.copy = function() {
    return copy5(scale2, sequentialPow2()).exponent(scale2.exponent());
  };
  return initInterpolator2.apply(scale2, arguments);
}
function sequentialSqrt2() {
  return sequentialPow2.apply(null, arguments).exponent(0.5);
}
var init_sequential = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/sequential.js"() {
    init_continuous();
    init_init();
    init_linear2();
    init_log();
    init_symlog();
    init_pow();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/sequentialQuantile.js
function sequentialQuantile2() {
  var domain = [], interpolator = identity14;
  function scale2(x7) {
    if (!isNaN(x7 = +x7))
      return interpolator((bisect_default5(domain, x7) - 1) / (domain.length - 1));
  }
  scale2.domain = function(_2) {
    if (!arguments.length)
      return domain.slice();
    domain = [];
    for (var i = 0, n = _2.length, d; i < n; ++i)
      if (d = _2[i], d != null && !isNaN(d = +d))
        domain.push(d);
    domain.sort(ascending_default3);
    return scale2;
  };
  scale2.interpolator = function(_2) {
    return arguments.length ? (interpolator = _2, scale2) : interpolator;
  };
  scale2.copy = function() {
    return sequentialQuantile2(interpolator).domain(domain);
  };
  return initInterpolator2.apply(scale2, arguments);
}
var init_sequentialQuantile = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/sequentialQuantile.js"() {
    init_src();
    init_continuous();
    init_init();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/diverging.js
function transformer6() {
  var x07 = 0, x13 = 0.5, x22 = 1, t010, t110, t27, k10, k21, interpolator = identity14, transform3, clamp = false, unknown;
  function scale2(x7) {
    return isNaN(x7 = +x7) ? unknown : (x7 = 0.5 + ((x7 = +transform3(x7)) - t110) * (x7 < t110 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x7)) : x7));
  }
  scale2.domain = function(_2) {
    return arguments.length ? (t010 = transform3(x07 = +_2[0]), t110 = transform3(x13 = +_2[1]), t27 = transform3(x22 = +_2[2]), k10 = t010 === t110 ? 0 : 0.5 / (t110 - t010), k21 = t110 === t27 ? 0 : 0.5 / (t27 - t110), scale2) : [x07, x13, x22];
  };
  scale2.clamp = function(_2) {
    return arguments.length ? (clamp = !!_2, scale2) : clamp;
  };
  scale2.interpolator = function(_2) {
    return arguments.length ? (interpolator = _2, scale2) : interpolator;
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  return function(t) {
    transform3 = t, t010 = t(x07), t110 = t(x13), t27 = t(x22), k10 = t010 === t110 ? 0 : 0.5 / (t110 - t010), k21 = t110 === t27 ? 0 : 0.5 / (t27 - t110);
    return scale2;
  };
}
function diverging2() {
  var scale2 = linearish2(transformer6()(identity14));
  scale2.copy = function() {
    return copy5(scale2, diverging2());
  };
  return initInterpolator2.apply(scale2, arguments);
}
function divergingLog2() {
  var scale2 = loggish2(transformer6()).domain([0.1, 1, 10]);
  scale2.copy = function() {
    return copy5(scale2, divergingLog2()).base(scale2.base());
  };
  return initInterpolator2.apply(scale2, arguments);
}
function divergingSymlog2() {
  var scale2 = symlogish2(transformer6());
  scale2.copy = function() {
    return copy5(scale2, divergingSymlog2()).constant(scale2.constant());
  };
  return initInterpolator2.apply(scale2, arguments);
}
function divergingPow2() {
  var scale2 = powish2(transformer6());
  scale2.copy = function() {
    return copy5(scale2, divergingPow2()).exponent(scale2.exponent());
  };
  return initInterpolator2.apply(scale2, arguments);
}
function divergingSqrt2() {
  return divergingPow2.apply(null, arguments).exponent(0.5);
}
var init_diverging = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/diverging.js"() {
    init_continuous();
    init_init();
    init_linear2();
    init_log();
    init_sequential();
    init_symlog();
    init_pow();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale/src/index.js
var init_src27 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale/src/index.js"() {
    init_band();
    init_identity6();
    init_linear2();
    init_log();
    init_symlog();
    init_ordinal();
    init_pow();
    init_quantile2();
    init_quantize2();
    init_threshold();
    init_time();
    init_utcTime();
    init_sequential();
    init_sequentialQuantile();
    init_diverging();
    init_tickFormat();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/colors.js
function colors_default2(specifier) {
  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;
  while (i < n)
    colors[i] = "#" + specifier.slice(i * 6, ++i * 6);
  return colors;
}
var init_colors = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/colors.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/category10.js
var category10_default2;
var init_category10 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/category10.js"() {
    init_colors();
    category10_default2 = colors_default2("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Accent.js
var Accent_default2;
var init_Accent = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Accent.js"() {
    init_colors();
    Accent_default2 = colors_default2("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Dark2.js
var Dark2_default2;
var init_Dark2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Dark2.js"() {
    init_colors();
    Dark2_default2 = colors_default2("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Paired.js
var Paired_default2;
var init_Paired = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Paired.js"() {
    init_colors();
    Paired_default2 = colors_default2("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js
var Pastel1_default2;
var init_Pastel1 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js"() {
    init_colors();
    Pastel1_default2 = colors_default2("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js
var Pastel2_default2;
var init_Pastel2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js"() {
    init_colors();
    Pastel2_default2 = colors_default2("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Set1.js
var Set1_default2;
var init_Set1 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Set1.js"() {
    init_colors();
    Set1_default2 = colors_default2("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Set2.js
var Set2_default2;
var init_Set2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Set2.js"() {
    init_colors();
    Set2_default2 = colors_default2("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Set3.js
var Set3_default2;
var init_Set3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Set3.js"() {
    init_colors();
    Set3_default2 = colors_default2("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Tableau10.js
var Tableau10_default2;
var init_Tableau10 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/categorical/Tableau10.js"() {
    init_colors();
    Tableau10_default2 = colors_default2("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/ramp.js
function ramp_default2(scheme55) {
  return rgbBasis6(scheme55[scheme55.length - 1]);
}
var init_ramp = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/ramp.js"() {
    init_src7();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/BrBG.js
var scheme28, BrBG_default2;
var init_BrBG = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/BrBG.js"() {
    init_colors();
    init_ramp();
    scheme28 = new Array(3).concat(
      "d8b365f5f5f55ab4ac",
      "a6611adfc27d80cdc1018571",
      "a6611adfc27df5f5f580cdc1018571",
      "8c510ad8b365f6e8c3c7eae55ab4ac01665e",
      "8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e",
      "8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",
      "8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e",
      "5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30",
      "5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30"
    ).map(colors_default2);
    BrBG_default2 = ramp_default2(scheme28);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/PRGn.js
var scheme29, PRGn_default2;
var init_PRGn = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/PRGn.js"() {
    init_colors();
    init_ramp();
    scheme29 = new Array(3).concat(
      "af8dc3f7f7f77fbf7b",
      "7b3294c2a5cfa6dba0008837",
      "7b3294c2a5cff7f7f7a6dba0008837",
      "762a83af8dc3e7d4e8d9f0d37fbf7b1b7837",
      "762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837",
      "762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837",
      "762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837",
      "40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b",
      "40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b"
    ).map(colors_default2);
    PRGn_default2 = ramp_default2(scheme29);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/PiYG.js
var scheme30, PiYG_default2;
var init_PiYG = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/PiYG.js"() {
    init_colors();
    init_ramp();
    scheme30 = new Array(3).concat(
      "e9a3c9f7f7f7a1d76a",
      "d01c8bf1b6dab8e1864dac26",
      "d01c8bf1b6daf7f7f7b8e1864dac26",
      "c51b7de9a3c9fde0efe6f5d0a1d76a4d9221",
      "c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221",
      "c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221",
      "c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221",
      "8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419",
      "8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419"
    ).map(colors_default2);
    PiYG_default2 = ramp_default2(scheme30);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/PuOr.js
var scheme31, PuOr_default2;
var init_PuOr = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/PuOr.js"() {
    init_colors();
    init_ramp();
    scheme31 = new Array(3).concat(
      "998ec3f7f7f7f1a340",
      "5e3c99b2abd2fdb863e66101",
      "5e3c99b2abd2f7f7f7fdb863e66101",
      "542788998ec3d8daebfee0b6f1a340b35806",
      "542788998ec3d8daebf7f7f7fee0b6f1a340b35806",
      "5427888073acb2abd2d8daebfee0b6fdb863e08214b35806",
      "5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806",
      "2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08",
      "2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08"
    ).map(colors_default2);
    PuOr_default2 = ramp_default2(scheme31);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/RdBu.js
var scheme32, RdBu_default2;
var init_RdBu = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/RdBu.js"() {
    init_colors();
    init_ramp();
    scheme32 = new Array(3).concat(
      "ef8a62f7f7f767a9cf",
      "ca0020f4a58292c5de0571b0",
      "ca0020f4a582f7f7f792c5de0571b0",
      "b2182bef8a62fddbc7d1e5f067a9cf2166ac",
      "b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac",
      "b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac",
      "b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac",
      "67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061",
      "67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061"
    ).map(colors_default2);
    RdBu_default2 = ramp_default2(scheme32);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/RdGy.js
var scheme33, RdGy_default2;
var init_RdGy = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/RdGy.js"() {
    init_colors();
    init_ramp();
    scheme33 = new Array(3).concat(
      "ef8a62ffffff999999",
      "ca0020f4a582bababa404040",
      "ca0020f4a582ffffffbababa404040",
      "b2182bef8a62fddbc7e0e0e09999994d4d4d",
      "b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d",
      "b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d",
      "b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d",
      "67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a",
      "67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a"
    ).map(colors_default2);
    RdGy_default2 = ramp_default2(scheme33);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js
var scheme34, RdYlBu_default2;
var init_RdYlBu = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js"() {
    init_colors();
    init_ramp();
    scheme34 = new Array(3).concat(
      "fc8d59ffffbf91bfdb",
      "d7191cfdae61abd9e92c7bb6",
      "d7191cfdae61ffffbfabd9e92c7bb6",
      "d73027fc8d59fee090e0f3f891bfdb4575b4",
      "d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4",
      "d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",
      "d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4",
      "a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695",
      "a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695"
    ).map(colors_default2);
    RdYlBu_default2 = ramp_default2(scheme34);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js
var scheme35, RdYlGn_default2;
var init_RdYlGn = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js"() {
    init_colors();
    init_ramp();
    scheme35 = new Array(3).concat(
      "fc8d59ffffbf91cf60",
      "d7191cfdae61a6d96a1a9641",
      "d7191cfdae61ffffbfa6d96a1a9641",
      "d73027fc8d59fee08bd9ef8b91cf601a9850",
      "d73027fc8d59fee08bffffbfd9ef8b91cf601a9850",
      "d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850",
      "d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850",
      "a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",
      "a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837"
    ).map(colors_default2);
    RdYlGn_default2 = ramp_default2(scheme35);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/Spectral.js
var scheme36, Spectral_default2;
var init_Spectral = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/diverging/Spectral.js"() {
    init_colors();
    init_ramp();
    scheme36 = new Array(3).concat(
      "fc8d59ffffbf99d594",
      "d7191cfdae61abdda42b83ba",
      "d7191cfdae61ffffbfabdda42b83ba",
      "d53e4ffc8d59fee08be6f59899d5943288bd",
      "d53e4ffc8d59fee08bffffbfe6f59899d5943288bd",
      "d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd",
      "d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd",
      "9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2",
      "9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2"
    ).map(colors_default2);
    Spectral_default2 = ramp_default2(scheme36);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js
var scheme37, BuGn_default2;
var init_BuGn = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js"() {
    init_colors();
    init_ramp();
    scheme37 = new Array(3).concat(
      "e5f5f999d8c92ca25f",
      "edf8fbb2e2e266c2a4238b45",
      "edf8fbb2e2e266c2a42ca25f006d2c",
      "edf8fbccece699d8c966c2a42ca25f006d2c",
      "edf8fbccece699d8c966c2a441ae76238b45005824",
      "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824",
      "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b"
    ).map(colors_default2);
    BuGn_default2 = ramp_default2(scheme37);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js
var scheme38, BuPu_default2;
var init_BuPu = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js"() {
    init_colors();
    init_ramp();
    scheme38 = new Array(3).concat(
      "e0ecf49ebcda8856a7",
      "edf8fbb3cde38c96c688419d",
      "edf8fbb3cde38c96c68856a7810f7c",
      "edf8fbbfd3e69ebcda8c96c68856a7810f7c",
      "edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b",
      "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b",
      "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b"
    ).map(colors_default2);
    BuPu_default2 = ramp_default2(scheme38);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js
var scheme39, GnBu_default2;
var init_GnBu = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js"() {
    init_colors();
    init_ramp();
    scheme39 = new Array(3).concat(
      "e0f3dba8ddb543a2ca",
      "f0f9e8bae4bc7bccc42b8cbe",
      "f0f9e8bae4bc7bccc443a2ca0868ac",
      "f0f9e8ccebc5a8ddb57bccc443a2ca0868ac",
      "f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e",
      "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e",
      "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081"
    ).map(colors_default2);
    GnBu_default2 = ramp_default2(scheme39);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js
var scheme40, OrRd_default2;
var init_OrRd = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js"() {
    init_colors();
    init_ramp();
    scheme40 = new Array(3).concat(
      "fee8c8fdbb84e34a33",
      "fef0d9fdcc8afc8d59d7301f",
      "fef0d9fdcc8afc8d59e34a33b30000",
      "fef0d9fdd49efdbb84fc8d59e34a33b30000",
      "fef0d9fdd49efdbb84fc8d59ef6548d7301f990000",
      "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000",
      "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000"
    ).map(colors_default2);
    OrRd_default2 = ramp_default2(scheme40);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js
var scheme41, PuBuGn_default2;
var init_PuBuGn = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js"() {
    init_colors();
    init_ramp();
    scheme41 = new Array(3).concat(
      "ece2f0a6bddb1c9099",
      "f6eff7bdc9e167a9cf02818a",
      "f6eff7bdc9e167a9cf1c9099016c59",
      "f6eff7d0d1e6a6bddb67a9cf1c9099016c59",
      "f6eff7d0d1e6a6bddb67a9cf3690c002818a016450",
      "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450",
      "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636"
    ).map(colors_default2);
    PuBuGn_default2 = ramp_default2(scheme41);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js
var scheme42, PuBu_default2;
var init_PuBu = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js"() {
    init_colors();
    init_ramp();
    scheme42 = new Array(3).concat(
      "ece7f2a6bddb2b8cbe",
      "f1eef6bdc9e174a9cf0570b0",
      "f1eef6bdc9e174a9cf2b8cbe045a8d",
      "f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d",
      "f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b",
      "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b",
      "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858"
    ).map(colors_default2);
    PuBu_default2 = ramp_default2(scheme42);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js
var scheme43, PuRd_default2;
var init_PuRd = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js"() {
    init_colors();
    init_ramp();
    scheme43 = new Array(3).concat(
      "e7e1efc994c7dd1c77",
      "f1eef6d7b5d8df65b0ce1256",
      "f1eef6d7b5d8df65b0dd1c77980043",
      "f1eef6d4b9dac994c7df65b0dd1c77980043",
      "f1eef6d4b9dac994c7df65b0e7298ace125691003f",
      "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f",
      "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f"
    ).map(colors_default2);
    PuRd_default2 = ramp_default2(scheme43);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js
var scheme44, RdPu_default2;
var init_RdPu = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js"() {
    init_colors();
    init_ramp();
    scheme44 = new Array(3).concat(
      "fde0ddfa9fb5c51b8a",
      "feebe2fbb4b9f768a1ae017e",
      "feebe2fbb4b9f768a1c51b8a7a0177",
      "feebe2fcc5c0fa9fb5f768a1c51b8a7a0177",
      "feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177",
      "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177",
      "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a"
    ).map(colors_default2);
    RdPu_default2 = ramp_default2(scheme44);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js
var scheme45, YlGnBu_default2;
var init_YlGnBu = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js"() {
    init_colors();
    init_ramp();
    scheme45 = new Array(3).concat(
      "edf8b17fcdbb2c7fb8",
      "ffffcca1dab441b6c4225ea8",
      "ffffcca1dab441b6c42c7fb8253494",
      "ffffccc7e9b47fcdbb41b6c42c7fb8253494",
      "ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84",
      "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84",
      "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58"
    ).map(colors_default2);
    YlGnBu_default2 = ramp_default2(scheme45);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js
var scheme46, YlGn_default2;
var init_YlGn = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js"() {
    init_colors();
    init_ramp();
    scheme46 = new Array(3).concat(
      "f7fcb9addd8e31a354",
      "ffffccc2e69978c679238443",
      "ffffccc2e69978c67931a354006837",
      "ffffccd9f0a3addd8e78c67931a354006837",
      "ffffccd9f0a3addd8e78c67941ab5d238443005a32",
      "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32",
      "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529"
    ).map(colors_default2);
    YlGn_default2 = ramp_default2(scheme46);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js
var scheme47, YlOrBr_default2;
var init_YlOrBr = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js"() {
    init_colors();
    init_ramp();
    scheme47 = new Array(3).concat(
      "fff7bcfec44fd95f0e",
      "ffffd4fed98efe9929cc4c02",
      "ffffd4fed98efe9929d95f0e993404",
      "ffffd4fee391fec44ffe9929d95f0e993404",
      "ffffd4fee391fec44ffe9929ec7014cc4c028c2d04",
      "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04",
      "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506"
    ).map(colors_default2);
    YlOrBr_default2 = ramp_default2(scheme47);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js
var scheme48, YlOrRd_default2;
var init_YlOrRd = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js"() {
    init_colors();
    init_ramp();
    scheme48 = new Array(3).concat(
      "ffeda0feb24cf03b20",
      "ffffb2fecc5cfd8d3ce31a1c",
      "ffffb2fecc5cfd8d3cf03b20bd0026",
      "ffffb2fed976feb24cfd8d3cf03b20bd0026",
      "ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026",
      "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026",
      "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026"
    ).map(colors_default2);
    YlOrRd_default2 = ramp_default2(scheme48);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js
var scheme49, Blues_default2;
var init_Blues = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js"() {
    init_colors();
    init_ramp();
    scheme49 = new Array(3).concat(
      "deebf79ecae13182bd",
      "eff3ffbdd7e76baed62171b5",
      "eff3ffbdd7e76baed63182bd08519c",
      "eff3ffc6dbef9ecae16baed63182bd08519c",
      "eff3ffc6dbef9ecae16baed64292c62171b5084594",
      "f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594",
      "f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b"
    ).map(colors_default2);
    Blues_default2 = ramp_default2(scheme49);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js
var scheme50, Greens_default2;
var init_Greens = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js"() {
    init_colors();
    init_ramp();
    scheme50 = new Array(3).concat(
      "e5f5e0a1d99b31a354",
      "edf8e9bae4b374c476238b45",
      "edf8e9bae4b374c47631a354006d2c",
      "edf8e9c7e9c0a1d99b74c47631a354006d2c",
      "edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32",
      "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32",
      "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b"
    ).map(colors_default2);
    Greens_default2 = ramp_default2(scheme50);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js
var scheme51, Greys_default2;
var init_Greys = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js"() {
    init_colors();
    init_ramp();
    scheme51 = new Array(3).concat(
      "f0f0f0bdbdbd636363",
      "f7f7f7cccccc969696525252",
      "f7f7f7cccccc969696636363252525",
      "f7f7f7d9d9d9bdbdbd969696636363252525",
      "f7f7f7d9d9d9bdbdbd969696737373525252252525",
      "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525",
      "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000"
    ).map(colors_default2);
    Greys_default2 = ramp_default2(scheme51);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js
var scheme52, Purples_default2;
var init_Purples = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js"() {
    init_colors();
    init_ramp();
    scheme52 = new Array(3).concat(
      "efedf5bcbddc756bb1",
      "f2f0f7cbc9e29e9ac86a51a3",
      "f2f0f7cbc9e29e9ac8756bb154278f",
      "f2f0f7dadaebbcbddc9e9ac8756bb154278f",
      "f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486",
      "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486",
      "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d"
    ).map(colors_default2);
    Purples_default2 = ramp_default2(scheme52);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js
var scheme53, Reds_default2;
var init_Reds = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js"() {
    init_colors();
    init_ramp();
    scheme53 = new Array(3).concat(
      "fee0d2fc9272de2d26",
      "fee5d9fcae91fb6a4acb181d",
      "fee5d9fcae91fb6a4ade2d26a50f15",
      "fee5d9fcbba1fc9272fb6a4ade2d26a50f15",
      "fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d",
      "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d",
      "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d"
    ).map(colors_default2);
    Reds_default2 = ramp_default2(scheme53);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js
var scheme54, Oranges_default2;
var init_Oranges = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js"() {
    init_colors();
    init_ramp();
    scheme54 = new Array(3).concat(
      "fee6cefdae6be6550d",
      "feeddefdbe85fd8d3cd94701",
      "feeddefdbe85fd8d3ce6550da63603",
      "feeddefdd0a2fdae6bfd8d3ce6550da63603",
      "feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04",
      "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04",
      "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704"
    ).map(colors_default2);
    Oranges_default2 = ramp_default2(scheme54);
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js
function cividis_default2(t) {
  t = Math.max(0, Math.min(1, t));
  return "rgb(" + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + ", " + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + ", " + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67))))))) + ")";
}
var init_cividis = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js
var cubehelix_default8;
var init_cubehelix3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js"() {
    init_src6();
    init_src7();
    cubehelix_default8 = cubehelixLong6(cubehelix11(300, 0.5, 0), cubehelix11(-240, 0.5, 1));
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js
function rainbow_default2(t) {
  if (t < 0 || t > 1)
    t -= Math.floor(t);
  var ts = Math.abs(t - 0.5);
  c4.h = 360 * t - 100;
  c4.s = 1.5 - 1.5 * ts;
  c4.l = 0.8 - 0.9 * ts;
  return c4 + "";
}
var warm2, cool2, c4;
var init_rainbow = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js"() {
    init_src6();
    init_src7();
    warm2 = cubehelixLong6(cubehelix11(-100, 0.75, 0.35), cubehelix11(80, 1.5, 0.8));
    cool2 = cubehelixLong6(cubehelix11(260, 0.75, 0.35), cubehelix11(80, 1.5, 0.8));
    c4 = cubehelix11();
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js
function sinebow_default2(t) {
  var x7;
  t = (0.5 - t) * Math.PI;
  c5.r = 255 * (x7 = Math.sin(t)) * x7;
  c5.g = 255 * (x7 = Math.sin(t + pi_1_32)) * x7;
  c5.b = 255 * (x7 = Math.sin(t + pi_2_32)) * x7;
  return c5 + "";
}
var c5, pi_1_32, pi_2_32;
var init_sinebow = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js"() {
    init_src6();
    c5 = rgb6();
    pi_1_32 = Math.PI / 3;
    pi_2_32 = Math.PI * 2 / 3;
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js
function turbo_default2(t) {
  t = Math.max(0, Math.min(1, t));
  return "rgb(" + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + ", " + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + ", " + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66))))))) + ")";
}
var init_turbo = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js
function ramp2(range6) {
  var n = range6.length;
  return function(t) {
    return range6[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];
  };
}
var viridis_default2, magma2, inferno2, plasma2;
var init_viridis = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js"() {
    init_colors();
    viridis_default2 = ramp2(colors_default2("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));
    magma2 = ramp2(colors_default2("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));
    inferno2 = ramp2(colors_default2("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));
    plasma2 = ramp2(colors_default2("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));
  }
});

// node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/index.js
var init_src28 = __esm({
  "node_modules/dagre-d3/node_modules/d3-scale-chromatic/src/index.js"() {
    init_category10();
    init_Accent();
    init_Dark2();
    init_Paired();
    init_Pastel1();
    init_Pastel2();
    init_Set1();
    init_Set2();
    init_Set3();
    init_Tableau10();
    init_BrBG();
    init_PRGn();
    init_PiYG();
    init_PuOr();
    init_RdBu();
    init_RdGy();
    init_RdYlBu();
    init_RdYlGn();
    init_Spectral();
    init_BuGn();
    init_BuPu();
    init_GnBu();
    init_OrRd();
    init_PuBuGn();
    init_PuBu();
    init_PuRd();
    init_RdPu();
    init_YlGnBu();
    init_YlGn();
    init_YlOrBr();
    init_YlOrRd();
    init_Blues();
    init_Greens();
    init_Greys();
    init_Purples();
    init_Reds();
    init_Oranges();
    init_cividis();
    init_cubehelix3();
    init_rainbow();
    init_sinebow();
    init_turbo();
    init_viridis();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/constant.js
function constant_default31(x7) {
  return function constant5() {
    return x7;
  };
}
var init_constant12 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/constant.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/math.js
function acos4(x7) {
  return x7 > 1 ? 0 : x7 < -1 ? pi14 : Math.acos(x7);
}
function asin4(x7) {
  return x7 >= 1 ? halfPi10 : x7 <= -1 ? -halfPi10 : Math.asin(x7);
}
var abs7, atan24, cos6, max9, min7, sin6, sqrt6, epsilon13, pi14, halfPi10, tau15;
var init_math5 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/math.js"() {
    abs7 = Math.abs;
    atan24 = Math.atan2;
    cos6 = Math.cos;
    max9 = Math.max;
    min7 = Math.min;
    sin6 = Math.sin;
    sqrt6 = Math.sqrt;
    epsilon13 = 1e-12;
    pi14 = Math.PI;
    halfPi10 = pi14 / 2;
    tau15 = 2 * pi14;
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/arc.js
function arcInnerRadius2(d) {
  return d.innerRadius;
}
function arcOuterRadius2(d) {
  return d.outerRadius;
}
function arcStartAngle2(d) {
  return d.startAngle;
}
function arcEndAngle2(d) {
  return d.endAngle;
}
function arcPadAngle2(d) {
  return d && d.padAngle;
}
function intersect2(x07, y06, x13, y12, x22, y22, x32, y32) {
  var x10 = x13 - x07, y10 = y12 - y06, x322 = x32 - x22, y322 = y32 - y22, t = y322 * x10 - x322 * y10;
  if (t * t < epsilon13)
    return;
  t = (x322 * (y06 - y22) - y322 * (x07 - x22)) / t;
  return [x07 + t * x10, y06 + t * y10];
}
function cornerTangents2(x07, y06, x13, y12, r1, rc, cw) {
  var x01 = x07 - x13, y01 = y06 - y12, lo = (cw ? rc : -rc) / sqrt6(x01 * x01 + y01 * y01), ox = lo * y01, oy = -lo * x01, x11 = x07 + ox, y11 = y06 + oy, x10 = x13 + ox, y10 = y12 + oy, x004 = (x11 + x10) / 2, y004 = (y11 + y10) / 2, dx = x10 - x11, dy = y10 - y11, d2 = dx * dx + dy * dy, r = r1 - rc, D8 = x11 * y10 - x10 * y11, d = (dy < 0 ? -1 : 1) * sqrt6(max9(0, r * r * d2 - D8 * D8)), cx0 = (D8 * dy - dx * d) / d2, cy0 = (-D8 * dx - dy * d) / d2, cx1 = (D8 * dy + dx * d) / d2, cy1 = (-D8 * dx + dy * d) / d2, dx0 = cx0 - x004, dy0 = cy0 - y004, dx1 = cx1 - x004, dy1 = cy1 - y004;
  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1)
    cx0 = cx1, cy0 = cy1;
  return {
    cx: cx0,
    cy: cy0,
    x01: -ox,
    y01: -oy,
    x11: cx0 * (r1 / r - 1),
    y11: cy0 * (r1 / r - 1)
  };
}
function arc_default2() {
  var innerRadius = arcInnerRadius2, outerRadius = arcOuterRadius2, cornerRadius = constant_default31(0), padRadius = null, startAngle = arcStartAngle2, endAngle = arcEndAngle2, padAngle = arcPadAngle2, context = null;
  function arc() {
    var buffer, r, r0 = +innerRadius.apply(this, arguments), r1 = +outerRadius.apply(this, arguments), a0 = startAngle.apply(this, arguments) - halfPi10, a1 = endAngle.apply(this, arguments) - halfPi10, da2 = abs7(a1 - a0), cw = a1 > a0;
    if (!context)
      context = buffer = path_default6();
    if (r1 < r0)
      r = r1, r1 = r0, r0 = r;
    if (!(r1 > epsilon13))
      context.moveTo(0, 0);
    else if (da2 > tau15 - epsilon13) {
      context.moveTo(r1 * cos6(a0), r1 * sin6(a0));
      context.arc(0, 0, r1, a0, a1, !cw);
      if (r0 > epsilon13) {
        context.moveTo(r0 * cos6(a1), r0 * sin6(a1));
        context.arc(0, 0, r0, a1, a0, cw);
      }
    } else {
      var a01 = a0, a11 = a1, a00 = a0, a10 = a1, da0 = da2, da1 = da2, ap = padAngle.apply(this, arguments) / 2, rp = ap > epsilon13 && (padRadius ? +padRadius.apply(this, arguments) : sqrt6(r0 * r0 + r1 * r1)), rc = min7(abs7(r1 - r0) / 2, +cornerRadius.apply(this, arguments)), rc0 = rc, rc1 = rc, t010, t110;
      if (rp > epsilon13) {
        var p02 = asin4(rp / r0 * sin6(ap)), p1 = asin4(rp / r1 * sin6(ap));
        if ((da0 -= p02 * 2) > epsilon13)
          p02 *= cw ? 1 : -1, a00 += p02, a10 -= p02;
        else
          da0 = 0, a00 = a10 = (a0 + a1) / 2;
        if ((da1 -= p1 * 2) > epsilon13)
          p1 *= cw ? 1 : -1, a01 += p1, a11 -= p1;
        else
          da1 = 0, a01 = a11 = (a0 + a1) / 2;
      }
      var x01 = r1 * cos6(a01), y01 = r1 * sin6(a01), x10 = r0 * cos6(a10), y10 = r0 * sin6(a10);
      if (rc > epsilon13) {
        var x11 = r1 * cos6(a11), y11 = r1 * sin6(a11), x004 = r0 * cos6(a00), y004 = r0 * sin6(a00), oc;
        if (da2 < pi14 && (oc = intersect2(x01, y01, x004, y004, x11, y11, x10, y10))) {
          var ax = x01 - oc[0], ay = y01 - oc[1], bx = x11 - oc[0], by = y11 - oc[1], kc = 1 / sin6(acos4((ax * bx + ay * by) / (sqrt6(ax * ax + ay * ay) * sqrt6(bx * bx + by * by))) / 2), lc = sqrt6(oc[0] * oc[0] + oc[1] * oc[1]);
          rc0 = min7(rc, (r0 - lc) / (kc - 1));
          rc1 = min7(rc, (r1 - lc) / (kc + 1));
        }
      }
      if (!(da1 > epsilon13))
        context.moveTo(x01, y01);
      else if (rc1 > epsilon13) {
        t010 = cornerTangents2(x004, y004, x01, y01, r1, rc1, cw);
        t110 = cornerTangents2(x11, y11, x10, y10, r1, rc1, cw);
        context.moveTo(t010.cx + t010.x01, t010.cy + t010.y01);
        if (rc1 < rc)
          context.arc(t010.cx, t010.cy, rc1, atan24(t010.y01, t010.x01), atan24(t110.y01, t110.x01), !cw);
        else {
          context.arc(t010.cx, t010.cy, rc1, atan24(t010.y01, t010.x01), atan24(t010.y11, t010.x11), !cw);
          context.arc(0, 0, r1, atan24(t010.cy + t010.y11, t010.cx + t010.x11), atan24(t110.cy + t110.y11, t110.cx + t110.x11), !cw);
          context.arc(t110.cx, t110.cy, rc1, atan24(t110.y11, t110.x11), atan24(t110.y01, t110.x01), !cw);
        }
      } else
        context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);
      if (!(r0 > epsilon13) || !(da0 > epsilon13))
        context.lineTo(x10, y10);
      else if (rc0 > epsilon13) {
        t010 = cornerTangents2(x10, y10, x11, y11, r0, -rc0, cw);
        t110 = cornerTangents2(x01, y01, x004, y004, r0, -rc0, cw);
        context.lineTo(t010.cx + t010.x01, t010.cy + t010.y01);
        if (rc0 < rc)
          context.arc(t010.cx, t010.cy, rc0, atan24(t010.y01, t010.x01), atan24(t110.y01, t110.x01), !cw);
        else {
          context.arc(t010.cx, t010.cy, rc0, atan24(t010.y01, t010.x01), atan24(t010.y11, t010.x11), !cw);
          context.arc(0, 0, r0, atan24(t010.cy + t010.y11, t010.cx + t010.x11), atan24(t110.cy + t110.y11, t110.cx + t110.x11), cw);
          context.arc(t110.cx, t110.cy, rc0, atan24(t110.y11, t110.x11), atan24(t110.y01, t110.x01), !cw);
        }
      } else
        context.arc(0, 0, r0, a10, a00, cw);
    }
    context.closePath();
    if (buffer)
      return context = null, buffer + "" || null;
  }
  arc.centroid = function() {
    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2, a3 = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi14 / 2;
    return [cos6(a3) * r, sin6(a3) * r];
  };
  arc.innerRadius = function(_2) {
    return arguments.length ? (innerRadius = typeof _2 === "function" ? _2 : constant_default31(+_2), arc) : innerRadius;
  };
  arc.outerRadius = function(_2) {
    return arguments.length ? (outerRadius = typeof _2 === "function" ? _2 : constant_default31(+_2), arc) : outerRadius;
  };
  arc.cornerRadius = function(_2) {
    return arguments.length ? (cornerRadius = typeof _2 === "function" ? _2 : constant_default31(+_2), arc) : cornerRadius;
  };
  arc.padRadius = function(_2) {
    return arguments.length ? (padRadius = _2 == null ? null : typeof _2 === "function" ? _2 : constant_default31(+_2), arc) : padRadius;
  };
  arc.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant_default31(+_2), arc) : startAngle;
  };
  arc.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant_default31(+_2), arc) : endAngle;
  };
  arc.padAngle = function(_2) {
    return arguments.length ? (padAngle = typeof _2 === "function" ? _2 : constant_default31(+_2), arc) : padAngle;
  };
  arc.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, arc) : context;
  };
  return arc;
}
var init_arc = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/arc.js"() {
    init_src12();
    init_constant12();
    init_math5();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/linear.js
function Linear2(context) {
  this._context = context;
}
function linear_default2(context) {
  return new Linear2(context);
}
var init_linear3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/linear.js"() {
    Linear2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._point = 0;
      },
      lineEnd: function() {
        if (this._line || this._line !== 0 && this._point === 1)
          this._context.closePath();
        this._line = 1 - this._line;
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        switch (this._point) {
          case 0:
            this._point = 1;
            this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
            break;
          case 1:
            this._point = 2;
          default:
            this._context.lineTo(x7, y7);
            break;
        }
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/point.js
function x5(p) {
  return p[0];
}
function y5(p) {
  return p[1];
}
var init_point2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/point.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/line.js
function line_default4() {
  var x7 = x5, y7 = y5, defined = constant_default31(true), context = null, curve = linear_default2, output = null;
  function line2(data) {
    var i, n = data.length, d, defined0 = false, buffer;
    if (context == null)
      output = curve(buffer = path_default6());
    for (i = 0; i <= n; ++i) {
      if (!(i < n && defined(d = data[i], i, data)) === defined0) {
        if (defined0 = !defined0)
          output.lineStart();
        else
          output.lineEnd();
      }
      if (defined0)
        output.point(+x7(d, i, data), +y7(d, i, data));
    }
    if (buffer)
      return output = null, buffer + "" || null;
  }
  line2.x = function(_2) {
    return arguments.length ? (x7 = typeof _2 === "function" ? _2 : constant_default31(+_2), line2) : x7;
  };
  line2.y = function(_2) {
    return arguments.length ? (y7 = typeof _2 === "function" ? _2 : constant_default31(+_2), line2) : y7;
  };
  line2.defined = function(_2) {
    return arguments.length ? (defined = typeof _2 === "function" ? _2 : constant_default31(!!_2), line2) : defined;
  };
  line2.curve = function(_2) {
    return arguments.length ? (curve = _2, context != null && (output = curve(context)), line2) : curve;
  };
  line2.context = function(_2) {
    return arguments.length ? (_2 == null ? context = output = null : output = curve(context = _2), line2) : context;
  };
  return line2;
}
var init_line2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/line.js"() {
    init_src12();
    init_constant12();
    init_linear3();
    init_point2();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/area.js
function area_default10() {
  var x07 = x5, x13 = null, y06 = constant_default31(0), y12 = y5, defined = constant_default31(true), context = null, curve = linear_default2, output = null;
  function area(data) {
    var i, j, k3, n = data.length, d, defined0 = false, buffer, x0z = new Array(n), y0z = new Array(n);
    if (context == null)
      output = curve(buffer = path_default6());
    for (i = 0; i <= n; ++i) {
      if (!(i < n && defined(d = data[i], i, data)) === defined0) {
        if (defined0 = !defined0) {
          j = i;
          output.areaStart();
          output.lineStart();
        } else {
          output.lineEnd();
          output.lineStart();
          for (k3 = i - 1; k3 >= j; --k3) {
            output.point(x0z[k3], y0z[k3]);
          }
          output.lineEnd();
          output.areaEnd();
        }
      }
      if (defined0) {
        x0z[i] = +x07(d, i, data), y0z[i] = +y06(d, i, data);
        output.point(x13 ? +x13(d, i, data) : x0z[i], y12 ? +y12(d, i, data) : y0z[i]);
      }
    }
    if (buffer)
      return output = null, buffer + "" || null;
  }
  function arealine() {
    return line_default4().defined(defined).curve(curve).context(context);
  }
  area.x = function(_2) {
    return arguments.length ? (x07 = typeof _2 === "function" ? _2 : constant_default31(+_2), x13 = null, area) : x07;
  };
  area.x0 = function(_2) {
    return arguments.length ? (x07 = typeof _2 === "function" ? _2 : constant_default31(+_2), area) : x07;
  };
  area.x1 = function(_2) {
    return arguments.length ? (x13 = _2 == null ? null : typeof _2 === "function" ? _2 : constant_default31(+_2), area) : x13;
  };
  area.y = function(_2) {
    return arguments.length ? (y06 = typeof _2 === "function" ? _2 : constant_default31(+_2), y12 = null, area) : y06;
  };
  area.y0 = function(_2) {
    return arguments.length ? (y06 = typeof _2 === "function" ? _2 : constant_default31(+_2), area) : y06;
  };
  area.y1 = function(_2) {
    return arguments.length ? (y12 = _2 == null ? null : typeof _2 === "function" ? _2 : constant_default31(+_2), area) : y12;
  };
  area.lineX0 = area.lineY0 = function() {
    return arealine().x(x07).y(y06);
  };
  area.lineY1 = function() {
    return arealine().x(x07).y(y12);
  };
  area.lineX1 = function() {
    return arealine().x(x13).y(y06);
  };
  area.defined = function(_2) {
    return arguments.length ? (defined = typeof _2 === "function" ? _2 : constant_default31(!!_2), area) : defined;
  };
  area.curve = function(_2) {
    return arguments.length ? (curve = _2, context != null && (output = curve(context)), area) : curve;
  };
  area.context = function(_2) {
    return arguments.length ? (_2 == null ? context = output = null : output = curve(context = _2), area) : context;
  };
  return area;
}
var init_area5 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/area.js"() {
    init_src12();
    init_constant12();
    init_linear3();
    init_line2();
    init_point2();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/descending.js
function descending_default4(a3, b) {
  return b < a3 ? -1 : b > a3 ? 1 : b >= a3 ? 0 : NaN;
}
var init_descending2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/descending.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/identity.js
function identity_default12(d) {
  return d;
}
var init_identity7 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/identity.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/pie.js
function pie_default2() {
  var value = identity_default12, sortValues = descending_default4, sort5 = null, startAngle = constant_default31(0), endAngle = constant_default31(tau15), padAngle = constant_default31(0);
  function pie(data) {
    var i, n = data.length, j, k3, sum9 = 0, index6 = new Array(n), arcs = new Array(n), a0 = +startAngle.apply(this, arguments), da2 = Math.min(tau15, Math.max(-tau15, endAngle.apply(this, arguments) - a0)), a1, p = Math.min(Math.abs(da2) / n, padAngle.apply(this, arguments)), pa = p * (da2 < 0 ? -1 : 1), v2;
    for (i = 0; i < n; ++i) {
      if ((v2 = arcs[index6[i] = i] = +value(data[i], i, data)) > 0) {
        sum9 += v2;
      }
    }
    if (sortValues != null)
      index6.sort(function(i2, j2) {
        return sortValues(arcs[i2], arcs[j2]);
      });
    else if (sort5 != null)
      index6.sort(function(i2, j2) {
        return sort5(data[i2], data[j2]);
      });
    for (i = 0, k3 = sum9 ? (da2 - n * pa) / sum9 : 0; i < n; ++i, a0 = a1) {
      j = index6[i], v2 = arcs[j], a1 = a0 + (v2 > 0 ? v2 * k3 : 0) + pa, arcs[j] = {
        data: data[j],
        index: i,
        value: v2,
        startAngle: a0,
        endAngle: a1,
        padAngle: p
      };
    }
    return arcs;
  }
  pie.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant_default31(+_2), pie) : value;
  };
  pie.sortValues = function(_2) {
    return arguments.length ? (sortValues = _2, sort5 = null, pie) : sortValues;
  };
  pie.sort = function(_2) {
    return arguments.length ? (sort5 = _2, sortValues = null, pie) : sort5;
  };
  pie.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant_default31(+_2), pie) : startAngle;
  };
  pie.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant_default31(+_2), pie) : endAngle;
  };
  pie.padAngle = function(_2) {
    return arguments.length ? (padAngle = typeof _2 === "function" ? _2 : constant_default31(+_2), pie) : padAngle;
  };
  return pie;
}
var init_pie = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/pie.js"() {
    init_constant12();
    init_descending2();
    init_identity7();
    init_math5();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/radial.js
function Radial2(curve) {
  this._curve = curve;
}
function curveRadial2(curve) {
  function radial2(context) {
    return new Radial2(curve(context));
  }
  radial2._curve = curve;
  return radial2;
}
var curveRadialLinear2;
var init_radial2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/radial.js"() {
    init_linear3();
    curveRadialLinear2 = curveRadial2(linear_default2);
    Radial2.prototype = {
      areaStart: function() {
        this._curve.areaStart();
      },
      areaEnd: function() {
        this._curve.areaEnd();
      },
      lineStart: function() {
        this._curve.lineStart();
      },
      lineEnd: function() {
        this._curve.lineEnd();
      },
      point: function(a3, r) {
        this._curve.point(r * Math.sin(a3), r * -Math.cos(a3));
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/lineRadial.js
function lineRadial2(l) {
  var c7 = l.curve;
  l.angle = l.x, delete l.x;
  l.radius = l.y, delete l.y;
  l.curve = function(_2) {
    return arguments.length ? c7(curveRadial2(_2)) : c7()._curve;
  };
  return l;
}
function lineRadial_default2() {
  return lineRadial2(line_default4().curve(curveRadialLinear2));
}
var init_lineRadial = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/lineRadial.js"() {
    init_radial2();
    init_line2();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/areaRadial.js
function areaRadial_default2() {
  var a3 = area_default10().curve(curveRadialLinear2), c7 = a3.curve, x07 = a3.lineX0, x13 = a3.lineX1, y06 = a3.lineY0, y12 = a3.lineY1;
  a3.angle = a3.x, delete a3.x;
  a3.startAngle = a3.x0, delete a3.x0;
  a3.endAngle = a3.x1, delete a3.x1;
  a3.radius = a3.y, delete a3.y;
  a3.innerRadius = a3.y0, delete a3.y0;
  a3.outerRadius = a3.y1, delete a3.y1;
  a3.lineStartAngle = function() {
    return lineRadial2(x07());
  }, delete a3.lineX0;
  a3.lineEndAngle = function() {
    return lineRadial2(x13());
  }, delete a3.lineX1;
  a3.lineInnerRadius = function() {
    return lineRadial2(y06());
  }, delete a3.lineY0;
  a3.lineOuterRadius = function() {
    return lineRadial2(y12());
  }, delete a3.lineY1;
  a3.curve = function(_2) {
    return arguments.length ? c7(curveRadial2(_2)) : c7()._curve;
  };
  return a3;
}
var init_areaRadial = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/areaRadial.js"() {
    init_radial2();
    init_area5();
    init_lineRadial();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/pointRadial.js
function pointRadial_default2(x7, y7) {
  return [(y7 = +y7) * Math.cos(x7 -= Math.PI / 2), y7 * Math.sin(x7)];
}
var init_pointRadial = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/pointRadial.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/array.js
var slice15;
var init_array8 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/array.js"() {
    slice15 = Array.prototype.slice;
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/link/index.js
function linkSource(d) {
  return d.source;
}
function linkTarget(d) {
  return d.target;
}
function link4(curve) {
  var source = linkSource, target = linkTarget, x7 = x5, y7 = y5, context = null;
  function link5() {
    var buffer, argv = slice15.call(arguments), s3 = source.apply(this, argv), t = target.apply(this, argv);
    if (!context)
      context = buffer = path_default6();
    curve(context, +x7.apply(this, (argv[0] = s3, argv)), +y7.apply(this, argv), +x7.apply(this, (argv[0] = t, argv)), +y7.apply(this, argv));
    if (buffer)
      return context = null, buffer + "" || null;
  }
  link5.source = function(_2) {
    return arguments.length ? (source = _2, link5) : source;
  };
  link5.target = function(_2) {
    return arguments.length ? (target = _2, link5) : target;
  };
  link5.x = function(_2) {
    return arguments.length ? (x7 = typeof _2 === "function" ? _2 : constant_default31(+_2), link5) : x7;
  };
  link5.y = function(_2) {
    return arguments.length ? (y7 = typeof _2 === "function" ? _2 : constant_default31(+_2), link5) : y7;
  };
  link5.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, link5) : context;
  };
  return link5;
}
function curveHorizontal(context, x07, y06, x13, y12) {
  context.moveTo(x07, y06);
  context.bezierCurveTo(x07 = (x07 + x13) / 2, y06, x07, y12, x13, y12);
}
function curveVertical(context, x07, y06, x13, y12) {
  context.moveTo(x07, y06);
  context.bezierCurveTo(x07, y06 = (y06 + y12) / 2, x13, y06, x13, y12);
}
function curveRadial3(context, x07, y06, x13, y12) {
  var p02 = pointRadial_default2(x07, y06), p1 = pointRadial_default2(x07, y06 = (y06 + y12) / 2), p2 = pointRadial_default2(x13, y06), p3 = pointRadial_default2(x13, y12);
  context.moveTo(p02[0], p02[1]);
  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);
}
function linkHorizontal2() {
  return link4(curveHorizontal);
}
function linkVertical2() {
  return link4(curveVertical);
}
function linkRadial2() {
  var l = link4(curveRadial3);
  l.angle = l.x, delete l.x;
  l.radius = l.y, delete l.y;
  return l;
}
var init_link2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/link/index.js"() {
    init_src12();
    init_array8();
    init_constant12();
    init_point2();
    init_pointRadial();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/symbol/circle.js
var circle_default6;
var init_circle4 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/symbol/circle.js"() {
    init_math5();
    circle_default6 = {
      draw: function(context, size) {
        var r = Math.sqrt(size / pi14);
        context.moveTo(r, 0);
        context.arc(0, 0, r, 0, tau15);
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/symbol/cross.js
var cross_default5;
var init_cross3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/symbol/cross.js"() {
    cross_default5 = {
      draw: function(context, size) {
        var r = Math.sqrt(size / 5) / 2;
        context.moveTo(-3 * r, -r);
        context.lineTo(-r, -r);
        context.lineTo(-r, -3 * r);
        context.lineTo(r, -3 * r);
        context.lineTo(r, -r);
        context.lineTo(3 * r, -r);
        context.lineTo(3 * r, r);
        context.lineTo(r, r);
        context.lineTo(r, 3 * r);
        context.lineTo(-r, 3 * r);
        context.lineTo(-r, r);
        context.lineTo(-3 * r, r);
        context.closePath();
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/symbol/diamond.js
var tan302, tan30_22, diamond_default2;
var init_diamond = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/symbol/diamond.js"() {
    tan302 = Math.sqrt(1 / 3);
    tan30_22 = tan302 * 2;
    diamond_default2 = {
      draw: function(context, size) {
        var y7 = Math.sqrt(size / tan30_22), x7 = y7 * tan302;
        context.moveTo(0, -y7);
        context.lineTo(x7, 0);
        context.lineTo(0, y7);
        context.lineTo(-x7, 0);
        context.closePath();
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/symbol/star.js
var ka, kr2, kx2, ky2, star_default2;
var init_star = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/symbol/star.js"() {
    init_math5();
    ka = 0.8908130915292852;
    kr2 = Math.sin(pi14 / 10) / Math.sin(7 * pi14 / 10);
    kx2 = Math.sin(tau15 / 10) * kr2;
    ky2 = -Math.cos(tau15 / 10) * kr2;
    star_default2 = {
      draw: function(context, size) {
        var r = Math.sqrt(size * ka), x7 = kx2 * r, y7 = ky2 * r;
        context.moveTo(0, -r);
        context.lineTo(x7, y7);
        for (var i = 1; i < 5; ++i) {
          var a3 = tau15 * i / 5, c7 = Math.cos(a3), s3 = Math.sin(a3);
          context.lineTo(s3 * r, -c7 * r);
          context.lineTo(c7 * x7 - s3 * y7, s3 * x7 + c7 * y7);
        }
        context.closePath();
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/symbol/square.js
var square_default2;
var init_square = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/symbol/square.js"() {
    square_default2 = {
      draw: function(context, size) {
        var w2 = Math.sqrt(size), x7 = -w2 / 2;
        context.rect(x7, x7, w2, w2);
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/symbol/triangle.js
var sqrt35, triangle_default2;
var init_triangle = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/symbol/triangle.js"() {
    sqrt35 = Math.sqrt(3);
    triangle_default2 = {
      draw: function(context, size) {
        var y7 = -Math.sqrt(size / (sqrt35 * 3));
        context.moveTo(0, y7 * 2);
        context.lineTo(-sqrt35 * y7, -y7);
        context.lineTo(sqrt35 * y7, -y7);
        context.closePath();
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/symbol/wye.js
var c6, s2, k2, a2, wye_default2;
var init_wye = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/symbol/wye.js"() {
    c6 = -0.5;
    s2 = Math.sqrt(3) / 2;
    k2 = 1 / Math.sqrt(12);
    a2 = (k2 / 2 + 1) * 3;
    wye_default2 = {
      draw: function(context, size) {
        var r = Math.sqrt(size / a2), x07 = r / 2, y06 = r * k2, x13 = x07, y12 = r * k2 + r, x22 = -x13, y22 = y12;
        context.moveTo(x07, y06);
        context.lineTo(x13, y12);
        context.lineTo(x22, y22);
        context.lineTo(c6 * x07 - s2 * y06, s2 * x07 + c6 * y06);
        context.lineTo(c6 * x13 - s2 * y12, s2 * x13 + c6 * y12);
        context.lineTo(c6 * x22 - s2 * y22, s2 * x22 + c6 * y22);
        context.lineTo(c6 * x07 + s2 * y06, c6 * y06 - s2 * x07);
        context.lineTo(c6 * x13 + s2 * y12, c6 * y12 - s2 * x13);
        context.lineTo(c6 * x22 + s2 * y22, c6 * y22 - s2 * x22);
        context.closePath();
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/symbol.js
function symbol_default() {
  var type4 = constant_default31(circle_default6), size = constant_default31(64), context = null;
  function symbol() {
    var buffer;
    if (!context)
      context = buffer = path_default6();
    type4.apply(this, arguments).draw(context, +size.apply(this, arguments));
    if (buffer)
      return context = null, buffer + "" || null;
  }
  symbol.type = function(_2) {
    return arguments.length ? (type4 = typeof _2 === "function" ? _2 : constant_default31(_2), symbol) : type4;
  };
  symbol.size = function(_2) {
    return arguments.length ? (size = typeof _2 === "function" ? _2 : constant_default31(+_2), symbol) : size;
  };
  symbol.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, symbol) : context;
  };
  return symbol;
}
var symbols;
var init_symbol = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/symbol.js"() {
    init_src12();
    init_circle4();
    init_cross3();
    init_diamond();
    init_star();
    init_square();
    init_triangle();
    init_wye();
    init_constant12();
    symbols = [
      circle_default6,
      cross_default5,
      diamond_default2,
      square_default2,
      star_default2,
      triangle_default2,
      wye_default2
    ];
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/noop.js
function noop_default4() {
}
var init_noop3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/noop.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/basis.js
function point7(that, x7, y7) {
  that._context.bezierCurveTo(
    (2 * that._x0 + that._x1) / 3,
    (2 * that._y0 + that._y1) / 3,
    (that._x0 + 2 * that._x1) / 3,
    (that._y0 + 2 * that._y1) / 3,
    (that._x0 + 4 * that._x1 + x7) / 6,
    (that._y0 + 4 * that._y1 + y7) / 6
  );
}
function Basis2(context) {
  this._context = context;
}
function basis_default8(context) {
  return new Basis2(context);
}
var init_basis2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/basis.js"() {
    Basis2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._x0 = this._x1 = this._y0 = this._y1 = NaN;
        this._point = 0;
      },
      lineEnd: function() {
        switch (this._point) {
          case 3:
            point7(this, this._x1, this._y1);
          case 2:
            this._context.lineTo(this._x1, this._y1);
            break;
        }
        if (this._line || this._line !== 0 && this._point === 1)
          this._context.closePath();
        this._line = 1 - this._line;
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        switch (this._point) {
          case 0:
            this._point = 1;
            this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            this._point = 3;
            this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
          default:
            point7(this, x7, y7);
            break;
        }
        this._x0 = this._x1, this._x1 = x7;
        this._y0 = this._y1, this._y1 = y7;
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/basisClosed.js
function BasisClosed2(context) {
  this._context = context;
}
function basisClosed_default8(context) {
  return new BasisClosed2(context);
}
var init_basisClosed2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/basisClosed.js"() {
    init_noop3();
    init_basis2();
    BasisClosed2.prototype = {
      areaStart: noop_default4,
      areaEnd: noop_default4,
      lineStart: function() {
        this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;
        this._point = 0;
      },
      lineEnd: function() {
        switch (this._point) {
          case 1: {
            this._context.moveTo(this._x2, this._y2);
            this._context.closePath();
            break;
          }
          case 2: {
            this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);
            this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);
            this._context.closePath();
            break;
          }
          case 3: {
            this.point(this._x2, this._y2);
            this.point(this._x3, this._y3);
            this.point(this._x4, this._y4);
            break;
          }
        }
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        switch (this._point) {
          case 0:
            this._point = 1;
            this._x2 = x7, this._y2 = y7;
            break;
          case 1:
            this._point = 2;
            this._x3 = x7, this._y3 = y7;
            break;
          case 2:
            this._point = 3;
            this._x4 = x7, this._y4 = y7;
            this._context.moveTo((this._x0 + 4 * this._x1 + x7) / 6, (this._y0 + 4 * this._y1 + y7) / 6);
            break;
          default:
            point7(this, x7, y7);
            break;
        }
        this._x0 = this._x1, this._x1 = x7;
        this._y0 = this._y1, this._y1 = y7;
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/basisOpen.js
function BasisOpen2(context) {
  this._context = context;
}
function basisOpen_default2(context) {
  return new BasisOpen2(context);
}
var init_basisOpen = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/basisOpen.js"() {
    init_basis2();
    BasisOpen2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._x0 = this._x1 = this._y0 = this._y1 = NaN;
        this._point = 0;
      },
      lineEnd: function() {
        if (this._line || this._line !== 0 && this._point === 3)
          this._context.closePath();
        this._line = 1 - this._line;
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        switch (this._point) {
          case 0:
            this._point = 1;
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            this._point = 3;
            var x07 = (this._x0 + 4 * this._x1 + x7) / 6, y06 = (this._y0 + 4 * this._y1 + y7) / 6;
            this._line ? this._context.lineTo(x07, y06) : this._context.moveTo(x07, y06);
            break;
          case 3:
            this._point = 4;
          default:
            point7(this, x7, y7);
            break;
        }
        this._x0 = this._x1, this._x1 = x7;
        this._y0 = this._y1, this._y1 = y7;
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/bundle.js
function Bundle2(context, beta) {
  this._basis = new Basis2(context);
  this._beta = beta;
}
var bundle_default2;
var init_bundle = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/bundle.js"() {
    init_basis2();
    Bundle2.prototype = {
      lineStart: function() {
        this._x = [];
        this._y = [];
        this._basis.lineStart();
      },
      lineEnd: function() {
        var x7 = this._x, y7 = this._y, j = x7.length - 1;
        if (j > 0) {
          var x07 = x7[0], y06 = y7[0], dx = x7[j] - x07, dy = y7[j] - y06, i = -1, t;
          while (++i <= j) {
            t = i / j;
            this._basis.point(
              this._beta * x7[i] + (1 - this._beta) * (x07 + t * dx),
              this._beta * y7[i] + (1 - this._beta) * (y06 + t * dy)
            );
          }
        }
        this._x = this._y = null;
        this._basis.lineEnd();
      },
      point: function(x7, y7) {
        this._x.push(+x7);
        this._y.push(+y7);
      }
    };
    bundle_default2 = function custom48(beta) {
      function bundle(context) {
        return beta === 1 ? new Basis2(context) : new Bundle2(context, beta);
      }
      bundle.beta = function(beta2) {
        return custom48(+beta2);
      };
      return bundle;
    }(0.85);
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/cardinal.js
function point8(that, x7, y7) {
  that._context.bezierCurveTo(
    that._x1 + that._k * (that._x2 - that._x0),
    that._y1 + that._k * (that._y2 - that._y0),
    that._x2 + that._k * (that._x1 - x7),
    that._y2 + that._k * (that._y1 - y7),
    that._x2,
    that._y2
  );
}
function Cardinal2(context, tension) {
  this._context = context;
  this._k = (1 - tension) / 6;
}
var cardinal_default2;
var init_cardinal = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/cardinal.js"() {
    Cardinal2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
        this._point = 0;
      },
      lineEnd: function() {
        switch (this._point) {
          case 2:
            this._context.lineTo(this._x2, this._y2);
            break;
          case 3:
            point8(this, this._x1, this._y1);
            break;
        }
        if (this._line || this._line !== 0 && this._point === 1)
          this._context.closePath();
        this._line = 1 - this._line;
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        switch (this._point) {
          case 0:
            this._point = 1;
            this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
            break;
          case 1:
            this._point = 2;
            this._x1 = x7, this._y1 = y7;
            break;
          case 2:
            this._point = 3;
          default:
            point8(this, x7, y7);
            break;
        }
        this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
        this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
      }
    };
    cardinal_default2 = function custom49(tension) {
      function cardinal(context) {
        return new Cardinal2(context, tension);
      }
      cardinal.tension = function(tension2) {
        return custom49(+tension2);
      };
      return cardinal;
    }(0);
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/cardinalClosed.js
function CardinalClosed2(context, tension) {
  this._context = context;
  this._k = (1 - tension) / 6;
}
var cardinalClosed_default2;
var init_cardinalClosed = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/cardinalClosed.js"() {
    init_noop3();
    init_cardinal();
    CardinalClosed2.prototype = {
      areaStart: noop_default4,
      areaEnd: noop_default4,
      lineStart: function() {
        this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;
        this._point = 0;
      },
      lineEnd: function() {
        switch (this._point) {
          case 1: {
            this._context.moveTo(this._x3, this._y3);
            this._context.closePath();
            break;
          }
          case 2: {
            this._context.lineTo(this._x3, this._y3);
            this._context.closePath();
            break;
          }
          case 3: {
            this.point(this._x3, this._y3);
            this.point(this._x4, this._y4);
            this.point(this._x5, this._y5);
            break;
          }
        }
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        switch (this._point) {
          case 0:
            this._point = 1;
            this._x3 = x7, this._y3 = y7;
            break;
          case 1:
            this._point = 2;
            this._context.moveTo(this._x4 = x7, this._y4 = y7);
            break;
          case 2:
            this._point = 3;
            this._x5 = x7, this._y5 = y7;
            break;
          default:
            point8(this, x7, y7);
            break;
        }
        this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
        this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
      }
    };
    cardinalClosed_default2 = function custom50(tension) {
      function cardinal(context) {
        return new CardinalClosed2(context, tension);
      }
      cardinal.tension = function(tension2) {
        return custom50(+tension2);
      };
      return cardinal;
    }(0);
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/cardinalOpen.js
function CardinalOpen2(context, tension) {
  this._context = context;
  this._k = (1 - tension) / 6;
}
var cardinalOpen_default2;
var init_cardinalOpen = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/cardinalOpen.js"() {
    init_cardinal();
    CardinalOpen2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
        this._point = 0;
      },
      lineEnd: function() {
        if (this._line || this._line !== 0 && this._point === 3)
          this._context.closePath();
        this._line = 1 - this._line;
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        switch (this._point) {
          case 0:
            this._point = 1;
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            this._point = 3;
            this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
            break;
          case 3:
            this._point = 4;
          default:
            point8(this, x7, y7);
            break;
        }
        this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
        this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
      }
    };
    cardinalOpen_default2 = function custom51(tension) {
      function cardinal(context) {
        return new CardinalOpen2(context, tension);
      }
      cardinal.tension = function(tension2) {
        return custom51(+tension2);
      };
      return cardinal;
    }(0);
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/catmullRom.js
function point9(that, x7, y7) {
  var x13 = that._x1, y12 = that._y1, x22 = that._x2, y22 = that._y2;
  if (that._l01_a > epsilon13) {
    var a3 = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a, n = 3 * that._l01_a * (that._l01_a + that._l12_a);
    x13 = (x13 * a3 - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;
    y12 = (y12 * a3 - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;
  }
  if (that._l23_a > epsilon13) {
    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a, m = 3 * that._l23_a * (that._l23_a + that._l12_a);
    x22 = (x22 * b + that._x1 * that._l23_2a - x7 * that._l12_2a) / m;
    y22 = (y22 * b + that._y1 * that._l23_2a - y7 * that._l12_2a) / m;
  }
  that._context.bezierCurveTo(x13, y12, x22, y22, that._x2, that._y2);
}
function CatmullRom2(context, alpha) {
  this._context = context;
  this._alpha = alpha;
}
var catmullRom_default2;
var init_catmullRom = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/catmullRom.js"() {
    init_math5();
    init_cardinal();
    CatmullRom2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
        this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
      },
      lineEnd: function() {
        switch (this._point) {
          case 2:
            this._context.lineTo(this._x2, this._y2);
            break;
          case 3:
            this.point(this._x2, this._y2);
            break;
        }
        if (this._line || this._line !== 0 && this._point === 1)
          this._context.closePath();
        this._line = 1 - this._line;
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        if (this._point) {
          var x23 = this._x2 - x7, y23 = this._y2 - y7;
          this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));
        }
        switch (this._point) {
          case 0:
            this._point = 1;
            this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            this._point = 3;
          default:
            point9(this, x7, y7);
            break;
        }
        this._l01_a = this._l12_a, this._l12_a = this._l23_a;
        this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;
        this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
        this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
      }
    };
    catmullRom_default2 = function custom52(alpha) {
      function catmullRom(context) {
        return alpha ? new CatmullRom2(context, alpha) : new Cardinal2(context, 0);
      }
      catmullRom.alpha = function(alpha2) {
        return custom52(+alpha2);
      };
      return catmullRom;
    }(0.5);
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/catmullRomClosed.js
function CatmullRomClosed2(context, alpha) {
  this._context = context;
  this._alpha = alpha;
}
var catmullRomClosed_default2;
var init_catmullRomClosed = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/catmullRomClosed.js"() {
    init_cardinalClosed();
    init_noop3();
    init_catmullRom();
    CatmullRomClosed2.prototype = {
      areaStart: noop_default4,
      areaEnd: noop_default4,
      lineStart: function() {
        this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;
        this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
      },
      lineEnd: function() {
        switch (this._point) {
          case 1: {
            this._context.moveTo(this._x3, this._y3);
            this._context.closePath();
            break;
          }
          case 2: {
            this._context.lineTo(this._x3, this._y3);
            this._context.closePath();
            break;
          }
          case 3: {
            this.point(this._x3, this._y3);
            this.point(this._x4, this._y4);
            this.point(this._x5, this._y5);
            break;
          }
        }
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        if (this._point) {
          var x23 = this._x2 - x7, y23 = this._y2 - y7;
          this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));
        }
        switch (this._point) {
          case 0:
            this._point = 1;
            this._x3 = x7, this._y3 = y7;
            break;
          case 1:
            this._point = 2;
            this._context.moveTo(this._x4 = x7, this._y4 = y7);
            break;
          case 2:
            this._point = 3;
            this._x5 = x7, this._y5 = y7;
            break;
          default:
            point9(this, x7, y7);
            break;
        }
        this._l01_a = this._l12_a, this._l12_a = this._l23_a;
        this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;
        this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
        this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
      }
    };
    catmullRomClosed_default2 = function custom53(alpha) {
      function catmullRom(context) {
        return alpha ? new CatmullRomClosed2(context, alpha) : new CardinalClosed2(context, 0);
      }
      catmullRom.alpha = function(alpha2) {
        return custom53(+alpha2);
      };
      return catmullRom;
    }(0.5);
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/catmullRomOpen.js
function CatmullRomOpen2(context, alpha) {
  this._context = context;
  this._alpha = alpha;
}
var catmullRomOpen_default2;
var init_catmullRomOpen = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/catmullRomOpen.js"() {
    init_cardinalOpen();
    init_catmullRom();
    CatmullRomOpen2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
        this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
      },
      lineEnd: function() {
        if (this._line || this._line !== 0 && this._point === 3)
          this._context.closePath();
        this._line = 1 - this._line;
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        if (this._point) {
          var x23 = this._x2 - x7, y23 = this._y2 - y7;
          this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));
        }
        switch (this._point) {
          case 0:
            this._point = 1;
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            this._point = 3;
            this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
            break;
          case 3:
            this._point = 4;
          default:
            point9(this, x7, y7);
            break;
        }
        this._l01_a = this._l12_a, this._l12_a = this._l23_a;
        this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;
        this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
        this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
      }
    };
    catmullRomOpen_default2 = function custom54(alpha) {
      function catmullRom(context) {
        return alpha ? new CatmullRomOpen2(context, alpha) : new CardinalOpen2(context, 0);
      }
      catmullRom.alpha = function(alpha2) {
        return custom54(+alpha2);
      };
      return catmullRom;
    }(0.5);
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/linearClosed.js
function LinearClosed2(context) {
  this._context = context;
}
function linearClosed_default2(context) {
  return new LinearClosed2(context);
}
var init_linearClosed = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/linearClosed.js"() {
    init_noop3();
    LinearClosed2.prototype = {
      areaStart: noop_default4,
      areaEnd: noop_default4,
      lineStart: function() {
        this._point = 0;
      },
      lineEnd: function() {
        if (this._point)
          this._context.closePath();
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        if (this._point)
          this._context.lineTo(x7, y7);
        else
          this._point = 1, this._context.moveTo(x7, y7);
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/monotone.js
function sign4(x7) {
  return x7 < 0 ? -1 : 1;
}
function slope32(that, x22, y22) {
  var h0 = that._x1 - that._x0, h1 = x22 - that._x1, s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0), s1 = (y22 - that._y1) / (h1 || h0 < 0 && -0), p = (s0 * h1 + s1 * h0) / (h0 + h1);
  return (sign4(s0) + sign4(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;
}
function slope22(that, t) {
  var h = that._x1 - that._x0;
  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;
}
function point10(that, t010, t110) {
  var x07 = that._x0, y06 = that._y0, x13 = that._x1, y12 = that._y1, dx = (x13 - x07) / 3;
  that._context.bezierCurveTo(x07 + dx, y06 + dx * t010, x13 - dx, y12 - dx * t110, x13, y12);
}
function MonotoneX2(context) {
  this._context = context;
}
function MonotoneY2(context) {
  this._context = new ReflectContext2(context);
}
function ReflectContext2(context) {
  this._context = context;
}
function monotoneX2(context) {
  return new MonotoneX2(context);
}
function monotoneY2(context) {
  return new MonotoneY2(context);
}
var init_monotone = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/monotone.js"() {
    MonotoneX2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;
        this._point = 0;
      },
      lineEnd: function() {
        switch (this._point) {
          case 2:
            this._context.lineTo(this._x1, this._y1);
            break;
          case 3:
            point10(this, this._t0, slope22(this, this._t0));
            break;
        }
        if (this._line || this._line !== 0 && this._point === 1)
          this._context.closePath();
        this._line = 1 - this._line;
      },
      point: function(x7, y7) {
        var t110 = NaN;
        x7 = +x7, y7 = +y7;
        if (x7 === this._x1 && y7 === this._y1)
          return;
        switch (this._point) {
          case 0:
            this._point = 1;
            this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            this._point = 3;
            point10(this, slope22(this, t110 = slope32(this, x7, y7)), t110);
            break;
          default:
            point10(this, this._t0, t110 = slope32(this, x7, y7));
            break;
        }
        this._x0 = this._x1, this._x1 = x7;
        this._y0 = this._y1, this._y1 = y7;
        this._t0 = t110;
      }
    };
    (MonotoneY2.prototype = Object.create(MonotoneX2.prototype)).point = function(x7, y7) {
      MonotoneX2.prototype.point.call(this, y7, x7);
    };
    ReflectContext2.prototype = {
      moveTo: function(x7, y7) {
        this._context.moveTo(y7, x7);
      },
      closePath: function() {
        this._context.closePath();
      },
      lineTo: function(x7, y7) {
        this._context.lineTo(y7, x7);
      },
      bezierCurveTo: function(x13, y12, x22, y22, x7, y7) {
        this._context.bezierCurveTo(y12, x13, y22, x22, y7, x7);
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/natural.js
function Natural2(context) {
  this._context = context;
}
function controlPoints2(x7) {
  var i, n = x7.length - 1, m, a3 = new Array(n), b = new Array(n), r = new Array(n);
  a3[0] = 0, b[0] = 2, r[0] = x7[0] + 2 * x7[1];
  for (i = 1; i < n - 1; ++i)
    a3[i] = 1, b[i] = 4, r[i] = 4 * x7[i] + 2 * x7[i + 1];
  a3[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x7[n - 1] + x7[n];
  for (i = 1; i < n; ++i)
    m = a3[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];
  a3[n - 1] = r[n - 1] / b[n - 1];
  for (i = n - 2; i >= 0; --i)
    a3[i] = (r[i] - a3[i + 1]) / b[i];
  b[n - 1] = (x7[n] + a3[n - 1]) / 2;
  for (i = 0; i < n - 1; ++i)
    b[i] = 2 * x7[i + 1] - a3[i + 1];
  return [a3, b];
}
function natural_default2(context) {
  return new Natural2(context);
}
var init_natural = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/natural.js"() {
    Natural2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._x = [];
        this._y = [];
      },
      lineEnd: function() {
        var x7 = this._x, y7 = this._y, n = x7.length;
        if (n) {
          this._line ? this._context.lineTo(x7[0], y7[0]) : this._context.moveTo(x7[0], y7[0]);
          if (n === 2) {
            this._context.lineTo(x7[1], y7[1]);
          } else {
            var px = controlPoints2(x7), py = controlPoints2(y7);
            for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {
              this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x7[i1], y7[i1]);
            }
          }
        }
        if (this._line || this._line !== 0 && n === 1)
          this._context.closePath();
        this._line = 1 - this._line;
        this._x = this._y = null;
      },
      point: function(x7, y7) {
        this._x.push(+x7);
        this._y.push(+y7);
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/curve/step.js
function Step2(context, t) {
  this._context = context;
  this._t = t;
}
function step_default2(context) {
  return new Step2(context, 0.5);
}
function stepBefore2(context) {
  return new Step2(context, 0);
}
function stepAfter2(context) {
  return new Step2(context, 1);
}
var init_step = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/curve/step.js"() {
    Step2.prototype = {
      areaStart: function() {
        this._line = 0;
      },
      areaEnd: function() {
        this._line = NaN;
      },
      lineStart: function() {
        this._x = this._y = NaN;
        this._point = 0;
      },
      lineEnd: function() {
        if (0 < this._t && this._t < 1 && this._point === 2)
          this._context.lineTo(this._x, this._y);
        if (this._line || this._line !== 0 && this._point === 1)
          this._context.closePath();
        if (this._line >= 0)
          this._t = 1 - this._t, this._line = 1 - this._line;
      },
      point: function(x7, y7) {
        x7 = +x7, y7 = +y7;
        switch (this._point) {
          case 0:
            this._point = 1;
            this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
            break;
          case 1:
            this._point = 2;
          default: {
            if (this._t <= 0) {
              this._context.lineTo(this._x, y7);
              this._context.lineTo(x7, y7);
            } else {
              var x13 = this._x * (1 - this._t) + x7 * this._t;
              this._context.lineTo(x13, this._y);
              this._context.lineTo(x13, y7);
            }
            break;
          }
        }
        this._x = x7, this._y = y7;
      }
    };
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/offset/none.js
function none_default3(series, order) {
  if (!((n = series.length) > 1))
    return;
  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {
    s0 = s1, s1 = series[order[i]];
    for (j = 0; j < m; ++j) {
      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];
    }
  }
}
var init_none = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/offset/none.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/order/none.js
function none_default4(series) {
  var n = series.length, o = new Array(n);
  while (--n >= 0)
    o[n] = n;
  return o;
}
var init_none2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/order/none.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/stack.js
function stackValue(d, key) {
  return d[key];
}
function stack_default2() {
  var keys = constant_default31([]), order = none_default4, offset = none_default3, value = stackValue;
  function stack(data) {
    var kz = keys.apply(this, arguments), i, m = data.length, n = kz.length, sz = new Array(n), oz;
    for (i = 0; i < n; ++i) {
      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {
        si[j] = sij = [0, +value(data[j], ki, j, data)];
        sij.data = data[j];
      }
      si.key = ki;
    }
    for (i = 0, oz = order(sz); i < n; ++i) {
      sz[oz[i]].index = i;
    }
    offset(sz, oz);
    return sz;
  }
  stack.keys = function(_2) {
    return arguments.length ? (keys = typeof _2 === "function" ? _2 : constant_default31(slice15.call(_2)), stack) : keys;
  };
  stack.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant_default31(+_2), stack) : value;
  };
  stack.order = function(_2) {
    return arguments.length ? (order = _2 == null ? none_default4 : typeof _2 === "function" ? _2 : constant_default31(slice15.call(_2)), stack) : order;
  };
  stack.offset = function(_2) {
    return arguments.length ? (offset = _2 == null ? none_default3 : _2, stack) : offset;
  };
  return stack;
}
var init_stack = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/stack.js"() {
    init_array8();
    init_constant12();
    init_none();
    init_none2();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/offset/expand.js
function expand_default2(series, order) {
  if (!((n = series.length) > 0))
    return;
  for (var i, n, j = 0, m = series[0].length, y7; j < m; ++j) {
    for (y7 = i = 0; i < n; ++i)
      y7 += series[i][j][1] || 0;
    if (y7)
      for (i = 0; i < n; ++i)
        series[i][j][1] /= y7;
  }
  none_default3(series, order);
}
var init_expand = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/offset/expand.js"() {
    init_none();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/offset/diverging.js
function diverging_default2(series, order) {
  if (!((n = series.length) > 0))
    return;
  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {
    for (yp = yn = 0, i = 0; i < n; ++i) {
      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {
        d[0] = yp, d[1] = yp += dy;
      } else if (dy < 0) {
        d[1] = yn, d[0] = yn += dy;
      } else {
        d[0] = 0, d[1] = dy;
      }
    }
  }
}
var init_diverging2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/offset/diverging.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/offset/silhouette.js
function silhouette_default2(series, order) {
  if (!((n = series.length) > 0))
    return;
  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {
    for (var i = 0, y7 = 0; i < n; ++i)
      y7 += series[i][j][1] || 0;
    s0[j][1] += s0[j][0] = -y7 / 2;
  }
  none_default3(series, order);
}
var init_silhouette = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/offset/silhouette.js"() {
    init_none();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/offset/wiggle.js
function wiggle_default2(series, order) {
  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0))
    return;
  for (var y7 = 0, j = 1, s0, m, n; j < m; ++j) {
    for (var i = 0, s1 = 0, s22 = 0; i < n; ++i) {
      var si = series[order[i]], sij0 = si[j][1] || 0, sij1 = si[j - 1][1] || 0, s3 = (sij0 - sij1) / 2;
      for (var k3 = 0; k3 < i; ++k3) {
        var sk = series[order[k3]], skj0 = sk[j][1] || 0, skj1 = sk[j - 1][1] || 0;
        s3 += skj0 - skj1;
      }
      s1 += sij0, s22 += s3 * sij0;
    }
    s0[j - 1][1] += s0[j - 1][0] = y7;
    if (s1)
      y7 -= s22 / s1;
  }
  s0[j - 1][1] += s0[j - 1][0] = y7;
  none_default3(series, order);
}
var init_wiggle = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/offset/wiggle.js"() {
    init_none();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/order/appearance.js
function appearance_default2(series) {
  var peaks = series.map(peak);
  return none_default4(series).sort(function(a3, b) {
    return peaks[a3] - peaks[b];
  });
}
function peak(series) {
  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;
  while (++i < n)
    if ((vi = +series[i][1]) > vj)
      vj = vi, j = i;
  return j;
}
var init_appearance = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/order/appearance.js"() {
    init_none2();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/order/ascending.js
function ascending_default5(series) {
  var sums = series.map(sum8);
  return none_default4(series).sort(function(a3, b) {
    return sums[a3] - sums[b];
  });
}
function sum8(series) {
  var s3 = 0, i = -1, n = series.length, v2;
  while (++i < n)
    if (v2 = +series[i][1])
      s3 += v2;
  return s3;
}
var init_ascending3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/order/ascending.js"() {
    init_none2();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/order/descending.js
function descending_default5(series) {
  return ascending_default5(series).reverse();
}
var init_descending3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/order/descending.js"() {
    init_ascending3();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/order/insideOut.js
function insideOut_default2(series) {
  var n = series.length, i, j, sums = series.map(sum8), order = appearance_default2(series), top3 = 0, bottom3 = 0, tops = [], bottoms = [];
  for (i = 0; i < n; ++i) {
    j = order[i];
    if (top3 < bottom3) {
      top3 += sums[j];
      tops.push(j);
    } else {
      bottom3 += sums[j];
      bottoms.push(j);
    }
  }
  return bottoms.reverse().concat(tops);
}
var init_insideOut = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/order/insideOut.js"() {
    init_appearance();
    init_ascending3();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/order/reverse.js
function reverse_default2(series) {
  return none_default4(series).reverse();
}
var init_reverse = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/order/reverse.js"() {
    init_none2();
  }
});

// node_modules/dagre-d3/node_modules/d3-shape/src/index.js
var init_src29 = __esm({
  "node_modules/dagre-d3/node_modules/d3-shape/src/index.js"() {
    init_arc();
    init_area5();
    init_line2();
    init_pie();
    init_areaRadial();
    init_lineRadial();
    init_pointRadial();
    init_link2();
    init_symbol();
    init_circle4();
    init_cross3();
    init_diamond();
    init_square();
    init_star();
    init_triangle();
    init_wye();
    init_basisClosed2();
    init_basisOpen();
    init_basis2();
    init_bundle();
    init_cardinalClosed();
    init_cardinalOpen();
    init_cardinal();
    init_catmullRomClosed();
    init_catmullRomOpen();
    init_catmullRom();
    init_linearClosed();
    init_linear3();
    init_monotone();
    init_natural();
    init_step();
    init_stack();
    init_expand();
    init_diverging2();
    init_none();
    init_silhouette();
    init_wiggle();
    init_appearance();
    init_ascending3();
    init_descending3();
    init_insideOut();
    init_none2();
    init_reverse();
  }
});

// node_modules/d3-voronoi/src/constant.js
function constant_default32(x7) {
  return function() {
    return x7;
  };
}
var init_constant13 = __esm({
  "node_modules/d3-voronoi/src/constant.js"() {
  }
});

// node_modules/d3-voronoi/src/point.js
function x6(d) {
  return d[0];
}
function y6(d) {
  return d[1];
}
var init_point3 = __esm({
  "node_modules/d3-voronoi/src/point.js"() {
  }
});

// node_modules/d3-voronoi/src/RedBlackTree.js
function RedBlackTree() {
  this._ = null;
}
function RedBlackNode(node2) {
  node2.U = node2.C = node2.L = node2.R = node2.P = node2.N = null;
}
function RedBlackRotateLeft(tree, node2) {
  var p = node2, q = node2.R, parent = p.U;
  if (parent) {
    if (parent.L === p)
      parent.L = q;
    else
      parent.R = q;
  } else {
    tree._ = q;
  }
  q.U = parent;
  p.U = q;
  p.R = q.L;
  if (p.R)
    p.R.U = p;
  q.L = p;
}
function RedBlackRotateRight(tree, node2) {
  var p = node2, q = node2.L, parent = p.U;
  if (parent) {
    if (parent.L === p)
      parent.L = q;
    else
      parent.R = q;
  } else {
    tree._ = q;
  }
  q.U = parent;
  p.U = q;
  p.L = q.R;
  if (p.L)
    p.L.U = p;
  q.R = p;
}
function RedBlackFirst(node2) {
  while (node2.L)
    node2 = node2.L;
  return node2;
}
var RedBlackTree_default;
var init_RedBlackTree = __esm({
  "node_modules/d3-voronoi/src/RedBlackTree.js"() {
    RedBlackTree.prototype = {
      constructor: RedBlackTree,
      insert: function(after, node2) {
        var parent, grandpa, uncle;
        if (after) {
          node2.P = after;
          node2.N = after.N;
          if (after.N)
            after.N.P = node2;
          after.N = node2;
          if (after.R) {
            after = after.R;
            while (after.L)
              after = after.L;
            after.L = node2;
          } else {
            after.R = node2;
          }
          parent = after;
        } else if (this._) {
          after = RedBlackFirst(this._);
          node2.P = null;
          node2.N = after;
          after.P = after.L = node2;
          parent = after;
        } else {
          node2.P = node2.N = null;
          this._ = node2;
          parent = null;
        }
        node2.L = node2.R = null;
        node2.U = parent;
        node2.C = true;
        after = node2;
        while (parent && parent.C) {
          grandpa = parent.U;
          if (parent === grandpa.L) {
            uncle = grandpa.R;
            if (uncle && uncle.C) {
              parent.C = uncle.C = false;
              grandpa.C = true;
              after = grandpa;
            } else {
              if (after === parent.R) {
                RedBlackRotateLeft(this, parent);
                after = parent;
                parent = after.U;
              }
              parent.C = false;
              grandpa.C = true;
              RedBlackRotateRight(this, grandpa);
            }
          } else {
            uncle = grandpa.L;
            if (uncle && uncle.C) {
              parent.C = uncle.C = false;
              grandpa.C = true;
              after = grandpa;
            } else {
              if (after === parent.L) {
                RedBlackRotateRight(this, parent);
                after = parent;
                parent = after.U;
              }
              parent.C = false;
              grandpa.C = true;
              RedBlackRotateLeft(this, grandpa);
            }
          }
          parent = after.U;
        }
        this._.C = false;
      },
      remove: function(node2) {
        if (node2.N)
          node2.N.P = node2.P;
        if (node2.P)
          node2.P.N = node2.N;
        node2.N = node2.P = null;
        var parent = node2.U, sibling, left3 = node2.L, right3 = node2.R, next2, red;
        if (!left3)
          next2 = right3;
        else if (!right3)
          next2 = left3;
        else
          next2 = RedBlackFirst(right3);
        if (parent) {
          if (parent.L === node2)
            parent.L = next2;
          else
            parent.R = next2;
        } else {
          this._ = next2;
        }
        if (left3 && right3) {
          red = next2.C;
          next2.C = node2.C;
          next2.L = left3;
          left3.U = next2;
          if (next2 !== right3) {
            parent = next2.U;
            next2.U = node2.U;
            node2 = next2.R;
            parent.L = node2;
            next2.R = right3;
            right3.U = next2;
          } else {
            next2.U = parent;
            parent = next2;
            node2 = next2.R;
          }
        } else {
          red = node2.C;
          node2 = next2;
        }
        if (node2)
          node2.U = parent;
        if (red)
          return;
        if (node2 && node2.C) {
          node2.C = false;
          return;
        }
        do {
          if (node2 === this._)
            break;
          if (node2 === parent.L) {
            sibling = parent.R;
            if (sibling.C) {
              sibling.C = false;
              parent.C = true;
              RedBlackRotateLeft(this, parent);
              sibling = parent.R;
            }
            if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {
              if (!sibling.R || !sibling.R.C) {
                sibling.L.C = false;
                sibling.C = true;
                RedBlackRotateRight(this, sibling);
                sibling = parent.R;
              }
              sibling.C = parent.C;
              parent.C = sibling.R.C = false;
              RedBlackRotateLeft(this, parent);
              node2 = this._;
              break;
            }
          } else {
            sibling = parent.L;
            if (sibling.C) {
              sibling.C = false;
              parent.C = true;
              RedBlackRotateRight(this, parent);
              sibling = parent.L;
            }
            if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {
              if (!sibling.L || !sibling.L.C) {
                sibling.R.C = false;
                sibling.C = true;
                RedBlackRotateLeft(this, sibling);
                sibling = parent.L;
              }
              sibling.C = parent.C;
              parent.C = sibling.L.C = false;
              RedBlackRotateRight(this, parent);
              node2 = this._;
              break;
            }
          }
          sibling.C = true;
          node2 = parent;
          parent = parent.U;
        } while (!node2.C);
        if (node2)
          node2.C = false;
      }
    };
    RedBlackTree_default = RedBlackTree;
  }
});

// node_modules/d3-voronoi/src/Edge.js
function createEdge(left3, right3, v0, v1) {
  var edge = [null, null], index6 = edges.push(edge) - 1;
  edge.left = left3;
  edge.right = right3;
  if (v0)
    setEdgeEnd(edge, left3, right3, v0);
  if (v1)
    setEdgeEnd(edge, right3, left3, v1);
  cells[left3.index].halfedges.push(index6);
  cells[right3.index].halfedges.push(index6);
  return edge;
}
function createBorderEdge(left3, v0, v1) {
  var edge = [v0, v1];
  edge.left = left3;
  return edge;
}
function setEdgeEnd(edge, left3, right3, vertex) {
  if (!edge[0] && !edge[1]) {
    edge[0] = vertex;
    edge.left = left3;
    edge.right = right3;
  } else if (edge.left === right3) {
    edge[1] = vertex;
  } else {
    edge[0] = vertex;
  }
}
function clipEdge(edge, x07, y06, x13, y12) {
  var a3 = edge[0], b = edge[1], ax = a3[0], ay = a3[1], bx = b[0], by = b[1], t010 = 0, t110 = 1, dx = bx - ax, dy = by - ay, r;
  r = x07 - ax;
  if (!dx && r > 0)
    return;
  r /= dx;
  if (dx < 0) {
    if (r < t010)
      return;
    if (r < t110)
      t110 = r;
  } else if (dx > 0) {
    if (r > t110)
      return;
    if (r > t010)
      t010 = r;
  }
  r = x13 - ax;
  if (!dx && r < 0)
    return;
  r /= dx;
  if (dx < 0) {
    if (r > t110)
      return;
    if (r > t010)
      t010 = r;
  } else if (dx > 0) {
    if (r < t010)
      return;
    if (r < t110)
      t110 = r;
  }
  r = y06 - ay;
  if (!dy && r > 0)
    return;
  r /= dy;
  if (dy < 0) {
    if (r < t010)
      return;
    if (r < t110)
      t110 = r;
  } else if (dy > 0) {
    if (r > t110)
      return;
    if (r > t010)
      t010 = r;
  }
  r = y12 - ay;
  if (!dy && r < 0)
    return;
  r /= dy;
  if (dy < 0) {
    if (r > t110)
      return;
    if (r > t010)
      t010 = r;
  } else if (dy > 0) {
    if (r < t010)
      return;
    if (r < t110)
      t110 = r;
  }
  if (!(t010 > 0) && !(t110 < 1))
    return true;
  if (t010 > 0)
    edge[0] = [ax + t010 * dx, ay + t010 * dy];
  if (t110 < 1)
    edge[1] = [ax + t110 * dx, ay + t110 * dy];
  return true;
}
function connectEdge(edge, x07, y06, x13, y12) {
  var v1 = edge[1];
  if (v1)
    return true;
  var v0 = edge[0], left3 = edge.left, right3 = edge.right, lx = left3[0], ly = left3[1], rx = right3[0], ry = right3[1], fx = (lx + rx) / 2, fy = (ly + ry) / 2, fm, fb;
  if (ry === ly) {
    if (fx < x07 || fx >= x13)
      return;
    if (lx > rx) {
      if (!v0)
        v0 = [fx, y06];
      else if (v0[1] >= y12)
        return;
      v1 = [fx, y12];
    } else {
      if (!v0)
        v0 = [fx, y12];
      else if (v0[1] < y06)
        return;
      v1 = [fx, y06];
    }
  } else {
    fm = (lx - rx) / (ry - ly);
    fb = fy - fm * fx;
    if (fm < -1 || fm > 1) {
      if (lx > rx) {
        if (!v0)
          v0 = [(y06 - fb) / fm, y06];
        else if (v0[1] >= y12)
          return;
        v1 = [(y12 - fb) / fm, y12];
      } else {
        if (!v0)
          v0 = [(y12 - fb) / fm, y12];
        else if (v0[1] < y06)
          return;
        v1 = [(y06 - fb) / fm, y06];
      }
    } else {
      if (ly < ry) {
        if (!v0)
          v0 = [x07, fm * x07 + fb];
        else if (v0[0] >= x13)
          return;
        v1 = [x13, fm * x13 + fb];
      } else {
        if (!v0)
          v0 = [x13, fm * x13 + fb];
        else if (v0[0] < x07)
          return;
        v1 = [x07, fm * x07 + fb];
      }
    }
  }
  edge[0] = v0;
  edge[1] = v1;
  return true;
}
function clipEdges(x07, y06, x13, y12) {
  var i = edges.length, edge;
  while (i--) {
    if (!connectEdge(edge = edges[i], x07, y06, x13, y12) || !clipEdge(edge, x07, y06, x13, y12) || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon14 || Math.abs(edge[0][1] - edge[1][1]) > epsilon14)) {
      delete edges[i];
    }
  }
}
var init_Edge = __esm({
  "node_modules/d3-voronoi/src/Edge.js"() {
    init_Diagram();
  }
});

// node_modules/d3-voronoi/src/Cell.js
function createCell(site) {
  return cells[site.index] = {
    site,
    halfedges: []
  };
}
function cellHalfedgeAngle(cell, edge) {
  var site = cell.site, va = edge.left, vb = edge.right;
  if (site === vb)
    vb = va, va = site;
  if (vb)
    return Math.atan2(vb[1] - va[1], vb[0] - va[0]);
  if (site === va)
    va = edge[1], vb = edge[0];
  else
    va = edge[0], vb = edge[1];
  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);
}
function cellHalfedgeStart(cell, edge) {
  return edge[+(edge.left !== cell.site)];
}
function cellHalfedgeEnd(cell, edge) {
  return edge[+(edge.left === cell.site)];
}
function sortCellHalfedges() {
  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {
    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {
      var index6 = new Array(m), array12 = new Array(m);
      for (j = 0; j < m; ++j)
        index6[j] = j, array12[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);
      index6.sort(function(i2, j2) {
        return array12[j2] - array12[i2];
      });
      for (j = 0; j < m; ++j)
        array12[j] = halfedges[index6[j]];
      for (j = 0; j < m; ++j)
        halfedges[j] = array12[j];
    }
  }
}
function clipCells(x07, y06, x13, y12) {
  var nCells = cells.length, iCell, cell, site, iHalfedge, halfedges, nHalfedges, start6, startX, startY, end2, endX, endY, cover = true;
  for (iCell = 0; iCell < nCells; ++iCell) {
    if (cell = cells[iCell]) {
      site = cell.site;
      halfedges = cell.halfedges;
      iHalfedge = halfedges.length;
      while (iHalfedge--) {
        if (!edges[halfedges[iHalfedge]]) {
          halfedges.splice(iHalfedge, 1);
        }
      }
      iHalfedge = 0, nHalfedges = halfedges.length;
      while (iHalfedge < nHalfedges) {
        end2 = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end2[0], endY = end2[1];
        start6 = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start6[0], startY = start6[1];
        if (Math.abs(endX - startX) > epsilon14 || Math.abs(endY - startY) > epsilon14) {
          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(
            site,
            end2,
            Math.abs(endX - x07) < epsilon14 && y12 - endY > epsilon14 ? [x07, Math.abs(startX - x07) < epsilon14 ? startY : y12] : Math.abs(endY - y12) < epsilon14 && x13 - endX > epsilon14 ? [Math.abs(startY - y12) < epsilon14 ? startX : x13, y12] : Math.abs(endX - x13) < epsilon14 && endY - y06 > epsilon14 ? [x13, Math.abs(startX - x13) < epsilon14 ? startY : y06] : Math.abs(endY - y06) < epsilon14 && endX - x07 > epsilon14 ? [Math.abs(startY - y06) < epsilon14 ? startX : x07, y06] : null
          )) - 1);
          ++nHalfedges;
        }
      }
      if (nHalfedges)
        cover = false;
    }
  }
  if (cover) {
    var dx, dy, d2, dc = Infinity;
    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {
      if (cell = cells[iCell]) {
        site = cell.site;
        dx = site[0] - x07;
        dy = site[1] - y06;
        d2 = dx * dx + dy * dy;
        if (d2 < dc)
          dc = d2, cover = cell;
      }
    }
    if (cover) {
      var v00 = [x07, y06], v01 = [x07, y12], v11 = [x13, y12], v10 = [x13, y06];
      cover.halfedges.push(
        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,
        edges.push(createBorderEdge(site, v01, v11)) - 1,
        edges.push(createBorderEdge(site, v11, v10)) - 1,
        edges.push(createBorderEdge(site, v10, v00)) - 1
      );
    }
  }
  for (iCell = 0; iCell < nCells; ++iCell) {
    if (cell = cells[iCell]) {
      if (!cell.halfedges.length) {
        delete cells[iCell];
      }
    }
  }
}
var init_Cell = __esm({
  "node_modules/d3-voronoi/src/Cell.js"() {
    init_Edge();
    init_Diagram();
  }
});

// node_modules/d3-voronoi/src/Circle.js
function Circle() {
  RedBlackNode(this);
  this.x = this.y = this.arc = this.site = this.cy = null;
}
function attachCircle(arc) {
  var lArc = arc.P, rArc = arc.N;
  if (!lArc || !rArc)
    return;
  var lSite = lArc.site, cSite = arc.site, rSite = rArc.site;
  if (lSite === rSite)
    return;
  var bx = cSite[0], by = cSite[1], ax = lSite[0] - bx, ay = lSite[1] - by, cx = rSite[0] - bx, cy = rSite[1] - by;
  var d = 2 * (ax * cy - ay * cx);
  if (d >= -epsilon29)
    return;
  var ha = ax * ax + ay * ay, hc = cx * cx + cy * cy, x7 = (cy * ha - ay * hc) / d, y7 = (ax * hc - cx * ha) / d;
  var circle4 = circlePool.pop() || new Circle();
  circle4.arc = arc;
  circle4.site = cSite;
  circle4.x = x7 + bx;
  circle4.y = (circle4.cy = y7 + by) + Math.sqrt(x7 * x7 + y7 * y7);
  arc.circle = circle4;
  var before = null, node2 = circles._;
  while (node2) {
    if (circle4.y < node2.y || circle4.y === node2.y && circle4.x <= node2.x) {
      if (node2.L)
        node2 = node2.L;
      else {
        before = node2.P;
        break;
      }
    } else {
      if (node2.R)
        node2 = node2.R;
      else {
        before = node2;
        break;
      }
    }
  }
  circles.insert(before, circle4);
  if (!before)
    firstCircle = circle4;
}
function detachCircle(arc) {
  var circle4 = arc.circle;
  if (circle4) {
    if (!circle4.P)
      firstCircle = circle4.N;
    circles.remove(circle4);
    circlePool.push(circle4);
    RedBlackNode(circle4);
    arc.circle = null;
  }
}
var circlePool, firstCircle;
var init_Circle = __esm({
  "node_modules/d3-voronoi/src/Circle.js"() {
    init_RedBlackTree();
    init_Diagram();
    circlePool = [];
  }
});

// node_modules/d3-voronoi/src/Beach.js
function Beach() {
  RedBlackNode(this);
  this.edge = this.site = this.circle = null;
}
function createBeach(site) {
  var beach = beachPool.pop() || new Beach();
  beach.site = site;
  return beach;
}
function detachBeach(beach) {
  detachCircle(beach);
  beaches.remove(beach);
  beachPool.push(beach);
  RedBlackNode(beach);
}
function removeBeach(beach) {
  var circle4 = beach.circle, x7 = circle4.x, y7 = circle4.cy, vertex = [x7, y7], previous = beach.P, next2 = beach.N, disappearing = [beach];
  detachBeach(beach);
  var lArc = previous;
  while (lArc.circle && Math.abs(x7 - lArc.circle.x) < epsilon14 && Math.abs(y7 - lArc.circle.cy) < epsilon14) {
    previous = lArc.P;
    disappearing.unshift(lArc);
    detachBeach(lArc);
    lArc = previous;
  }
  disappearing.unshift(lArc);
  detachCircle(lArc);
  var rArc = next2;
  while (rArc.circle && Math.abs(x7 - rArc.circle.x) < epsilon14 && Math.abs(y7 - rArc.circle.cy) < epsilon14) {
    next2 = rArc.N;
    disappearing.push(rArc);
    detachBeach(rArc);
    rArc = next2;
  }
  disappearing.push(rArc);
  detachCircle(rArc);
  var nArcs = disappearing.length, iArc;
  for (iArc = 1; iArc < nArcs; ++iArc) {
    rArc = disappearing[iArc];
    lArc = disappearing[iArc - 1];
    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);
  }
  lArc = disappearing[0];
  rArc = disappearing[nArcs - 1];
  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);
  attachCircle(lArc);
  attachCircle(rArc);
}
function addBeach(site) {
  var x7 = site[0], directrix = site[1], lArc, rArc, dxl, dxr, node2 = beaches._;
  while (node2) {
    dxl = leftBreakPoint(node2, directrix) - x7;
    if (dxl > epsilon14)
      node2 = node2.L;
    else {
      dxr = x7 - rightBreakPoint(node2, directrix);
      if (dxr > epsilon14) {
        if (!node2.R) {
          lArc = node2;
          break;
        }
        node2 = node2.R;
      } else {
        if (dxl > -epsilon14) {
          lArc = node2.P;
          rArc = node2;
        } else if (dxr > -epsilon14) {
          lArc = node2;
          rArc = node2.N;
        } else {
          lArc = rArc = node2;
        }
        break;
      }
    }
  }
  createCell(site);
  var newArc = createBeach(site);
  beaches.insert(lArc, newArc);
  if (!lArc && !rArc)
    return;
  if (lArc === rArc) {
    detachCircle(lArc);
    rArc = createBeach(lArc.site);
    beaches.insert(newArc, rArc);
    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);
    attachCircle(lArc);
    attachCircle(rArc);
    return;
  }
  if (!rArc) {
    newArc.edge = createEdge(lArc.site, newArc.site);
    return;
  }
  detachCircle(lArc);
  detachCircle(rArc);
  var lSite = lArc.site, ax = lSite[0], ay = lSite[1], bx = site[0] - ax, by = site[1] - ay, rSite = rArc.site, cx = rSite[0] - ax, cy = rSite[1] - ay, d = 2 * (bx * cy - by * cx), hb = bx * bx + by * by, hc = cx * cx + cy * cy, vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];
  setEdgeEnd(rArc.edge, lSite, rSite, vertex);
  newArc.edge = createEdge(lSite, site, null, vertex);
  rArc.edge = createEdge(site, rSite, null, vertex);
  attachCircle(lArc);
  attachCircle(rArc);
}
function leftBreakPoint(arc, directrix) {
  var site = arc.site, rfocx = site[0], rfocy = site[1], pby2 = rfocy - directrix;
  if (!pby2)
    return rfocx;
  var lArc = arc.P;
  if (!lArc)
    return -Infinity;
  site = lArc.site;
  var lfocx = site[0], lfocy = site[1], plby2 = lfocy - directrix;
  if (!plby2)
    return lfocx;
  var hl = lfocx - rfocx, aby2 = 1 / pby2 - 1 / plby2, b = hl / plby2;
  if (aby2)
    return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;
  return (rfocx + lfocx) / 2;
}
function rightBreakPoint(arc, directrix) {
  var rArc = arc.N;
  if (rArc)
    return leftBreakPoint(rArc, directrix);
  var site = arc.site;
  return site[1] === directrix ? site[0] : Infinity;
}
var beachPool;
var init_Beach = __esm({
  "node_modules/d3-voronoi/src/Beach.js"() {
    init_RedBlackTree();
    init_Cell();
    init_Circle();
    init_Edge();
    init_Diagram();
    beachPool = [];
  }
});

// node_modules/d3-voronoi/src/Diagram.js
function triangleArea(a3, b, c7) {
  return (a3[0] - c7[0]) * (b[1] - a3[1]) - (a3[0] - b[0]) * (c7[1] - a3[1]);
}
function lexicographic(a3, b) {
  return b[1] - a3[1] || b[0] - a3[0];
}
function Diagram(sites, extent5) {
  var site = sites.sort(lexicographic).pop(), x7, y7, circle4;
  edges = [];
  cells = new Array(sites.length);
  beaches = new RedBlackTree_default();
  circles = new RedBlackTree_default();
  while (true) {
    circle4 = firstCircle;
    if (site && (!circle4 || site[1] < circle4.y || site[1] === circle4.y && site[0] < circle4.x)) {
      if (site[0] !== x7 || site[1] !== y7) {
        addBeach(site);
        x7 = site[0], y7 = site[1];
      }
      site = sites.pop();
    } else if (circle4) {
      removeBeach(circle4.arc);
    } else {
      break;
    }
  }
  sortCellHalfedges();
  if (extent5) {
    var x07 = +extent5[0][0], y06 = +extent5[0][1], x13 = +extent5[1][0], y12 = +extent5[1][1];
    clipEdges(x07, y06, x13, y12);
    clipCells(x07, y06, x13, y12);
  }
  this.edges = edges;
  this.cells = cells;
  beaches = circles = edges = cells = null;
}
var epsilon14, epsilon29, beaches, cells, circles, edges;
var init_Diagram = __esm({
  "node_modules/d3-voronoi/src/Diagram.js"() {
    init_Beach();
    init_Cell();
    init_Circle();
    init_Edge();
    init_RedBlackTree();
    epsilon14 = 1e-6;
    epsilon29 = 1e-12;
    Diagram.prototype = {
      constructor: Diagram,
      polygons: function() {
        var edges3 = this.edges;
        return this.cells.map(function(cell) {
          var polygon = cell.halfedges.map(function(i) {
            return cellHalfedgeStart(cell, edges3[i]);
          });
          polygon.data = cell.site.data;
          return polygon;
        });
      },
      triangles: function() {
        var triangles = [], edges3 = this.edges;
        this.cells.forEach(function(cell, i) {
          if (!(m = (halfedges = cell.halfedges).length))
            return;
          var site = cell.site, halfedges, j = -1, m, s0, e1 = edges3[halfedges[m - 1]], s1 = e1.left === site ? e1.right : e1.left;
          while (++j < m) {
            s0 = s1;
            e1 = edges3[halfedges[j]];
            s1 = e1.left === site ? e1.right : e1.left;
            if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {
              triangles.push([site.data, s0.data, s1.data]);
            }
          }
        });
        return triangles;
      },
      links: function() {
        return this.edges.filter(function(edge) {
          return edge.right;
        }).map(function(edge) {
          return {
            source: edge.left.data,
            target: edge.right.data
          };
        });
      },
      find: function(x7, y7, radius) {
        var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;
        while (!(cell = that.cells[i1]))
          if (++i1 >= n)
            return null;
        var dx = x7 - cell.site[0], dy = y7 - cell.site[1], d2 = dx * dx + dy * dy;
        do {
          cell = that.cells[i0 = i1], i1 = null;
          cell.halfedges.forEach(function(e) {
            var edge = that.edges[e], v2 = edge.left;
            if ((v2 === cell.site || !v2) && !(v2 = edge.right))
              return;
            var vx = x7 - v2[0], vy = y7 - v2[1], v22 = vx * vx + vy * vy;
            if (v22 < d2)
              d2 = v22, i1 = v2.index;
          });
        } while (i1 !== null);
        that._found = i0;
        return radius == null || d2 <= radius * radius ? cell.site : null;
      }
    };
  }
});

// node_modules/d3-voronoi/src/voronoi.js
function voronoi_default() {
  var x7 = x6, y7 = y6, extent5 = null;
  function voronoi(data) {
    return new Diagram(data.map(function(d, i) {
      var s3 = [Math.round(x7(d, i, data) / epsilon14) * epsilon14, Math.round(y7(d, i, data) / epsilon14) * epsilon14];
      s3.index = i;
      s3.data = d;
      return s3;
    }), extent5);
  }
  voronoi.polygons = function(data) {
    return voronoi(data).polygons();
  };
  voronoi.links = function(data) {
    return voronoi(data).links();
  };
  voronoi.triangles = function(data) {
    return voronoi(data).triangles();
  };
  voronoi.x = function(_2) {
    return arguments.length ? (x7 = typeof _2 === "function" ? _2 : constant_default32(+_2), voronoi) : x7;
  };
  voronoi.y = function(_2) {
    return arguments.length ? (y7 = typeof _2 === "function" ? _2 : constant_default32(+_2), voronoi) : y7;
  };
  voronoi.extent = function(_2) {
    return arguments.length ? (extent5 = _2 == null ? null : [[+_2[0][0], +_2[0][1]], [+_2[1][0], +_2[1][1]]], voronoi) : extent5 && [[extent5[0][0], extent5[0][1]], [extent5[1][0], extent5[1][1]]];
  };
  voronoi.size = function(_2) {
    return arguments.length ? (extent5 = _2 == null ? null : [[0, 0], [+_2[0], +_2[1]]], voronoi) : extent5 && [extent5[1][0] - extent5[0][0], extent5[1][1] - extent5[0][1]];
  };
  return voronoi;
}
var init_voronoi = __esm({
  "node_modules/d3-voronoi/src/voronoi.js"() {
    init_constant13();
    init_point3();
    init_Diagram();
  }
});

// node_modules/d3-voronoi/src/index.js
var init_src30 = __esm({
  "node_modules/d3-voronoi/src/index.js"() {
    init_voronoi();
  }
});

// node_modules/dagre-d3/node_modules/d3-zoom/src/constant.js
function constant_default33(x7) {
  return function() {
    return x7;
  };
}
var init_constant14 = __esm({
  "node_modules/dagre-d3/node_modules/d3-zoom/src/constant.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-zoom/src/event.js
function ZoomEvent2(target, type4, transform3) {
  this.target = target;
  this.type = type4;
  this.transform = transform3;
}
var init_event3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-zoom/src/event.js"() {
  }
});

// node_modules/dagre-d3/node_modules/d3-zoom/src/transform.js
function Transform2(k3, x7, y7) {
  this.k = k3;
  this.x = x7;
  this.y = y7;
}
function transform2(node2) {
  while (!node2.__zoom)
    if (!(node2 = node2.parentNode))
      return identity16;
  return node2.__zoom;
}
var identity16;
var init_transform3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-zoom/src/transform.js"() {
    Transform2.prototype = {
      constructor: Transform2,
      scale: function(k3) {
        return k3 === 1 ? this : new Transform2(this.k * k3, this.x, this.y);
      },
      translate: function(x7, y7) {
        return x7 === 0 & y7 === 0 ? this : new Transform2(this.k, this.x + this.k * x7, this.y + this.k * y7);
      },
      apply: function(point12) {
        return [point12[0] * this.k + this.x, point12[1] * this.k + this.y];
      },
      applyX: function(x7) {
        return x7 * this.k + this.x;
      },
      applyY: function(y7) {
        return y7 * this.k + this.y;
      },
      invert: function(location2) {
        return [(location2[0] - this.x) / this.k, (location2[1] - this.y) / this.k];
      },
      invertX: function(x7) {
        return (x7 - this.x) / this.k;
      },
      invertY: function(y7) {
        return (y7 - this.y) / this.k;
      },
      rescaleX: function(x7) {
        return x7.copy().domain(x7.range().map(this.invertX, this).map(x7.invert, x7));
      },
      rescaleY: function(y7) {
        return y7.copy().domain(y7.range().map(this.invertY, this).map(y7.invert, y7));
      },
      toString: function() {
        return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
      }
    };
    identity16 = new Transform2(1, 0, 0);
    transform2.prototype = Transform2.prototype;
  }
});

// node_modules/dagre-d3/node_modules/d3-zoom/src/noevent.js
function nopropagation8() {
  event.stopImmediatePropagation();
}
function noevent_default8() {
  event.preventDefault();
  event.stopImmediatePropagation();
}
var init_noevent3 = __esm({
  "node_modules/dagre-d3/node_modules/d3-zoom/src/noevent.js"() {
    init_src4();
  }
});

// node_modules/dagre-d3/node_modules/d3-zoom/src/zoom.js
function defaultFilter3() {
  return !event.ctrlKey && !event.button;
}
function defaultExtent2() {
  var e = this;
  if (e instanceof SVGElement) {
    e = e.ownerSVGElement || e;
    if (e.hasAttribute("viewBox")) {
      e = e.viewBox.baseVal;
      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];
    }
    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];
  }
  return [[0, 0], [e.clientWidth, e.clientHeight]];
}
function defaultTransform() {
  return this.__zoom || identity16;
}
function defaultWheelDelta() {
  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3);
}
function defaultTouchable3() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function defaultConstrain(transform3, extent5, translateExtent) {
  var dx0 = transform3.invertX(extent5[0][0]) - translateExtent[0][0], dx1 = transform3.invertX(extent5[1][0]) - translateExtent[1][0], dy0 = transform3.invertY(extent5[0][1]) - translateExtent[0][1], dy1 = transform3.invertY(extent5[1][1]) - translateExtent[1][1];
  return transform3.translate(
    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),
    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)
  );
}
function zoom_default8() {
  var filter8 = defaultFilter3, extent5 = defaultExtent2, constrain = defaultConstrain, wheelDelta = defaultWheelDelta, touchable = defaultTouchable3, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate = zoom_default7, listeners = dispatch_default8("start", "zoom", "end"), touchstarting, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0;
  function zoom(selection5) {
    selection5.property("__zoom", defaultTransform).on("wheel.zoom", wheeled).on("mousedown.zoom", mousedowned).on("dblclick.zoom", dblclicked).filter(touchable).on("touchstart.zoom", touchstarted).on("touchmove.zoom", touchmoved).on("touchend.zoom touchcancel.zoom", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  zoom.transform = function(collection, transform3, point12) {
    var selection5 = collection.selection ? collection.selection() : collection;
    selection5.property("__zoom", defaultTransform);
    if (collection !== selection5) {
      schedule(collection, transform3, point12);
    } else {
      selection5.interrupt().each(function() {
        gesture(this, arguments).start().zoom(null, typeof transform3 === "function" ? transform3.apply(this, arguments) : transform3).end();
      });
    }
  };
  zoom.scaleBy = function(selection5, k3, p) {
    zoom.scaleTo(selection5, function() {
      var k0 = this.__zoom.k, k1 = typeof k3 === "function" ? k3.apply(this, arguments) : k3;
      return k0 * k1;
    }, p);
  };
  zoom.scaleTo = function(selection5, k3, p) {
    zoom.transform(selection5, function() {
      var e = extent5.apply(this, arguments), t010 = this.__zoom, p02 = p == null ? centroid(e) : typeof p === "function" ? p.apply(this, arguments) : p, p1 = t010.invert(p02), k1 = typeof k3 === "function" ? k3.apply(this, arguments) : k3;
      return constrain(translate(scale2(t010, k1), p02, p1), e, translateExtent);
    }, p);
  };
  zoom.translateBy = function(selection5, x7, y7) {
    zoom.transform(selection5, function() {
      return constrain(this.__zoom.translate(
        typeof x7 === "function" ? x7.apply(this, arguments) : x7,
        typeof y7 === "function" ? y7.apply(this, arguments) : y7
      ), extent5.apply(this, arguments), translateExtent);
    });
  };
  zoom.translateTo = function(selection5, x7, y7, p) {
    zoom.transform(selection5, function() {
      var e = extent5.apply(this, arguments), t = this.__zoom, p02 = p == null ? centroid(e) : typeof p === "function" ? p.apply(this, arguments) : p;
      return constrain(identity16.translate(p02[0], p02[1]).scale(t.k).translate(
        typeof x7 === "function" ? -x7.apply(this, arguments) : -x7,
        typeof y7 === "function" ? -y7.apply(this, arguments) : -y7
      ), e, translateExtent);
    }, p);
  };
  function scale2(transform3, k3) {
    k3 = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k3));
    return k3 === transform3.k ? transform3 : new Transform2(k3, transform3.x, transform3.y);
  }
  function translate(transform3, p02, p1) {
    var x7 = p02[0] - p1[0] * transform3.k, y7 = p02[1] - p1[1] * transform3.k;
    return x7 === transform3.x && y7 === transform3.y ? transform3 : new Transform2(transform3.k, x7, y7);
  }
  function centroid(extent6) {
    return [(+extent6[0][0] + +extent6[1][0]) / 2, (+extent6[0][1] + +extent6[1][1]) / 2];
  }
  function schedule(transition5, transform3, point12) {
    transition5.on("start.zoom", function() {
      gesture(this, arguments).start();
    }).on("interrupt.zoom end.zoom", function() {
      gesture(this, arguments).end();
    }).tween("zoom", function() {
      var that = this, args = arguments, g = gesture(that, args), e = extent5.apply(that, args), p = point12 == null ? centroid(e) : typeof point12 === "function" ? point12.apply(that, args) : point12, w2 = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a3 = that.__zoom, b = typeof transform3 === "function" ? transform3.apply(that, args) : transform3, i = interpolate(a3.invert(p).concat(w2 / a3.k), b.invert(p).concat(w2 / b.k));
      return function(t) {
        if (t === 1)
          t = b;
        else {
          var l = i(t), k3 = w2 / l[2];
          t = new Transform2(k3, p[0] - l[0] * k3, p[1] - l[1] * k3);
        }
        g.zoom(null, t);
      };
    });
  }
  function gesture(that, args, clean) {
    return !clean && that.__zooming || new Gesture(that, args);
  }
  function Gesture(that, args) {
    this.that = that;
    this.args = args;
    this.active = 0;
    this.extent = extent5.apply(that, args);
    this.taps = 0;
  }
  Gesture.prototype = {
    start: function() {
      if (++this.active === 1) {
        this.that.__zooming = this;
        this.emit("start");
      }
      return this;
    },
    zoom: function(key, transform3) {
      if (this.mouse && key !== "mouse")
        this.mouse[1] = transform3.invert(this.mouse[0]);
      if (this.touch0 && key !== "touch")
        this.touch0[1] = transform3.invert(this.touch0[0]);
      if (this.touch1 && key !== "touch")
        this.touch1[1] = transform3.invert(this.touch1[0]);
      this.that.__zoom = transform3;
      this.emit("zoom");
      return this;
    },
    end: function() {
      if (--this.active === 0) {
        delete this.that.__zooming;
        this.emit("end");
      }
      return this;
    },
    emit: function(type4) {
      customEvent(new ZoomEvent2(zoom, type4, this.that.__zoom), listeners.apply, listeners, [type4, this.that, this.args]);
    }
  };
  function wheeled() {
    if (!filter8.apply(this, arguments))
      return;
    var g = gesture(this, arguments), t = this.__zoom, k3 = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p = mouse_default(this);
    if (g.wheel) {
      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {
        g.mouse[1] = t.invert(g.mouse[0] = p);
      }
      clearTimeout(g.wheel);
    } else if (t.k === k3)
      return;
    else {
      g.mouse = [p, t.invert(p)];
      interrupt_default7(this);
      g.start();
    }
    noevent_default8();
    g.wheel = setTimeout(wheelidled, wheelDelay);
    g.zoom("mouse", constrain(translate(scale2(t, k3), g.mouse[0], g.mouse[1]), g.extent, translateExtent));
    function wheelidled() {
      g.wheel = null;
      g.end();
    }
  }
  function mousedowned() {
    if (touchending || !filter8.apply(this, arguments))
      return;
    var g = gesture(this, arguments, true), v2 = select_default11(event.view).on("mousemove.zoom", mousemoved, true).on("mouseup.zoom", mouseupped, true), p = mouse_default(this), x07 = event.clientX, y06 = event.clientY;
    nodrag_default4(event.view);
    nopropagation8();
    g.mouse = [p, this.__zoom.invert(p)];
    interrupt_default7(this);
    g.start();
    function mousemoved() {
      noevent_default8();
      if (!g.moved) {
        var dx = event.clientX - x07, dy = event.clientY - y06;
        g.moved = dx * dx + dy * dy > clickDistance2;
      }
      g.zoom("mouse", constrain(translate(g.that.__zoom, g.mouse[0] = mouse_default(g.that), g.mouse[1]), g.extent, translateExtent));
    }
    function mouseupped() {
      v2.on("mousemove.zoom mouseup.zoom", null);
      yesdrag4(event.view, g.moved);
      noevent_default8();
      g.end();
    }
  }
  function dblclicked() {
    if (!filter8.apply(this, arguments))
      return;
    var t010 = this.__zoom, p02 = mouse_default(this), p1 = t010.invert(p02), k1 = t010.k * (event.shiftKey ? 0.5 : 2), t110 = constrain(translate(scale2(t010, k1), p02, p1), extent5.apply(this, arguments), translateExtent);
    noevent_default8();
    if (duration > 0)
      select_default11(this).transition().duration(duration).call(schedule, t110, p02);
    else
      select_default11(this).call(zoom.transform, t110);
  }
  function touchstarted() {
    if (!filter8.apply(this, arguments))
      return;
    var touches = event.touches, n = touches.length, g = gesture(this, arguments, event.changedTouches.length === n), started, i, t, p;
    nopropagation8();
    for (i = 0; i < n; ++i) {
      t = touches[i], p = touch_default(this, touches, t.identifier);
      p = [p, this.__zoom.invert(p), t.identifier];
      if (!g.touch0)
        g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;
      else if (!g.touch1 && g.touch0[2] !== p[2])
        g.touch1 = p, g.taps = 0;
    }
    if (touchstarting)
      touchstarting = clearTimeout(touchstarting);
    if (started) {
      if (g.taps < 2)
        touchstarting = setTimeout(function() {
          touchstarting = null;
        }, touchDelay);
      interrupt_default7(this);
      g.start();
    }
  }
  function touchmoved() {
    if (!this.__zooming)
      return;
    var g = gesture(this, arguments), touches = event.changedTouches, n = touches.length, i, t, p, l;
    noevent_default8();
    if (touchstarting)
      touchstarting = clearTimeout(touchstarting);
    g.taps = 0;
    for (i = 0; i < n; ++i) {
      t = touches[i], p = touch_default(this, touches, t.identifier);
      if (g.touch0 && g.touch0[2] === t.identifier)
        g.touch0[0] = p;
      else if (g.touch1 && g.touch1[2] === t.identifier)
        g.touch1[0] = p;
    }
    t = g.that.__zoom;
    if (g.touch1) {
      var p02 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p02[0]) * dp + (dp = p1[1] - p02[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;
      t = scale2(t, Math.sqrt(dp / dl));
      p = [(p02[0] + p1[0]) / 2, (p02[1] + p1[1]) / 2];
      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];
    } else if (g.touch0)
      p = g.touch0[0], l = g.touch0[1];
    else
      return;
    g.zoom("touch", constrain(translate(t, p, l), g.extent, translateExtent));
  }
  function touchended() {
    if (!this.__zooming)
      return;
    var g = gesture(this, arguments), touches = event.changedTouches, n = touches.length, i, t;
    nopropagation8();
    if (touchending)
      clearTimeout(touchending);
    touchending = setTimeout(function() {
      touchending = null;
    }, touchDelay);
    for (i = 0; i < n; ++i) {
      t = touches[i];
      if (g.touch0 && g.touch0[2] === t.identifier)
        delete g.touch0;
      else if (g.touch1 && g.touch1[2] === t.identifier)
        delete g.touch1;
    }
    if (g.touch1 && !g.touch0)
      g.touch0 = g.touch1, delete g.touch1;
    if (g.touch0)
      g.touch0[1] = this.__zoom.invert(g.touch0[0]);
    else {
      g.end();
      if (g.taps === 2) {
        var p = select_default11(this).on("dblclick.zoom");
        if (p)
          p.apply(this, arguments);
      }
    }
  }
  zoom.wheelDelta = function(_2) {
    return arguments.length ? (wheelDelta = typeof _2 === "function" ? _2 : constant_default33(+_2), zoom) : wheelDelta;
  };
  zoom.filter = function(_2) {
    return arguments.length ? (filter8 = typeof _2 === "function" ? _2 : constant_default33(!!_2), zoom) : filter8;
  };
  zoom.touchable = function(_2) {
    return arguments.length ? (touchable = typeof _2 === "function" ? _2 : constant_default33(!!_2), zoom) : touchable;
  };
  zoom.extent = function(_2) {
    return arguments.length ? (extent5 = typeof _2 === "function" ? _2 : constant_default33([[+_2[0][0], +_2[0][1]], [+_2[1][0], +_2[1][1]]]), zoom) : extent5;
  };
  zoom.scaleExtent = function(_2) {
    return arguments.length ? (scaleExtent[0] = +_2[0], scaleExtent[1] = +_2[1], zoom) : [scaleExtent[0], scaleExtent[1]];
  };
  zoom.translateExtent = function(_2) {
    return arguments.length ? (translateExtent[0][0] = +_2[0][0], translateExtent[1][0] = +_2[1][0], translateExtent[0][1] = +_2[0][1], translateExtent[1][1] = +_2[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];
  };
  zoom.constrain = function(_2) {
    return arguments.length ? (constrain = _2, zoom) : constrain;
  };
  zoom.duration = function(_2) {
    return arguments.length ? (duration = +_2, zoom) : duration;
  };
  zoom.interpolate = function(_2) {
    return arguments.length ? (interpolate = _2, zoom) : interpolate;
  };
  zoom.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? zoom : value;
  };
  zoom.clickDistance = function(_2) {
    return arguments.length ? (clickDistance2 = (_2 = +_2) * _2, zoom) : Math.sqrt(clickDistance2);
  };
  return zoom;
}
var init_zoom2 = __esm({
  "node_modules/dagre-d3/node_modules/d3-zoom/src/zoom.js"() {
    init_src3();
    init_src5();
    init_src7();
    init_src4();
    init_src10();
    init_constant14();
    init_event3();
    init_transform3();
    init_noevent3();
  }
});

// node_modules/dagre-d3/node_modules/d3-zoom/src/index.js
var init_src31 = __esm({
  "node_modules/dagre-d3/node_modules/d3-zoom/src/index.js"() {
    init_zoom2();
    init_transform3();
  }
});

// node_modules/dagre-d3/node_modules/d3/index.js
var d3_exports = {};
__export(d3_exports, {
  FormatSpecifier: () => FormatSpecifier3,
  active: () => active_default4,
  arc: () => arc_default2,
  area: () => area_default10,
  areaRadial: () => areaRadial_default2,
  ascending: () => ascending_default3,
  autoType: () => autoType3,
  axisBottom: () => axisBottom2,
  axisLeft: () => axisLeft2,
  axisRight: () => axisRight2,
  axisTop: () => axisTop2,
  bisect: () => bisect_default5,
  bisectLeft: () => bisectLeft5,
  bisectRight: () => bisectRight5,
  bisector: () => bisector_default,
  blob: () => blob_default2,
  brush: () => brush_default2,
  brushSelection: () => brushSelection2,
  brushX: () => brushX2,
  brushY: () => brushY2,
  buffer: () => buffer_default3,
  chord: () => chord_default2,
  clientPoint: () => point_default,
  cluster: () => cluster_default2,
  color: () => color6,
  contourDensity: () => density_default2,
  contours: () => contours_default2,
  create: () => create_default4,
  creator: () => creator_default4,
  cross: () => cross_default3,
  csv: () => csv5,
  csvFormat: () => csvFormat3,
  csvFormatBody: () => csvFormatBody3,
  csvFormatRow: () => csvFormatRow3,
  csvFormatRows: () => csvFormatRows3,
  csvFormatValue: () => csvFormatValue3,
  csvParse: () => csvParse3,
  csvParseRows: () => csvParseRows3,
  cubehelix: () => cubehelix11,
  curveBasis: () => basis_default8,
  curveBasisClosed: () => basisClosed_default8,
  curveBasisOpen: () => basisOpen_default2,
  curveBundle: () => bundle_default2,
  curveCardinal: () => cardinal_default2,
  curveCardinalClosed: () => cardinalClosed_default2,
  curveCardinalOpen: () => cardinalOpen_default2,
  curveCatmullRom: () => catmullRom_default2,
  curveCatmullRomClosed: () => catmullRomClosed_default2,
  curveCatmullRomOpen: () => catmullRomOpen_default2,
  curveLinear: () => linear_default2,
  curveLinearClosed: () => linearClosed_default2,
  curveMonotoneX: () => monotoneX2,
  curveMonotoneY: () => monotoneY2,
  curveNatural: () => natural_default2,
  curveStep: () => step_default2,
  curveStepAfter: () => stepAfter2,
  curveStepBefore: () => stepBefore2,
  customEvent: () => customEvent,
  descending: () => descending_default3,
  deviation: () => deviation_default,
  dispatch: () => dispatch_default8,
  drag: () => drag_default4,
  dragDisable: () => nodrag_default4,
  dragEnable: () => yesdrag4,
  dsv: () => dsv2,
  dsvFormat: () => dsv_default3,
  easeBack: () => backInOut4,
  easeBackIn: () => backIn4,
  easeBackInOut: () => backInOut4,
  easeBackOut: () => backOut4,
  easeBounce: () => bounceOut4,
  easeBounceIn: () => bounceIn4,
  easeBounceInOut: () => bounceInOut4,
  easeBounceOut: () => bounceOut4,
  easeCircle: () => circleInOut4,
  easeCircleIn: () => circleIn4,
  easeCircleInOut: () => circleInOut4,
  easeCircleOut: () => circleOut4,
  easeCubic: () => cubicInOut4,
  easeCubicIn: () => cubicIn4,
  easeCubicInOut: () => cubicInOut4,
  easeCubicOut: () => cubicOut4,
  easeElastic: () => elasticOut4,
  easeElasticIn: () => elasticIn4,
  easeElasticInOut: () => elasticInOut4,
  easeElasticOut: () => elasticOut4,
  easeExp: () => expInOut4,
  easeExpIn: () => expIn4,
  easeExpInOut: () => expInOut4,
  easeExpOut: () => expOut4,
  easeLinear: () => linear11,
  easePoly: () => polyInOut4,
  easePolyIn: () => polyIn4,
  easePolyInOut: () => polyInOut4,
  easePolyOut: () => polyOut4,
  easeQuad: () => quadInOut4,
  easeQuadIn: () => quadIn4,
  easeQuadInOut: () => quadInOut4,
  easeQuadOut: () => quadOut4,
  easeSin: () => sinInOut4,
  easeSinIn: () => sinIn4,
  easeSinInOut: () => sinInOut4,
  easeSinOut: () => sinOut4,
  entries: () => entries_default,
  event: () => event,
  extent: () => extent_default4,
  forceCenter: () => center_default2,
  forceCollide: () => collide_default2,
  forceLink: () => link_default2,
  forceManyBody: () => manyBody_default2,
  forceRadial: () => radial_default2,
  forceSimulation: () => simulation_default2,
  forceX: () => x_default6,
  forceY: () => y_default5,
  format: () => format3,
  formatDefaultLocale: () => defaultLocale5,
  formatLocale: () => locale_default3,
  formatPrefix: () => formatPrefix3,
  formatSpecifier: () => formatSpecifier3,
  geoAlbers: () => albers_default2,
  geoAlbersUsa: () => albersUsa_default2,
  geoArea: () => area_default7,
  geoAzimuthalEqualArea: () => azimuthalEqualArea_default2,
  geoAzimuthalEqualAreaRaw: () => azimuthalEqualAreaRaw2,
  geoAzimuthalEquidistant: () => azimuthalEquidistant_default2,
  geoAzimuthalEquidistantRaw: () => azimuthalEquidistantRaw2,
  geoBounds: () => bounds_default3,
  geoCentroid: () => centroid_default4,
  geoCircle: () => circle_default4,
  geoClipAntimeridian: () => antimeridian_default2,
  geoClipCircle: () => circle_default5,
  geoClipExtent: () => extent_default6,
  geoClipRectangle: () => clipRectangle2,
  geoConicConformal: () => conicConformal_default2,
  geoConicConformalRaw: () => conicConformalRaw2,
  geoConicEqualArea: () => conicEqualArea_default2,
  geoConicEqualAreaRaw: () => conicEqualAreaRaw2,
  geoConicEquidistant: () => conicEquidistant_default2,
  geoConicEquidistantRaw: () => conicEquidistantRaw2,
  geoContains: () => contains_default5,
  geoDistance: () => distance_default2,
  geoEqualEarth: () => equalEarth_default2,
  geoEqualEarthRaw: () => equalEarthRaw2,
  geoEquirectangular: () => equirectangular_default2,
  geoEquirectangularRaw: () => equirectangularRaw2,
  geoGnomonic: () => gnomonic_default2,
  geoGnomonicRaw: () => gnomonicRaw2,
  geoGraticule: () => graticule2,
  geoGraticule10: () => graticule102,
  geoIdentity: () => identity_default11,
  geoInterpolate: () => interpolate_default6,
  geoLength: () => length_default3,
  geoMercator: () => mercator_default2,
  geoMercatorRaw: () => mercatorRaw2,
  geoNaturalEarth1: () => naturalEarth1_default2,
  geoNaturalEarth1Raw: () => naturalEarth1Raw2,
  geoOrthographic: () => orthographic_default2,
  geoOrthographicRaw: () => orthographicRaw2,
  geoPath: () => path_default7,
  geoProjection: () => projection2,
  geoProjectionMutator: () => projectionMutator2,
  geoRotation: () => rotation_default2,
  geoStereographic: () => stereographic_default2,
  geoStereographicRaw: () => stereographicRaw2,
  geoStream: () => stream_default2,
  geoTransform: () => transform_default2,
  geoTransverseMercator: () => transverseMercator_default2,
  geoTransverseMercatorRaw: () => transverseMercatorRaw2,
  gray: () => gray6,
  hcl: () => hcl11,
  hierarchy: () => hierarchy2,
  histogram: () => histogram_default,
  hsl: () => hsl11,
  html: () => html3,
  image: () => image_default2,
  interpolate: () => value_default6,
  interpolateArray: () => array_default8,
  interpolateBasis: () => basis_default7,
  interpolateBasisClosed: () => basisClosed_default7,
  interpolateBlues: () => Blues_default2,
  interpolateBrBG: () => BrBG_default2,
  interpolateBuGn: () => BuGn_default2,
  interpolateBuPu: () => BuPu_default2,
  interpolateCividis: () => cividis_default2,
  interpolateCool: () => cool2,
  interpolateCubehelix: () => cubehelix_default7,
  interpolateCubehelixDefault: () => cubehelix_default8,
  interpolateCubehelixLong: () => cubehelixLong6,
  interpolateDate: () => date_default6,
  interpolateDiscrete: () => discrete_default6,
  interpolateGnBu: () => GnBu_default2,
  interpolateGreens: () => Greens_default2,
  interpolateGreys: () => Greys_default2,
  interpolateHcl: () => hcl_default6,
  interpolateHclLong: () => hclLong6,
  interpolateHsl: () => hsl_default7,
  interpolateHslLong: () => hslLong6,
  interpolateHue: () => hue_default7,
  interpolateInferno: () => inferno2,
  interpolateLab: () => lab12,
  interpolateMagma: () => magma2,
  interpolateNumber: () => number_default7,
  interpolateNumberArray: () => numberArray_default6,
  interpolateObject: () => object_default6,
  interpolateOrRd: () => OrRd_default2,
  interpolateOranges: () => Oranges_default2,
  interpolatePRGn: () => PRGn_default2,
  interpolatePiYG: () => PiYG_default2,
  interpolatePlasma: () => plasma2,
  interpolatePuBu: () => PuBu_default2,
  interpolatePuBuGn: () => PuBuGn_default2,
  interpolatePuOr: () => PuOr_default2,
  interpolatePuRd: () => PuRd_default2,
  interpolatePurples: () => Purples_default2,
  interpolateRainbow: () => rainbow_default2,
  interpolateRdBu: () => RdBu_default2,
  interpolateRdGy: () => RdGy_default2,
  interpolateRdPu: () => RdPu_default2,
  interpolateRdYlBu: () => RdYlBu_default2,
  interpolateRdYlGn: () => RdYlGn_default2,
  interpolateReds: () => Reds_default2,
  interpolateRgb: () => rgb_default7,
  interpolateRgbBasis: () => rgbBasis6,
  interpolateRgbBasisClosed: () => rgbBasisClosed6,
  interpolateRound: () => round_default7,
  interpolateSinebow: () => sinebow_default2,
  interpolateSpectral: () => Spectral_default2,
  interpolateString: () => string_default6,
  interpolateTransformCss: () => interpolateTransformCss6,
  interpolateTransformSvg: () => interpolateTransformSvg6,
  interpolateTurbo: () => turbo_default2,
  interpolateViridis: () => viridis_default2,
  interpolateWarm: () => warm2,
  interpolateYlGn: () => YlGn_default2,
  interpolateYlGnBu: () => YlGnBu_default2,
  interpolateYlOrBr: () => YlOrBr_default2,
  interpolateYlOrRd: () => YlOrRd_default2,
  interpolateZoom: () => zoom_default7,
  interrupt: () => interrupt_default7,
  interval: () => interval_default5,
  isoFormat: () => isoFormat_default3,
  isoParse: () => isoParse_default3,
  json: () => json_default2,
  keys: () => keys_default,
  lab: () => lab11,
  lch: () => lch6,
  line: () => line_default4,
  lineRadial: () => lineRadial_default2,
  linkHorizontal: () => linkHorizontal2,
  linkRadial: () => linkRadial2,
  linkVertical: () => linkVertical2,
  local: () => local4,
  map: () => map_default,
  matcher: () => matcher_default4,
  max: () => max_default,
  mean: () => mean_default,
  median: () => median_default,
  merge: () => merge_default7,
  min: () => min_default,
  mouse: () => mouse_default,
  namespace: () => namespace_default4,
  namespaces: () => namespaces_default4,
  nest: () => nest_default,
  now: () => now5,
  pack: () => pack_default2,
  packEnclose: () => enclose_default2,
  packSiblings: () => siblings_default2,
  pairs: () => pairs_default,
  partition: () => partition_default2,
  path: () => path_default6,
  permute: () => permute_default,
  pie: () => pie_default2,
  piecewise: () => piecewise6,
  pointRadial: () => pointRadial_default2,
  polygonArea: () => area_default9,
  polygonCentroid: () => centroid_default6,
  polygonContains: () => contains_default6,
  polygonHull: () => hull_default2,
  polygonLength: () => length_default4,
  precisionFixed: () => precisionFixed_default3,
  precisionPrefix: () => precisionPrefix_default3,
  precisionRound: () => precisionRound_default3,
  quadtree: () => quadtree3,
  quantile: () => quantile_default,
  quantize: () => quantize_default6,
  radialArea: () => areaRadial_default2,
  radialLine: () => lineRadial_default2,
  randomBates: () => bates_default2,
  randomExponential: () => exponential_default2,
  randomIrwinHall: () => irwinHall_default2,
  randomLogNormal: () => logNormal_default2,
  randomNormal: () => normal_default2,
  randomUniform: () => uniform_default2,
  range: () => range_default,
  rgb: () => rgb6,
  ribbon: () => ribbon_default2,
  scaleBand: () => band2,
  scaleDiverging: () => diverging2,
  scaleDivergingLog: () => divergingLog2,
  scaleDivergingPow: () => divergingPow2,
  scaleDivergingSqrt: () => divergingSqrt2,
  scaleDivergingSymlog: () => divergingSymlog2,
  scaleIdentity: () => identity15,
  scaleImplicit: () => implicit2,
  scaleLinear: () => linear12,
  scaleLog: () => log4,
  scaleOrdinal: () => ordinal2,
  scalePoint: () => point6,
  scalePow: () => pow4,
  scaleQuantile: () => quantile6,
  scaleQuantize: () => quantize2,
  scaleSequential: () => sequential2,
  scaleSequentialLog: () => sequentialLog2,
  scaleSequentialPow: () => sequentialPow2,
  scaleSequentialQuantile: () => sequentialQuantile2,
  scaleSequentialSqrt: () => sequentialSqrt2,
  scaleSequentialSymlog: () => sequentialSymlog2,
  scaleSqrt: () => sqrt5,
  scaleSymlog: () => symlog2,
  scaleThreshold: () => threshold2,
  scaleTime: () => time_default,
  scaleUtc: () => utcTime_default,
  scan: () => scan_default,
  schemeAccent: () => Accent_default2,
  schemeBlues: () => scheme49,
  schemeBrBG: () => scheme28,
  schemeBuGn: () => scheme37,
  schemeBuPu: () => scheme38,
  schemeCategory10: () => category10_default2,
  schemeDark2: () => Dark2_default2,
  schemeGnBu: () => scheme39,
  schemeGreens: () => scheme50,
  schemeGreys: () => scheme51,
  schemeOrRd: () => scheme40,
  schemeOranges: () => scheme54,
  schemePRGn: () => scheme29,
  schemePaired: () => Paired_default2,
  schemePastel1: () => Pastel1_default2,
  schemePastel2: () => Pastel2_default2,
  schemePiYG: () => scheme30,
  schemePuBu: () => scheme42,
  schemePuBuGn: () => scheme41,
  schemePuOr: () => scheme31,
  schemePuRd: () => scheme43,
  schemePurples: () => scheme52,
  schemeRdBu: () => scheme32,
  schemeRdGy: () => scheme33,
  schemeRdPu: () => scheme44,
  schemeRdYlBu: () => scheme34,
  schemeRdYlGn: () => scheme35,
  schemeReds: () => scheme53,
  schemeSet1: () => Set1_default2,
  schemeSet2: () => Set2_default2,
  schemeSet3: () => Set3_default2,
  schemeSpectral: () => scheme36,
  schemeTableau10: () => Tableau10_default2,
  schemeYlGn: () => scheme46,
  schemeYlGnBu: () => scheme45,
  schemeYlOrBr: () => scheme47,
  schemeYlOrRd: () => scheme48,
  select: () => select_default11,
  selectAll: () => selectAll_default11,
  selection: () => selection_default7,
  selector: () => selector_default4,
  selectorAll: () => selectorAll_default4,
  set: () => set_default,
  shuffle: () => shuffle_default5,
  stack: () => stack_default2,
  stackOffsetDiverging: () => diverging_default2,
  stackOffsetExpand: () => expand_default2,
  stackOffsetNone: () => none_default3,
  stackOffsetSilhouette: () => silhouette_default2,
  stackOffsetWiggle: () => wiggle_default2,
  stackOrderAppearance: () => appearance_default2,
  stackOrderAscending: () => ascending_default5,
  stackOrderDescending: () => descending_default5,
  stackOrderInsideOut: () => insideOut_default2,
  stackOrderNone: () => none_default4,
  stackOrderReverse: () => reverse_default2,
  stratify: () => stratify_default2,
  style: () => styleValue4,
  sum: () => sum_default2,
  svg: () => svg3,
  symbol: () => symbol_default,
  symbolCircle: () => circle_default6,
  symbolCross: () => cross_default5,
  symbolDiamond: () => diamond_default2,
  symbolSquare: () => square_default2,
  symbolStar: () => star_default2,
  symbolTriangle: () => triangle_default2,
  symbolWye: () => wye_default2,
  symbols: () => symbols,
  text: () => text_default10,
  thresholdFreedmanDiaconis: () => freedmanDiaconis_default,
  thresholdScott: () => scott_default,
  thresholdSturges: () => sturges_default,
  tickFormat: () => tickFormat_default,
  tickIncrement: () => tickIncrement5,
  tickStep: () => tickStep5,
  ticks: () => ticks_default,
  timeDay: () => day_default3,
  timeDays: () => days3,
  timeFormat: () => timeFormat3,
  timeFormatDefaultLocale: () => defaultLocale6,
  timeFormatLocale: () => formatLocale3,
  timeFriday: () => friday3,
  timeFridays: () => fridays3,
  timeHour: () => hour_default3,
  timeHours: () => hours3,
  timeInterval: () => newInterval3,
  timeMillisecond: () => millisecond_default3,
  timeMilliseconds: () => milliseconds3,
  timeMinute: () => minute_default3,
  timeMinutes: () => minutes3,
  timeMonday: () => monday3,
  timeMondays: () => mondays3,
  timeMonth: () => month_default3,
  timeMonths: () => months3,
  timeParse: () => timeParse3,
  timeSaturday: () => saturday3,
  timeSaturdays: () => saturdays3,
  timeSecond: () => second_default3,
  timeSeconds: () => seconds3,
  timeSunday: () => sunday3,
  timeSundays: () => sundays3,
  timeThursday: () => thursday3,
  timeThursdays: () => thursdays3,
  timeTuesday: () => tuesday3,
  timeTuesdays: () => tuesdays3,
  timeWednesday: () => wednesday3,
  timeWednesdays: () => wednesdays3,
  timeWeek: () => sunday3,
  timeWeeks: () => sundays3,
  timeYear: () => year_default3,
  timeYears: () => years3,
  timeout: () => timeout_default5,
  timer: () => timer5,
  timerFlush: () => timerFlush5,
  touch: () => touch_default,
  touches: () => touches_default,
  transition: () => transition4,
  transpose: () => transpose_default,
  tree: () => tree_default2,
  treemap: () => treemap_default2,
  treemapBinary: () => binary_default2,
  treemapDice: () => dice_default2,
  treemapResquarify: () => resquarify_default2,
  treemapSlice: () => slice_default2,
  treemapSliceDice: () => sliceDice_default2,
  treemapSquarify: () => squarify_default2,
  tsv: () => tsv5,
  tsvFormat: () => tsvFormat3,
  tsvFormatBody: () => tsvFormatBody3,
  tsvFormatRow: () => tsvFormatRow3,
  tsvFormatRows: () => tsvFormatRows3,
  tsvFormatValue: () => tsvFormatValue3,
  tsvParse: () => tsvParse3,
  tsvParseRows: () => tsvParseRows3,
  utcDay: () => utcDay_default3,
  utcDays: () => utcDays3,
  utcFormat: () => utcFormat3,
  utcFriday: () => utcFriday3,
  utcFridays: () => utcFridays3,
  utcHour: () => utcHour_default3,
  utcHours: () => utcHours3,
  utcMillisecond: () => millisecond_default3,
  utcMilliseconds: () => milliseconds3,
  utcMinute: () => utcMinute_default3,
  utcMinutes: () => utcMinutes3,
  utcMonday: () => utcMonday3,
  utcMondays: () => utcMondays3,
  utcMonth: () => utcMonth_default3,
  utcMonths: () => utcMonths3,
  utcParse: () => utcParse3,
  utcSaturday: () => utcSaturday3,
  utcSaturdays: () => utcSaturdays3,
  utcSecond: () => second_default3,
  utcSeconds: () => seconds3,
  utcSunday: () => utcSunday3,
  utcSundays: () => utcSundays3,
  utcThursday: () => utcThursday3,
  utcThursdays: () => utcThursdays3,
  utcTuesday: () => utcTuesday3,
  utcTuesdays: () => utcTuesdays3,
  utcWednesday: () => utcWednesday3,
  utcWednesdays: () => utcWednesdays3,
  utcWeek: () => utcSunday3,
  utcWeeks: () => utcSundays3,
  utcYear: () => utcYear_default3,
  utcYears: () => utcYears3,
  values: () => values_default,
  variance: () => variance_default,
  version: () => version,
  voronoi: () => voronoi_default,
  window: () => window_default4,
  xml: () => xml_default2,
  zip: () => zip_default,
  zoom: () => zoom_default8,
  zoomIdentity: () => identity16,
  zoomTransform: () => transform2
});
var init_d3 = __esm({
  "node_modules/dagre-d3/node_modules/d3/index.js"() {
    init_package();
    init_src();
    init_src2();
    init_src11();
    init_src13();
    init_src14();
    init_src6();
    init_src15();
    init_src3();
    init_src5();
    init_src16();
    init_src9();
    init_src17();
    init_src19();
    init_src20();
    init_src21();
    init_src22();
    init_src7();
    init_src12();
    init_src23();
    init_src18();
    init_src24();
    init_src27();
    init_src28();
    init_src4();
    init_src29();
    init_src25();
    init_src26();
    init_src8();
    init_src10();
    init_src30();
    init_src31();
  }
});

// node_modules/dagre-d3/lib/d3.js
var require_d3 = __commonJS({
  "node_modules/dagre-d3/lib/d3.js"(exports2, module2) {
    var d3;
    if (!d3) {
      if (typeof __require === "function") {
        try {
          d3 = (init_d3(), __toCommonJS(d3_exports));
        } catch (e) {
        }
      }
    }
    if (!d3) {
      d3 = window.d3;
    }
    module2.exports = d3;
  }
});

// node_modules/dagre-d3/lib/util.js
var require_util3 = __commonJS({
  "node_modules/dagre-d3/lib/util.js"(exports2, module2) {
    var _2 = require_lodash3();
    module2.exports = {
      isSubgraph: isSubgraph2,
      edgeToId: edgeToId2,
      applyStyle: applyStyle2,
      applyClass: applyClass2,
      applyTransition: applyTransition2
    };
    function isSubgraph2(g, v2) {
      return !!g.children(v2).length;
    }
    function edgeToId2(e) {
      return escapeId2(e.v) + ":" + escapeId2(e.w) + ":" + escapeId2(e.name);
    }
    var ID_DELIM2 = /:/g;
    function escapeId2(str) {
      return str ? String(str).replace(ID_DELIM2, "\\:") : "";
    }
    function applyStyle2(dom, styleFn) {
      if (styleFn) {
        dom.attr("style", styleFn);
      }
    }
    function applyClass2(dom, classFn, otherClasses) {
      if (classFn) {
        dom.attr("class", classFn).attr("class", otherClasses + " " + dom.attr("class"));
      }
    }
    function applyTransition2(selection5, g) {
      var graph = g.graph();
      if (_2.isPlainObject(graph)) {
        var transition5 = graph.transition;
        if (_2.isFunction(transition5)) {
          return transition5(selection5);
        }
      }
      return selection5;
    }
  }
});

// node_modules/dagre-d3/lib/label/add-text-label.js
var require_add_text_label = __commonJS({
  "node_modules/dagre-d3/lib/label/add-text-label.js"(exports2, module2) {
    var util2 = require_util3();
    module2.exports = addTextLabel;
    function addTextLabel(root7, node2) {
      var domNode = root7.append("text");
      var lines = processEscapeSequences(node2.label).split("\n");
      for (var i = 0; i < lines.length; i++) {
        domNode.append("tspan").attr("xml:space", "preserve").attr("dy", "1em").attr("x", "1").text(lines[i]);
      }
      util2.applyStyle(domNode, node2.labelStyle);
      return domNode;
    }
    function processEscapeSequences(text2) {
      var newText = "";
      var escaped = false;
      var ch;
      for (var i = 0; i < text2.length; ++i) {
        ch = text2[i];
        if (escaped) {
          switch (ch) {
            case "n":
              newText += "\n";
              break;
            default:
              newText += ch;
          }
          escaped = false;
        } else if (ch === "\\") {
          escaped = true;
        } else {
          newText += ch;
        }
      }
      return newText;
    }
  }
});

// node_modules/dagre-d3/lib/label/add-html-label.js
var require_add_html_label = __commonJS({
  "node_modules/dagre-d3/lib/label/add-html-label.js"(exports2, module2) {
    var util2 = require_util3();
    module2.exports = addHtmlLabel2;
    function addHtmlLabel2(root7, node2) {
      var fo = root7.append("foreignObject").attr("width", "100000");
      var div = fo.append("xhtml:div");
      div.attr("xmlns", "http://www.w3.org/1999/xhtml");
      var label = node2.label;
      switch (typeof label) {
        case "function":
          div.insert(label);
          break;
        case "object":
          div.insert(function() {
            return label;
          });
          break;
        default:
          div.html(label);
      }
      util2.applyStyle(div, node2.labelStyle);
      div.style("display", "inline-block");
      div.style("white-space", "nowrap");
      var client = div.node().getBoundingClientRect();
      fo.attr("width", client.width).attr("height", client.height);
      return fo;
    }
  }
});

// node_modules/dagre-d3/lib/label/add-svg-label.js
var require_add_svg_label = __commonJS({
  "node_modules/dagre-d3/lib/label/add-svg-label.js"(exports2, module2) {
    var util2 = require_util3();
    module2.exports = addSVGLabel;
    function addSVGLabel(root7, node2) {
      var domNode = root7;
      domNode.node().appendChild(node2.label);
      util2.applyStyle(domNode, node2.labelStyle);
      return domNode;
    }
  }
});

// node_modules/dagre-d3/lib/label/add-label.js
var require_add_label = __commonJS({
  "node_modules/dagre-d3/lib/label/add-label.js"(exports2, module2) {
    var addTextLabel = require_add_text_label();
    var addHtmlLabel2 = require_add_html_label();
    var addSVGLabel = require_add_svg_label();
    module2.exports = addLabel;
    function addLabel(root7, node2, location2) {
      var label = node2.label;
      var labelSvg = root7.append("g");
      if (node2.labelType === "svg") {
        addSVGLabel(labelSvg, node2);
      } else if (typeof label !== "string" || node2.labelType === "html") {
        addHtmlLabel2(labelSvg, node2);
      } else {
        addTextLabel(labelSvg, node2);
      }
      var labelBBox = labelSvg.node().getBBox();
      var y7;
      switch (location2) {
        case "top":
          y7 = -node2.height / 2;
          break;
        case "bottom":
          y7 = node2.height / 2 - labelBBox.height;
          break;
        default:
          y7 = -labelBBox.height / 2;
      }
      labelSvg.attr(
        "transform",
        "translate(" + -labelBBox.width / 2 + "," + y7 + ")"
      );
      return labelSvg;
    }
  }
});

// node_modules/dagre-d3/lib/create-nodes.js
var require_create_nodes = __commonJS({
  "node_modules/dagre-d3/lib/create-nodes.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash3();
    var addLabel = require_add_label();
    var util2 = require_util3();
    var d3 = require_d3();
    module2.exports = createNodes;
    function createNodes(selection5, g, shapes2) {
      var simpleNodes = g.nodes().filter(function(v2) {
        return !util2.isSubgraph(g, v2);
      });
      var svgNodes = selection5.selectAll("g.node").data(simpleNodes, function(v2) {
        return v2;
      }).classed("update", true);
      svgNodes.exit().remove();
      svgNodes.enter().append("g").attr("class", "node").style("opacity", 0);
      svgNodes = selection5.selectAll("g.node");
      svgNodes.each(function(v2) {
        var node2 = g.node(v2);
        var thisGroup = d3.select(this);
        util2.applyClass(
          thisGroup,
          node2["class"],
          (thisGroup.classed("update") ? "update " : "") + "node"
        );
        thisGroup.select("g.label").remove();
        var labelGroup = thisGroup.append("g").attr("class", "label");
        var labelDom = addLabel(labelGroup, node2);
        var shape = shapes2[node2.shape];
        var bbox = _2.pick(labelDom.node().getBBox(), "width", "height");
        node2.elem = this;
        if (node2.id) {
          thisGroup.attr("id", node2.id);
        }
        if (node2.labelId) {
          labelGroup.attr("id", node2.labelId);
        }
        if (_2.has(node2, "width")) {
          bbox.width = node2.width;
        }
        if (_2.has(node2, "height")) {
          bbox.height = node2.height;
        }
        bbox.width += node2.paddingLeft + node2.paddingRight;
        bbox.height += node2.paddingTop + node2.paddingBottom;
        labelGroup.attr("transform", "translate(" + (node2.paddingLeft - node2.paddingRight) / 2 + "," + (node2.paddingTop - node2.paddingBottom) / 2 + ")");
        var root7 = d3.select(this);
        root7.select(".label-container").remove();
        var shapeSvg = shape(root7, bbox, node2).classed("label-container", true);
        util2.applyStyle(shapeSvg, node2.style);
        var shapeBBox = shapeSvg.node().getBBox();
        node2.width = shapeBBox.width;
        node2.height = shapeBBox.height;
      });
      var exitSelection;
      if (svgNodes.exit) {
        exitSelection = svgNodes.exit();
      } else {
        exitSelection = svgNodes.selectAll(null);
      }
      util2.applyTransition(exitSelection, g).style("opacity", 0).remove();
      return svgNodes;
    }
  }
});

// node_modules/dagre-d3/lib/create-clusters.js
var require_create_clusters = __commonJS({
  "node_modules/dagre-d3/lib/create-clusters.js"(exports2, module2) {
    var util2 = require_util3();
    var d3 = require_d3();
    var addLabel = require_add_label();
    module2.exports = createClusters;
    function createClusters(selection5, g) {
      var clusters = g.nodes().filter(function(v2) {
        return util2.isSubgraph(g, v2);
      });
      var svgClusters = selection5.selectAll("g.cluster").data(clusters, function(v2) {
        return v2;
      });
      svgClusters.selectAll("*").remove();
      svgClusters.enter().append("g").attr("class", "cluster").attr("id", function(v2) {
        var node2 = g.node(v2);
        return node2.id;
      }).style("opacity", 0);
      svgClusters = selection5.selectAll("g.cluster");
      util2.applyTransition(svgClusters, g).style("opacity", 1);
      svgClusters.each(function(v2) {
        var node2 = g.node(v2);
        var thisGroup = d3.select(this);
        d3.select(this).append("rect");
        var labelGroup = thisGroup.append("g").attr("class", "label");
        addLabel(labelGroup, node2, node2.clusterLabelPos);
      });
      svgClusters.selectAll("rect").each(function(c7) {
        var node2 = g.node(c7);
        var domCluster = d3.select(this);
        util2.applyStyle(domCluster, node2.style);
      });
      var exitSelection;
      if (svgClusters.exit) {
        exitSelection = svgClusters.exit();
      } else {
        exitSelection = svgClusters.selectAll(null);
      }
      util2.applyTransition(exitSelection, g).style("opacity", 0).remove();
      return svgClusters;
    }
  }
});

// node_modules/dagre-d3/lib/create-edge-labels.js
var require_create_edge_labels = __commonJS({
  "node_modules/dagre-d3/lib/create-edge-labels.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash3();
    var addLabel = require_add_label();
    var util2 = require_util3();
    var d3 = require_d3();
    module2.exports = createEdgeLabels;
    function createEdgeLabels(selection5, g) {
      var svgEdgeLabels = selection5.selectAll("g.edgeLabel").data(g.edges(), function(e) {
        return util2.edgeToId(e);
      }).classed("update", true);
      svgEdgeLabels.exit().remove();
      svgEdgeLabels.enter().append("g").classed("edgeLabel", true).style("opacity", 0);
      svgEdgeLabels = selection5.selectAll("g.edgeLabel");
      svgEdgeLabels.each(function(e) {
        var root7 = d3.select(this);
        root7.select(".label").remove();
        var edge = g.edge(e);
        var label = addLabel(root7, g.edge(e), 0, 0).classed("label", true);
        var bbox = label.node().getBBox();
        if (edge.labelId) {
          label.attr("id", edge.labelId);
        }
        if (!_2.has(edge, "width")) {
          edge.width = bbox.width;
        }
        if (!_2.has(edge, "height")) {
          edge.height = bbox.height;
        }
      });
      var exitSelection;
      if (svgEdgeLabels.exit) {
        exitSelection = svgEdgeLabels.exit();
      } else {
        exitSelection = svgEdgeLabels.selectAll(null);
      }
      util2.applyTransition(exitSelection, g).style("opacity", 0).remove();
      return svgEdgeLabels;
    }
  }
});

// node_modules/dagre-d3/lib/create-edge-paths.js
var require_create_edge_paths = __commonJS({
  "node_modules/dagre-d3/lib/create-edge-paths.js"(exports2, module2) {
    "use strict";
    var _2 = require_lodash3();
    var intersectNode2 = require_intersect_node();
    var util2 = require_util3();
    var d3 = require_d3();
    module2.exports = createEdgePaths;
    function createEdgePaths(selection5, g, arrows) {
      var previousPaths = selection5.selectAll("g.edgePath").data(g.edges(), function(e) {
        return util2.edgeToId(e);
      }).classed("update", true);
      var newPaths = enter(previousPaths, g);
      exit(previousPaths, g);
      var svgPaths = previousPaths.merge !== void 0 ? previousPaths.merge(newPaths) : previousPaths;
      util2.applyTransition(svgPaths, g).style("opacity", 1);
      svgPaths.each(function(e) {
        var domEdge = d3.select(this);
        var edge = g.edge(e);
        edge.elem = this;
        if (edge.id) {
          domEdge.attr("id", edge.id);
        }
        util2.applyClass(
          domEdge,
          edge["class"],
          (domEdge.classed("update") ? "update " : "") + "edgePath"
        );
      });
      svgPaths.selectAll("path.path").each(function(e) {
        var edge = g.edge(e);
        edge.arrowheadId = _2.uniqueId("arrowhead");
        var domEdge = d3.select(this).attr("marker-end", function() {
          return "url(" + makeFragmentRef(location.href, edge.arrowheadId) + ")";
        }).style("fill", "none");
        util2.applyTransition(domEdge, g).attr("d", function(e3) {
          return calcPoints(g, e3);
        });
        util2.applyStyle(domEdge, edge.style);
      });
      svgPaths.selectAll("defs *").remove();
      svgPaths.selectAll("defs").each(function(e) {
        var edge = g.edge(e);
        var arrowhead = arrows[edge.arrowhead];
        arrowhead(d3.select(this), edge.arrowheadId, edge, "arrowhead");
      });
      return svgPaths;
    }
    function makeFragmentRef(url, fragmentId) {
      var baseUrl = url.split("#")[0];
      return baseUrl + "#" + fragmentId;
    }
    function calcPoints(g, e) {
      var edge = g.edge(e);
      var tail = g.node(e.v);
      var head2 = g.node(e.w);
      var points = edge.points.slice(1, edge.points.length - 1);
      points.unshift(intersectNode2(tail, points[0]));
      points.push(intersectNode2(head2, points[points.length - 1]));
      return createLine(edge, points);
    }
    function createLine(edge, points) {
      var line2 = (d3.line || d3.svg.line)().x(function(d) {
        return d.x;
      }).y(function(d) {
        return d.y;
      });
      (line2.curve || line2.interpolate)(edge.curve);
      return line2(points);
    }
    function getCoords(elem) {
      var bbox = elem.getBBox();
      var matrix = elem.ownerSVGElement.getScreenCTM().inverse().multiply(elem.getScreenCTM()).translate(bbox.width / 2, bbox.height / 2);
      return { x: matrix.e, y: matrix.f };
    }
    function enter(svgPaths, g) {
      var svgPathsEnter = svgPaths.enter().append("g").attr("class", "edgePath").style("opacity", 0);
      svgPathsEnter.append("path").attr("class", "path").attr("d", function(e) {
        var edge = g.edge(e);
        var sourceElem = g.node(e.v).elem;
        var points = _2.range(edge.points.length).map(function() {
          return getCoords(sourceElem);
        });
        return createLine(edge, points);
      });
      svgPathsEnter.append("defs");
      return svgPathsEnter;
    }
    function exit(svgPaths, g) {
      var svgPathExit = svgPaths.exit();
      util2.applyTransition(svgPathExit, g).style("opacity", 0).remove();
    }
  }
});

// node_modules/dagre-d3/lib/position-nodes.js
var require_position_nodes = __commonJS({
  "node_modules/dagre-d3/lib/position-nodes.js"(exports2, module2) {
    "use strict";
    var util2 = require_util3();
    var d3 = require_d3();
    module2.exports = positionNodes;
    function positionNodes(selection5, g) {
      var created = selection5.filter(function() {
        return !d3.select(this).classed("update");
      });
      function translate(v2) {
        var node2 = g.node(v2);
        return "translate(" + node2.x + "," + node2.y + ")";
      }
      created.attr("transform", translate);
      util2.applyTransition(selection5, g).style("opacity", 1).attr("transform", translate);
    }
  }
});

// node_modules/dagre-d3/lib/position-edge-labels.js
var require_position_edge_labels = __commonJS({
  "node_modules/dagre-d3/lib/position-edge-labels.js"(exports2, module2) {
    "use strict";
    var util2 = require_util3();
    var d3 = require_d3();
    var _2 = require_lodash3();
    module2.exports = positionEdgeLabels;
    function positionEdgeLabels(selection5, g) {
      var created = selection5.filter(function() {
        return !d3.select(this).classed("update");
      });
      function translate(e) {
        var edge = g.edge(e);
        return _2.has(edge, "x") ? "translate(" + edge.x + "," + edge.y + ")" : "";
      }
      created.attr("transform", translate);
      util2.applyTransition(selection5, g).style("opacity", 1).attr("transform", translate);
    }
  }
});

// node_modules/dagre-d3/lib/position-clusters.js
var require_position_clusters = __commonJS({
  "node_modules/dagre-d3/lib/position-clusters.js"(exports2, module2) {
    "use strict";
    var util2 = require_util3();
    var d3 = require_d3();
    module2.exports = positionClusters;
    function positionClusters(selection5, g) {
      var created = selection5.filter(function() {
        return !d3.select(this).classed("update");
      });
      function translate(v2) {
        var node2 = g.node(v2);
        return "translate(" + node2.x + "," + node2.y + ")";
      }
      created.attr("transform", translate);
      util2.applyTransition(selection5, g).style("opacity", 1).attr("transform", translate);
      util2.applyTransition(created.selectAll("rect"), g).attr("width", function(v2) {
        return g.node(v2).width;
      }).attr("height", function(v2) {
        return g.node(v2).height;
      }).attr("x", function(v2) {
        var node2 = g.node(v2);
        return -node2.width / 2;
      }).attr("y", function(v2) {
        var node2 = g.node(v2);
        return -node2.height / 2;
      });
    }
  }
});

// node_modules/dagre-d3/lib/shapes.js
var require_shapes = __commonJS({
  "node_modules/dagre-d3/lib/shapes.js"(exports2, module2) {
    "use strict";
    var intersectRect2 = require_intersect_rect();
    var intersectEllipse2 = require_intersect_ellipse();
    var intersectCircle2 = require_intersect_circle();
    var intersectPolygon2 = require_intersect_polygon();
    module2.exports = {
      rect: rect2,
      ellipse,
      circle: circle4,
      diamond
    };
    function rect2(parent, bbox, node2) {
      var shapeSvg = parent.insert("rect", ":first-child").attr("rx", node2.rx).attr("ry", node2.ry).attr("x", -bbox.width / 2).attr("y", -bbox.height / 2).attr("width", bbox.width).attr("height", bbox.height);
      node2.intersect = function(point12) {
        return intersectRect2(node2, point12);
      };
      return shapeSvg;
    }
    function ellipse(parent, bbox, node2) {
      var rx = bbox.width / 2;
      var ry = bbox.height / 2;
      var shapeSvg = parent.insert("ellipse", ":first-child").attr("x", -bbox.width / 2).attr("y", -bbox.height / 2).attr("rx", rx).attr("ry", ry);
      node2.intersect = function(point12) {
        return intersectEllipse2(node2, rx, ry, point12);
      };
      return shapeSvg;
    }
    function circle4(parent, bbox, node2) {
      var r = Math.max(bbox.width, bbox.height) / 2;
      var shapeSvg = parent.insert("circle", ":first-child").attr("x", -bbox.width / 2).attr("y", -bbox.height / 2).attr("r", r);
      node2.intersect = function(point12) {
        return intersectCircle2(node2, r, point12);
      };
      return shapeSvg;
    }
    function diamond(parent, bbox, node2) {
      var w2 = bbox.width * Math.SQRT2 / 2;
      var h = bbox.height * Math.SQRT2 / 2;
      var points = [
        { x: 0, y: -h },
        { x: -w2, y: 0 },
        { x: 0, y: h },
        { x: w2, y: 0 }
      ];
      var shapeSvg = parent.insert("polygon", ":first-child").attr("points", points.map(function(p) {
        return p.x + "," + p.y;
      }).join(" "));
      node2.intersect = function(p) {
        return intersectPolygon2(node2, points, p);
      };
      return shapeSvg;
    }
  }
});

// node_modules/dagre-d3/lib/arrows.js
var require_arrows = __commonJS({
  "node_modules/dagre-d3/lib/arrows.js"(exports2, module2) {
    var util2 = require_util3();
    module2.exports = {
      "default": normal,
      "normal": normal,
      "vee": vee,
      "undirected": undirected
    };
    function normal(parent, id5, edge, type4) {
      var marker = parent.append("marker").attr("id", id5).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
      var path5 = marker.append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").style("stroke-width", 1).style("stroke-dasharray", "1,0");
      util2.applyStyle(path5, edge[type4 + "Style"]);
      if (edge[type4 + "Class"]) {
        path5.attr("class", edge[type4 + "Class"]);
      }
    }
    function vee(parent, id5, edge, type4) {
      var marker = parent.append("marker").attr("id", id5).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
      var path5 = marker.append("path").attr("d", "M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width", 1).style("stroke-dasharray", "1,0");
      util2.applyStyle(path5, edge[type4 + "Style"]);
      if (edge[type4 + "Class"]) {
        path5.attr("class", edge[type4 + "Class"]);
      }
    }
    function undirected(parent, id5, edge, type4) {
      var marker = parent.append("marker").attr("id", id5).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
      var path5 = marker.append("path").attr("d", "M 0 5 L 10 5").style("stroke-width", 1).style("stroke-dasharray", "1,0");
      util2.applyStyle(path5, edge[type4 + "Style"]);
      if (edge[type4 + "Class"]) {
        path5.attr("class", edge[type4 + "Class"]);
      }
    }
  }
});

// node_modules/dagre-d3/lib/render.js
var require_render = __commonJS({
  "node_modules/dagre-d3/lib/render.js"(exports2, module2) {
    var _2 = require_lodash3();
    var d3 = require_d3();
    var layout = require_dagre2().layout;
    module2.exports = render2;
    function render2() {
      var createNodes = require_create_nodes();
      var createClusters = require_create_clusters();
      var createEdgeLabels = require_create_edge_labels();
      var createEdgePaths = require_create_edge_paths();
      var positionNodes = require_position_nodes();
      var positionEdgeLabels = require_position_edge_labels();
      var positionClusters = require_position_clusters();
      var shapes2 = require_shapes();
      var arrows = require_arrows();
      var fn = function(svg4, g) {
        preProcessGraph(g);
        var outputGroup = createOrSelectGroup(svg4, "output");
        var clustersGroup = createOrSelectGroup(outputGroup, "clusters");
        var edgePathsGroup = createOrSelectGroup(outputGroup, "edgePaths");
        var edgeLabels2 = createEdgeLabels(createOrSelectGroup(outputGroup, "edgeLabels"), g);
        var nodes = createNodes(createOrSelectGroup(outputGroup, "nodes"), g, shapes2);
        layout(g);
        positionNodes(nodes, g);
        positionEdgeLabels(edgeLabels2, g);
        createEdgePaths(edgePathsGroup, g, arrows);
        var clusters = createClusters(clustersGroup, g);
        positionClusters(clusters, g);
        postProcessGraph(g);
      };
      fn.createNodes = function(value) {
        if (!arguments.length)
          return createNodes;
        createNodes = value;
        return fn;
      };
      fn.createClusters = function(value) {
        if (!arguments.length)
          return createClusters;
        createClusters = value;
        return fn;
      };
      fn.createEdgeLabels = function(value) {
        if (!arguments.length)
          return createEdgeLabels;
        createEdgeLabels = value;
        return fn;
      };
      fn.createEdgePaths = function(value) {
        if (!arguments.length)
          return createEdgePaths;
        createEdgePaths = value;
        return fn;
      };
      fn.shapes = function(value) {
        if (!arguments.length)
          return shapes2;
        shapes2 = value;
        return fn;
      };
      fn.arrows = function(value) {
        if (!arguments.length)
          return arrows;
        arrows = value;
        return fn;
      };
      return fn;
    }
    var NODE_DEFAULT_ATTRS = {
      paddingLeft: 10,
      paddingRight: 10,
      paddingTop: 10,
      paddingBottom: 10,
      rx: 0,
      ry: 0,
      shape: "rect"
    };
    var EDGE_DEFAULT_ATTRS = {
      arrowhead: "normal",
      curve: d3.curveLinear
    };
    function preProcessGraph(g) {
      g.nodes().forEach(function(v2) {
        var node2 = g.node(v2);
        if (!_2.has(node2, "label") && !g.children(v2).length) {
          node2.label = v2;
        }
        if (_2.has(node2, "paddingX")) {
          _2.defaults(node2, {
            paddingLeft: node2.paddingX,
            paddingRight: node2.paddingX
          });
        }
        if (_2.has(node2, "paddingY")) {
          _2.defaults(node2, {
            paddingTop: node2.paddingY,
            paddingBottom: node2.paddingY
          });
        }
        if (_2.has(node2, "padding")) {
          _2.defaults(node2, {
            paddingLeft: node2.padding,
            paddingRight: node2.padding,
            paddingTop: node2.padding,
            paddingBottom: node2.padding
          });
        }
        _2.defaults(node2, NODE_DEFAULT_ATTRS);
        _2.each(["paddingLeft", "paddingRight", "paddingTop", "paddingBottom"], function(k3) {
          node2[k3] = Number(node2[k3]);
        });
        if (_2.has(node2, "width")) {
          node2._prevWidth = node2.width;
        }
        if (_2.has(node2, "height")) {
          node2._prevHeight = node2.height;
        }
      });
      g.edges().forEach(function(e) {
        var edge = g.edge(e);
        if (!_2.has(edge, "label")) {
          edge.label = "";
        }
        _2.defaults(edge, EDGE_DEFAULT_ATTRS);
      });
    }
    function postProcessGraph(g) {
      _2.each(g.nodes(), function(v2) {
        var node2 = g.node(v2);
        if (_2.has(node2, "_prevWidth")) {
          node2.width = node2._prevWidth;
        } else {
          delete node2.width;
        }
        if (_2.has(node2, "_prevHeight")) {
          node2.height = node2._prevHeight;
        } else {
          delete node2.height;
        }
        delete node2._prevWidth;
        delete node2._prevHeight;
      });
    }
    function createOrSelectGroup(root7, name2) {
      var selection5 = root7.select("g." + name2);
      if (selection5.empty()) {
        selection5 = root7.append("g").attr("class", name2);
      }
      return selection5;
    }
  }
});

// node_modules/dagre-d3/lib/version.js
var require_version3 = __commonJS({
  "node_modules/dagre-d3/lib/version.js"(exports2, module2) {
    module2.exports = "0.6.4";
  }
});

// node_modules/dagre-d3/index.js
var require_dagre_d3 = __commonJS({
  "node_modules/dagre-d3/index.js"(exports2, module2) {
    module2.exports = {
      graphlib: require_graphlib3(),
      dagre: require_dagre2(),
      intersect: require_intersect(),
      render: require_render(),
      util: require_util3(),
      version: require_version3()
    };
  }
});

// node_modules/mermaid/dist/mermaid.core.mjs
var import_moment_mini = __toESM(require_moment_min(), 1);
var import_sanitize_url = __toESM(require_dist(), 1);

// node_modules/d3/node_modules/d3-array/src/ascending.js
function ascending(a3, b) {
  return a3 == null || b == null ? NaN : a3 < b ? -1 : a3 > b ? 1 : a3 >= b ? 0 : NaN;
}

// node_modules/d3/node_modules/d3-array/src/descending.js
function descending(a3, b) {
  return a3 == null || b == null ? NaN : b < a3 ? -1 : b > a3 ? 1 : b >= a3 ? 0 : NaN;
}

// node_modules/d3/node_modules/d3-array/src/bisector.js
function bisector(f2) {
  let compare1, compare2, delta;
  if (f2.length !== 2) {
    compare1 = ascending;
    compare2 = (d, x7) => ascending(f2(d), x7);
    delta = (d, x7) => f2(d) - x7;
  } else {
    compare1 = f2 === ascending || f2 === descending ? f2 : zero;
    compare2 = f2;
    delta = f2;
  }
  function left3(a3, x7, lo = 0, hi = a3.length) {
    if (lo < hi) {
      if (compare1(x7, x7) !== 0)
        return hi;
      do {
        const mid = lo + hi >>> 1;
        if (compare2(a3[mid], x7) < 0)
          lo = mid + 1;
        else
          hi = mid;
      } while (lo < hi);
    }
    return lo;
  }
  function right3(a3, x7, lo = 0, hi = a3.length) {
    if (lo < hi) {
      if (compare1(x7, x7) !== 0)
        return hi;
      do {
        const mid = lo + hi >>> 1;
        if (compare2(a3[mid], x7) <= 0)
          lo = mid + 1;
        else
          hi = mid;
      } while (lo < hi);
    }
    return lo;
  }
  function center3(a3, x7, lo = 0, hi = a3.length) {
    const i = left3(a3, x7, lo, hi - 1);
    return i > lo && delta(a3[i - 1], x7) > -delta(a3[i], x7) ? i - 1 : i;
  }
  return { left: left3, center: center3, right: right3 };
}
function zero() {
  return 0;
}

// node_modules/d3/node_modules/d3-array/src/number.js
function number(x7) {
  return x7 === null ? NaN : +x7;
}

// node_modules/d3/node_modules/d3-array/src/bisect.js
var ascendingBisect = bisector(ascending);
var bisectRight = ascendingBisect.right;
var bisectLeft = ascendingBisect.left;
var bisectCenter = bisector(number).center;

// node_modules/d3/node_modules/d3-array/src/blur.js
var blur2 = Blur2(blurf);
var blurImage = Blur2(blurfImage);
function Blur2(blur6) {
  return function(data, rx, ry = rx) {
    if (!((rx = +rx) >= 0))
      throw new RangeError("invalid rx");
    if (!((ry = +ry) >= 0))
      throw new RangeError("invalid ry");
    let { data: values, width: width2, height: height2 } = data;
    if (!((width2 = Math.floor(width2)) >= 0))
      throw new RangeError("invalid width");
    if (!((height2 = Math.floor(height2 !== void 0 ? height2 : values.length / width2)) >= 0))
      throw new RangeError("invalid height");
    if (!width2 || !height2 || !rx && !ry)
      return data;
    const blurx = rx && blur6(rx);
    const blury = ry && blur6(ry);
    const temp2 = values.slice();
    if (blurx && blury) {
      blurh(blurx, temp2, values, width2, height2);
      blurh(blurx, values, temp2, width2, height2);
      blurh(blurx, temp2, values, width2, height2);
      blurv(blury, values, temp2, width2, height2);
      blurv(blury, temp2, values, width2, height2);
      blurv(blury, values, temp2, width2, height2);
    } else if (blurx) {
      blurh(blurx, values, temp2, width2, height2);
      blurh(blurx, temp2, values, width2, height2);
      blurh(blurx, values, temp2, width2, height2);
    } else if (blury) {
      blurv(blury, values, temp2, width2, height2);
      blurv(blury, temp2, values, width2, height2);
      blurv(blury, values, temp2, width2, height2);
    }
    return data;
  };
}
function blurh(blur6, T, S, w2, h) {
  for (let y7 = 0, n = w2 * h; y7 < n; ) {
    blur6(T, S, y7, y7 += w2, 1);
  }
}
function blurv(blur6, T, S, w2, h) {
  for (let x7 = 0, n = w2 * h; x7 < w2; ++x7) {
    blur6(T, S, x7, x7 + n, w2);
  }
}
function blurfImage(radius) {
  const blur6 = blurf(radius);
  return (T, S, start6, stop, step) => {
    start6 <<= 2, stop <<= 2, step <<= 2;
    blur6(T, S, start6 + 0, stop + 0, step);
    blur6(T, S, start6 + 1, stop + 1, step);
    blur6(T, S, start6 + 2, stop + 2, step);
    blur6(T, S, start6 + 3, stop + 3, step);
  };
}
function blurf(radius) {
  const radius0 = Math.floor(radius);
  if (radius0 === radius)
    return bluri(radius);
  const t = radius - radius0;
  const w2 = 2 * radius + 1;
  return (T, S, start6, stop, step) => {
    if (!((stop -= step) >= start6))
      return;
    let sum9 = radius0 * S[start6];
    const s0 = step * radius0;
    const s1 = s0 + step;
    for (let i = start6, j = start6 + s0; i < j; i += step) {
      sum9 += S[Math.min(stop, i)];
    }
    for (let i = start6, j = stop; i <= j; i += step) {
      sum9 += S[Math.min(stop, i + s0)];
      T[i] = (sum9 + t * (S[Math.max(start6, i - s1)] + S[Math.min(stop, i + s1)])) / w2;
      sum9 -= S[Math.max(start6, i - s0)];
    }
  };
}
function bluri(radius) {
  const w2 = 2 * radius + 1;
  return (T, S, start6, stop, step) => {
    if (!((stop -= step) >= start6))
      return;
    let sum9 = radius * S[start6];
    const s3 = step * radius;
    for (let i = start6, j = start6 + s3; i < j; i += step) {
      sum9 += S[Math.min(stop, i)];
    }
    for (let i = start6, j = stop; i <= j; i += step) {
      sum9 += S[Math.min(stop, i + s3)];
      T[i] = sum9 / w2;
      sum9 -= S[Math.max(start6, i - s3)];
    }
  };
}

// node_modules/internmap/src/index.js
var InternMap = class extends Map {
  constructor(entries, key = keyof) {
    super();
    Object.defineProperties(this, { _intern: { value: /* @__PURE__ */ new Map() }, _key: { value: key } });
    if (entries != null)
      for (const [key2, value] of entries)
        this.set(key2, value);
  }
  get(key) {
    return super.get(intern_get(this, key));
  }
  has(key) {
    return super.has(intern_get(this, key));
  }
  set(key, value) {
    return super.set(intern_set(this, key), value);
  }
  delete(key) {
    return super.delete(intern_delete(this, key));
  }
};
function intern_get({ _intern, _key }, value) {
  const key = _key(value);
  return _intern.has(key) ? _intern.get(key) : value;
}
function intern_set({ _intern, _key }, value) {
  const key = _key(value);
  if (_intern.has(key))
    return _intern.get(key);
  _intern.set(key, value);
  return value;
}
function intern_delete({ _intern, _key }, value) {
  const key = _key(value);
  if (_intern.has(key)) {
    value = _intern.get(key);
    _intern.delete(key);
  }
  return value;
}
function keyof(value) {
  return value !== null && typeof value === "object" ? value.valueOf() : value;
}

// node_modules/d3/node_modules/d3-array/src/array.js
var array = Array.prototype;
var slice = array.slice;
var map = array.map;

// node_modules/d3/node_modules/d3-array/src/ticks.js
var e10 = Math.sqrt(50);
var e5 = Math.sqrt(10);
var e2 = Math.sqrt(2);
function tickStep(start6, stop, count7) {
  var step0 = Math.abs(stop - start6) / Math.max(0, count7), step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)), error = step0 / step1;
  if (error >= e10)
    step1 *= 10;
  else if (error >= e5)
    step1 *= 5;
  else if (error >= e2)
    step1 *= 2;
  return stop < start6 ? -step1 : step1;
}

// node_modules/d3/node_modules/d3-array/src/max.js
function max(values, valueof) {
  let max10;
  if (valueof === void 0) {
    for (const value of values) {
      if (value != null && (max10 < value || max10 === void 0 && value >= value)) {
        max10 = value;
      }
    }
  } else {
    let index6 = -1;
    for (let value of values) {
      if ((value = valueof(value, ++index6, values)) != null && (max10 < value || max10 === void 0 && value >= value)) {
        max10 = value;
      }
    }
  }
  return max10;
}

// node_modules/d3/node_modules/d3-array/src/min.js
function min(values, valueof) {
  let min8;
  if (valueof === void 0) {
    for (const value of values) {
      if (value != null && (min8 > value || min8 === void 0 && value >= value)) {
        min8 = value;
      }
    }
  } else {
    let index6 = -1;
    for (let value of values) {
      if ((value = valueof(value, ++index6, values)) != null && (min8 > value || min8 === void 0 && value >= value)) {
        min8 = value;
      }
    }
  }
  return min8;
}

// node_modules/d3/node_modules/d3-array/src/shuffle.js
var shuffle_default = shuffler(Math.random);
function shuffler(random2) {
  return function shuffle3(array12, i0 = 0, i1 = array12.length) {
    let m = i1 - (i0 = +i0);
    while (m) {
      const i = random2() * m-- | 0, t = array12[m + i0];
      array12[m + i0] = array12[i + i0];
      array12[i + i0] = t;
    }
    return array12;
  };
}

// node_modules/d3-axis/src/identity.js
function identity_default(x7) {
  return x7;
}

// node_modules/d3-axis/src/axis.js
var top = 1;
var right = 2;
var bottom = 3;
var left = 4;
var epsilon = 1e-6;
function translateX(x7) {
  return "translate(" + x7 + ",0)";
}
function translateY(y7) {
  return "translate(0," + y7 + ")";
}
function number2(scale2) {
  return (d) => +scale2(d);
}
function center(scale2, offset) {
  offset = Math.max(0, scale2.bandwidth() - offset * 2) / 2;
  if (scale2.round())
    offset = Math.round(offset);
  return (d) => +scale2(d) + offset;
}
function entering() {
  return !this.__axis;
}
function axis(orient, scale2) {
  var tickArguments = [], tickValues = null, tickFormat2 = null, tickSizeInner = 6, tickSizeOuter = 6, tickPadding = 3, offset = typeof window !== "undefined" && window.devicePixelRatio > 1 ? 0 : 0.5, k3 = orient === top || orient === left ? -1 : 1, x7 = orient === left || orient === right ? "x" : "y", transform3 = orient === top || orient === bottom ? translateX : translateY;
  function axis3(context) {
    var values = tickValues == null ? scale2.ticks ? scale2.ticks.apply(scale2, tickArguments) : scale2.domain() : tickValues, format5 = tickFormat2 == null ? scale2.tickFormat ? scale2.tickFormat.apply(scale2, tickArguments) : identity_default : tickFormat2, spacing = Math.max(tickSizeInner, 0) + tickPadding, range6 = scale2.range(), range0 = +range6[0] + offset, range1 = +range6[range6.length - 1] + offset, position2 = (scale2.bandwidth ? center : number2)(scale2.copy(), offset), selection5 = context.selection ? context.selection() : context, path5 = selection5.selectAll(".domain").data([null]), tick = selection5.selectAll(".tick").data(values, scale2).order(), tickExit = tick.exit(), tickEnter = tick.enter().append("g").attr("class", "tick"), line2 = tick.select("line"), text2 = tick.select("text");
    path5 = path5.merge(path5.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor"));
    tick = tick.merge(tickEnter);
    line2 = line2.merge(tickEnter.append("line").attr("stroke", "currentColor").attr(x7 + "2", k3 * tickSizeInner));
    text2 = text2.merge(tickEnter.append("text").attr("fill", "currentColor").attr(x7, k3 * spacing).attr("dy", orient === top ? "0em" : orient === bottom ? "0.71em" : "0.32em"));
    if (context !== selection5) {
      path5 = path5.transition(context);
      tick = tick.transition(context);
      line2 = line2.transition(context);
      text2 = text2.transition(context);
      tickExit = tickExit.transition(context).attr("opacity", epsilon).attr("transform", function(d) {
        return isFinite(d = position2(d)) ? transform3(d + offset) : this.getAttribute("transform");
      });
      tickEnter.attr("opacity", epsilon).attr("transform", function(d) {
        var p = this.parentNode.__axis;
        return transform3((p && isFinite(p = p(d)) ? p : position2(d)) + offset);
      });
    }
    tickExit.remove();
    path5.attr("d", orient === left || orient === right ? tickSizeOuter ? "M" + k3 * tickSizeOuter + "," + range0 + "H" + offset + "V" + range1 + "H" + k3 * tickSizeOuter : "M" + offset + "," + range0 + "V" + range1 : tickSizeOuter ? "M" + range0 + "," + k3 * tickSizeOuter + "V" + offset + "H" + range1 + "V" + k3 * tickSizeOuter : "M" + range0 + "," + offset + "H" + range1);
    tick.attr("opacity", 1).attr("transform", function(d) {
      return transform3(position2(d) + offset);
    });
    line2.attr(x7 + "2", k3 * tickSizeInner);
    text2.attr(x7, k3 * spacing).text(format5);
    selection5.filter(entering).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", orient === right ? "start" : orient === left ? "end" : "middle");
    selection5.each(function() {
      this.__axis = position2;
    });
  }
  axis3.scale = function(_2) {
    return arguments.length ? (scale2 = _2, axis3) : scale2;
  };
  axis3.ticks = function() {
    return tickArguments = Array.from(arguments), axis3;
  };
  axis3.tickArguments = function(_2) {
    return arguments.length ? (tickArguments = _2 == null ? [] : Array.from(_2), axis3) : tickArguments.slice();
  };
  axis3.tickValues = function(_2) {
    return arguments.length ? (tickValues = _2 == null ? null : Array.from(_2), axis3) : tickValues && tickValues.slice();
  };
  axis3.tickFormat = function(_2) {
    return arguments.length ? (tickFormat2 = _2, axis3) : tickFormat2;
  };
  axis3.tickSize = function(_2) {
    return arguments.length ? (tickSizeInner = tickSizeOuter = +_2, axis3) : tickSizeInner;
  };
  axis3.tickSizeInner = function(_2) {
    return arguments.length ? (tickSizeInner = +_2, axis3) : tickSizeInner;
  };
  axis3.tickSizeOuter = function(_2) {
    return arguments.length ? (tickSizeOuter = +_2, axis3) : tickSizeOuter;
  };
  axis3.tickPadding = function(_2) {
    return arguments.length ? (tickPadding = +_2, axis3) : tickPadding;
  };
  axis3.offset = function(_2) {
    return arguments.length ? (offset = +_2, axis3) : offset;
  };
  return axis3;
}
function axisTop(scale2) {
  return axis(top, scale2);
}
function axisBottom(scale2) {
  return axis(bottom, scale2);
}

// node_modules/d3-brush/node_modules/d3-dispatch/src/dispatch.js
var noop = { value: () => {
} };
function dispatch() {
  for (var i = 0, n = arguments.length, _2 = {}, t; i < n; ++i) {
    if (!(t = arguments[i] + "") || t in _2 || /[\s.]/.test(t))
      throw new Error("illegal type: " + t);
    _2[t] = [];
  }
  return new Dispatch(_2);
}
function Dispatch(_2) {
  this._ = _2;
}
function parseTypenames(typenames, types2) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name2 = "", i = t.indexOf(".");
    if (i >= 0)
      name2 = t.slice(i + 1), t = t.slice(0, i);
    if (t && !types2.hasOwnProperty(t))
      throw new Error("unknown type: " + t);
    return { type: t, name: name2 };
  });
}
Dispatch.prototype = dispatch.prototype = {
  constructor: Dispatch,
  on: function(typename, callback) {
    var _2 = this._, T = parseTypenames(typename + "", _2), t, i = -1, n = T.length;
    if (arguments.length < 2) {
      while (++i < n)
        if ((t = (typename = T[i]).type) && (t = get(_2[t], typename.name)))
          return t;
      return;
    }
    if (callback != null && typeof callback !== "function")
      throw new Error("invalid callback: " + callback);
    while (++i < n) {
      if (t = (typename = T[i]).type)
        _2[t] = set(_2[t], typename.name, callback);
      else if (callback == null)
        for (t in _2)
          _2[t] = set(_2[t], typename.name, null);
    }
    return this;
  },
  copy: function() {
    var copy7 = {}, _2 = this._;
    for (var t in _2)
      copy7[t] = _2[t].slice();
    return new Dispatch(copy7);
  },
  call: function(type4, that) {
    if ((n = arguments.length - 2) > 0)
      for (var args = new Array(n), i = 0, n, t; i < n; ++i)
        args[i] = arguments[i + 2];
    if (!this._.hasOwnProperty(type4))
      throw new Error("unknown type: " + type4);
    for (t = this._[type4], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  },
  apply: function(type4, that, args) {
    if (!this._.hasOwnProperty(type4))
      throw new Error("unknown type: " + type4);
    for (var t = this._[type4], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  }
};
function get(type4, name2) {
  for (var i = 0, n = type4.length, c7; i < n; ++i) {
    if ((c7 = type4[i]).name === name2) {
      return c7.value;
    }
  }
}
function set(type4, name2, callback) {
  for (var i = 0, n = type4.length; i < n; ++i) {
    if (type4[i].name === name2) {
      type4[i] = noop, type4 = type4.slice(0, i).concat(type4.slice(i + 1));
      break;
    }
  }
  if (callback != null)
    type4.push({ name: name2, value: callback });
  return type4;
}
var dispatch_default = dispatch;

// node_modules/d3-brush/node_modules/d3-selection/src/namespaces.js
var xhtml = "http://www.w3.org/1999/xhtml";
var namespaces_default = {
  svg: "http://www.w3.org/2000/svg",
  xhtml,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};

// node_modules/d3-brush/node_modules/d3-selection/src/namespace.js
function namespace_default(name2) {
  var prefix3 = name2 += "", i = prefix3.indexOf(":");
  if (i >= 0 && (prefix3 = name2.slice(0, i)) !== "xmlns")
    name2 = name2.slice(i + 1);
  return namespaces_default.hasOwnProperty(prefix3) ? { space: namespaces_default[prefix3], local: name2 } : name2;
}

// node_modules/d3-brush/node_modules/d3-selection/src/creator.js
function creatorInherit(name2) {
  return function() {
    var document2 = this.ownerDocument, uri = this.namespaceURI;
    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name2) : document2.createElementNS(uri, name2);
  };
}
function creatorFixed(fullname) {
  return function() {
    return this.ownerDocument.createElementNS(fullname.space, fullname.local);
  };
}
function creator_default(name2) {
  var fullname = namespace_default(name2);
  return (fullname.local ? creatorFixed : creatorInherit)(fullname);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selector.js
function none() {
}
function selector_default(selector) {
  return selector == null ? none : function() {
    return this.querySelector(selector);
  };
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/select.js
function select_default(select) {
  if (typeof select !== "function")
    select = selector_default(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = new Array(n), node2, subnode, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && (subnode = select.call(node2, node2.__data__, i, group5))) {
        if ("__data__" in node2)
          subnode.__data__ = node2.__data__;
        subgroup[i] = subnode;
      }
    }
  }
  return new Selection(subgroups, this._parents);
}

// node_modules/d3-brush/node_modules/d3-selection/src/array.js
function array2(x7) {
  return x7 == null ? [] : Array.isArray(x7) ? x7 : Array.from(x7);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selectorAll.js
function empty() {
  return [];
}
function selectorAll_default(selector) {
  return selector == null ? empty : function() {
    return this.querySelectorAll(selector);
  };
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/selectAll.js
function arrayAll(select) {
  return function() {
    return array2(select.apply(this, arguments));
  };
}
function selectAll_default(select) {
  if (typeof select === "function")
    select = arrayAll(select);
  else
    select = selectorAll_default(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = [], parents2 = [], j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        subgroups.push(select.call(node2, node2.__data__, i, group5));
        parents2.push(node2);
      }
    }
  }
  return new Selection(subgroups, parents2);
}

// node_modules/d3-brush/node_modules/d3-selection/src/matcher.js
function matcher_default(selector) {
  return function() {
    return this.matches(selector);
  };
}
function childMatcher(selector) {
  return function(node2) {
    return node2.matches(selector);
  };
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/selectChild.js
var find = Array.prototype.find;
function childFind(match2) {
  return function() {
    return find.call(this.children, match2);
  };
}
function childFirst() {
  return this.firstElementChild;
}
function selectChild_default(match2) {
  return this.select(match2 == null ? childFirst : childFind(typeof match2 === "function" ? match2 : childMatcher(match2)));
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/selectChildren.js
var filter2 = Array.prototype.filter;
function children() {
  return Array.from(this.children);
}
function childrenFilter(match2) {
  return function() {
    return filter2.call(this.children, match2);
  };
}
function selectChildren_default(match2) {
  return this.selectAll(match2 == null ? children : childrenFilter(typeof match2 === "function" ? match2 : childMatcher(match2)));
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/filter.js
function filter_default(match2) {
  if (typeof match2 !== "function")
    match2 = matcher_default(match2);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = [], node2, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && match2.call(node2, node2.__data__, i, group5)) {
        subgroup.push(node2);
      }
    }
  }
  return new Selection(subgroups, this._parents);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/sparse.js
function sparse_default(update) {
  return new Array(update.length);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/enter.js
function enter_default() {
  return new Selection(this._enter || this._groups.map(sparse_default), this._parents);
}
function EnterNode(parent, datum4) {
  this.ownerDocument = parent.ownerDocument;
  this.namespaceURI = parent.namespaceURI;
  this._next = null;
  this._parent = parent;
  this.__data__ = datum4;
}
EnterNode.prototype = {
  constructor: EnterNode,
  appendChild: function(child) {
    return this._parent.insertBefore(child, this._next);
  },
  insertBefore: function(child, next2) {
    return this._parent.insertBefore(child, next2);
  },
  querySelector: function(selector) {
    return this._parent.querySelector(selector);
  },
  querySelectorAll: function(selector) {
    return this._parent.querySelectorAll(selector);
  }
};

// node_modules/d3-brush/node_modules/d3-selection/src/constant.js
function constant_default(x7) {
  return function() {
    return x7;
  };
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/data.js
function bindIndex(parent, group5, enter, update, exit, data) {
  var i = 0, node2, groupLength = group5.length, dataLength = data.length;
  for (; i < dataLength; ++i) {
    if (node2 = group5[i]) {
      node2.__data__ = data[i];
      update[i] = node2;
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }
  for (; i < groupLength; ++i) {
    if (node2 = group5[i]) {
      exit[i] = node2;
    }
  }
}
function bindKey(parent, group5, enter, update, exit, data, key) {
  var i, node2, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group5.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;
  for (i = 0; i < groupLength; ++i) {
    if (node2 = group5[i]) {
      keyValues[i] = keyValue = key.call(node2, node2.__data__, i, group5) + "";
      if (nodeByKeyValue.has(keyValue)) {
        exit[i] = node2;
      } else {
        nodeByKeyValue.set(keyValue, node2);
      }
    }
  }
  for (i = 0; i < dataLength; ++i) {
    keyValue = key.call(parent, data[i], i, data) + "";
    if (node2 = nodeByKeyValue.get(keyValue)) {
      update[i] = node2;
      node2.__data__ = data[i];
      nodeByKeyValue.delete(keyValue);
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }
  for (i = 0; i < groupLength; ++i) {
    if ((node2 = group5[i]) && nodeByKeyValue.get(keyValues[i]) === node2) {
      exit[i] = node2;
    }
  }
}
function datum(node2) {
  return node2.__data__;
}
function data_default(value, key) {
  if (!arguments.length)
    return Array.from(this, datum);
  var bind = key ? bindKey : bindIndex, parents2 = this._parents, groups5 = this._groups;
  if (typeof value !== "function")
    value = constant_default(value);
  for (var m = groups5.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
    var parent = parents2[j], group5 = groups5[j], groupLength = group5.length, data = arraylike(value.call(parent, parent && parent.__data__, j, parents2)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);
    bind(parent, group5, enterGroup, updateGroup, exitGroup, data, key);
    for (var i0 = 0, i1 = 0, previous, next2; i0 < dataLength; ++i0) {
      if (previous = enterGroup[i0]) {
        if (i0 >= i1)
          i1 = i0 + 1;
        while (!(next2 = updateGroup[i1]) && ++i1 < dataLength)
          ;
        previous._next = next2 || null;
      }
    }
  }
  update = new Selection(update, parents2);
  update._enter = enter;
  update._exit = exit;
  return update;
}
function arraylike(data) {
  return typeof data === "object" && "length" in data ? data : Array.from(data);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/exit.js
function exit_default() {
  return new Selection(this._exit || this._groups.map(sparse_default), this._parents);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/join.js
function join_default(onenter, onupdate, onexit) {
  var enter = this.enter(), update = this, exit = this.exit();
  if (typeof onenter === "function") {
    enter = onenter(enter);
    if (enter)
      enter = enter.selection();
  } else {
    enter = enter.append(onenter + "");
  }
  if (onupdate != null) {
    update = onupdate(update);
    if (update)
      update = update.selection();
  }
  if (onexit == null)
    exit.remove();
  else
    onexit(exit);
  return enter && update ? enter.merge(update).order() : update;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/merge.js
function merge_default(context) {
  var selection5 = context.selection ? context.selection() : context;
  for (var groups0 = this._groups, groups1 = selection5._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge6 = merges[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group0[i] || group1[i]) {
        merge6[i] = node2;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Selection(merges, this._parents);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/order.js
function order_default() {
  for (var groups5 = this._groups, j = -1, m = groups5.length; ++j < m; ) {
    for (var group5 = groups5[j], i = group5.length - 1, next2 = group5[i], node2; --i >= 0; ) {
      if (node2 = group5[i]) {
        if (next2 && node2.compareDocumentPosition(next2) ^ 4)
          next2.parentNode.insertBefore(node2, next2);
        next2 = node2;
      }
    }
  }
  return this;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/sort.js
function sort_default(compare) {
  if (!compare)
    compare = ascending2;
  function compareNode(a3, b) {
    return a3 && b ? compare(a3.__data__, b.__data__) : !a3 - !b;
  }
  for (var groups5 = this._groups, m = groups5.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, sortgroup = sortgroups[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        sortgroup[i] = node2;
      }
    }
    sortgroup.sort(compareNode);
  }
  return new Selection(sortgroups, this._parents).order();
}
function ascending2(a3, b) {
  return a3 < b ? -1 : a3 > b ? 1 : a3 >= b ? 0 : NaN;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/call.js
function call_default() {
  var callback = arguments[0];
  arguments[0] = this;
  callback.apply(null, arguments);
  return this;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/nodes.js
function nodes_default() {
  return Array.from(this);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/node.js
function node_default() {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length; i < n; ++i) {
      var node2 = group5[i];
      if (node2)
        return node2;
    }
  }
  return null;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/size.js
function size_default() {
  let size = 0;
  for (const node2 of this)
    ++size;
  return size;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/empty.js
function empty_default() {
  return !this.node();
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/each.js
function each_default(callback) {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length, node2; i < n; ++i) {
      if (node2 = group5[i])
        callback.call(node2, node2.__data__, i, group5);
    }
  }
  return this;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/attr.js
function attrRemove(name2) {
  return function() {
    this.removeAttribute(name2);
  };
}
function attrRemoveNS(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant(name2, value) {
  return function() {
    this.setAttribute(name2, value);
  };
}
function attrConstantNS(fullname, value) {
  return function() {
    this.setAttributeNS(fullname.space, fullname.local, value);
  };
}
function attrFunction(name2, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.removeAttribute(name2);
    else
      this.setAttribute(name2, v2);
  };
}
function attrFunctionNS(fullname, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.removeAttributeNS(fullname.space, fullname.local);
    else
      this.setAttributeNS(fullname.space, fullname.local, v2);
  };
}
function attr_default(name2, value) {
  var fullname = namespace_default(name2);
  if (arguments.length < 2) {
    var node2 = this.node();
    return fullname.local ? node2.getAttributeNS(fullname.space, fullname.local) : node2.getAttribute(fullname);
  }
  return this.each((value == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value === "function" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value));
}

// node_modules/d3-brush/node_modules/d3-selection/src/window.js
function window_default(node2) {
  return node2.ownerDocument && node2.ownerDocument.defaultView || node2.document && node2 || node2.defaultView;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/style.js
function styleRemove(name2) {
  return function() {
    this.style.removeProperty(name2);
  };
}
function styleConstant(name2, value, priority) {
  return function() {
    this.style.setProperty(name2, value, priority);
  };
}
function styleFunction(name2, value, priority) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.style.removeProperty(name2);
    else
      this.style.setProperty(name2, v2, priority);
  };
}
function style_default(name2, value, priority) {
  return arguments.length > 1 ? this.each((value == null ? styleRemove : typeof value === "function" ? styleFunction : styleConstant)(name2, value, priority == null ? "" : priority)) : styleValue(this.node(), name2);
}
function styleValue(node2, name2) {
  return node2.style.getPropertyValue(name2) || window_default(node2).getComputedStyle(node2, null).getPropertyValue(name2);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/property.js
function propertyRemove(name2) {
  return function() {
    delete this[name2];
  };
}
function propertyConstant(name2, value) {
  return function() {
    this[name2] = value;
  };
}
function propertyFunction(name2, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      delete this[name2];
    else
      this[name2] = v2;
  };
}
function property_default(name2, value) {
  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === "function" ? propertyFunction : propertyConstant)(name2, value)) : this.node()[name2];
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/classed.js
function classArray(string) {
  return string.trim().split(/^|\s+/);
}
function classList(node2) {
  return node2.classList || new ClassList(node2);
}
function ClassList(node2) {
  this._node = node2;
  this._names = classArray(node2.getAttribute("class") || "");
}
ClassList.prototype = {
  add: function(name2) {
    var i = this._names.indexOf(name2);
    if (i < 0) {
      this._names.push(name2);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  remove: function(name2) {
    var i = this._names.indexOf(name2);
    if (i >= 0) {
      this._names.splice(i, 1);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  contains: function(name2) {
    return this._names.indexOf(name2) >= 0;
  }
};
function classedAdd(node2, names) {
  var list = classList(node2), i = -1, n = names.length;
  while (++i < n)
    list.add(names[i]);
}
function classedRemove(node2, names) {
  var list = classList(node2), i = -1, n = names.length;
  while (++i < n)
    list.remove(names[i]);
}
function classedTrue(names) {
  return function() {
    classedAdd(this, names);
  };
}
function classedFalse(names) {
  return function() {
    classedRemove(this, names);
  };
}
function classedFunction(names, value) {
  return function() {
    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);
  };
}
function classed_default(name2, value) {
  var names = classArray(name2 + "");
  if (arguments.length < 2) {
    var list = classList(this.node()), i = -1, n = names.length;
    while (++i < n)
      if (!list.contains(names[i]))
        return false;
    return true;
  }
  return this.each((typeof value === "function" ? classedFunction : value ? classedTrue : classedFalse)(names, value));
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/text.js
function textRemove() {
  this.textContent = "";
}
function textConstant(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction(value) {
  return function() {
    var v2 = value.apply(this, arguments);
    this.textContent = v2 == null ? "" : v2;
  };
}
function text_default(value) {
  return arguments.length ? this.each(value == null ? textRemove : (typeof value === "function" ? textFunction : textConstant)(value)) : this.node().textContent;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/html.js
function htmlRemove() {
  this.innerHTML = "";
}
function htmlConstant(value) {
  return function() {
    this.innerHTML = value;
  };
}
function htmlFunction(value) {
  return function() {
    var v2 = value.apply(this, arguments);
    this.innerHTML = v2 == null ? "" : v2;
  };
}
function html_default(value) {
  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === "function" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/raise.js
function raise() {
  if (this.nextSibling)
    this.parentNode.appendChild(this);
}
function raise_default() {
  return this.each(raise);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/lower.js
function lower() {
  if (this.previousSibling)
    this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function lower_default() {
  return this.each(lower);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/append.js
function append_default(name2) {
  var create6 = typeof name2 === "function" ? name2 : creator_default(name2);
  return this.select(function() {
    return this.appendChild(create6.apply(this, arguments));
  });
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/insert.js
function constantNull() {
  return null;
}
function insert_default(name2, before) {
  var create6 = typeof name2 === "function" ? name2 : creator_default(name2), select = before == null ? constantNull : typeof before === "function" ? before : selector_default(before);
  return this.select(function() {
    return this.insertBefore(create6.apply(this, arguments), select.apply(this, arguments) || null);
  });
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/remove.js
function remove() {
  var parent = this.parentNode;
  if (parent)
    parent.removeChild(this);
}
function remove_default() {
  return this.each(remove);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/clone.js
function selection_cloneShallow() {
  var clone3 = this.cloneNode(false), parent = this.parentNode;
  return parent ? parent.insertBefore(clone3, this.nextSibling) : clone3;
}
function selection_cloneDeep() {
  var clone3 = this.cloneNode(true), parent = this.parentNode;
  return parent ? parent.insertBefore(clone3, this.nextSibling) : clone3;
}
function clone_default(deep) {
  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/datum.js
function datum_default(value) {
  return arguments.length ? this.property("__data__", value) : this.node().__data__;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/on.js
function contextListener(listener) {
  return function(event2) {
    listener.call(this, event2, this.__data__);
  };
}
function parseTypenames2(typenames) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name2 = "", i = t.indexOf(".");
    if (i >= 0)
      name2 = t.slice(i + 1), t = t.slice(0, i);
    return { type: t, name: name2 };
  });
}
function onRemove(typename) {
  return function() {
    var on = this.__on;
    if (!on)
      return;
    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {
      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.options);
      } else {
        on[++i] = o;
      }
    }
    if (++i)
      on.length = i;
    else
      delete this.__on;
  };
}
function onAdd(typename, value, options2) {
  return function() {
    var on = this.__on, o, listener = contextListener(value);
    if (on)
      for (var j = 0, m = on.length; j < m; ++j) {
        if ((o = on[j]).type === typename.type && o.name === typename.name) {
          this.removeEventListener(o.type, o.listener, o.options);
          this.addEventListener(o.type, o.listener = listener, o.options = options2);
          o.value = value;
          return;
        }
      }
    this.addEventListener(typename.type, listener, options2);
    o = { type: typename.type, name: typename.name, value, listener, options: options2 };
    if (!on)
      this.__on = [o];
    else
      on.push(o);
  };
}
function on_default(typename, value, options2) {
  var typenames = parseTypenames2(typename + ""), i, n = typenames.length, t;
  if (arguments.length < 2) {
    var on = this.node().__on;
    if (on)
      for (var j = 0, m = on.length, o; j < m; ++j) {
        for (i = 0, o = on[j]; i < n; ++i) {
          if ((t = typenames[i]).type === o.type && t.name === o.name) {
            return o.value;
          }
        }
      }
    return;
  }
  on = value ? onAdd : onRemove;
  for (i = 0; i < n; ++i)
    this.each(on(typenames[i], value, options2));
  return this;
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/dispatch.js
function dispatchEvent(node2, type4, params) {
  var window2 = window_default(node2), event2 = window2.CustomEvent;
  if (typeof event2 === "function") {
    event2 = new event2(type4, params);
  } else {
    event2 = window2.document.createEvent("Event");
    if (params)
      event2.initEvent(type4, params.bubbles, params.cancelable), event2.detail = params.detail;
    else
      event2.initEvent(type4, false, false);
  }
  node2.dispatchEvent(event2);
}
function dispatchConstant(type4, params) {
  return function() {
    return dispatchEvent(this, type4, params);
  };
}
function dispatchFunction(type4, params) {
  return function() {
    return dispatchEvent(this, type4, params.apply(this, arguments));
  };
}
function dispatch_default2(type4, params) {
  return this.each((typeof params === "function" ? dispatchFunction : dispatchConstant)(type4, params));
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/iterator.js
function* iterator_default() {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length, node2; i < n; ++i) {
      if (node2 = group5[i])
        yield node2;
    }
  }
}

// node_modules/d3-brush/node_modules/d3-selection/src/selection/index.js
var root = [null];
function Selection(groups5, parents2) {
  this._groups = groups5;
  this._parents = parents2;
}
function selection() {
  return new Selection([[document.documentElement]], root);
}
function selection_selection() {
  return this;
}
Selection.prototype = selection.prototype = {
  constructor: Selection,
  select: select_default,
  selectAll: selectAll_default,
  selectChild: selectChild_default,
  selectChildren: selectChildren_default,
  filter: filter_default,
  data: data_default,
  enter: enter_default,
  exit: exit_default,
  join: join_default,
  merge: merge_default,
  selection: selection_selection,
  order: order_default,
  sort: sort_default,
  call: call_default,
  nodes: nodes_default,
  node: node_default,
  size: size_default,
  empty: empty_default,
  each: each_default,
  attr: attr_default,
  style: style_default,
  property: property_default,
  classed: classed_default,
  text: text_default,
  html: html_default,
  raise: raise_default,
  lower: lower_default,
  append: append_default,
  insert: insert_default,
  remove: remove_default,
  clone: clone_default,
  datum: datum_default,
  on: on_default,
  dispatch: dispatch_default2,
  [Symbol.iterator]: iterator_default
};
var selection_default = selection;

// node_modules/d3-brush/node_modules/d3-selection/src/local.js
var nextId = 0;
function local() {
  return new Local();
}
function Local() {
  this._ = "@" + (++nextId).toString(36);
}
Local.prototype = local.prototype = {
  constructor: Local,
  get: function(node2) {
    var id5 = this._;
    while (!(id5 in node2))
      if (!(node2 = node2.parentNode))
        return;
    return node2[id5];
  },
  set: function(node2, value) {
    return node2[this._] = value;
  },
  remove: function(node2) {
    return this._ in node2 && delete node2[this._];
  },
  toString: function() {
    return this._;
  }
};

// node_modules/d3-brush/node_modules/d3-drag/src/event.js
function DragEvent(type4, {
  sourceEvent,
  subject,
  target,
  identifier: identifier2,
  active,
  x: x7,
  y: y7,
  dx,
  dy,
  dispatch: dispatch6
}) {
  Object.defineProperties(this, {
    type: { value: type4, enumerable: true, configurable: true },
    sourceEvent: { value: sourceEvent, enumerable: true, configurable: true },
    subject: { value: subject, enumerable: true, configurable: true },
    target: { value: target, enumerable: true, configurable: true },
    identifier: { value: identifier2, enumerable: true, configurable: true },
    active: { value: active, enumerable: true, configurable: true },
    x: { value: x7, enumerable: true, configurable: true },
    y: { value: y7, enumerable: true, configurable: true },
    dx: { value: dx, enumerable: true, configurable: true },
    dy: { value: dy, enumerable: true, configurable: true },
    _: { value: dispatch6 }
  });
}
DragEvent.prototype.on = function() {
  var value = this._.on.apply(this._, arguments);
  return value === this._ ? this : value;
};

// node_modules/d3-brush/node_modules/d3-color/src/define.js
function define_default(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
}
function extend(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition)
    prototype[key] = definition[key];
  return prototype;
}

// node_modules/d3-brush/node_modules/d3-color/src/color.js
function Color() {
}
var darker = 0.7;
var brighter = 1 / darker;
var reI = "\\s*([+-]?\\d+)\\s*";
var reN = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var reP = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var reHex = /^#([0-9a-f]{3,8})$/;
var reRgbInteger = new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`);
var reRgbPercent = new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`);
var reRgbaInteger = new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`);
var reRgbaPercent = new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`);
var reHslPercent = new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`);
var reHslaPercent = new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`);
var named = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
define_default(Color, color, {
  copy(channels2) {
    return Object.assign(new this.constructor(), this, channels2);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: color_formatHex,
  formatHex: color_formatHex,
  formatHex8: color_formatHex8,
  formatHsl: color_formatHsl,
  formatRgb: color_formatRgb,
  toString: color_formatRgb
});
function color_formatHex() {
  return this.rgb().formatHex();
}
function color_formatHex8() {
  return this.rgb().formatHex8();
}
function color_formatHsl() {
  return hslConvert(this).formatHsl();
}
function color_formatRgb() {
  return this.rgb().formatRgb();
}
function color(format5) {
  var m, l;
  format5 = (format5 + "").trim().toLowerCase();
  return (m = reHex.exec(format5)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format5)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format5)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format5)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format5)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format5)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format5)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format5) ? rgbn(named[format5]) : format5 === "transparent" ? new Rgb(NaN, NaN, NaN, 0) : null;
}
function rgbn(n) {
  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
}
function rgba(r, g, b, a3) {
  if (a3 <= 0)
    r = g = b = NaN;
  return new Rgb(r, g, b, a3);
}
function rgbConvert(o) {
  if (!(o instanceof Color))
    o = color(o);
  if (!o)
    return new Rgb();
  o = o.rgb();
  return new Rgb(o.r, o.g, o.b, o.opacity);
}
function rgb(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);
}
function Rgb(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}
define_default(Rgb, rgb, extend(Color, {
  brighter(k3) {
    k3 = k3 == null ? brighter : Math.pow(brighter, k3);
    return new Rgb(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker : Math.pow(darker, k3);
    return new Rgb(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  rgb() {
    return this;
  },
  clamp() {
    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));
  },
  displayable() {
    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
  },
  hex: rgb_formatHex,
  formatHex: rgb_formatHex,
  formatHex8: rgb_formatHex8,
  formatRgb: rgb_formatRgb,
  toString: rgb_formatRgb
}));
function rgb_formatHex() {
  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;
}
function rgb_formatHex8() {
  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function rgb_formatRgb() {
  const a3 = clampa(this.opacity);
  return `${a3 === 1 ? "rgb(" : "rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a3 === 1 ? ")" : `, ${a3})`}`;
}
function clampa(opacity) {
  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));
}
function clampi(value) {
  return Math.max(0, Math.min(255, Math.round(value) || 0));
}
function hex(value) {
  value = clampi(value);
  return (value < 16 ? "0" : "") + value.toString(16);
}
function hsla(h, s3, l, a3) {
  if (a3 <= 0)
    h = s3 = l = NaN;
  else if (l <= 0 || l >= 1)
    h = s3 = NaN;
  else if (s3 <= 0)
    h = NaN;
  return new Hsl(h, s3, l, a3);
}
function hslConvert(o) {
  if (o instanceof Hsl)
    return new Hsl(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color))
    o = color(o);
  if (!o)
    return new Hsl();
  if (o instanceof Hsl)
    return o;
  o = o.rgb();
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min8 = Math.min(r, g, b), max10 = Math.max(r, g, b), h = NaN, s3 = max10 - min8, l = (max10 + min8) / 2;
  if (s3) {
    if (r === max10)
      h = (g - b) / s3 + (g < b) * 6;
    else if (g === max10)
      h = (b - r) / s3 + 2;
    else
      h = (r - g) / s3 + 4;
    s3 /= l < 0.5 ? max10 + min8 : 2 - max10 - min8;
    h *= 60;
  } else {
    s3 = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl(h, s3, l, o.opacity);
}
function hsl(h, s3, l, opacity) {
  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s3, l, opacity == null ? 1 : opacity);
}
function Hsl(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default(Hsl, hsl, extend(Color, {
  brighter(k3) {
    k3 = k3 == null ? brighter : Math.pow(brighter, k3);
    return new Hsl(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker : Math.pow(darker, k3);
    return new Hsl(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = this.h % 360 + (this.h < 0) * 360, s3 = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s3, m1 = 2 * l - m2;
    return new Rgb(
      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb(h, m1, m2),
      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  clamp() {
    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));
  },
  displayable() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
  },
  formatHsl() {
    const a3 = clampa(this.opacity);
    return `${a3 === 1 ? "hsl(" : "hsla("}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a3 === 1 ? ")" : `, ${a3})`}`;
  }
}));
function clamph(value) {
  value = (value || 0) % 360;
  return value < 0 ? value + 360 : value;
}
function clampt(value) {
  return Math.max(0, Math.min(1, value || 0));
}
function hsl2rgb(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
}

// node_modules/d3-brush/node_modules/d3-color/src/math.js
var radians = Math.PI / 180;
var degrees = 180 / Math.PI;

// node_modules/d3-brush/node_modules/d3-color/src/lab.js
var K = 18;
var Xn = 0.96422;
var Yn = 1;
var Zn = 0.82521;
var t0 = 4 / 29;
var t1 = 6 / 29;
var t2 = 3 * t1 * t1;
var t3 = t1 * t1 * t1;
function labConvert(o) {
  if (o instanceof Lab)
    return new Lab(o.l, o.a, o.b, o.opacity);
  if (o instanceof Hcl)
    return hcl2lab(o);
  if (!(o instanceof Rgb))
    o = rgbConvert(o);
  var r = rgb2lrgb(o.r), g = rgb2lrgb(o.g), b = rgb2lrgb(o.b), y7 = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x7, z;
  if (r === g && g === b)
    x7 = z = y7;
  else {
    x7 = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);
    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);
  }
  return new Lab(116 * y7 - 16, 500 * (x7 - y7), 200 * (y7 - z), o.opacity);
}
function lab(l, a3, b, opacity) {
  return arguments.length === 1 ? labConvert(l) : new Lab(l, a3, b, opacity == null ? 1 : opacity);
}
function Lab(l, a3, b, opacity) {
  this.l = +l;
  this.a = +a3;
  this.b = +b;
  this.opacity = +opacity;
}
define_default(Lab, lab, extend(Color, {
  brighter(k3) {
    return new Lab(this.l + K * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  darker(k3) {
    return new Lab(this.l - K * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  rgb() {
    var y7 = (this.l + 16) / 116, x7 = isNaN(this.a) ? y7 : y7 + this.a / 500, z = isNaN(this.b) ? y7 : y7 - this.b / 200;
    x7 = Xn * lab2xyz(x7);
    y7 = Yn * lab2xyz(y7);
    z = Zn * lab2xyz(z);
    return new Rgb(
      lrgb2rgb(3.1338561 * x7 - 1.6168667 * y7 - 0.4906146 * z),
      lrgb2rgb(-0.9787684 * x7 + 1.9161415 * y7 + 0.033454 * z),
      lrgb2rgb(0.0719453 * x7 - 0.2289914 * y7 + 1.4052427 * z),
      this.opacity
    );
  }
}));
function xyz2lab(t) {
  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;
}
function lab2xyz(t) {
  return t > t1 ? t * t * t : t2 * (t - t0);
}
function lrgb2rgb(x7) {
  return 255 * (x7 <= 31308e-7 ? 12.92 * x7 : 1.055 * Math.pow(x7, 1 / 2.4) - 0.055);
}
function rgb2lrgb(x7) {
  return (x7 /= 255) <= 0.04045 ? x7 / 12.92 : Math.pow((x7 + 0.055) / 1.055, 2.4);
}
function hclConvert(o) {
  if (o instanceof Hcl)
    return new Hcl(o.h, o.c, o.l, o.opacity);
  if (!(o instanceof Lab))
    o = labConvert(o);
  if (o.a === 0 && o.b === 0)
    return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);
  var h = Math.atan2(o.b, o.a) * degrees;
  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);
}
function hcl(h, c7, l, opacity) {
  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c7, l, opacity == null ? 1 : opacity);
}
function Hcl(h, c7, l, opacity) {
  this.h = +h;
  this.c = +c7;
  this.l = +l;
  this.opacity = +opacity;
}
function hcl2lab(o) {
  if (isNaN(o.h))
    return new Lab(o.l, 0, 0, o.opacity);
  var h = o.h * radians;
  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);
}
define_default(Hcl, hcl, extend(Color, {
  brighter(k3) {
    return new Hcl(this.h, this.c, this.l + K * (k3 == null ? 1 : k3), this.opacity);
  },
  darker(k3) {
    return new Hcl(this.h, this.c, this.l - K * (k3 == null ? 1 : k3), this.opacity);
  },
  rgb() {
    return hcl2lab(this).rgb();
  }
}));

// node_modules/d3-brush/node_modules/d3-color/src/cubehelix.js
var A = -0.14861;
var B = 1.78277;
var C = -0.29227;
var D = -0.90649;
var E = 1.97294;
var ED = E * D;
var EB = E * B;
var BC_DA = B * C - D * A;
function cubehelixConvert(o) {
  if (o instanceof Cubehelix)
    return new Cubehelix(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Rgb))
    o = rgbConvert(o);
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB), bl = b - l, k3 = (E * (g - l) - C * bl) / D, s3 = Math.sqrt(k3 * k3 + bl * bl) / (E * l * (1 - l)), h = s3 ? Math.atan2(k3, bl) * degrees - 120 : NaN;
  return new Cubehelix(h < 0 ? h + 360 : h, s3, l, o.opacity);
}
function cubehelix(h, s3, l, opacity) {
  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s3, l, opacity == null ? 1 : opacity);
}
function Cubehelix(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default(Cubehelix, cubehelix, extend(Color, {
  brighter(k3) {
    k3 = k3 == null ? brighter : Math.pow(brighter, k3);
    return new Cubehelix(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker : Math.pow(darker, k3);
    return new Cubehelix(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians, l = +this.l, a3 = isNaN(this.s) ? 0 : this.s * l * (1 - l), cosh7 = Math.cos(h), sinh7 = Math.sin(h);
    return new Rgb(
      255 * (l + a3 * (A * cosh7 + B * sinh7)),
      255 * (l + a3 * (C * cosh7 + D * sinh7)),
      255 * (l + a3 * (E * cosh7)),
      this.opacity
    );
  }
}));

// node_modules/d3-brush/node_modules/d3-interpolate/src/basis.js
function basis(t110, v0, v1, v2, v32) {
  var t27 = t110 * t110, t37 = t27 * t110;
  return ((1 - 3 * t110 + 3 * t27 - t37) * v0 + (4 - 6 * t27 + 3 * t37) * v1 + (1 + 3 * t110 + 3 * t27 - 3 * t37) * v2 + t37 * v32) / 6;
}
function basis_default(values) {
  var n = values.length - 1;
  return function(t) {
    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values[i], v2 = values[i + 1], v0 = i > 0 ? values[i - 1] : 2 * v1 - v2, v32 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;
    return basis((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3-brush/node_modules/d3-interpolate/src/basisClosed.js
function basisClosed_default(values) {
  var n = values.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values[(i + n - 1) % n], v1 = values[i % n], v2 = values[(i + 1) % n], v32 = values[(i + 2) % n];
    return basis((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3-brush/node_modules/d3-interpolate/src/constant.js
var constant_default3 = (x7) => () => x7;

// node_modules/d3-brush/node_modules/d3-interpolate/src/color.js
function linear(a3, d) {
  return function(t) {
    return a3 + t * d;
  };
}
function exponential(a3, b, y7) {
  return a3 = Math.pow(a3, y7), b = Math.pow(b, y7) - a3, y7 = 1 / y7, function(t) {
    return Math.pow(a3 + t * b, y7);
  };
}
function hue(a3, b) {
  var d = b - a3;
  return d ? linear(a3, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant_default3(isNaN(a3) ? b : a3);
}
function gamma(y7) {
  return (y7 = +y7) === 1 ? nogamma : function(a3, b) {
    return b - a3 ? exponential(a3, b, y7) : constant_default3(isNaN(a3) ? b : a3);
  };
}
function nogamma(a3, b) {
  var d = b - a3;
  return d ? linear(a3, d) : constant_default3(isNaN(a3) ? b : a3);
}

// node_modules/d3-brush/node_modules/d3-interpolate/src/rgb.js
var rgb_default = function rgbGamma(y7) {
  var color7 = gamma(y7);
  function rgb7(start6, end2) {
    var r = color7((start6 = rgb(start6)).r, (end2 = rgb(end2)).r), g = color7(start6.g, end2.g), b = color7(start6.b, end2.b), opacity = nogamma(start6.opacity, end2.opacity);
    return function(t) {
      start6.r = r(t);
      start6.g = g(t);
      start6.b = b(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  }
  rgb7.gamma = rgbGamma;
  return rgb7;
}(1);
function rgbSpline(spline) {
  return function(colors) {
    var n = colors.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color7;
    for (i = 0; i < n; ++i) {
      color7 = rgb(colors[i]);
      r[i] = color7.r || 0;
      g[i] = color7.g || 0;
      b[i] = color7.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color7.opacity = 1;
    return function(t) {
      color7.r = r(t);
      color7.g = g(t);
      color7.b = b(t);
      return color7 + "";
    };
  };
}
var rgbBasis = rgbSpline(basis_default);
var rgbBasisClosed = rgbSpline(basisClosed_default);

// node_modules/d3-brush/node_modules/d3-interpolate/src/number.js
function number_default(a3, b) {
  return a3 = +a3, b = +b, function(t) {
    return a3 * (1 - t) + b * t;
  };
}

// node_modules/d3-brush/node_modules/d3-interpolate/src/string.js
var reA = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var reB = new RegExp(reA.source, "g");
function zero2(b) {
  return function() {
    return b;
  };
}
function one(b) {
  return function(t) {
    return b(t) + "";
  };
}
function string_default(a3, b) {
  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s3 = [], q = [];
  a3 = a3 + "", b = b + "";
  while ((am = reA.exec(a3)) && (bm = reB.exec(b))) {
    if ((bs = bm.index) > bi) {
      bs = b.slice(bi, bs);
      if (s3[i])
        s3[i] += bs;
      else
        s3[++i] = bs;
    }
    if ((am = am[0]) === (bm = bm[0])) {
      if (s3[i])
        s3[i] += bm;
      else
        s3[++i] = bm;
    } else {
      s3[++i] = null;
      q.push({ i, x: number_default(am, bm) });
    }
    bi = reB.lastIndex;
  }
  if (bi < b.length) {
    bs = b.slice(bi);
    if (s3[i])
      s3[i] += bs;
    else
      s3[++i] = bs;
  }
  return s3.length < 2 ? q[0] ? one(q[0].x) : zero2(b) : (b = q.length, function(t) {
    for (var i2 = 0, o; i2 < b; ++i2)
      s3[(o = q[i2]).i] = o.x(t);
    return s3.join("");
  });
}

// node_modules/d3-brush/node_modules/d3-interpolate/src/transform/decompose.js
var degrees2 = 180 / Math.PI;
var identity2 = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function decompose_default(a3, b, c7, d, e, f2) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a3 * a3 + b * b))
    a3 /= scaleX, b /= scaleX;
  if (skewX = a3 * c7 + b * d)
    c7 -= a3 * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c7 * c7 + d * d))
    c7 /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a3 * d < b * c7)
    a3 = -a3, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f2,
    rotate: Math.atan2(b, a3) * degrees2,
    skewX: Math.atan(skewX) * degrees2,
    scaleX,
    scaleY
  };
}

// node_modules/d3-brush/node_modules/d3-interpolate/src/transform/parse.js
var svgNode;
function parseCss(value) {
  const m = new (typeof DOMMatrix === "function" ? DOMMatrix : WebKitCSSMatrix)(value + "");
  return m.isIdentity ? identity2 : decompose_default(m.a, m.b, m.c, m.d, m.e, m.f);
}
function parseSvg(value) {
  if (value == null)
    return identity2;
  if (!svgNode)
    svgNode = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode.setAttribute("transform", value);
  if (!(value = svgNode.transform.baseVal.consolidate()))
    return identity2;
  value = value.matrix;
  return decompose_default(value.a, value.b, value.c, value.d, value.e, value.f);
}

// node_modules/d3-brush/node_modules/d3-interpolate/src/transform/index.js
function interpolateTransform(parse4, pxComma, pxParen, degParen) {
  function pop(s3) {
    return s3.length ? s3.pop() + " " : "";
  }
  function translate(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push("translate(", null, pxComma, null, pxParen);
      q.push({ i: i - 4, x: number_default(xa, xb) }, { i: i - 2, x: number_default(ya, yb) });
    } else if (xb || yb) {
      s3.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }
  function rotate(a3, b, s3, q) {
    if (a3 !== b) {
      if (a3 - b > 180)
        b += 360;
      else if (b - a3 > 180)
        a3 += 360;
      q.push({ i: s3.push(pop(s3) + "rotate(", null, degParen) - 2, x: number_default(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "rotate(" + b + degParen);
    }
  }
  function skewX(a3, b, s3, q) {
    if (a3 !== b) {
      q.push({ i: s3.push(pop(s3) + "skewX(", null, degParen) - 2, x: number_default(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "skewX(" + b + degParen);
    }
  }
  function scale2(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push(pop(s3) + "scale(", null, ",", null, ")");
      q.push({ i: i - 4, x: number_default(xa, xb) }, { i: i - 2, x: number_default(ya, yb) });
    } else if (xb !== 1 || yb !== 1) {
      s3.push(pop(s3) + "scale(" + xb + "," + yb + ")");
    }
  }
  return function(a3, b) {
    var s3 = [], q = [];
    a3 = parse4(a3), b = parse4(b);
    translate(a3.translateX, a3.translateY, b.translateX, b.translateY, s3, q);
    rotate(a3.rotate, b.rotate, s3, q);
    skewX(a3.skewX, b.skewX, s3, q);
    scale2(a3.scaleX, a3.scaleY, b.scaleX, b.scaleY, s3, q);
    a3 = b = null;
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n)
        s3[(o = q[i]).i] = o.x(t);
      return s3.join("");
    };
  };
}
var interpolateTransformCss = interpolateTransform(parseCss, "px, ", "px)", "deg)");
var interpolateTransformSvg = interpolateTransform(parseSvg, ", ", ")", ")");

// node_modules/d3-brush/node_modules/d3-interpolate/src/zoom.js
var epsilon2 = 1e-12;
function cosh(x7) {
  return ((x7 = Math.exp(x7)) + 1 / x7) / 2;
}
function sinh(x7) {
  return ((x7 = Math.exp(x7)) - 1 / x7) / 2;
}
function tanh(x7) {
  return ((x7 = Math.exp(2 * x7)) - 1) / (x7 + 1);
}
var zoom_default = function zoomRho(rho3, rho22, rho42) {
  function zoom(p02, p1) {
    var ux0 = p02[0], uy0 = p02[1], w0 = p02[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;
    if (d2 < epsilon2) {
      S = Math.log(w1 / w0) / rho3;
      i = function(t) {
        return [
          ux0 + t * dx,
          uy0 + t * dy,
          w0 * Math.exp(rho3 * t * S)
        ];
      };
    } else {
      var d1 = Math.sqrt(d2), b05 = (w1 * w1 - w0 * w0 + rho42 * d2) / (2 * w0 * rho22 * d1), b15 = (w1 * w1 - w0 * w0 - rho42 * d2) / (2 * w1 * rho22 * d1), r0 = Math.log(Math.sqrt(b05 * b05 + 1) - b05), r1 = Math.log(Math.sqrt(b15 * b15 + 1) - b15);
      S = (r1 - r0) / rho3;
      i = function(t) {
        var s3 = t * S, coshr0 = cosh(r0), u4 = w0 / (rho22 * d1) * (coshr0 * tanh(rho3 * s3 + r0) - sinh(r0));
        return [
          ux0 + u4 * dx,
          uy0 + u4 * dy,
          w0 * coshr0 / cosh(rho3 * s3 + r0)
        ];
      };
    }
    i.duration = S * 1e3 * rho3 / Math.SQRT2;
    return i;
  }
  zoom.rho = function(_2) {
    var _1 = Math.max(1e-3, +_2), _22 = _1 * _1, _4 = _22 * _22;
    return zoomRho(_1, _22, _4);
  };
  return zoom;
}(Math.SQRT2, 2, 4);

// node_modules/d3-brush/node_modules/d3-interpolate/src/hsl.js
function hsl2(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hsl(start6)).h, (end2 = hsl(end2)).h), s3 = nogamma(start6.s, end2.s), l = nogamma(start6.l, end2.l), opacity = nogamma(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.s = s3(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hsl_default = hsl2(hue);
var hslLong = hsl2(nogamma);

// node_modules/d3-brush/node_modules/d3-interpolate/src/hcl.js
function hcl2(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hcl(start6)).h, (end2 = hcl(end2)).h), c7 = nogamma(start6.c, end2.c), l = nogamma(start6.l, end2.l), opacity = nogamma(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.c = c7(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hcl_default = hcl2(hue);
var hclLong = hcl2(nogamma);

// node_modules/d3-brush/node_modules/d3-interpolate/src/cubehelix.js
function cubehelix2(hue7) {
  return function cubehelixGamma(y7) {
    y7 = +y7;
    function cubehelix13(start6, end2) {
      var h = hue7((start6 = cubehelix(start6)).h, (end2 = cubehelix(end2)).h), s3 = nogamma(start6.s, end2.s), l = nogamma(start6.l, end2.l), opacity = nogamma(start6.opacity, end2.opacity);
      return function(t) {
        start6.h = h(t);
        start6.s = s3(t);
        start6.l = l(Math.pow(t, y7));
        start6.opacity = opacity(t);
        return start6 + "";
      };
    }
    cubehelix13.gamma = cubehelixGamma;
    return cubehelix13;
  }(1);
}
var cubehelix_default = cubehelix2(hue);
var cubehelixLong = cubehelix2(nogamma);

// node_modules/d3-brush/node_modules/d3-timer/src/timer.js
var frame = 0;
var timeout = 0;
var interval = 0;
var pokeDelay = 1e3;
var taskHead;
var taskTail;
var clockLast = 0;
var clockNow = 0;
var clockSkew = 0;
var clock = typeof performance === "object" && performance.now ? performance : Date;
var setFrame = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f2) {
  setTimeout(f2, 17);
};
function now() {
  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);
}
function clearNow() {
  clockNow = 0;
}
function Timer() {
  this._call = this._time = this._next = null;
}
Timer.prototype = timer.prototype = {
  constructor: Timer,
  restart: function(callback, delay, time2) {
    if (typeof callback !== "function")
      throw new TypeError("callback is not a function");
    time2 = (time2 == null ? now() : +time2) + (delay == null ? 0 : +delay);
    if (!this._next && taskTail !== this) {
      if (taskTail)
        taskTail._next = this;
      else
        taskHead = this;
      taskTail = this;
    }
    this._call = callback;
    this._time = time2;
    sleep();
  },
  stop: function() {
    if (this._call) {
      this._call = null;
      this._time = Infinity;
      sleep();
    }
  }
};
function timer(callback, delay, time2) {
  var t = new Timer();
  t.restart(callback, delay, time2);
  return t;
}
function timerFlush() {
  now();
  ++frame;
  var t = taskHead, e;
  while (t) {
    if ((e = clockNow - t._time) >= 0)
      t._call.call(void 0, e);
    t = t._next;
  }
  --frame;
}
function wake() {
  clockNow = (clockLast = clock.now()) + clockSkew;
  frame = timeout = 0;
  try {
    timerFlush();
  } finally {
    frame = 0;
    nap();
    clockNow = 0;
  }
}
function poke() {
  var now6 = clock.now(), delay = now6 - clockLast;
  if (delay > pokeDelay)
    clockSkew -= delay, clockLast = now6;
}
function nap() {
  var t010, t110 = taskHead, t27, time2 = Infinity;
  while (t110) {
    if (t110._call) {
      if (time2 > t110._time)
        time2 = t110._time;
      t010 = t110, t110 = t110._next;
    } else {
      t27 = t110._next, t110._next = null;
      t110 = t010 ? t010._next = t27 : taskHead = t27;
    }
  }
  taskTail = t010;
  sleep(time2);
}
function sleep(time2) {
  if (frame)
    return;
  if (timeout)
    timeout = clearTimeout(timeout);
  var delay = time2 - clockNow;
  if (delay > 24) {
    if (time2 < Infinity)
      timeout = setTimeout(wake, time2 - clock.now() - clockSkew);
    if (interval)
      interval = clearInterval(interval);
  } else {
    if (!interval)
      clockLast = clock.now(), interval = setInterval(poke, pokeDelay);
    frame = 1, setFrame(wake);
  }
}

// node_modules/d3-brush/node_modules/d3-timer/src/timeout.js
function timeout_default(callback, delay, time2) {
  var t = new Timer();
  delay = delay == null ? 0 : +delay;
  t.restart((elapsed) => {
    t.stop();
    callback(elapsed + delay);
  }, delay, time2);
  return t;
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/schedule.js
var emptyOn = dispatch_default("start", "end", "cancel", "interrupt");
var emptyTween = [];
var CREATED = 0;
var SCHEDULED = 1;
var STARTING = 2;
var STARTED = 3;
var RUNNING = 4;
var ENDING = 5;
var ENDED = 6;
function schedule_default(node2, name2, id5, index6, group5, timing) {
  var schedules = node2.__transition;
  if (!schedules)
    node2.__transition = {};
  else if (id5 in schedules)
    return;
  create(node2, id5, {
    name: name2,
    index: index6,
    group: group5,
    on: emptyOn,
    tween: emptyTween,
    time: timing.time,
    delay: timing.delay,
    duration: timing.duration,
    ease: timing.ease,
    timer: null,
    state: CREATED
  });
}
function init(node2, id5) {
  var schedule = get2(node2, id5);
  if (schedule.state > CREATED)
    throw new Error("too late; already scheduled");
  return schedule;
}
function set2(node2, id5) {
  var schedule = get2(node2, id5);
  if (schedule.state > STARTED)
    throw new Error("too late; already running");
  return schedule;
}
function get2(node2, id5) {
  var schedule = node2.__transition;
  if (!schedule || !(schedule = schedule[id5]))
    throw new Error("transition not found");
  return schedule;
}
function create(node2, id5, self2) {
  var schedules = node2.__transition, tween;
  schedules[id5] = self2;
  self2.timer = timer(schedule, 0, self2.time);
  function schedule(elapsed) {
    self2.state = SCHEDULED;
    self2.timer.restart(start6, self2.delay, self2.time);
    if (self2.delay <= elapsed)
      start6(elapsed - self2.delay);
  }
  function start6(elapsed) {
    var i, j, n, o;
    if (self2.state !== SCHEDULED)
      return stop();
    for (i in schedules) {
      o = schedules[i];
      if (o.name !== self2.name)
        continue;
      if (o.state === STARTED)
        return timeout_default(start6);
      if (o.state === RUNNING) {
        o.state = ENDED;
        o.timer.stop();
        o.on.call("interrupt", node2, node2.__data__, o.index, o.group);
        delete schedules[i];
      } else if (+i < id5) {
        o.state = ENDED;
        o.timer.stop();
        o.on.call("cancel", node2, node2.__data__, o.index, o.group);
        delete schedules[i];
      }
    }
    timeout_default(function() {
      if (self2.state === STARTED) {
        self2.state = RUNNING;
        self2.timer.restart(tick, self2.delay, self2.time);
        tick(elapsed);
      }
    });
    self2.state = STARTING;
    self2.on.call("start", node2, node2.__data__, self2.index, self2.group);
    if (self2.state !== STARTING)
      return;
    self2.state = STARTED;
    tween = new Array(n = self2.tween.length);
    for (i = 0, j = -1; i < n; ++i) {
      if (o = self2.tween[i].value.call(node2, node2.__data__, self2.index, self2.group)) {
        tween[++j] = o;
      }
    }
    tween.length = j + 1;
  }
  function tick(elapsed) {
    var t = elapsed < self2.duration ? self2.ease.call(null, elapsed / self2.duration) : (self2.timer.restart(stop), self2.state = ENDING, 1), i = -1, n = tween.length;
    while (++i < n) {
      tween[i].call(node2, t);
    }
    if (self2.state === ENDING) {
      self2.on.call("end", node2, node2.__data__, self2.index, self2.group);
      stop();
    }
  }
  function stop() {
    self2.state = ENDED;
    self2.timer.stop();
    delete schedules[id5];
    for (var i in schedules)
      return;
    delete node2.__transition;
  }
}

// node_modules/d3-brush/node_modules/d3-transition/src/interrupt.js
function interrupt_default(node2, name2) {
  var schedules = node2.__transition, schedule, active, empty6 = true, i;
  if (!schedules)
    return;
  name2 = name2 == null ? null : name2 + "";
  for (i in schedules) {
    if ((schedule = schedules[i]).name !== name2) {
      empty6 = false;
      continue;
    }
    active = schedule.state > STARTING && schedule.state < ENDING;
    schedule.state = ENDED;
    schedule.timer.stop();
    schedule.on.call(active ? "interrupt" : "cancel", node2, node2.__data__, schedule.index, schedule.group);
    delete schedules[i];
  }
  if (empty6)
    delete node2.__transition;
}

// node_modules/d3-brush/node_modules/d3-transition/src/selection/interrupt.js
function interrupt_default2(name2) {
  return this.each(function() {
    interrupt_default(this, name2);
  });
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/tween.js
function tweenRemove(id5, name2) {
  var tween0, tween1;
  return function() {
    var schedule = set2(this, id5), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = tween0 = tween;
      for (var i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name2) {
          tween1 = tween1.slice();
          tween1.splice(i, 1);
          break;
        }
      }
    }
    schedule.tween = tween1;
  };
}
function tweenFunction(id5, name2, value) {
  var tween0, tween1;
  if (typeof value !== "function")
    throw new Error();
  return function() {
    var schedule = set2(this, id5), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = (tween0 = tween).slice();
      for (var t = { name: name2, value }, i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name2) {
          tween1[i] = t;
          break;
        }
      }
      if (i === n)
        tween1.push(t);
    }
    schedule.tween = tween1;
  };
}
function tween_default(name2, value) {
  var id5 = this._id;
  name2 += "";
  if (arguments.length < 2) {
    var tween = get2(this.node(), id5).tween;
    for (var i = 0, n = tween.length, t; i < n; ++i) {
      if ((t = tween[i]).name === name2) {
        return t.value;
      }
    }
    return null;
  }
  return this.each((value == null ? tweenRemove : tweenFunction)(id5, name2, value));
}
function tweenValue(transition5, name2, value) {
  var id5 = transition5._id;
  transition5.each(function() {
    var schedule = set2(this, id5);
    (schedule.value || (schedule.value = {}))[name2] = value.apply(this, arguments);
  });
  return function(node2) {
    return get2(node2, id5).value[name2];
  };
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/interpolate.js
function interpolate_default(a3, b) {
  var c7;
  return (typeof b === "number" ? number_default : b instanceof color ? rgb_default : (c7 = color(b)) ? (b = c7, rgb_default) : string_default)(a3, b);
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/attr.js
function attrRemove2(name2) {
  return function() {
    this.removeAttribute(name2);
  };
}
function attrRemoveNS2(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant2(name2, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttribute(name2);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrConstantNS2(fullname, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttributeNS(fullname.space, fullname.local);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrFunction2(name2, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttribute(name2);
    string0 = this.getAttribute(name2);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attrFunctionNS2(fullname, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttributeNS(fullname.space, fullname.local);
    string0 = this.getAttributeNS(fullname.space, fullname.local);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attr_default2(name2, value) {
  var fullname = namespace_default(name2), i = fullname === "transform" ? interpolateTransformSvg : interpolate_default;
  return this.attrTween(name2, typeof value === "function" ? (fullname.local ? attrFunctionNS2 : attrFunction2)(fullname, i, tweenValue(this, "attr." + name2, value)) : value == null ? (fullname.local ? attrRemoveNS2 : attrRemove2)(fullname) : (fullname.local ? attrConstantNS2 : attrConstant2)(fullname, i, value));
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/attrTween.js
function attrInterpolate(name2, i) {
  return function(t) {
    this.setAttribute(name2, i.call(this, t));
  };
}
function attrInterpolateNS(fullname, i) {
  return function(t) {
    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));
  };
}
function attrTweenNS(fullname, value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && attrInterpolateNS(fullname, i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function attrTween(name2, value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && attrInterpolate(name2, i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function attrTween_default(name2, value) {
  var key = "attr." + name2;
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  var fullname = namespace_default(name2);
  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/delay.js
function delayFunction(id5, value) {
  return function() {
    init(this, id5).delay = +value.apply(this, arguments);
  };
}
function delayConstant(id5, value) {
  return value = +value, function() {
    init(this, id5).delay = value;
  };
}
function delay_default(value) {
  var id5 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? delayFunction : delayConstant)(id5, value)) : get2(this.node(), id5).delay;
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/duration.js
function durationFunction(id5, value) {
  return function() {
    set2(this, id5).duration = +value.apply(this, arguments);
  };
}
function durationConstant(id5, value) {
  return value = +value, function() {
    set2(this, id5).duration = value;
  };
}
function duration_default(value) {
  var id5 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? durationFunction : durationConstant)(id5, value)) : get2(this.node(), id5).duration;
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/ease.js
function easeConstant(id5, value) {
  if (typeof value !== "function")
    throw new Error();
  return function() {
    set2(this, id5).ease = value;
  };
}
function ease_default(value) {
  var id5 = this._id;
  return arguments.length ? this.each(easeConstant(id5, value)) : get2(this.node(), id5).ease;
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/easeVarying.js
function easeVarying(id5, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (typeof v2 !== "function")
      throw new Error();
    set2(this, id5).ease = v2;
  };
}
function easeVarying_default(value) {
  if (typeof value !== "function")
    throw new Error();
  return this.each(easeVarying(this._id, value));
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/filter.js
function filter_default2(match2) {
  if (typeof match2 !== "function")
    match2 = matcher_default(match2);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = [], node2, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && match2.call(node2, node2.__data__, i, group5)) {
        subgroup.push(node2);
      }
    }
  }
  return new Transition(subgroups, this._parents, this._name, this._id);
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/merge.js
function merge_default2(transition5) {
  if (transition5._id !== this._id)
    throw new Error();
  for (var groups0 = this._groups, groups1 = transition5._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge6 = merges[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group0[i] || group1[i]) {
        merge6[i] = node2;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Transition(merges, this._parents, this._name, this._id);
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/on.js
function start(name2) {
  return (name2 + "").trim().split(/^|\s+/).every(function(t) {
    var i = t.indexOf(".");
    if (i >= 0)
      t = t.slice(0, i);
    return !t || t === "start";
  });
}
function onFunction(id5, name2, listener) {
  var on0, on1, sit = start(name2) ? init : set2;
  return function() {
    var schedule = sit(this, id5), on = schedule.on;
    if (on !== on0)
      (on1 = (on0 = on).copy()).on(name2, listener);
    schedule.on = on1;
  };
}
function on_default2(name2, listener) {
  var id5 = this._id;
  return arguments.length < 2 ? get2(this.node(), id5).on.on(name2) : this.each(onFunction(id5, name2, listener));
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/remove.js
function removeFunction(id5) {
  return function() {
    var parent = this.parentNode;
    for (var i in this.__transition)
      if (+i !== id5)
        return;
    if (parent)
      parent.removeChild(this);
  };
}
function remove_default2() {
  return this.on("end.remove", removeFunction(this._id));
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/select.js
function select_default3(select) {
  var name2 = this._name, id5 = this._id;
  if (typeof select !== "function")
    select = selector_default(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = new Array(n), node2, subnode, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && (subnode = select.call(node2, node2.__data__, i, group5))) {
        if ("__data__" in node2)
          subnode.__data__ = node2.__data__;
        subgroup[i] = subnode;
        schedule_default(subgroup[i], name2, id5, i, subgroup, get2(node2, id5));
      }
    }
  }
  return new Transition(subgroups, this._parents, name2, id5);
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/selectAll.js
function selectAll_default3(select) {
  var name2 = this._name, id5 = this._id;
  if (typeof select !== "function")
    select = selectorAll_default(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = [], parents2 = [], j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        for (var children4 = select.call(node2, node2.__data__, i, group5), child, inherit5 = get2(node2, id5), k3 = 0, l = children4.length; k3 < l; ++k3) {
          if (child = children4[k3]) {
            schedule_default(child, name2, id5, k3, children4, inherit5);
          }
        }
        subgroups.push(children4);
        parents2.push(node2);
      }
    }
  }
  return new Transition(subgroups, parents2, name2, id5);
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/selection.js
var Selection2 = selection_default.prototype.constructor;
function selection_default2() {
  return new Selection2(this._groups, this._parents);
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/style.js
function styleNull(name2, interpolate) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue(this, name2), string1 = (this.style.removeProperty(name2), styleValue(this, name2));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);
  };
}
function styleRemove2(name2) {
  return function() {
    this.style.removeProperty(name2);
  };
}
function styleConstant2(name2, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = styleValue(this, name2);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function styleFunction2(name2, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue(this, name2), value1 = value(this), string1 = value1 + "";
    if (value1 == null)
      string1 = value1 = (this.style.removeProperty(name2), styleValue(this, name2));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function styleMaybeRemove(id5, name2) {
  var on0, on1, listener0, key = "style." + name2, event2 = "end." + key, remove5;
  return function() {
    var schedule = set2(this, id5), on = schedule.on, listener = schedule.value[key] == null ? remove5 || (remove5 = styleRemove2(name2)) : void 0;
    if (on !== on0 || listener0 !== listener)
      (on1 = (on0 = on).copy()).on(event2, listener0 = listener);
    schedule.on = on1;
  };
}
function style_default2(name2, value, priority) {
  var i = (name2 += "") === "transform" ? interpolateTransformCss : interpolate_default;
  return value == null ? this.styleTween(name2, styleNull(name2, i)).on("end.style." + name2, styleRemove2(name2)) : typeof value === "function" ? this.styleTween(name2, styleFunction2(name2, i, tweenValue(this, "style." + name2, value))).each(styleMaybeRemove(this._id, name2)) : this.styleTween(name2, styleConstant2(name2, i, value), priority).on("end.style." + name2, null);
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/styleTween.js
function styleInterpolate(name2, i, priority) {
  return function(t) {
    this.style.setProperty(name2, i.call(this, t), priority);
  };
}
function styleTween(name2, value, priority) {
  var t, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t = (i0 = i) && styleInterpolate(name2, i, priority);
    return t;
  }
  tween._value = value;
  return tween;
}
function styleTween_default(name2, value, priority) {
  var key = "style." + (name2 += "");
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, styleTween(name2, value, priority == null ? "" : priority));
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/text.js
function textConstant2(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction2(value) {
  return function() {
    var value1 = value(this);
    this.textContent = value1 == null ? "" : value1;
  };
}
function text_default2(value) {
  return this.tween("text", typeof value === "function" ? textFunction2(tweenValue(this, "text", value)) : textConstant2(value == null ? "" : value + ""));
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/textTween.js
function textInterpolate(i) {
  return function(t) {
    this.textContent = i.call(this, t);
  };
}
function textTween(value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && textInterpolate(i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function textTween_default(value) {
  var key = "text";
  if (arguments.length < 1)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, textTween(value));
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/transition.js
function transition_default() {
  var name2 = this._name, id0 = this._id, id1 = newId();
  for (var groups5 = this._groups, m = groups5.length, j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        var inherit5 = get2(node2, id0);
        schedule_default(node2, name2, id1, i, group5, {
          time: inherit5.time + inherit5.delay + inherit5.duration,
          delay: 0,
          duration: inherit5.duration,
          ease: inherit5.ease
        });
      }
    }
  }
  return new Transition(groups5, this._parents, name2, id1);
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/end.js
function end_default() {
  var on0, on1, that = this, id5 = that._id, size = that.size();
  return new Promise(function(resolve, reject) {
    var cancel = { value: reject }, end2 = { value: function() {
      if (--size === 0)
        resolve();
    } };
    that.each(function() {
      var schedule = set2(this, id5), on = schedule.on;
      if (on !== on0) {
        on1 = (on0 = on).copy();
        on1._.cancel.push(cancel);
        on1._.interrupt.push(cancel);
        on1._.end.push(end2);
      }
      schedule.on = on1;
    });
    if (size === 0)
      resolve();
  });
}

// node_modules/d3-brush/node_modules/d3-transition/src/transition/index.js
var id = 0;
function Transition(groups5, parents2, name2, id5) {
  this._groups = groups5;
  this._parents = parents2;
  this._name = name2;
  this._id = id5;
}
function transition(name2) {
  return selection_default().transition(name2);
}
function newId() {
  return ++id;
}
var selection_prototype = selection_default.prototype;
Transition.prototype = transition.prototype = {
  constructor: Transition,
  select: select_default3,
  selectAll: selectAll_default3,
  selectChild: selection_prototype.selectChild,
  selectChildren: selection_prototype.selectChildren,
  filter: filter_default2,
  merge: merge_default2,
  selection: selection_default2,
  transition: transition_default,
  call: selection_prototype.call,
  nodes: selection_prototype.nodes,
  node: selection_prototype.node,
  size: selection_prototype.size,
  empty: selection_prototype.empty,
  each: selection_prototype.each,
  on: on_default2,
  attr: attr_default2,
  attrTween: attrTween_default,
  style: style_default2,
  styleTween: styleTween_default,
  text: text_default2,
  textTween: textTween_default,
  remove: remove_default2,
  tween: tween_default,
  delay: delay_default,
  duration: duration_default,
  ease: ease_default,
  easeVarying: easeVarying_default,
  end: end_default,
  [Symbol.iterator]: selection_prototype[Symbol.iterator]
};

// node_modules/d3-brush/node_modules/d3-ease/src/cubic.js
function cubicInOut(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}

// node_modules/d3-brush/node_modules/d3-ease/src/poly.js
var exponent = 3;
var polyIn = function custom(e) {
  e = +e;
  function polyIn5(t) {
    return Math.pow(t, e);
  }
  polyIn5.exponent = custom;
  return polyIn5;
}(exponent);
var polyOut = function custom2(e) {
  e = +e;
  function polyOut5(t) {
    return 1 - Math.pow(1 - t, e);
  }
  polyOut5.exponent = custom2;
  return polyOut5;
}(exponent);
var polyInOut = function custom3(e) {
  e = +e;
  function polyInOut5(t) {
    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
  }
  polyInOut5.exponent = custom3;
  return polyInOut5;
}(exponent);

// node_modules/d3-brush/node_modules/d3-ease/src/sin.js
var pi = Math.PI;
var halfPi = pi / 2;

// node_modules/d3-brush/node_modules/d3-ease/src/math.js
function tpmt(x7) {
  return (Math.pow(2, -10 * x7) - 9765625e-10) * 1.0009775171065494;
}

// node_modules/d3-brush/node_modules/d3-ease/src/bounce.js
var b1 = 4 / 11;
var b2 = 6 / 11;
var b3 = 8 / 11;
var b4 = 3 / 4;
var b5 = 9 / 11;
var b6 = 10 / 11;
var b7 = 15 / 16;
var b8 = 21 / 22;
var b9 = 63 / 64;
var b0 = 1 / b1 / b1;

// node_modules/d3-brush/node_modules/d3-ease/src/back.js
var overshoot = 1.70158;
var backIn = function custom4(s3) {
  s3 = +s3;
  function backIn5(t) {
    return (t = +t) * t * (s3 * (t - 1) + t);
  }
  backIn5.overshoot = custom4;
  return backIn5;
}(overshoot);
var backOut = function custom5(s3) {
  s3 = +s3;
  function backOut5(t) {
    return --t * t * ((t + 1) * s3 + t) + 1;
  }
  backOut5.overshoot = custom5;
  return backOut5;
}(overshoot);
var backInOut = function custom6(s3) {
  s3 = +s3;
  function backInOut5(t) {
    return ((t *= 2) < 1 ? t * t * ((s3 + 1) * t - s3) : (t -= 2) * t * ((s3 + 1) * t + s3) + 2) / 2;
  }
  backInOut5.overshoot = custom6;
  return backInOut5;
}(overshoot);

// node_modules/d3-brush/node_modules/d3-ease/src/elastic.js
var tau = 2 * Math.PI;
var amplitude = 1;
var period = 0.3;
var elasticIn = function custom7(a3, p) {
  var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau);
  function elasticIn5(t) {
    return a3 * tpmt(- --t) * Math.sin((s3 - t) / p);
  }
  elasticIn5.amplitude = function(a4) {
    return custom7(a4, p * tau);
  };
  elasticIn5.period = function(p2) {
    return custom7(a3, p2);
  };
  return elasticIn5;
}(amplitude, period);
var elasticOut = function custom8(a3, p) {
  var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau);
  function elasticOut5(t) {
    return 1 - a3 * tpmt(t = +t) * Math.sin((t + s3) / p);
  }
  elasticOut5.amplitude = function(a4) {
    return custom8(a4, p * tau);
  };
  elasticOut5.period = function(p2) {
    return custom8(a3, p2);
  };
  return elasticOut5;
}(amplitude, period);
var elasticInOut = function custom9(a3, p) {
  var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau);
  function elasticInOut5(t) {
    return ((t = t * 2 - 1) < 0 ? a3 * tpmt(-t) * Math.sin((s3 - t) / p) : 2 - a3 * tpmt(t) * Math.sin((s3 + t) / p)) / 2;
  }
  elasticInOut5.amplitude = function(a4) {
    return custom9(a4, p * tau);
  };
  elasticInOut5.period = function(p2) {
    return custom9(a3, p2);
  };
  return elasticInOut5;
}(amplitude, period);

// node_modules/d3-brush/node_modules/d3-transition/src/selection/transition.js
var defaultTiming = {
  time: null,
  delay: 0,
  duration: 250,
  ease: cubicInOut
};
function inherit(node2, id5) {
  var timing;
  while (!(timing = node2.__transition) || !(timing = timing[id5])) {
    if (!(node2 = node2.parentNode)) {
      throw new Error(`transition ${id5} not found`);
    }
  }
  return timing;
}
function transition_default2(name2) {
  var id5, timing;
  if (name2 instanceof Transition) {
    id5 = name2._id, name2 = name2._name;
  } else {
    id5 = newId(), (timing = defaultTiming).time = now(), name2 = name2 == null ? null : name2 + "";
  }
  for (var groups5 = this._groups, m = groups5.length, j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        schedule_default(node2, name2, id5, i, group5, timing || inherit(node2, id5));
      }
    }
  }
  return new Transition(groups5, this._parents, name2, id5);
}

// node_modules/d3-brush/node_modules/d3-transition/src/selection/index.js
selection_default.prototype.interrupt = interrupt_default2;
selection_default.prototype.transition = transition_default2;

// node_modules/d3-brush/src/brush.js
var { abs, max: max2, min: min2 } = Math;
function number1(e) {
  return [+e[0], +e[1]];
}
function number22(e) {
  return [number1(e[0]), number1(e[1])];
}
var X = {
  name: "x",
  handles: ["w", "e"].map(type),
  input: function(x7, e) {
    return x7 == null ? null : [[+x7[0], e[0][1]], [+x7[1], e[1][1]]];
  },
  output: function(xy) {
    return xy && [xy[0][0], xy[1][0]];
  }
};
var Y = {
  name: "y",
  handles: ["n", "s"].map(type),
  input: function(y7, e) {
    return y7 == null ? null : [[e[0][0], +y7[0]], [e[1][0], +y7[1]]];
  },
  output: function(xy) {
    return xy && [xy[0][1], xy[1][1]];
  }
};
var XY = {
  name: "xy",
  handles: ["n", "w", "e", "s", "nw", "ne", "sw", "se"].map(type),
  input: function(xy) {
    return xy == null ? null : number22(xy);
  },
  output: function(xy) {
    return xy;
  }
};
function type(t) {
  return { type: t };
}

// node_modules/d3-chord/src/math.js
var pi2 = Math.PI;
var halfPi2 = pi2 / 2;
var tau2 = pi2 * 2;

// node_modules/d3-chord/node_modules/d3-path/src/path.js
var pi3 = Math.PI;
var tau3 = 2 * pi3;
var epsilon3 = 1e-6;
var tauEpsilon = tau3 - epsilon3;
function Path() {
  this._x0 = this._y0 = this._x1 = this._y1 = null;
  this._ = "";
}
function path() {
  return new Path();
}
Path.prototype = path.prototype = {
  constructor: Path,
  moveTo: function(x7, y7) {
    this._ += "M" + (this._x0 = this._x1 = +x7) + "," + (this._y0 = this._y1 = +y7);
  },
  closePath: function() {
    if (this._x1 !== null) {
      this._x1 = this._x0, this._y1 = this._y0;
      this._ += "Z";
    }
  },
  lineTo: function(x7, y7) {
    this._ += "L" + (this._x1 = +x7) + "," + (this._y1 = +y7);
  },
  quadraticCurveTo: function(x13, y12, x7, y7) {
    this._ += "Q" + +x13 + "," + +y12 + "," + (this._x1 = +x7) + "," + (this._y1 = +y7);
  },
  bezierCurveTo: function(x13, y12, x22, y22, x7, y7) {
    this._ += "C" + +x13 + "," + +y12 + "," + +x22 + "," + +y22 + "," + (this._x1 = +x7) + "," + (this._y1 = +y7);
  },
  arcTo: function(x13, y12, x22, y22, r) {
    x13 = +x13, y12 = +y12, x22 = +x22, y22 = +y22, r = +r;
    var x07 = this._x1, y06 = this._y1, x21 = x22 - x13, y21 = y22 - y12, x01 = x07 - x13, y01 = y06 - y12, l01_2 = x01 * x01 + y01 * y01;
    if (r < 0)
      throw new Error("negative radius: " + r);
    if (this._x1 === null) {
      this._ += "M" + (this._x1 = x13) + "," + (this._y1 = y12);
    } else if (!(l01_2 > epsilon3))
      ;
    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon3) || !r) {
      this._ += "L" + (this._x1 = x13) + "," + (this._y1 = y12);
    } else {
      var x20 = x22 - x07, y20 = y22 - y06, l21_2 = x21 * x21 + y21 * y21, l20_2 = x20 * x20 + y20 * y20, l21 = Math.sqrt(l21_2), l01 = Math.sqrt(l01_2), l = r * Math.tan((pi3 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2), t01 = l / l01, t21 = l / l21;
      if (Math.abs(t01 - 1) > epsilon3) {
        this._ += "L" + (x13 + t01 * x01) + "," + (y12 + t01 * y01);
      }
      this._ += "A" + r + "," + r + ",0,0," + +(y01 * x20 > x01 * y20) + "," + (this._x1 = x13 + t21 * x21) + "," + (this._y1 = y12 + t21 * y21);
    }
  },
  arc: function(x7, y7, r, a0, a1, ccw) {
    x7 = +x7, y7 = +y7, r = +r, ccw = !!ccw;
    var dx = r * Math.cos(a0), dy = r * Math.sin(a0), x07 = x7 + dx, y06 = y7 + dy, cw = 1 ^ ccw, da2 = ccw ? a0 - a1 : a1 - a0;
    if (r < 0)
      throw new Error("negative radius: " + r);
    if (this._x1 === null) {
      this._ += "M" + x07 + "," + y06;
    } else if (Math.abs(this._x1 - x07) > epsilon3 || Math.abs(this._y1 - y06) > epsilon3) {
      this._ += "L" + x07 + "," + y06;
    }
    if (!r)
      return;
    if (da2 < 0)
      da2 = da2 % tau3 + tau3;
    if (da2 > tauEpsilon) {
      this._ += "A" + r + "," + r + ",0,1," + cw + "," + (x7 - dx) + "," + (y7 - dy) + "A" + r + "," + r + ",0,1," + cw + "," + (this._x1 = x07) + "," + (this._y1 = y06);
    } else if (da2 > epsilon3) {
      this._ += "A" + r + "," + r + ",0," + +(da2 >= pi3) + "," + cw + "," + (this._x1 = x7 + r * Math.cos(a1)) + "," + (this._y1 = y7 + r * Math.sin(a1));
    }
  },
  rect: function(x7, y7, w2, h) {
    this._ += "M" + (this._x0 = this._x1 = +x7) + "," + (this._y0 = this._y1 = +y7) + "h" + +w2 + "v" + +h + "h" + -w2 + "Z";
  },
  toString: function() {
    return this._;
  }
};

// node_modules/d3-chord/src/array.js
var slice2 = Array.prototype.slice;

// node_modules/d3/node_modules/d3-color/src/define.js
function define_default2(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
}
function extend2(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition)
    prototype[key] = definition[key];
  return prototype;
}

// node_modules/d3/node_modules/d3-color/src/color.js
function Color2() {
}
var darker2 = 0.7;
var brighter2 = 1 / darker2;
var reI2 = "\\s*([+-]?\\d+)\\s*";
var reN2 = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var reP2 = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var reHex2 = /^#([0-9a-f]{3,8})$/;
var reRgbInteger2 = new RegExp(`^rgb\\(${reI2},${reI2},${reI2}\\)$`);
var reRgbPercent2 = new RegExp(`^rgb\\(${reP2},${reP2},${reP2}\\)$`);
var reRgbaInteger2 = new RegExp(`^rgba\\(${reI2},${reI2},${reI2},${reN2}\\)$`);
var reRgbaPercent2 = new RegExp(`^rgba\\(${reP2},${reP2},${reP2},${reN2}\\)$`);
var reHslPercent2 = new RegExp(`^hsl\\(${reN2},${reP2},${reP2}\\)$`);
var reHslaPercent2 = new RegExp(`^hsla\\(${reN2},${reP2},${reP2},${reN2}\\)$`);
var named2 = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
define_default2(Color2, color2, {
  copy(channels2) {
    return Object.assign(new this.constructor(), this, channels2);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: color_formatHex2,
  formatHex: color_formatHex2,
  formatHex8: color_formatHex82,
  formatHsl: color_formatHsl2,
  formatRgb: color_formatRgb2,
  toString: color_formatRgb2
});
function color_formatHex2() {
  return this.rgb().formatHex();
}
function color_formatHex82() {
  return this.rgb().formatHex8();
}
function color_formatHsl2() {
  return hslConvert2(this).formatHsl();
}
function color_formatRgb2() {
  return this.rgb().formatRgb();
}
function color2(format5) {
  var m, l;
  format5 = (format5 + "").trim().toLowerCase();
  return (m = reHex2.exec(format5)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn2(m) : l === 3 ? new Rgb2(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba2(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba2(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger2.exec(format5)) ? new Rgb2(m[1], m[2], m[3], 1) : (m = reRgbPercent2.exec(format5)) ? new Rgb2(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger2.exec(format5)) ? rgba2(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent2.exec(format5)) ? rgba2(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent2.exec(format5)) ? hsla2(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent2.exec(format5)) ? hsla2(m[1], m[2] / 100, m[3] / 100, m[4]) : named2.hasOwnProperty(format5) ? rgbn2(named2[format5]) : format5 === "transparent" ? new Rgb2(NaN, NaN, NaN, 0) : null;
}
function rgbn2(n) {
  return new Rgb2(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
}
function rgba2(r, g, b, a3) {
  if (a3 <= 0)
    r = g = b = NaN;
  return new Rgb2(r, g, b, a3);
}
function rgbConvert2(o) {
  if (!(o instanceof Color2))
    o = color2(o);
  if (!o)
    return new Rgb2();
  o = o.rgb();
  return new Rgb2(o.r, o.g, o.b, o.opacity);
}
function rgb2(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert2(r) : new Rgb2(r, g, b, opacity == null ? 1 : opacity);
}
function Rgb2(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}
define_default2(Rgb2, rgb2, extend2(Color2, {
  brighter(k3) {
    k3 = k3 == null ? brighter2 : Math.pow(brighter2, k3);
    return new Rgb2(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker2 : Math.pow(darker2, k3);
    return new Rgb2(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  rgb() {
    return this;
  },
  clamp() {
    return new Rgb2(clampi2(this.r), clampi2(this.g), clampi2(this.b), clampa2(this.opacity));
  },
  displayable() {
    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
  },
  hex: rgb_formatHex2,
  formatHex: rgb_formatHex2,
  formatHex8: rgb_formatHex82,
  formatRgb: rgb_formatRgb2,
  toString: rgb_formatRgb2
}));
function rgb_formatHex2() {
  return `#${hex2(this.r)}${hex2(this.g)}${hex2(this.b)}`;
}
function rgb_formatHex82() {
  return `#${hex2(this.r)}${hex2(this.g)}${hex2(this.b)}${hex2((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function rgb_formatRgb2() {
  const a3 = clampa2(this.opacity);
  return `${a3 === 1 ? "rgb(" : "rgba("}${clampi2(this.r)}, ${clampi2(this.g)}, ${clampi2(this.b)}${a3 === 1 ? ")" : `, ${a3})`}`;
}
function clampa2(opacity) {
  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));
}
function clampi2(value) {
  return Math.max(0, Math.min(255, Math.round(value) || 0));
}
function hex2(value) {
  value = clampi2(value);
  return (value < 16 ? "0" : "") + value.toString(16);
}
function hsla2(h, s3, l, a3) {
  if (a3 <= 0)
    h = s3 = l = NaN;
  else if (l <= 0 || l >= 1)
    h = s3 = NaN;
  else if (s3 <= 0)
    h = NaN;
  return new Hsl2(h, s3, l, a3);
}
function hslConvert2(o) {
  if (o instanceof Hsl2)
    return new Hsl2(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color2))
    o = color2(o);
  if (!o)
    return new Hsl2();
  if (o instanceof Hsl2)
    return o;
  o = o.rgb();
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min8 = Math.min(r, g, b), max10 = Math.max(r, g, b), h = NaN, s3 = max10 - min8, l = (max10 + min8) / 2;
  if (s3) {
    if (r === max10)
      h = (g - b) / s3 + (g < b) * 6;
    else if (g === max10)
      h = (b - r) / s3 + 2;
    else
      h = (r - g) / s3 + 4;
    s3 /= l < 0.5 ? max10 + min8 : 2 - max10 - min8;
    h *= 60;
  } else {
    s3 = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl2(h, s3, l, o.opacity);
}
function hsl3(h, s3, l, opacity) {
  return arguments.length === 1 ? hslConvert2(h) : new Hsl2(h, s3, l, opacity == null ? 1 : opacity);
}
function Hsl2(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default2(Hsl2, hsl3, extend2(Color2, {
  brighter(k3) {
    k3 = k3 == null ? brighter2 : Math.pow(brighter2, k3);
    return new Hsl2(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker2 : Math.pow(darker2, k3);
    return new Hsl2(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = this.h % 360 + (this.h < 0) * 360, s3 = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s3, m1 = 2 * l - m2;
    return new Rgb2(
      hsl2rgb2(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb2(h, m1, m2),
      hsl2rgb2(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  clamp() {
    return new Hsl2(clamph2(this.h), clampt2(this.s), clampt2(this.l), clampa2(this.opacity));
  },
  displayable() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
  },
  formatHsl() {
    const a3 = clampa2(this.opacity);
    return `${a3 === 1 ? "hsl(" : "hsla("}${clamph2(this.h)}, ${clampt2(this.s) * 100}%, ${clampt2(this.l) * 100}%${a3 === 1 ? ")" : `, ${a3})`}`;
  }
}));
function clamph2(value) {
  value = (value || 0) % 360;
  return value < 0 ? value + 360 : value;
}
function clampt2(value) {
  return Math.max(0, Math.min(1, value || 0));
}
function hsl2rgb2(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
}

// node_modules/d3/node_modules/d3-color/src/math.js
var radians2 = Math.PI / 180;
var degrees3 = 180 / Math.PI;

// node_modules/d3/node_modules/d3-color/src/lab.js
var K2 = 18;
var Xn2 = 0.96422;
var Yn2 = 1;
var Zn2 = 0.82521;
var t02 = 4 / 29;
var t12 = 6 / 29;
var t22 = 3 * t12 * t12;
var t32 = t12 * t12 * t12;
function labConvert2(o) {
  if (o instanceof Lab2)
    return new Lab2(o.l, o.a, o.b, o.opacity);
  if (o instanceof Hcl2)
    return hcl2lab2(o);
  if (!(o instanceof Rgb2))
    o = rgbConvert2(o);
  var r = rgb2lrgb2(o.r), g = rgb2lrgb2(o.g), b = rgb2lrgb2(o.b), y7 = xyz2lab2((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn2), x7, z;
  if (r === g && g === b)
    x7 = z = y7;
  else {
    x7 = xyz2lab2((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn2);
    z = xyz2lab2((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn2);
  }
  return new Lab2(116 * y7 - 16, 500 * (x7 - y7), 200 * (y7 - z), o.opacity);
}
function lab3(l, a3, b, opacity) {
  return arguments.length === 1 ? labConvert2(l) : new Lab2(l, a3, b, opacity == null ? 1 : opacity);
}
function Lab2(l, a3, b, opacity) {
  this.l = +l;
  this.a = +a3;
  this.b = +b;
  this.opacity = +opacity;
}
define_default2(Lab2, lab3, extend2(Color2, {
  brighter(k3) {
    return new Lab2(this.l + K2 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  darker(k3) {
    return new Lab2(this.l - K2 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  rgb() {
    var y7 = (this.l + 16) / 116, x7 = isNaN(this.a) ? y7 : y7 + this.a / 500, z = isNaN(this.b) ? y7 : y7 - this.b / 200;
    x7 = Xn2 * lab2xyz2(x7);
    y7 = Yn2 * lab2xyz2(y7);
    z = Zn2 * lab2xyz2(z);
    return new Rgb2(
      lrgb2rgb2(3.1338561 * x7 - 1.6168667 * y7 - 0.4906146 * z),
      lrgb2rgb2(-0.9787684 * x7 + 1.9161415 * y7 + 0.033454 * z),
      lrgb2rgb2(0.0719453 * x7 - 0.2289914 * y7 + 1.4052427 * z),
      this.opacity
    );
  }
}));
function xyz2lab2(t) {
  return t > t32 ? Math.pow(t, 1 / 3) : t / t22 + t02;
}
function lab2xyz2(t) {
  return t > t12 ? t * t * t : t22 * (t - t02);
}
function lrgb2rgb2(x7) {
  return 255 * (x7 <= 31308e-7 ? 12.92 * x7 : 1.055 * Math.pow(x7, 1 / 2.4) - 0.055);
}
function rgb2lrgb2(x7) {
  return (x7 /= 255) <= 0.04045 ? x7 / 12.92 : Math.pow((x7 + 0.055) / 1.055, 2.4);
}
function hclConvert2(o) {
  if (o instanceof Hcl2)
    return new Hcl2(o.h, o.c, o.l, o.opacity);
  if (!(o instanceof Lab2))
    o = labConvert2(o);
  if (o.a === 0 && o.b === 0)
    return new Hcl2(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);
  var h = Math.atan2(o.b, o.a) * degrees3;
  return new Hcl2(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);
}
function hcl3(h, c7, l, opacity) {
  return arguments.length === 1 ? hclConvert2(h) : new Hcl2(h, c7, l, opacity == null ? 1 : opacity);
}
function Hcl2(h, c7, l, opacity) {
  this.h = +h;
  this.c = +c7;
  this.l = +l;
  this.opacity = +opacity;
}
function hcl2lab2(o) {
  if (isNaN(o.h))
    return new Lab2(o.l, 0, 0, o.opacity);
  var h = o.h * radians2;
  return new Lab2(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);
}
define_default2(Hcl2, hcl3, extend2(Color2, {
  brighter(k3) {
    return new Hcl2(this.h, this.c, this.l + K2 * (k3 == null ? 1 : k3), this.opacity);
  },
  darker(k3) {
    return new Hcl2(this.h, this.c, this.l - K2 * (k3 == null ? 1 : k3), this.opacity);
  },
  rgb() {
    return hcl2lab2(this).rgb();
  }
}));

// node_modules/d3/node_modules/d3-color/src/cubehelix.js
var A2 = -0.14861;
var B2 = 1.78277;
var C2 = -0.29227;
var D2 = -0.90649;
var E2 = 1.97294;
var ED2 = E2 * D2;
var EB2 = E2 * B2;
var BC_DA2 = B2 * C2 - D2 * A2;
function cubehelixConvert2(o) {
  if (o instanceof Cubehelix2)
    return new Cubehelix2(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Rgb2))
    o = rgbConvert2(o);
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, l = (BC_DA2 * b + ED2 * r - EB2 * g) / (BC_DA2 + ED2 - EB2), bl = b - l, k3 = (E2 * (g - l) - C2 * bl) / D2, s3 = Math.sqrt(k3 * k3 + bl * bl) / (E2 * l * (1 - l)), h = s3 ? Math.atan2(k3, bl) * degrees3 - 120 : NaN;
  return new Cubehelix2(h < 0 ? h + 360 : h, s3, l, o.opacity);
}
function cubehelix3(h, s3, l, opacity) {
  return arguments.length === 1 ? cubehelixConvert2(h) : new Cubehelix2(h, s3, l, opacity == null ? 1 : opacity);
}
function Cubehelix2(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default2(Cubehelix2, cubehelix3, extend2(Color2, {
  brighter(k3) {
    k3 = k3 == null ? brighter2 : Math.pow(brighter2, k3);
    return new Cubehelix2(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker2 : Math.pow(darker2, k3);
    return new Cubehelix2(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians2, l = +this.l, a3 = isNaN(this.s) ? 0 : this.s * l * (1 - l), cosh7 = Math.cos(h), sinh7 = Math.sin(h);
    return new Rgb2(
      255 * (l + a3 * (A2 * cosh7 + B2 * sinh7)),
      255 * (l + a3 * (C2 * cosh7 + D2 * sinh7)),
      255 * (l + a3 * (E2 * cosh7)),
      this.opacity
    );
  }
}));

// node_modules/d3-contour/node_modules/d3-array/src/ascending.js
function ascending3(a3, b) {
  return a3 == null || b == null ? NaN : a3 < b ? -1 : a3 > b ? 1 : a3 >= b ? 0 : NaN;
}

// node_modules/d3-contour/node_modules/d3-array/src/descending.js
function descending2(a3, b) {
  return a3 == null || b == null ? NaN : b < a3 ? -1 : b > a3 ? 1 : b >= a3 ? 0 : NaN;
}

// node_modules/d3-contour/node_modules/d3-array/src/bisector.js
function bisector2(f2) {
  let compare1, compare2, delta;
  if (f2.length !== 2) {
    compare1 = ascending3;
    compare2 = (d, x7) => ascending3(f2(d), x7);
    delta = (d, x7) => f2(d) - x7;
  } else {
    compare1 = f2 === ascending3 || f2 === descending2 ? f2 : zero3;
    compare2 = f2;
    delta = f2;
  }
  function left3(a3, x7, lo = 0, hi = a3.length) {
    if (lo < hi) {
      if (compare1(x7, x7) !== 0)
        return hi;
      do {
        const mid = lo + hi >>> 1;
        if (compare2(a3[mid], x7) < 0)
          lo = mid + 1;
        else
          hi = mid;
      } while (lo < hi);
    }
    return lo;
  }
  function right3(a3, x7, lo = 0, hi = a3.length) {
    if (lo < hi) {
      if (compare1(x7, x7) !== 0)
        return hi;
      do {
        const mid = lo + hi >>> 1;
        if (compare2(a3[mid], x7) <= 0)
          lo = mid + 1;
        else
          hi = mid;
      } while (lo < hi);
    }
    return lo;
  }
  function center3(a3, x7, lo = 0, hi = a3.length) {
    const i = left3(a3, x7, lo, hi - 1);
    return i > lo && delta(a3[i - 1], x7) > -delta(a3[i], x7) ? i - 1 : i;
  }
  return { left: left3, center: center3, right: right3 };
}
function zero3() {
  return 0;
}

// node_modules/d3-contour/node_modules/d3-array/src/number.js
function number3(x7) {
  return x7 === null ? NaN : +x7;
}

// node_modules/d3-contour/node_modules/d3-array/src/bisect.js
var ascendingBisect2 = bisector2(ascending3);
var bisectRight2 = ascendingBisect2.right;
var bisectLeft2 = ascendingBisect2.left;
var bisectCenter2 = bisector2(number3).center;

// node_modules/d3-contour/node_modules/d3-array/src/blur.js
var blur22 = Blur22(blurf2);
var blurImage2 = Blur22(blurfImage2);
function Blur22(blur6) {
  return function(data, rx, ry = rx) {
    if (!((rx = +rx) >= 0))
      throw new RangeError("invalid rx");
    if (!((ry = +ry) >= 0))
      throw new RangeError("invalid ry");
    let { data: values, width: width2, height: height2 } = data;
    if (!((width2 = Math.floor(width2)) >= 0))
      throw new RangeError("invalid width");
    if (!((height2 = Math.floor(height2 !== void 0 ? height2 : values.length / width2)) >= 0))
      throw new RangeError("invalid height");
    if (!width2 || !height2 || !rx && !ry)
      return data;
    const blurx = rx && blur6(rx);
    const blury = ry && blur6(ry);
    const temp2 = values.slice();
    if (blurx && blury) {
      blurh2(blurx, temp2, values, width2, height2);
      blurh2(blurx, values, temp2, width2, height2);
      blurh2(blurx, temp2, values, width2, height2);
      blurv2(blury, values, temp2, width2, height2);
      blurv2(blury, temp2, values, width2, height2);
      blurv2(blury, values, temp2, width2, height2);
    } else if (blurx) {
      blurh2(blurx, values, temp2, width2, height2);
      blurh2(blurx, temp2, values, width2, height2);
      blurh2(blurx, values, temp2, width2, height2);
    } else if (blury) {
      blurv2(blury, values, temp2, width2, height2);
      blurv2(blury, temp2, values, width2, height2);
      blurv2(blury, values, temp2, width2, height2);
    }
    return data;
  };
}
function blurh2(blur6, T, S, w2, h) {
  for (let y7 = 0, n = w2 * h; y7 < n; ) {
    blur6(T, S, y7, y7 += w2, 1);
  }
}
function blurv2(blur6, T, S, w2, h) {
  for (let x7 = 0, n = w2 * h; x7 < w2; ++x7) {
    blur6(T, S, x7, x7 + n, w2);
  }
}
function blurfImage2(radius) {
  const blur6 = blurf2(radius);
  return (T, S, start6, stop, step) => {
    start6 <<= 2, stop <<= 2, step <<= 2;
    blur6(T, S, start6 + 0, stop + 0, step);
    blur6(T, S, start6 + 1, stop + 1, step);
    blur6(T, S, start6 + 2, stop + 2, step);
    blur6(T, S, start6 + 3, stop + 3, step);
  };
}
function blurf2(radius) {
  const radius0 = Math.floor(radius);
  if (radius0 === radius)
    return bluri2(radius);
  const t = radius - radius0;
  const w2 = 2 * radius + 1;
  return (T, S, start6, stop, step) => {
    if (!((stop -= step) >= start6))
      return;
    let sum9 = radius0 * S[start6];
    const s0 = step * radius0;
    const s1 = s0 + step;
    for (let i = start6, j = start6 + s0; i < j; i += step) {
      sum9 += S[Math.min(stop, i)];
    }
    for (let i = start6, j = stop; i <= j; i += step) {
      sum9 += S[Math.min(stop, i + s0)];
      T[i] = (sum9 + t * (S[Math.max(start6, i - s1)] + S[Math.min(stop, i + s1)])) / w2;
      sum9 -= S[Math.max(start6, i - s0)];
    }
  };
}
function bluri2(radius) {
  const w2 = 2 * radius + 1;
  return (T, S, start6, stop, step) => {
    if (!((stop -= step) >= start6))
      return;
    let sum9 = radius * S[start6];
    const s3 = step * radius;
    for (let i = start6, j = start6 + s3; i < j; i += step) {
      sum9 += S[Math.min(stop, i)];
    }
    for (let i = start6, j = stop; i <= j; i += step) {
      sum9 += S[Math.min(stop, i + s3)];
      T[i] = sum9 / w2;
      sum9 -= S[Math.max(start6, i - s3)];
    }
  };
}

// node_modules/d3-contour/node_modules/d3-array/src/array.js
var array3 = Array.prototype;
var slice3 = array3.slice;
var map3 = array3.map;

// node_modules/d3-contour/node_modules/d3-array/src/ticks.js
var e102 = Math.sqrt(50);
var e52 = Math.sqrt(10);
var e22 = Math.sqrt(2);

// node_modules/d3-contour/node_modules/d3-array/src/shuffle.js
var shuffle_default2 = shuffler2(Math.random);
function shuffler2(random2) {
  return function shuffle3(array12, i0 = 0, i1 = array12.length) {
    let m = i1 - (i0 = +i0);
    while (m) {
      const i = random2() * m-- | 0, t = array12[m + i0];
      array12[m + i0] = array12[i + i0];
      array12[i + i0] = t;
    }
    return array12;
  };
}

// node_modules/d3-contour/src/array.js
var array4 = Array.prototype;
var slice4 = array4.slice;

// node_modules/robust-predicates/esm/util.js
var epsilon5 = 11102230246251565e-32;
var resulterrbound = (3 + 8 * epsilon5) * epsilon5;
function vec(n) {
  return new Float64Array(n);
}

// node_modules/robust-predicates/esm/orient2d.js
var ccwerrboundA = (3 + 16 * epsilon5) * epsilon5;
var ccwerrboundB = (2 + 12 * epsilon5) * epsilon5;
var ccwerrboundC = (9 + 64 * epsilon5) * epsilon5 * epsilon5;
var B3 = vec(4);
var C1 = vec(8);
var C22 = vec(12);
var D3 = vec(16);
var u = vec(4);

// node_modules/robust-predicates/esm/orient3d.js
var o3derrboundA = (7 + 56 * epsilon5) * epsilon5;
var o3derrboundB = (3 + 28 * epsilon5) * epsilon5;
var o3derrboundC = (26 + 288 * epsilon5) * epsilon5 * epsilon5;
var bc = vec(4);
var ca = vec(4);
var ab = vec(4);
var at_b = vec(4);
var at_c = vec(4);
var bt_c = vec(4);
var bt_a = vec(4);
var ct_a = vec(4);
var ct_b = vec(4);
var bct = vec(8);
var cat = vec(8);
var abt = vec(8);
var u2 = vec(4);
var _8 = vec(8);
var _8b = vec(8);
var _16 = vec(8);
var _12 = vec(12);
var fin = vec(192);
var fin2 = vec(192);

// node_modules/robust-predicates/esm/incircle.js
var iccerrboundA = (10 + 96 * epsilon5) * epsilon5;
var iccerrboundB = (4 + 48 * epsilon5) * epsilon5;
var iccerrboundC = (44 + 576 * epsilon5) * epsilon5 * epsilon5;
var bc2 = vec(4);
var ca2 = vec(4);
var ab2 = vec(4);
var aa = vec(4);
var bb = vec(4);
var cc = vec(4);
var u3 = vec(4);
var v = vec(4);
var axtbc = vec(8);
var aytbc = vec(8);
var bxtca = vec(8);
var bytca = vec(8);
var cxtab = vec(8);
var cytab = vec(8);
var abt2 = vec(8);
var bct2 = vec(8);
var cat2 = vec(8);
var abtt = vec(4);
var bctt = vec(4);
var catt = vec(4);
var _82 = vec(8);
var _162 = vec(16);
var _16b = vec(16);
var _16c = vec(16);
var _32 = vec(32);
var _32b = vec(32);
var _48 = vec(48);
var _64 = vec(64);
var fin3 = vec(1152);
var fin22 = vec(1152);

// node_modules/robust-predicates/esm/insphere.js
var isperrboundA = (16 + 224 * epsilon5) * epsilon5;
var isperrboundB = (5 + 72 * epsilon5) * epsilon5;
var isperrboundC = (71 + 1408 * epsilon5) * epsilon5 * epsilon5;
var ab3 = vec(4);
var bc3 = vec(4);
var cd = vec(4);
var de = vec(4);
var ea = vec(4);
var ac = vec(4);
var bd = vec(4);
var ce = vec(4);
var da = vec(4);
var eb = vec(4);
var abc = vec(24);
var bcd = vec(24);
var cde = vec(24);
var dea = vec(24);
var eab = vec(24);
var abd = vec(24);
var bce = vec(24);
var cda = vec(24);
var deb = vec(24);
var eac = vec(24);
var adet = vec(1152);
var bdet = vec(1152);
var cdet = vec(1152);
var ddet = vec(1152);
var edet = vec(1152);
var abdet = vec(2304);
var cddet = vec(2304);
var cdedet = vec(3456);
var deter = vec(5760);
var _83 = vec(8);
var _8b2 = vec(8);
var _8c = vec(8);
var _163 = vec(16);
var _24 = vec(24);
var _482 = vec(48);
var _48b = vec(48);
var _96 = vec(96);
var _192 = vec(192);
var _384x = vec(384);
var _384y = vec(384);
var _384z = vec(384);
var _768 = vec(768);
var xdet = vec(96);
var ydet = vec(96);
var zdet = vec(96);
var fin4 = vec(1152);

// node_modules/delaunator/index.js
var EPSILON = Math.pow(2, -52);
var EDGE_STACK = new Uint32Array(512);

// node_modules/d3-delaunay/src/delaunay.js
var tau4 = 2 * Math.PI;

// node_modules/d3/node_modules/d3-dispatch/src/dispatch.js
var noop2 = { value: () => {
} };
function dispatch2() {
  for (var i = 0, n = arguments.length, _2 = {}, t; i < n; ++i) {
    if (!(t = arguments[i] + "") || t in _2 || /[\s.]/.test(t))
      throw new Error("illegal type: " + t);
    _2[t] = [];
  }
  return new Dispatch2(_2);
}
function Dispatch2(_2) {
  this._ = _2;
}
function parseTypenames3(typenames, types2) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name2 = "", i = t.indexOf(".");
    if (i >= 0)
      name2 = t.slice(i + 1), t = t.slice(0, i);
    if (t && !types2.hasOwnProperty(t))
      throw new Error("unknown type: " + t);
    return { type: t, name: name2 };
  });
}
Dispatch2.prototype = dispatch2.prototype = {
  constructor: Dispatch2,
  on: function(typename, callback) {
    var _2 = this._, T = parseTypenames3(typename + "", _2), t, i = -1, n = T.length;
    if (arguments.length < 2) {
      while (++i < n)
        if ((t = (typename = T[i]).type) && (t = get3(_2[t], typename.name)))
          return t;
      return;
    }
    if (callback != null && typeof callback !== "function")
      throw new Error("invalid callback: " + callback);
    while (++i < n) {
      if (t = (typename = T[i]).type)
        _2[t] = set3(_2[t], typename.name, callback);
      else if (callback == null)
        for (t in _2)
          _2[t] = set3(_2[t], typename.name, null);
    }
    return this;
  },
  copy: function() {
    var copy7 = {}, _2 = this._;
    for (var t in _2)
      copy7[t] = _2[t].slice();
    return new Dispatch2(copy7);
  },
  call: function(type4, that) {
    if ((n = arguments.length - 2) > 0)
      for (var args = new Array(n), i = 0, n, t; i < n; ++i)
        args[i] = arguments[i + 2];
    if (!this._.hasOwnProperty(type4))
      throw new Error("unknown type: " + type4);
    for (t = this._[type4], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  },
  apply: function(type4, that, args) {
    if (!this._.hasOwnProperty(type4))
      throw new Error("unknown type: " + type4);
    for (var t = this._[type4], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  }
};
function get3(type4, name2) {
  for (var i = 0, n = type4.length, c7; i < n; ++i) {
    if ((c7 = type4[i]).name === name2) {
      return c7.value;
    }
  }
}
function set3(type4, name2, callback) {
  for (var i = 0, n = type4.length; i < n; ++i) {
    if (type4[i].name === name2) {
      type4[i] = noop2, type4 = type4.slice(0, i).concat(type4.slice(i + 1));
      break;
    }
  }
  if (callback != null)
    type4.push({ name: name2, value: callback });
  return type4;
}
var dispatch_default3 = dispatch2;

// node_modules/d3/node_modules/d3-selection/src/namespaces.js
var xhtml2 = "http://www.w3.org/1999/xhtml";
var namespaces_default2 = {
  svg: "http://www.w3.org/2000/svg",
  xhtml: xhtml2,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};

// node_modules/d3/node_modules/d3-selection/src/namespace.js
function namespace_default2(name2) {
  var prefix3 = name2 += "", i = prefix3.indexOf(":");
  if (i >= 0 && (prefix3 = name2.slice(0, i)) !== "xmlns")
    name2 = name2.slice(i + 1);
  return namespaces_default2.hasOwnProperty(prefix3) ? { space: namespaces_default2[prefix3], local: name2 } : name2;
}

// node_modules/d3/node_modules/d3-selection/src/creator.js
function creatorInherit2(name2) {
  return function() {
    var document2 = this.ownerDocument, uri = this.namespaceURI;
    return uri === xhtml2 && document2.documentElement.namespaceURI === xhtml2 ? document2.createElement(name2) : document2.createElementNS(uri, name2);
  };
}
function creatorFixed2(fullname) {
  return function() {
    return this.ownerDocument.createElementNS(fullname.space, fullname.local);
  };
}
function creator_default2(name2) {
  var fullname = namespace_default2(name2);
  return (fullname.local ? creatorFixed2 : creatorInherit2)(fullname);
}

// node_modules/d3/node_modules/d3-selection/src/selector.js
function none2() {
}
function selector_default2(selector) {
  return selector == null ? none2 : function() {
    return this.querySelector(selector);
  };
}

// node_modules/d3/node_modules/d3-selection/src/selection/select.js
function select_default4(select) {
  if (typeof select !== "function")
    select = selector_default2(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = new Array(n), node2, subnode, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && (subnode = select.call(node2, node2.__data__, i, group5))) {
        if ("__data__" in node2)
          subnode.__data__ = node2.__data__;
        subgroup[i] = subnode;
      }
    }
  }
  return new Selection3(subgroups, this._parents);
}

// node_modules/d3/node_modules/d3-selection/src/array.js
function array5(x7) {
  return x7 == null ? [] : Array.isArray(x7) ? x7 : Array.from(x7);
}

// node_modules/d3/node_modules/d3-selection/src/selectorAll.js
function empty2() {
  return [];
}
function selectorAll_default2(selector) {
  return selector == null ? empty2 : function() {
    return this.querySelectorAll(selector);
  };
}

// node_modules/d3/node_modules/d3-selection/src/selection/selectAll.js
function arrayAll2(select) {
  return function() {
    return array5(select.apply(this, arguments));
  };
}
function selectAll_default4(select) {
  if (typeof select === "function")
    select = arrayAll2(select);
  else
    select = selectorAll_default2(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = [], parents2 = [], j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        subgroups.push(select.call(node2, node2.__data__, i, group5));
        parents2.push(node2);
      }
    }
  }
  return new Selection3(subgroups, parents2);
}

// node_modules/d3/node_modules/d3-selection/src/matcher.js
function matcher_default2(selector) {
  return function() {
    return this.matches(selector);
  };
}
function childMatcher2(selector) {
  return function(node2) {
    return node2.matches(selector);
  };
}

// node_modules/d3/node_modules/d3-selection/src/selection/selectChild.js
var find2 = Array.prototype.find;
function childFind2(match2) {
  return function() {
    return find2.call(this.children, match2);
  };
}
function childFirst2() {
  return this.firstElementChild;
}
function selectChild_default2(match2) {
  return this.select(match2 == null ? childFirst2 : childFind2(typeof match2 === "function" ? match2 : childMatcher2(match2)));
}

// node_modules/d3/node_modules/d3-selection/src/selection/selectChildren.js
var filter4 = Array.prototype.filter;
function children2() {
  return Array.from(this.children);
}
function childrenFilter2(match2) {
  return function() {
    return filter4.call(this.children, match2);
  };
}
function selectChildren_default2(match2) {
  return this.selectAll(match2 == null ? children2 : childrenFilter2(typeof match2 === "function" ? match2 : childMatcher2(match2)));
}

// node_modules/d3/node_modules/d3-selection/src/selection/filter.js
function filter_default3(match2) {
  if (typeof match2 !== "function")
    match2 = matcher_default2(match2);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = [], node2, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && match2.call(node2, node2.__data__, i, group5)) {
        subgroup.push(node2);
      }
    }
  }
  return new Selection3(subgroups, this._parents);
}

// node_modules/d3/node_modules/d3-selection/src/selection/sparse.js
function sparse_default2(update) {
  return new Array(update.length);
}

// node_modules/d3/node_modules/d3-selection/src/selection/enter.js
function enter_default2() {
  return new Selection3(this._enter || this._groups.map(sparse_default2), this._parents);
}
function EnterNode2(parent, datum4) {
  this.ownerDocument = parent.ownerDocument;
  this.namespaceURI = parent.namespaceURI;
  this._next = null;
  this._parent = parent;
  this.__data__ = datum4;
}
EnterNode2.prototype = {
  constructor: EnterNode2,
  appendChild: function(child) {
    return this._parent.insertBefore(child, this._next);
  },
  insertBefore: function(child, next2) {
    return this._parent.insertBefore(child, next2);
  },
  querySelector: function(selector) {
    return this._parent.querySelector(selector);
  },
  querySelectorAll: function(selector) {
    return this._parent.querySelectorAll(selector);
  }
};

// node_modules/d3/node_modules/d3-selection/src/constant.js
function constant_default7(x7) {
  return function() {
    return x7;
  };
}

// node_modules/d3/node_modules/d3-selection/src/selection/data.js
function bindIndex2(parent, group5, enter, update, exit, data) {
  var i = 0, node2, groupLength = group5.length, dataLength = data.length;
  for (; i < dataLength; ++i) {
    if (node2 = group5[i]) {
      node2.__data__ = data[i];
      update[i] = node2;
    } else {
      enter[i] = new EnterNode2(parent, data[i]);
    }
  }
  for (; i < groupLength; ++i) {
    if (node2 = group5[i]) {
      exit[i] = node2;
    }
  }
}
function bindKey2(parent, group5, enter, update, exit, data, key) {
  var i, node2, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group5.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;
  for (i = 0; i < groupLength; ++i) {
    if (node2 = group5[i]) {
      keyValues[i] = keyValue = key.call(node2, node2.__data__, i, group5) + "";
      if (nodeByKeyValue.has(keyValue)) {
        exit[i] = node2;
      } else {
        nodeByKeyValue.set(keyValue, node2);
      }
    }
  }
  for (i = 0; i < dataLength; ++i) {
    keyValue = key.call(parent, data[i], i, data) + "";
    if (node2 = nodeByKeyValue.get(keyValue)) {
      update[i] = node2;
      node2.__data__ = data[i];
      nodeByKeyValue.delete(keyValue);
    } else {
      enter[i] = new EnterNode2(parent, data[i]);
    }
  }
  for (i = 0; i < groupLength; ++i) {
    if ((node2 = group5[i]) && nodeByKeyValue.get(keyValues[i]) === node2) {
      exit[i] = node2;
    }
  }
}
function datum2(node2) {
  return node2.__data__;
}
function data_default2(value, key) {
  if (!arguments.length)
    return Array.from(this, datum2);
  var bind = key ? bindKey2 : bindIndex2, parents2 = this._parents, groups5 = this._groups;
  if (typeof value !== "function")
    value = constant_default7(value);
  for (var m = groups5.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
    var parent = parents2[j], group5 = groups5[j], groupLength = group5.length, data = arraylike2(value.call(parent, parent && parent.__data__, j, parents2)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);
    bind(parent, group5, enterGroup, updateGroup, exitGroup, data, key);
    for (var i0 = 0, i1 = 0, previous, next2; i0 < dataLength; ++i0) {
      if (previous = enterGroup[i0]) {
        if (i0 >= i1)
          i1 = i0 + 1;
        while (!(next2 = updateGroup[i1]) && ++i1 < dataLength)
          ;
        previous._next = next2 || null;
      }
    }
  }
  update = new Selection3(update, parents2);
  update._enter = enter;
  update._exit = exit;
  return update;
}
function arraylike2(data) {
  return typeof data === "object" && "length" in data ? data : Array.from(data);
}

// node_modules/d3/node_modules/d3-selection/src/selection/exit.js
function exit_default2() {
  return new Selection3(this._exit || this._groups.map(sparse_default2), this._parents);
}

// node_modules/d3/node_modules/d3-selection/src/selection/join.js
function join_default2(onenter, onupdate, onexit) {
  var enter = this.enter(), update = this, exit = this.exit();
  if (typeof onenter === "function") {
    enter = onenter(enter);
    if (enter)
      enter = enter.selection();
  } else {
    enter = enter.append(onenter + "");
  }
  if (onupdate != null) {
    update = onupdate(update);
    if (update)
      update = update.selection();
  }
  if (onexit == null)
    exit.remove();
  else
    onexit(exit);
  return enter && update ? enter.merge(update).order() : update;
}

// node_modules/d3/node_modules/d3-selection/src/selection/merge.js
function merge_default3(context) {
  var selection5 = context.selection ? context.selection() : context;
  for (var groups0 = this._groups, groups1 = selection5._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge6 = merges[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group0[i] || group1[i]) {
        merge6[i] = node2;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Selection3(merges, this._parents);
}

// node_modules/d3/node_modules/d3-selection/src/selection/order.js
function order_default2() {
  for (var groups5 = this._groups, j = -1, m = groups5.length; ++j < m; ) {
    for (var group5 = groups5[j], i = group5.length - 1, next2 = group5[i], node2; --i >= 0; ) {
      if (node2 = group5[i]) {
        if (next2 && node2.compareDocumentPosition(next2) ^ 4)
          next2.parentNode.insertBefore(node2, next2);
        next2 = node2;
      }
    }
  }
  return this;
}

// node_modules/d3/node_modules/d3-selection/src/selection/sort.js
function sort_default2(compare) {
  if (!compare)
    compare = ascending4;
  function compareNode(a3, b) {
    return a3 && b ? compare(a3.__data__, b.__data__) : !a3 - !b;
  }
  for (var groups5 = this._groups, m = groups5.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, sortgroup = sortgroups[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        sortgroup[i] = node2;
      }
    }
    sortgroup.sort(compareNode);
  }
  return new Selection3(sortgroups, this._parents).order();
}
function ascending4(a3, b) {
  return a3 < b ? -1 : a3 > b ? 1 : a3 >= b ? 0 : NaN;
}

// node_modules/d3/node_modules/d3-selection/src/selection/call.js
function call_default2() {
  var callback = arguments[0];
  arguments[0] = this;
  callback.apply(null, arguments);
  return this;
}

// node_modules/d3/node_modules/d3-selection/src/selection/nodes.js
function nodes_default2() {
  return Array.from(this);
}

// node_modules/d3/node_modules/d3-selection/src/selection/node.js
function node_default2() {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length; i < n; ++i) {
      var node2 = group5[i];
      if (node2)
        return node2;
    }
  }
  return null;
}

// node_modules/d3/node_modules/d3-selection/src/selection/size.js
function size_default2() {
  let size = 0;
  for (const node2 of this)
    ++size;
  return size;
}

// node_modules/d3/node_modules/d3-selection/src/selection/empty.js
function empty_default2() {
  return !this.node();
}

// node_modules/d3/node_modules/d3-selection/src/selection/each.js
function each_default2(callback) {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length, node2; i < n; ++i) {
      if (node2 = group5[i])
        callback.call(node2, node2.__data__, i, group5);
    }
  }
  return this;
}

// node_modules/d3/node_modules/d3-selection/src/selection/attr.js
function attrRemove3(name2) {
  return function() {
    this.removeAttribute(name2);
  };
}
function attrRemoveNS3(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant3(name2, value) {
  return function() {
    this.setAttribute(name2, value);
  };
}
function attrConstantNS3(fullname, value) {
  return function() {
    this.setAttributeNS(fullname.space, fullname.local, value);
  };
}
function attrFunction3(name2, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.removeAttribute(name2);
    else
      this.setAttribute(name2, v2);
  };
}
function attrFunctionNS3(fullname, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.removeAttributeNS(fullname.space, fullname.local);
    else
      this.setAttributeNS(fullname.space, fullname.local, v2);
  };
}
function attr_default3(name2, value) {
  var fullname = namespace_default2(name2);
  if (arguments.length < 2) {
    var node2 = this.node();
    return fullname.local ? node2.getAttributeNS(fullname.space, fullname.local) : node2.getAttribute(fullname);
  }
  return this.each((value == null ? fullname.local ? attrRemoveNS3 : attrRemove3 : typeof value === "function" ? fullname.local ? attrFunctionNS3 : attrFunction3 : fullname.local ? attrConstantNS3 : attrConstant3)(fullname, value));
}

// node_modules/d3/node_modules/d3-selection/src/window.js
function window_default2(node2) {
  return node2.ownerDocument && node2.ownerDocument.defaultView || node2.document && node2 || node2.defaultView;
}

// node_modules/d3/node_modules/d3-selection/src/selection/style.js
function styleRemove3(name2) {
  return function() {
    this.style.removeProperty(name2);
  };
}
function styleConstant3(name2, value, priority) {
  return function() {
    this.style.setProperty(name2, value, priority);
  };
}
function styleFunction3(name2, value, priority) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.style.removeProperty(name2);
    else
      this.style.setProperty(name2, v2, priority);
  };
}
function style_default3(name2, value, priority) {
  return arguments.length > 1 ? this.each((value == null ? styleRemove3 : typeof value === "function" ? styleFunction3 : styleConstant3)(name2, value, priority == null ? "" : priority)) : styleValue2(this.node(), name2);
}
function styleValue2(node2, name2) {
  return node2.style.getPropertyValue(name2) || window_default2(node2).getComputedStyle(node2, null).getPropertyValue(name2);
}

// node_modules/d3/node_modules/d3-selection/src/selection/property.js
function propertyRemove2(name2) {
  return function() {
    delete this[name2];
  };
}
function propertyConstant2(name2, value) {
  return function() {
    this[name2] = value;
  };
}
function propertyFunction2(name2, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      delete this[name2];
    else
      this[name2] = v2;
  };
}
function property_default2(name2, value) {
  return arguments.length > 1 ? this.each((value == null ? propertyRemove2 : typeof value === "function" ? propertyFunction2 : propertyConstant2)(name2, value)) : this.node()[name2];
}

// node_modules/d3/node_modules/d3-selection/src/selection/classed.js
function classArray2(string) {
  return string.trim().split(/^|\s+/);
}
function classList2(node2) {
  return node2.classList || new ClassList2(node2);
}
function ClassList2(node2) {
  this._node = node2;
  this._names = classArray2(node2.getAttribute("class") || "");
}
ClassList2.prototype = {
  add: function(name2) {
    var i = this._names.indexOf(name2);
    if (i < 0) {
      this._names.push(name2);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  remove: function(name2) {
    var i = this._names.indexOf(name2);
    if (i >= 0) {
      this._names.splice(i, 1);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  contains: function(name2) {
    return this._names.indexOf(name2) >= 0;
  }
};
function classedAdd2(node2, names) {
  var list = classList2(node2), i = -1, n = names.length;
  while (++i < n)
    list.add(names[i]);
}
function classedRemove2(node2, names) {
  var list = classList2(node2), i = -1, n = names.length;
  while (++i < n)
    list.remove(names[i]);
}
function classedTrue2(names) {
  return function() {
    classedAdd2(this, names);
  };
}
function classedFalse2(names) {
  return function() {
    classedRemove2(this, names);
  };
}
function classedFunction2(names, value) {
  return function() {
    (value.apply(this, arguments) ? classedAdd2 : classedRemove2)(this, names);
  };
}
function classed_default2(name2, value) {
  var names = classArray2(name2 + "");
  if (arguments.length < 2) {
    var list = classList2(this.node()), i = -1, n = names.length;
    while (++i < n)
      if (!list.contains(names[i]))
        return false;
    return true;
  }
  return this.each((typeof value === "function" ? classedFunction2 : value ? classedTrue2 : classedFalse2)(names, value));
}

// node_modules/d3/node_modules/d3-selection/src/selection/text.js
function textRemove2() {
  this.textContent = "";
}
function textConstant3(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction3(value) {
  return function() {
    var v2 = value.apply(this, arguments);
    this.textContent = v2 == null ? "" : v2;
  };
}
function text_default3(value) {
  return arguments.length ? this.each(value == null ? textRemove2 : (typeof value === "function" ? textFunction3 : textConstant3)(value)) : this.node().textContent;
}

// node_modules/d3/node_modules/d3-selection/src/selection/html.js
function htmlRemove2() {
  this.innerHTML = "";
}
function htmlConstant2(value) {
  return function() {
    this.innerHTML = value;
  };
}
function htmlFunction2(value) {
  return function() {
    var v2 = value.apply(this, arguments);
    this.innerHTML = v2 == null ? "" : v2;
  };
}
function html_default2(value) {
  return arguments.length ? this.each(value == null ? htmlRemove2 : (typeof value === "function" ? htmlFunction2 : htmlConstant2)(value)) : this.node().innerHTML;
}

// node_modules/d3/node_modules/d3-selection/src/selection/raise.js
function raise2() {
  if (this.nextSibling)
    this.parentNode.appendChild(this);
}
function raise_default2() {
  return this.each(raise2);
}

// node_modules/d3/node_modules/d3-selection/src/selection/lower.js
function lower2() {
  if (this.previousSibling)
    this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function lower_default2() {
  return this.each(lower2);
}

// node_modules/d3/node_modules/d3-selection/src/selection/append.js
function append_default2(name2) {
  var create6 = typeof name2 === "function" ? name2 : creator_default2(name2);
  return this.select(function() {
    return this.appendChild(create6.apply(this, arguments));
  });
}

// node_modules/d3/node_modules/d3-selection/src/selection/insert.js
function constantNull2() {
  return null;
}
function insert_default2(name2, before) {
  var create6 = typeof name2 === "function" ? name2 : creator_default2(name2), select = before == null ? constantNull2 : typeof before === "function" ? before : selector_default2(before);
  return this.select(function() {
    return this.insertBefore(create6.apply(this, arguments), select.apply(this, arguments) || null);
  });
}

// node_modules/d3/node_modules/d3-selection/src/selection/remove.js
function remove2() {
  var parent = this.parentNode;
  if (parent)
    parent.removeChild(this);
}
function remove_default3() {
  return this.each(remove2);
}

// node_modules/d3/node_modules/d3-selection/src/selection/clone.js
function selection_cloneShallow2() {
  var clone3 = this.cloneNode(false), parent = this.parentNode;
  return parent ? parent.insertBefore(clone3, this.nextSibling) : clone3;
}
function selection_cloneDeep2() {
  var clone3 = this.cloneNode(true), parent = this.parentNode;
  return parent ? parent.insertBefore(clone3, this.nextSibling) : clone3;
}
function clone_default2(deep) {
  return this.select(deep ? selection_cloneDeep2 : selection_cloneShallow2);
}

// node_modules/d3/node_modules/d3-selection/src/selection/datum.js
function datum_default2(value) {
  return arguments.length ? this.property("__data__", value) : this.node().__data__;
}

// node_modules/d3/node_modules/d3-selection/src/selection/on.js
function contextListener2(listener) {
  return function(event2) {
    listener.call(this, event2, this.__data__);
  };
}
function parseTypenames4(typenames) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name2 = "", i = t.indexOf(".");
    if (i >= 0)
      name2 = t.slice(i + 1), t = t.slice(0, i);
    return { type: t, name: name2 };
  });
}
function onRemove2(typename) {
  return function() {
    var on = this.__on;
    if (!on)
      return;
    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {
      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.options);
      } else {
        on[++i] = o;
      }
    }
    if (++i)
      on.length = i;
    else
      delete this.__on;
  };
}
function onAdd2(typename, value, options2) {
  return function() {
    var on = this.__on, o, listener = contextListener2(value);
    if (on)
      for (var j = 0, m = on.length; j < m; ++j) {
        if ((o = on[j]).type === typename.type && o.name === typename.name) {
          this.removeEventListener(o.type, o.listener, o.options);
          this.addEventListener(o.type, o.listener = listener, o.options = options2);
          o.value = value;
          return;
        }
      }
    this.addEventListener(typename.type, listener, options2);
    o = { type: typename.type, name: typename.name, value, listener, options: options2 };
    if (!on)
      this.__on = [o];
    else
      on.push(o);
  };
}
function on_default3(typename, value, options2) {
  var typenames = parseTypenames4(typename + ""), i, n = typenames.length, t;
  if (arguments.length < 2) {
    var on = this.node().__on;
    if (on)
      for (var j = 0, m = on.length, o; j < m; ++j) {
        for (i = 0, o = on[j]; i < n; ++i) {
          if ((t = typenames[i]).type === o.type && t.name === o.name) {
            return o.value;
          }
        }
      }
    return;
  }
  on = value ? onAdd2 : onRemove2;
  for (i = 0; i < n; ++i)
    this.each(on(typenames[i], value, options2));
  return this;
}

// node_modules/d3/node_modules/d3-selection/src/selection/dispatch.js
function dispatchEvent2(node2, type4, params) {
  var window2 = window_default2(node2), event2 = window2.CustomEvent;
  if (typeof event2 === "function") {
    event2 = new event2(type4, params);
  } else {
    event2 = window2.document.createEvent("Event");
    if (params)
      event2.initEvent(type4, params.bubbles, params.cancelable), event2.detail = params.detail;
    else
      event2.initEvent(type4, false, false);
  }
  node2.dispatchEvent(event2);
}
function dispatchConstant2(type4, params) {
  return function() {
    return dispatchEvent2(this, type4, params);
  };
}
function dispatchFunction2(type4, params) {
  return function() {
    return dispatchEvent2(this, type4, params.apply(this, arguments));
  };
}
function dispatch_default4(type4, params) {
  return this.each((typeof params === "function" ? dispatchFunction2 : dispatchConstant2)(type4, params));
}

// node_modules/d3/node_modules/d3-selection/src/selection/iterator.js
function* iterator_default2() {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length, node2; i < n; ++i) {
      if (node2 = group5[i])
        yield node2;
    }
  }
}

// node_modules/d3/node_modules/d3-selection/src/selection/index.js
var root2 = [null];
function Selection3(groups5, parents2) {
  this._groups = groups5;
  this._parents = parents2;
}
function selection2() {
  return new Selection3([[document.documentElement]], root2);
}
function selection_selection2() {
  return this;
}
Selection3.prototype = selection2.prototype = {
  constructor: Selection3,
  select: select_default4,
  selectAll: selectAll_default4,
  selectChild: selectChild_default2,
  selectChildren: selectChildren_default2,
  filter: filter_default3,
  data: data_default2,
  enter: enter_default2,
  exit: exit_default2,
  join: join_default2,
  merge: merge_default3,
  selection: selection_selection2,
  order: order_default2,
  sort: sort_default2,
  call: call_default2,
  nodes: nodes_default2,
  node: node_default2,
  size: size_default2,
  empty: empty_default2,
  each: each_default2,
  attr: attr_default3,
  style: style_default3,
  property: property_default2,
  classed: classed_default2,
  text: text_default3,
  html: html_default2,
  raise: raise_default2,
  lower: lower_default2,
  append: append_default2,
  insert: insert_default2,
  remove: remove_default3,
  clone: clone_default2,
  datum: datum_default2,
  on: on_default3,
  dispatch: dispatch_default4,
  [Symbol.iterator]: iterator_default2
};
var selection_default3 = selection2;

// node_modules/d3/node_modules/d3-selection/src/select.js
function select_default5(selector) {
  return typeof selector === "string" ? new Selection3([[document.querySelector(selector)]], [document.documentElement]) : new Selection3([[selector]], root2);
}

// node_modules/d3/node_modules/d3-selection/src/local.js
var nextId2 = 0;
function local2() {
  return new Local2();
}
function Local2() {
  this._ = "@" + (++nextId2).toString(36);
}
Local2.prototype = local2.prototype = {
  constructor: Local2,
  get: function(node2) {
    var id5 = this._;
    while (!(id5 in node2))
      if (!(node2 = node2.parentNode))
        return;
    return node2[id5];
  },
  set: function(node2, value) {
    return node2[this._] = value;
  },
  remove: function(node2) {
    return this._ in node2 && delete node2[this._];
  },
  toString: function() {
    return this._;
  }
};

// node_modules/d3/node_modules/d3-selection/src/selectAll.js
function selectAll_default5(selector) {
  return typeof selector === "string" ? new Selection3([document.querySelectorAll(selector)], [document.documentElement]) : new Selection3([array5(selector)], root2);
}

// node_modules/d3/node_modules/d3-drag/src/event.js
function DragEvent2(type4, {
  sourceEvent,
  subject,
  target,
  identifier: identifier2,
  active,
  x: x7,
  y: y7,
  dx,
  dy,
  dispatch: dispatch6
}) {
  Object.defineProperties(this, {
    type: { value: type4, enumerable: true, configurable: true },
    sourceEvent: { value: sourceEvent, enumerable: true, configurable: true },
    subject: { value: subject, enumerable: true, configurable: true },
    target: { value: target, enumerable: true, configurable: true },
    identifier: { value: identifier2, enumerable: true, configurable: true },
    active: { value: active, enumerable: true, configurable: true },
    x: { value: x7, enumerable: true, configurable: true },
    y: { value: y7, enumerable: true, configurable: true },
    dx: { value: dx, enumerable: true, configurable: true },
    dy: { value: dy, enumerable: true, configurable: true },
    _: { value: dispatch6 }
  });
}
DragEvent2.prototype.on = function() {
  var value = this._.on.apply(this._, arguments);
  return value === this._ ? this : value;
};

// node_modules/d3/node_modules/d3-dsv/src/dsv.js
var EOL = {};
var EOF = {};
var QUOTE = 34;
var NEWLINE = 10;
var RETURN = 13;
function objectConverter(columns) {
  return new Function("d", "return {" + columns.map(function(name2, i) {
    return JSON.stringify(name2) + ": d[" + i + '] || ""';
  }).join(",") + "}");
}
function customConverter(columns, f2) {
  var object2 = objectConverter(columns);
  return function(row, i) {
    return f2(object2(row), i, columns);
  };
}
function inferColumns(rows) {
  var columnSet = /* @__PURE__ */ Object.create(null), columns = [];
  rows.forEach(function(row) {
    for (var column2 in row) {
      if (!(column2 in columnSet)) {
        columns.push(columnSet[column2] = column2);
      }
    }
  });
  return columns;
}
function pad(value, width2) {
  var s3 = value + "", length3 = s3.length;
  return length3 < width2 ? new Array(width2 - length3 + 1).join(0) + s3 : s3;
}
function formatYear(year4) {
  return year4 < 0 ? "-" + pad(-year4, 6) : year4 > 9999 ? "+" + pad(year4, 6) : pad(year4, 4);
}
function formatDate(date3) {
  var hours4 = date3.getUTCHours(), minutes4 = date3.getUTCMinutes(), seconds4 = date3.getUTCSeconds(), milliseconds4 = date3.getUTCMilliseconds();
  return isNaN(date3) ? "Invalid Date" : formatYear(date3.getUTCFullYear(), 4) + "-" + pad(date3.getUTCMonth() + 1, 2) + "-" + pad(date3.getUTCDate(), 2) + (milliseconds4 ? "T" + pad(hours4, 2) + ":" + pad(minutes4, 2) + ":" + pad(seconds4, 2) + "." + pad(milliseconds4, 3) + "Z" : seconds4 ? "T" + pad(hours4, 2) + ":" + pad(minutes4, 2) + ":" + pad(seconds4, 2) + "Z" : minutes4 || hours4 ? "T" + pad(hours4, 2) + ":" + pad(minutes4, 2) + "Z" : "");
}
function dsv_default(delimiter2) {
  var reFormat = new RegExp('["' + delimiter2 + "\n\r]"), DELIMITER = delimiter2.charCodeAt(0);
  function parse4(text2, f2) {
    var convert, columns, rows = parseRows(text2, function(row, i) {
      if (convert)
        return convert(row, i - 1);
      columns = row, convert = f2 ? customConverter(row, f2) : objectConverter(row);
    });
    rows.columns = columns || [];
    return rows;
  }
  function parseRows(text2, f2) {
    var rows = [], N = text2.length, I = 0, n = 0, t, eof = N <= 0, eol = false;
    if (text2.charCodeAt(N - 1) === NEWLINE)
      --N;
    if (text2.charCodeAt(N - 1) === RETURN)
      --N;
    function token2() {
      if (eof)
        return EOF;
      if (eol)
        return eol = false, EOL;
      var i, j = I, c7;
      if (text2.charCodeAt(j) === QUOTE) {
        while (I++ < N && text2.charCodeAt(I) !== QUOTE || text2.charCodeAt(++I) === QUOTE)
          ;
        if ((i = I) >= N)
          eof = true;
        else if ((c7 = text2.charCodeAt(I++)) === NEWLINE)
          eol = true;
        else if (c7 === RETURN) {
          eol = true;
          if (text2.charCodeAt(I) === NEWLINE)
            ++I;
        }
        return text2.slice(j + 1, i - 1).replace(/""/g, '"');
      }
      while (I < N) {
        if ((c7 = text2.charCodeAt(i = I++)) === NEWLINE)
          eol = true;
        else if (c7 === RETURN) {
          eol = true;
          if (text2.charCodeAt(I) === NEWLINE)
            ++I;
        } else if (c7 !== DELIMITER)
          continue;
        return text2.slice(j, i);
      }
      return eof = true, text2.slice(j, N);
    }
    while ((t = token2()) !== EOF) {
      var row = [];
      while (t !== EOL && t !== EOF)
        row.push(t), t = token2();
      if (f2 && (row = f2(row, n++)) == null)
        continue;
      rows.push(row);
    }
    return rows;
  }
  function preformatBody(rows, columns) {
    return rows.map(function(row) {
      return columns.map(function(column2) {
        return formatValue(row[column2]);
      }).join(delimiter2);
    });
  }
  function format5(rows, columns) {
    if (columns == null)
      columns = inferColumns(rows);
    return [columns.map(formatValue).join(delimiter2)].concat(preformatBody(rows, columns)).join("\n");
  }
  function formatBody(rows, columns) {
    if (columns == null)
      columns = inferColumns(rows);
    return preformatBody(rows, columns).join("\n");
  }
  function formatRows(rows) {
    return rows.map(formatRow).join("\n");
  }
  function formatRow(row) {
    return row.map(formatValue).join(delimiter2);
  }
  function formatValue(value) {
    return value == null ? "" : value instanceof Date ? formatDate(value) : reFormat.test(value += "") ? '"' + value.replace(/"/g, '""') + '"' : value;
  }
  return {
    parse: parse4,
    parseRows,
    format: format5,
    formatBody,
    formatRows,
    formatRow,
    formatValue
  };
}

// node_modules/d3/node_modules/d3-dsv/src/csv.js
var csv = dsv_default(",");
var csvParse = csv.parse;
var csvParseRows = csv.parseRows;
var csvFormat = csv.format;
var csvFormatBody = csv.formatBody;
var csvFormatRows = csv.formatRows;
var csvFormatRow = csv.formatRow;
var csvFormatValue = csv.formatValue;

// node_modules/d3/node_modules/d3-dsv/src/tsv.js
var tsv = dsv_default("	");
var tsvParse = tsv.parse;
var tsvParseRows = tsv.parseRows;
var tsvFormat = tsv.format;
var tsvFormatBody = tsv.formatBody;
var tsvFormatRows = tsv.formatRows;
var tsvFormatRow = tsv.formatRow;
var tsvFormatValue = tsv.formatValue;

// node_modules/d3/node_modules/d3-dsv/src/autoType.js
var fixtz = new Date("2019-01-01T00:00").getHours() || new Date("2019-07-01T00:00").getHours();

// node_modules/d3/node_modules/d3-ease/src/cubic.js
function cubicInOut2(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}

// node_modules/d3/node_modules/d3-ease/src/poly.js
var exponent2 = 3;
var polyIn2 = function custom10(e) {
  e = +e;
  function polyIn5(t) {
    return Math.pow(t, e);
  }
  polyIn5.exponent = custom10;
  return polyIn5;
}(exponent2);
var polyOut2 = function custom11(e) {
  e = +e;
  function polyOut5(t) {
    return 1 - Math.pow(1 - t, e);
  }
  polyOut5.exponent = custom11;
  return polyOut5;
}(exponent2);
var polyInOut2 = function custom12(e) {
  e = +e;
  function polyInOut5(t) {
    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
  }
  polyInOut5.exponent = custom12;
  return polyInOut5;
}(exponent2);

// node_modules/d3/node_modules/d3-ease/src/sin.js
var pi4 = Math.PI;
var halfPi3 = pi4 / 2;

// node_modules/d3/node_modules/d3-ease/src/math.js
function tpmt2(x7) {
  return (Math.pow(2, -10 * x7) - 9765625e-10) * 1.0009775171065494;
}

// node_modules/d3/node_modules/d3-ease/src/bounce.js
var b12 = 4 / 11;
var b22 = 6 / 11;
var b32 = 8 / 11;
var b42 = 3 / 4;
var b52 = 9 / 11;
var b62 = 10 / 11;
var b72 = 15 / 16;
var b82 = 21 / 22;
var b92 = 63 / 64;
var b02 = 1 / b12 / b12;

// node_modules/d3/node_modules/d3-ease/src/back.js
var overshoot2 = 1.70158;
var backIn2 = function custom13(s3) {
  s3 = +s3;
  function backIn5(t) {
    return (t = +t) * t * (s3 * (t - 1) + t);
  }
  backIn5.overshoot = custom13;
  return backIn5;
}(overshoot2);
var backOut2 = function custom14(s3) {
  s3 = +s3;
  function backOut5(t) {
    return --t * t * ((t + 1) * s3 + t) + 1;
  }
  backOut5.overshoot = custom14;
  return backOut5;
}(overshoot2);
var backInOut2 = function custom15(s3) {
  s3 = +s3;
  function backInOut5(t) {
    return ((t *= 2) < 1 ? t * t * ((s3 + 1) * t - s3) : (t -= 2) * t * ((s3 + 1) * t + s3) + 2) / 2;
  }
  backInOut5.overshoot = custom15;
  return backInOut5;
}(overshoot2);

// node_modules/d3/node_modules/d3-ease/src/elastic.js
var tau5 = 2 * Math.PI;
var amplitude2 = 1;
var period2 = 0.3;
var elasticIn2 = function custom16(a3, p) {
  var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau5);
  function elasticIn5(t) {
    return a3 * tpmt2(- --t) * Math.sin((s3 - t) / p);
  }
  elasticIn5.amplitude = function(a4) {
    return custom16(a4, p * tau5);
  };
  elasticIn5.period = function(p2) {
    return custom16(a3, p2);
  };
  return elasticIn5;
}(amplitude2, period2);
var elasticOut2 = function custom17(a3, p) {
  var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau5);
  function elasticOut5(t) {
    return 1 - a3 * tpmt2(t = +t) * Math.sin((t + s3) / p);
  }
  elasticOut5.amplitude = function(a4) {
    return custom17(a4, p * tau5);
  };
  elasticOut5.period = function(p2) {
    return custom17(a3, p2);
  };
  return elasticOut5;
}(amplitude2, period2);
var elasticInOut2 = function custom18(a3, p) {
  var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau5);
  function elasticInOut5(t) {
    return ((t = t * 2 - 1) < 0 ? a3 * tpmt2(-t) * Math.sin((s3 - t) / p) : 2 - a3 * tpmt2(t) * Math.sin((s3 + t) / p)) / 2;
  }
  elasticInOut5.amplitude = function(a4) {
    return custom18(a4, p * tau5);
  };
  elasticInOut5.period = function(p2) {
    return custom18(a3, p2);
  };
  return elasticInOut5;
}(amplitude2, period2);

// node_modules/d3-fetch/node_modules/d3-dsv/src/dsv.js
var EOL2 = {};
var EOF2 = {};
var QUOTE2 = 34;
var NEWLINE2 = 10;
var RETURN2 = 13;
function objectConverter2(columns) {
  return new Function("d", "return {" + columns.map(function(name2, i) {
    return JSON.stringify(name2) + ": d[" + i + '] || ""';
  }).join(",") + "}");
}
function customConverter2(columns, f2) {
  var object2 = objectConverter2(columns);
  return function(row, i) {
    return f2(object2(row), i, columns);
  };
}
function inferColumns2(rows) {
  var columnSet = /* @__PURE__ */ Object.create(null), columns = [];
  rows.forEach(function(row) {
    for (var column2 in row) {
      if (!(column2 in columnSet)) {
        columns.push(columnSet[column2] = column2);
      }
    }
  });
  return columns;
}
function pad2(value, width2) {
  var s3 = value + "", length3 = s3.length;
  return length3 < width2 ? new Array(width2 - length3 + 1).join(0) + s3 : s3;
}
function formatYear2(year4) {
  return year4 < 0 ? "-" + pad2(-year4, 6) : year4 > 9999 ? "+" + pad2(year4, 6) : pad2(year4, 4);
}
function formatDate2(date3) {
  var hours4 = date3.getUTCHours(), minutes4 = date3.getUTCMinutes(), seconds4 = date3.getUTCSeconds(), milliseconds4 = date3.getUTCMilliseconds();
  return isNaN(date3) ? "Invalid Date" : formatYear2(date3.getUTCFullYear(), 4) + "-" + pad2(date3.getUTCMonth() + 1, 2) + "-" + pad2(date3.getUTCDate(), 2) + (milliseconds4 ? "T" + pad2(hours4, 2) + ":" + pad2(minutes4, 2) + ":" + pad2(seconds4, 2) + "." + pad2(milliseconds4, 3) + "Z" : seconds4 ? "T" + pad2(hours4, 2) + ":" + pad2(minutes4, 2) + ":" + pad2(seconds4, 2) + "Z" : minutes4 || hours4 ? "T" + pad2(hours4, 2) + ":" + pad2(minutes4, 2) + "Z" : "");
}
function dsv_default2(delimiter2) {
  var reFormat = new RegExp('["' + delimiter2 + "\n\r]"), DELIMITER = delimiter2.charCodeAt(0);
  function parse4(text2, f2) {
    var convert, columns, rows = parseRows(text2, function(row, i) {
      if (convert)
        return convert(row, i - 1);
      columns = row, convert = f2 ? customConverter2(row, f2) : objectConverter2(row);
    });
    rows.columns = columns || [];
    return rows;
  }
  function parseRows(text2, f2) {
    var rows = [], N = text2.length, I = 0, n = 0, t, eof = N <= 0, eol = false;
    if (text2.charCodeAt(N - 1) === NEWLINE2)
      --N;
    if (text2.charCodeAt(N - 1) === RETURN2)
      --N;
    function token2() {
      if (eof)
        return EOF2;
      if (eol)
        return eol = false, EOL2;
      var i, j = I, c7;
      if (text2.charCodeAt(j) === QUOTE2) {
        while (I++ < N && text2.charCodeAt(I) !== QUOTE2 || text2.charCodeAt(++I) === QUOTE2)
          ;
        if ((i = I) >= N)
          eof = true;
        else if ((c7 = text2.charCodeAt(I++)) === NEWLINE2)
          eol = true;
        else if (c7 === RETURN2) {
          eol = true;
          if (text2.charCodeAt(I) === NEWLINE2)
            ++I;
        }
        return text2.slice(j + 1, i - 1).replace(/""/g, '"');
      }
      while (I < N) {
        if ((c7 = text2.charCodeAt(i = I++)) === NEWLINE2)
          eol = true;
        else if (c7 === RETURN2) {
          eol = true;
          if (text2.charCodeAt(I) === NEWLINE2)
            ++I;
        } else if (c7 !== DELIMITER)
          continue;
        return text2.slice(j, i);
      }
      return eof = true, text2.slice(j, N);
    }
    while ((t = token2()) !== EOF2) {
      var row = [];
      while (t !== EOL2 && t !== EOF2)
        row.push(t), t = token2();
      if (f2 && (row = f2(row, n++)) == null)
        continue;
      rows.push(row);
    }
    return rows;
  }
  function preformatBody(rows, columns) {
    return rows.map(function(row) {
      return columns.map(function(column2) {
        return formatValue(row[column2]);
      }).join(delimiter2);
    });
  }
  function format5(rows, columns) {
    if (columns == null)
      columns = inferColumns2(rows);
    return [columns.map(formatValue).join(delimiter2)].concat(preformatBody(rows, columns)).join("\n");
  }
  function formatBody(rows, columns) {
    if (columns == null)
      columns = inferColumns2(rows);
    return preformatBody(rows, columns).join("\n");
  }
  function formatRows(rows) {
    return rows.map(formatRow).join("\n");
  }
  function formatRow(row) {
    return row.map(formatValue).join(delimiter2);
  }
  function formatValue(value) {
    return value == null ? "" : value instanceof Date ? formatDate2(value) : reFormat.test(value += "") ? '"' + value.replace(/"/g, '""') + '"' : value;
  }
  return {
    parse: parse4,
    parseRows,
    format: format5,
    formatBody,
    formatRows,
    formatRow,
    formatValue
  };
}

// node_modules/d3-fetch/node_modules/d3-dsv/src/csv.js
var csv2 = dsv_default2(",");
var csvParse2 = csv2.parse;
var csvParseRows2 = csv2.parseRows;
var csvFormat2 = csv2.format;
var csvFormatBody2 = csv2.formatBody;
var csvFormatRows2 = csv2.formatRows;
var csvFormatRow2 = csv2.formatRow;
var csvFormatValue2 = csv2.formatValue;

// node_modules/d3-fetch/node_modules/d3-dsv/src/tsv.js
var tsv2 = dsv_default2("	");
var tsvParse2 = tsv2.parse;
var tsvParseRows2 = tsv2.parseRows;
var tsvFormat2 = tsv2.format;
var tsvFormatBody2 = tsv2.formatBody;
var tsvFormatRows2 = tsv2.formatRows;
var tsvFormatRow2 = tsv2.formatRow;
var tsvFormatValue2 = tsv2.formatValue;

// node_modules/d3-fetch/node_modules/d3-dsv/src/autoType.js
var fixtz2 = new Date("2019-01-01T00:00").getHours() || new Date("2019-07-01T00:00").getHours();

// node_modules/d3-fetch/src/text.js
function responseText(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.text();
}
function text_default4(input, init6) {
  return fetch(input, init6).then(responseText);
}

// node_modules/d3-fetch/src/dsv.js
function dsvParse(parse4) {
  return function(input, init6, row) {
    if (arguments.length === 2 && typeof init6 === "function")
      row = init6, init6 = void 0;
    return text_default4(input, init6).then(function(response) {
      return parse4(response, row);
    });
  };
}
var csv3 = dsvParse(csvParse2);
var tsv3 = dsvParse(tsvParse2);

// node_modules/d3-fetch/src/xml.js
function parser(type4) {
  return (input, init6) => text_default4(input, init6).then((text2) => new DOMParser().parseFromString(text2, type4));
}
var xml_default = parser("application/xml");
var html = parser("text/html");
var svg = parser("image/svg+xml");

// node_modules/d3-force/node_modules/d3-quadtree/src/add.js
function add_default(d) {
  const x7 = +this._x.call(null, d), y7 = +this._y.call(null, d);
  return add(this.cover(x7, y7), x7, y7, d);
}
function add(tree, x7, y7, d) {
  if (isNaN(x7) || isNaN(y7))
    return tree;
  var parent, node2 = tree._root, leaf = { data: d }, x07 = tree._x0, y06 = tree._y0, x13 = tree._x1, y12 = tree._y1, xm, ym, xp, yp, right3, bottom3, i, j;
  if (!node2)
    return tree._root = leaf, tree;
  while (node2.length) {
    if (right3 = x7 >= (xm = (x07 + x13) / 2))
      x07 = xm;
    else
      x13 = xm;
    if (bottom3 = y7 >= (ym = (y06 + y12) / 2))
      y06 = ym;
    else
      y12 = ym;
    if (parent = node2, !(node2 = node2[i = bottom3 << 1 | right3]))
      return parent[i] = leaf, tree;
  }
  xp = +tree._x.call(null, node2.data);
  yp = +tree._y.call(null, node2.data);
  if (x7 === xp && y7 === yp)
    return leaf.next = node2, parent ? parent[i] = leaf : tree._root = leaf, tree;
  do {
    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);
    if (right3 = x7 >= (xm = (x07 + x13) / 2))
      x07 = xm;
    else
      x13 = xm;
    if (bottom3 = y7 >= (ym = (y06 + y12) / 2))
      y06 = ym;
    else
      y12 = ym;
  } while ((i = bottom3 << 1 | right3) === (j = (yp >= ym) << 1 | xp >= xm));
  return parent[j] = node2, parent[i] = leaf, tree;
}
function addAll(data) {
  var d, i, n = data.length, x7, y7, xz = new Array(n), yz = new Array(n), x07 = Infinity, y06 = Infinity, x13 = -Infinity, y12 = -Infinity;
  for (i = 0; i < n; ++i) {
    if (isNaN(x7 = +this._x.call(null, d = data[i])) || isNaN(y7 = +this._y.call(null, d)))
      continue;
    xz[i] = x7;
    yz[i] = y7;
    if (x7 < x07)
      x07 = x7;
    if (x7 > x13)
      x13 = x7;
    if (y7 < y06)
      y06 = y7;
    if (y7 > y12)
      y12 = y7;
  }
  if (x07 > x13 || y06 > y12)
    return this;
  this.cover(x07, y06).cover(x13, y12);
  for (i = 0; i < n; ++i) {
    add(this, xz[i], yz[i], data[i]);
  }
  return this;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/cover.js
function cover_default(x7, y7) {
  if (isNaN(x7 = +x7) || isNaN(y7 = +y7))
    return this;
  var x07 = this._x0, y06 = this._y0, x13 = this._x1, y12 = this._y1;
  if (isNaN(x07)) {
    x13 = (x07 = Math.floor(x7)) + 1;
    y12 = (y06 = Math.floor(y7)) + 1;
  } else {
    var z = x13 - x07 || 1, node2 = this._root, parent, i;
    while (x07 > x7 || x7 >= x13 || y06 > y7 || y7 >= y12) {
      i = (y7 < y06) << 1 | x7 < x07;
      parent = new Array(4), parent[i] = node2, node2 = parent, z *= 2;
      switch (i) {
        case 0:
          x13 = x07 + z, y12 = y06 + z;
          break;
        case 1:
          x07 = x13 - z, y12 = y06 + z;
          break;
        case 2:
          x13 = x07 + z, y06 = y12 - z;
          break;
        case 3:
          x07 = x13 - z, y06 = y12 - z;
          break;
      }
    }
    if (this._root && this._root.length)
      this._root = node2;
  }
  this._x0 = x07;
  this._y0 = y06;
  this._x1 = x13;
  this._y1 = y12;
  return this;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/data.js
function data_default3() {
  var data = [];
  this.visit(function(node2) {
    if (!node2.length)
      do
        data.push(node2.data);
      while (node2 = node2.next);
  });
  return data;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/extent.js
function extent_default(_2) {
  return arguments.length ? this.cover(+_2[0][0], +_2[0][1]).cover(+_2[1][0], +_2[1][1]) : isNaN(this._x0) ? void 0 : [[this._x0, this._y0], [this._x1, this._y1]];
}

// node_modules/d3-force/node_modules/d3-quadtree/src/quad.js
function quad_default(node2, x07, y06, x13, y12) {
  this.node = node2;
  this.x0 = x07;
  this.y0 = y06;
  this.x1 = x13;
  this.y1 = y12;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/find.js
function find_default(x7, y7, radius) {
  var data, x07 = this._x0, y06 = this._y0, x13, y12, x22, y22, x32 = this._x1, y32 = this._y1, quads = [], node2 = this._root, q, i;
  if (node2)
    quads.push(new quad_default(node2, x07, y06, x32, y32));
  if (radius == null)
    radius = Infinity;
  else {
    x07 = x7 - radius, y06 = y7 - radius;
    x32 = x7 + radius, y32 = y7 + radius;
    radius *= radius;
  }
  while (q = quads.pop()) {
    if (!(node2 = q.node) || (x13 = q.x0) > x32 || (y12 = q.y0) > y32 || (x22 = q.x1) < x07 || (y22 = q.y1) < y06)
      continue;
    if (node2.length) {
      var xm = (x13 + x22) / 2, ym = (y12 + y22) / 2;
      quads.push(
        new quad_default(node2[3], xm, ym, x22, y22),
        new quad_default(node2[2], x13, ym, xm, y22),
        new quad_default(node2[1], xm, y12, x22, ym),
        new quad_default(node2[0], x13, y12, xm, ym)
      );
      if (i = (y7 >= ym) << 1 | x7 >= xm) {
        q = quads[quads.length - 1];
        quads[quads.length - 1] = quads[quads.length - 1 - i];
        quads[quads.length - 1 - i] = q;
      }
    } else {
      var dx = x7 - +this._x.call(null, node2.data), dy = y7 - +this._y.call(null, node2.data), d2 = dx * dx + dy * dy;
      if (d2 < radius) {
        var d = Math.sqrt(radius = d2);
        x07 = x7 - d, y06 = y7 - d;
        x32 = x7 + d, y32 = y7 + d;
        data = node2.data;
      }
    }
  }
  return data;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/remove.js
function remove_default4(d) {
  if (isNaN(x7 = +this._x.call(null, d)) || isNaN(y7 = +this._y.call(null, d)))
    return this;
  var parent, node2 = this._root, retainer, previous, next2, x07 = this._x0, y06 = this._y0, x13 = this._x1, y12 = this._y1, x7, y7, xm, ym, right3, bottom3, i, j;
  if (!node2)
    return this;
  if (node2.length)
    while (true) {
      if (right3 = x7 >= (xm = (x07 + x13) / 2))
        x07 = xm;
      else
        x13 = xm;
      if (bottom3 = y7 >= (ym = (y06 + y12) / 2))
        y06 = ym;
      else
        y12 = ym;
      if (!(parent = node2, node2 = node2[i = bottom3 << 1 | right3]))
        return this;
      if (!node2.length)
        break;
      if (parent[i + 1 & 3] || parent[i + 2 & 3] || parent[i + 3 & 3])
        retainer = parent, j = i;
    }
  while (node2.data !== d)
    if (!(previous = node2, node2 = node2.next))
      return this;
  if (next2 = node2.next)
    delete node2.next;
  if (previous)
    return next2 ? previous.next = next2 : delete previous.next, this;
  if (!parent)
    return this._root = next2, this;
  next2 ? parent[i] = next2 : delete parent[i];
  if ((node2 = parent[0] || parent[1] || parent[2] || parent[3]) && node2 === (parent[3] || parent[2] || parent[1] || parent[0]) && !node2.length) {
    if (retainer)
      retainer[j] = node2;
    else
      this._root = node2;
  }
  return this;
}
function removeAll(data) {
  for (var i = 0, n = data.length; i < n; ++i)
    this.remove(data[i]);
  return this;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/root.js
function root_default() {
  return this._root;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/size.js
function size_default3() {
  var size = 0;
  this.visit(function(node2) {
    if (!node2.length)
      do
        ++size;
      while (node2 = node2.next);
  });
  return size;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/visit.js
function visit_default(callback) {
  var quads = [], q, node2 = this._root, child, x07, y06, x13, y12;
  if (node2)
    quads.push(new quad_default(node2, this._x0, this._y0, this._x1, this._y1));
  while (q = quads.pop()) {
    if (!callback(node2 = q.node, x07 = q.x0, y06 = q.y0, x13 = q.x1, y12 = q.y1) && node2.length) {
      var xm = (x07 + x13) / 2, ym = (y06 + y12) / 2;
      if (child = node2[3])
        quads.push(new quad_default(child, xm, ym, x13, y12));
      if (child = node2[2])
        quads.push(new quad_default(child, x07, ym, xm, y12));
      if (child = node2[1])
        quads.push(new quad_default(child, xm, y06, x13, ym));
      if (child = node2[0])
        quads.push(new quad_default(child, x07, y06, xm, ym));
    }
  }
  return this;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/visitAfter.js
function visitAfter_default(callback) {
  var quads = [], next2 = [], q;
  if (this._root)
    quads.push(new quad_default(this._root, this._x0, this._y0, this._x1, this._y1));
  while (q = quads.pop()) {
    var node2 = q.node;
    if (node2.length) {
      var child, x07 = q.x0, y06 = q.y0, x13 = q.x1, y12 = q.y1, xm = (x07 + x13) / 2, ym = (y06 + y12) / 2;
      if (child = node2[0])
        quads.push(new quad_default(child, x07, y06, xm, ym));
      if (child = node2[1])
        quads.push(new quad_default(child, xm, y06, x13, ym));
      if (child = node2[2])
        quads.push(new quad_default(child, x07, ym, xm, y12));
      if (child = node2[3])
        quads.push(new quad_default(child, xm, ym, x13, y12));
    }
    next2.push(q);
  }
  while (q = next2.pop()) {
    callback(q.node, q.x0, q.y0, q.x1, q.y1);
  }
  return this;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/x.js
function defaultX(d) {
  return d[0];
}
function x_default(_2) {
  return arguments.length ? (this._x = _2, this) : this._x;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/y.js
function defaultY(d) {
  return d[1];
}
function y_default(_2) {
  return arguments.length ? (this._y = _2, this) : this._y;
}

// node_modules/d3-force/node_modules/d3-quadtree/src/quadtree.js
function quadtree(nodes, x7, y7) {
  var tree = new Quadtree(x7 == null ? defaultX : x7, y7 == null ? defaultY : y7, NaN, NaN, NaN, NaN);
  return nodes == null ? tree : tree.addAll(nodes);
}
function Quadtree(x7, y7, x07, y06, x13, y12) {
  this._x = x7;
  this._y = y7;
  this._x0 = x07;
  this._y0 = y06;
  this._x1 = x13;
  this._y1 = y12;
  this._root = void 0;
}
function leaf_copy(leaf) {
  var copy7 = { data: leaf.data }, next2 = copy7;
  while (leaf = leaf.next)
    next2 = next2.next = { data: leaf.data };
  return copy7;
}
var treeProto = quadtree.prototype = Quadtree.prototype;
treeProto.copy = function() {
  var copy7 = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1), node2 = this._root, nodes, child;
  if (!node2)
    return copy7;
  if (!node2.length)
    return copy7._root = leaf_copy(node2), copy7;
  nodes = [{ source: node2, target: copy7._root = new Array(4) }];
  while (node2 = nodes.pop()) {
    for (var i = 0; i < 4; ++i) {
      if (child = node2.source[i]) {
        if (child.length)
          nodes.push({ source: child, target: node2.target[i] = new Array(4) });
        else
          node2.target[i] = leaf_copy(child);
      }
    }
  }
  return copy7;
};
treeProto.add = add_default;
treeProto.addAll = addAll;
treeProto.cover = cover_default;
treeProto.data = data_default3;
treeProto.extent = extent_default;
treeProto.find = find_default;
treeProto.remove = remove_default4;
treeProto.removeAll = removeAll;
treeProto.root = root_default;
treeProto.size = size_default3;
treeProto.visit = visit_default;
treeProto.visitAfter = visitAfter_default;
treeProto.x = x_default;
treeProto.y = y_default;

// node_modules/d3-force/node_modules/d3-dispatch/src/dispatch.js
var noop3 = { value: () => {
} };
function dispatch3() {
  for (var i = 0, n = arguments.length, _2 = {}, t; i < n; ++i) {
    if (!(t = arguments[i] + "") || t in _2 || /[\s.]/.test(t))
      throw new Error("illegal type: " + t);
    _2[t] = [];
  }
  return new Dispatch3(_2);
}
function Dispatch3(_2) {
  this._ = _2;
}
function parseTypenames5(typenames, types2) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name2 = "", i = t.indexOf(".");
    if (i >= 0)
      name2 = t.slice(i + 1), t = t.slice(0, i);
    if (t && !types2.hasOwnProperty(t))
      throw new Error("unknown type: " + t);
    return { type: t, name: name2 };
  });
}
Dispatch3.prototype = dispatch3.prototype = {
  constructor: Dispatch3,
  on: function(typename, callback) {
    var _2 = this._, T = parseTypenames5(typename + "", _2), t, i = -1, n = T.length;
    if (arguments.length < 2) {
      while (++i < n)
        if ((t = (typename = T[i]).type) && (t = get4(_2[t], typename.name)))
          return t;
      return;
    }
    if (callback != null && typeof callback !== "function")
      throw new Error("invalid callback: " + callback);
    while (++i < n) {
      if (t = (typename = T[i]).type)
        _2[t] = set4(_2[t], typename.name, callback);
      else if (callback == null)
        for (t in _2)
          _2[t] = set4(_2[t], typename.name, null);
    }
    return this;
  },
  copy: function() {
    var copy7 = {}, _2 = this._;
    for (var t in _2)
      copy7[t] = _2[t].slice();
    return new Dispatch3(copy7);
  },
  call: function(type4, that) {
    if ((n = arguments.length - 2) > 0)
      for (var args = new Array(n), i = 0, n, t; i < n; ++i)
        args[i] = arguments[i + 2];
    if (!this._.hasOwnProperty(type4))
      throw new Error("unknown type: " + type4);
    for (t = this._[type4], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  },
  apply: function(type4, that, args) {
    if (!this._.hasOwnProperty(type4))
      throw new Error("unknown type: " + type4);
    for (var t = this._[type4], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  }
};
function get4(type4, name2) {
  for (var i = 0, n = type4.length, c7; i < n; ++i) {
    if ((c7 = type4[i]).name === name2) {
      return c7.value;
    }
  }
}
function set4(type4, name2, callback) {
  for (var i = 0, n = type4.length; i < n; ++i) {
    if (type4[i].name === name2) {
      type4[i] = noop3, type4 = type4.slice(0, i).concat(type4.slice(i + 1));
      break;
    }
  }
  if (callback != null)
    type4.push({ name: name2, value: callback });
  return type4;
}

// node_modules/d3-force/node_modules/d3-timer/src/timer.js
var frame2 = 0;
var timeout2 = 0;
var interval2 = 0;
var pokeDelay2 = 1e3;
var taskHead2;
var taskTail2;
var clockLast2 = 0;
var clockNow2 = 0;
var clockSkew2 = 0;
var clock2 = typeof performance === "object" && performance.now ? performance : Date;
var setFrame2 = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f2) {
  setTimeout(f2, 17);
};
function now2() {
  return clockNow2 || (setFrame2(clearNow2), clockNow2 = clock2.now() + clockSkew2);
}
function clearNow2() {
  clockNow2 = 0;
}
function Timer2() {
  this._call = this._time = this._next = null;
}
Timer2.prototype = timer2.prototype = {
  constructor: Timer2,
  restart: function(callback, delay, time2) {
    if (typeof callback !== "function")
      throw new TypeError("callback is not a function");
    time2 = (time2 == null ? now2() : +time2) + (delay == null ? 0 : +delay);
    if (!this._next && taskTail2 !== this) {
      if (taskTail2)
        taskTail2._next = this;
      else
        taskHead2 = this;
      taskTail2 = this;
    }
    this._call = callback;
    this._time = time2;
    sleep2();
  },
  stop: function() {
    if (this._call) {
      this._call = null;
      this._time = Infinity;
      sleep2();
    }
  }
};
function timer2(callback, delay, time2) {
  var t = new Timer2();
  t.restart(callback, delay, time2);
  return t;
}
function timerFlush2() {
  now2();
  ++frame2;
  var t = taskHead2, e;
  while (t) {
    if ((e = clockNow2 - t._time) >= 0)
      t._call.call(void 0, e);
    t = t._next;
  }
  --frame2;
}
function wake2() {
  clockNow2 = (clockLast2 = clock2.now()) + clockSkew2;
  frame2 = timeout2 = 0;
  try {
    timerFlush2();
  } finally {
    frame2 = 0;
    nap2();
    clockNow2 = 0;
  }
}
function poke2() {
  var now6 = clock2.now(), delay = now6 - clockLast2;
  if (delay > pokeDelay2)
    clockSkew2 -= delay, clockLast2 = now6;
}
function nap2() {
  var t010, t110 = taskHead2, t27, time2 = Infinity;
  while (t110) {
    if (t110._call) {
      if (time2 > t110._time)
        time2 = t110._time;
      t010 = t110, t110 = t110._next;
    } else {
      t27 = t110._next, t110._next = null;
      t110 = t010 ? t010._next = t27 : taskHead2 = t27;
    }
  }
  taskTail2 = t010;
  sleep2(time2);
}
function sleep2(time2) {
  if (frame2)
    return;
  if (timeout2)
    timeout2 = clearTimeout(timeout2);
  var delay = time2 - clockNow2;
  if (delay > 24) {
    if (time2 < Infinity)
      timeout2 = setTimeout(wake2, time2 - clock2.now() - clockSkew2);
    if (interval2)
      interval2 = clearInterval(interval2);
  } else {
    if (!interval2)
      clockLast2 = clock2.now(), interval2 = setInterval(poke2, pokeDelay2);
    frame2 = 1, setFrame2(wake2);
  }
}

// node_modules/d3-force/src/simulation.js
var initialAngle = Math.PI * (3 - Math.sqrt(5));

// node_modules/d3/node_modules/d3-format/src/formatDecimal.js
function formatDecimal_default(x7) {
  return Math.abs(x7 = Math.round(x7)) >= 1e21 ? x7.toLocaleString("en").replace(/,/g, "") : x7.toString(10);
}
function formatDecimalParts(x7, p) {
  if ((i = (x7 = p ? x7.toExponential(p - 1) : x7.toExponential()).indexOf("e")) < 0)
    return null;
  var i, coefficient = x7.slice(0, i);
  return [
    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,
    +x7.slice(i + 1)
  ];
}

// node_modules/d3/node_modules/d3-format/src/exponent.js
function exponent_default(x7) {
  return x7 = formatDecimalParts(Math.abs(x7)), x7 ? x7[1] : NaN;
}

// node_modules/d3/node_modules/d3-format/src/formatGroup.js
function formatGroup_default(grouping, thousands) {
  return function(value, width2) {
    var i = value.length, t = [], j = 0, g = grouping[0], length3 = 0;
    while (i > 0 && g > 0) {
      if (length3 + g + 1 > width2)
        g = Math.max(1, width2 - length3);
      t.push(value.substring(i -= g, i + g));
      if ((length3 += g + 1) > width2)
        break;
      g = grouping[j = (j + 1) % grouping.length];
    }
    return t.reverse().join(thousands);
  };
}

// node_modules/d3/node_modules/d3-format/src/formatNumerals.js
function formatNumerals_default(numerals) {
  return function(value) {
    return value.replace(/[0-9]/g, function(i) {
      return numerals[+i];
    });
  };
}

// node_modules/d3/node_modules/d3-format/src/formatSpecifier.js
var re = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function formatSpecifier(specifier) {
  if (!(match2 = re.exec(specifier)))
    throw new Error("invalid format: " + specifier);
  var match2;
  return new FormatSpecifier({
    fill: match2[1],
    align: match2[2],
    sign: match2[3],
    symbol: match2[4],
    zero: match2[5],
    width: match2[6],
    comma: match2[7],
    precision: match2[8] && match2[8].slice(1),
    trim: match2[9],
    type: match2[10]
  });
}
formatSpecifier.prototype = FormatSpecifier.prototype;
function FormatSpecifier(specifier) {
  this.fill = specifier.fill === void 0 ? " " : specifier.fill + "";
  this.align = specifier.align === void 0 ? ">" : specifier.align + "";
  this.sign = specifier.sign === void 0 ? "-" : specifier.sign + "";
  this.symbol = specifier.symbol === void 0 ? "" : specifier.symbol + "";
  this.zero = !!specifier.zero;
  this.width = specifier.width === void 0 ? void 0 : +specifier.width;
  this.comma = !!specifier.comma;
  this.precision = specifier.precision === void 0 ? void 0 : +specifier.precision;
  this.trim = !!specifier.trim;
  this.type = specifier.type === void 0 ? "" : specifier.type + "";
}
FormatSpecifier.prototype.toString = function() {
  return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma ? "," : "") + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) + (this.trim ? "~" : "") + this.type;
};

// node_modules/d3/node_modules/d3-format/src/formatTrim.js
function formatTrim_default(s3) {
  out:
    for (var n = s3.length, i = 1, i0 = -1, i1; i < n; ++i) {
      switch (s3[i]) {
        case ".":
          i0 = i1 = i;
          break;
        case "0":
          if (i0 === 0)
            i0 = i;
          i1 = i;
          break;
        default:
          if (!+s3[i])
            break out;
          if (i0 > 0)
            i0 = 0;
          break;
      }
    }
  return i0 > 0 ? s3.slice(0, i0) + s3.slice(i1 + 1) : s3;
}

// node_modules/d3/node_modules/d3-format/src/formatPrefixAuto.js
var prefixExponent;
function formatPrefixAuto_default(x7, p) {
  var d = formatDecimalParts(x7, p);
  if (!d)
    return x7 + "";
  var coefficient = d[0], exponent5 = d[1], i = exponent5 - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent5 / 3))) * 3) + 1, n = coefficient.length;
  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join("0") : i > 0 ? coefficient.slice(0, i) + "." + coefficient.slice(i) : "0." + new Array(1 - i).join("0") + formatDecimalParts(x7, Math.max(0, p + i - 1))[0];
}

// node_modules/d3/node_modules/d3-format/src/formatRounded.js
function formatRounded_default(x7, p) {
  var d = formatDecimalParts(x7, p);
  if (!d)
    return x7 + "";
  var coefficient = d[0], exponent5 = d[1];
  return exponent5 < 0 ? "0." + new Array(-exponent5).join("0") + coefficient : coefficient.length > exponent5 + 1 ? coefficient.slice(0, exponent5 + 1) + "." + coefficient.slice(exponent5 + 1) : coefficient + new Array(exponent5 - coefficient.length + 2).join("0");
}

// node_modules/d3/node_modules/d3-format/src/formatTypes.js
var formatTypes_default = {
  "%": (x7, p) => (x7 * 100).toFixed(p),
  "b": (x7) => Math.round(x7).toString(2),
  "c": (x7) => x7 + "",
  "d": formatDecimal_default,
  "e": (x7, p) => x7.toExponential(p),
  "f": (x7, p) => x7.toFixed(p),
  "g": (x7, p) => x7.toPrecision(p),
  "o": (x7) => Math.round(x7).toString(8),
  "p": (x7, p) => formatRounded_default(x7 * 100, p),
  "r": formatRounded_default,
  "s": formatPrefixAuto_default,
  "X": (x7) => Math.round(x7).toString(16).toUpperCase(),
  "x": (x7) => Math.round(x7).toString(16)
};

// node_modules/d3/node_modules/d3-format/src/identity.js
function identity_default2(x7) {
  return x7;
}

// node_modules/d3/node_modules/d3-format/src/locale.js
var map5 = Array.prototype.map;
var prefixes = ["y", "z", "a", "f", "p", "n", "\xB5", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
function locale_default(locale7) {
  var group5 = locale7.grouping === void 0 || locale7.thousands === void 0 ? identity_default2 : formatGroup_default(map5.call(locale7.grouping, Number), locale7.thousands + ""), currencyPrefix = locale7.currency === void 0 ? "" : locale7.currency[0] + "", currencySuffix = locale7.currency === void 0 ? "" : locale7.currency[1] + "", decimal = locale7.decimal === void 0 ? "." : locale7.decimal + "", numerals = locale7.numerals === void 0 ? identity_default2 : formatNumerals_default(map5.call(locale7.numerals, String)), percent = locale7.percent === void 0 ? "%" : locale7.percent + "", minus = locale7.minus === void 0 ? "\u2212" : locale7.minus + "", nan = locale7.nan === void 0 ? "NaN" : locale7.nan + "";
  function newFormat(specifier) {
    specifier = formatSpecifier(specifier);
    var fill = specifier.fill, align = specifier.align, sign5 = specifier.sign, symbol = specifier.symbol, zero10 = specifier.zero, width2 = specifier.width, comma = specifier.comma, precision = specifier.precision, trim2 = specifier.trim, type4 = specifier.type;
    if (type4 === "n")
      comma = true, type4 = "g";
    else if (!formatTypes_default[type4])
      precision === void 0 && (precision = 12), trim2 = true, type4 = "g";
    if (zero10 || fill === "0" && align === "=")
      zero10 = true, fill = "0", align = "=";
    var prefix3 = symbol === "$" ? currencyPrefix : symbol === "#" && /[boxX]/.test(type4) ? "0" + type4.toLowerCase() : "", suffix = symbol === "$" ? currencySuffix : /[%p]/.test(type4) ? percent : "";
    var formatType = formatTypes_default[type4], maybeSuffix = /[defgprs%]/.test(type4);
    precision = precision === void 0 ? 6 : /[gprs]/.test(type4) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));
    function format5(value) {
      var valuePrefix = prefix3, valueSuffix = suffix, i, n, c7;
      if (type4 === "c") {
        valueSuffix = formatType(value) + valueSuffix;
        value = "";
      } else {
        value = +value;
        var valueNegative = value < 0 || 1 / value < 0;
        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);
        if (trim2)
          value = formatTrim_default(value);
        if (valueNegative && +value === 0 && sign5 !== "+")
          valueNegative = false;
        valuePrefix = (valueNegative ? sign5 === "(" ? sign5 : minus : sign5 === "-" || sign5 === "(" ? "" : sign5) + valuePrefix;
        valueSuffix = (type4 === "s" ? prefixes[8 + prefixExponent / 3] : "") + valueSuffix + (valueNegative && sign5 === "(" ? ")" : "");
        if (maybeSuffix) {
          i = -1, n = value.length;
          while (++i < n) {
            if (c7 = value.charCodeAt(i), 48 > c7 || c7 > 57) {
              valueSuffix = (c7 === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;
              value = value.slice(0, i);
              break;
            }
          }
        }
      }
      if (comma && !zero10)
        value = group5(value, Infinity);
      var length3 = valuePrefix.length + value.length + valueSuffix.length, padding2 = length3 < width2 ? new Array(width2 - length3 + 1).join(fill) : "";
      if (comma && zero10)
        value = group5(padding2 + value, padding2.length ? width2 - valueSuffix.length : Infinity), padding2 = "";
      switch (align) {
        case "<":
          value = valuePrefix + value + valueSuffix + padding2;
          break;
        case "=":
          value = valuePrefix + padding2 + value + valueSuffix;
          break;
        case "^":
          value = padding2.slice(0, length3 = padding2.length >> 1) + valuePrefix + value + valueSuffix + padding2.slice(length3);
          break;
        default:
          value = padding2 + valuePrefix + value + valueSuffix;
          break;
      }
      return numerals(value);
    }
    format5.toString = function() {
      return specifier + "";
    };
    return format5;
  }
  function formatPrefix4(specifier, value) {
    var f2 = newFormat((specifier = formatSpecifier(specifier), specifier.type = "f", specifier)), e = Math.max(-8, Math.min(8, Math.floor(exponent_default(value) / 3))) * 3, k3 = Math.pow(10, -e), prefix3 = prefixes[8 + e / 3];
    return function(value2) {
      return f2(k3 * value2) + prefix3;
    };
  }
  return {
    format: newFormat,
    formatPrefix: formatPrefix4
  };
}

// node_modules/d3/node_modules/d3-format/src/defaultLocale.js
var locale;
var format;
var formatPrefix;
defaultLocale({
  thousands: ",",
  grouping: [3],
  currency: ["$", ""]
});
function defaultLocale(definition) {
  locale = locale_default(definition);
  format = locale.format;
  formatPrefix = locale.formatPrefix;
  return locale;
}

// node_modules/d3-geo/node_modules/d3-array/src/ascending.js
function ascending5(a3, b) {
  return a3 == null || b == null ? NaN : a3 < b ? -1 : a3 > b ? 1 : a3 >= b ? 0 : NaN;
}

// node_modules/d3-geo/node_modules/d3-array/src/descending.js
function descending3(a3, b) {
  return a3 == null || b == null ? NaN : b < a3 ? -1 : b > a3 ? 1 : b >= a3 ? 0 : NaN;
}

// node_modules/d3-geo/node_modules/d3-array/src/bisector.js
function bisector3(f2) {
  let compare1, compare2, delta;
  if (f2.length !== 2) {
    compare1 = ascending5;
    compare2 = (d, x7) => ascending5(f2(d), x7);
    delta = (d, x7) => f2(d) - x7;
  } else {
    compare1 = f2 === ascending5 || f2 === descending3 ? f2 : zero4;
    compare2 = f2;
    delta = f2;
  }
  function left3(a3, x7, lo = 0, hi = a3.length) {
    if (lo < hi) {
      if (compare1(x7, x7) !== 0)
        return hi;
      do {
        const mid = lo + hi >>> 1;
        if (compare2(a3[mid], x7) < 0)
          lo = mid + 1;
        else
          hi = mid;
      } while (lo < hi);
    }
    return lo;
  }
  function right3(a3, x7, lo = 0, hi = a3.length) {
    if (lo < hi) {
      if (compare1(x7, x7) !== 0)
        return hi;
      do {
        const mid = lo + hi >>> 1;
        if (compare2(a3[mid], x7) <= 0)
          lo = mid + 1;
        else
          hi = mid;
      } while (lo < hi);
    }
    return lo;
  }
  function center3(a3, x7, lo = 0, hi = a3.length) {
    const i = left3(a3, x7, lo, hi - 1);
    return i > lo && delta(a3[i - 1], x7) > -delta(a3[i], x7) ? i - 1 : i;
  }
  return { left: left3, center: center3, right: right3 };
}
function zero4() {
  return 0;
}

// node_modules/d3-geo/node_modules/d3-array/src/number.js
function number4(x7) {
  return x7 === null ? NaN : +x7;
}

// node_modules/d3-geo/node_modules/d3-array/src/bisect.js
var ascendingBisect3 = bisector3(ascending5);
var bisectRight3 = ascendingBisect3.right;
var bisectLeft3 = ascendingBisect3.left;
var bisectCenter3 = bisector3(number4).center;

// node_modules/d3-geo/node_modules/d3-array/src/blur.js
var blur23 = Blur23(blurf3);
var blurImage3 = Blur23(blurfImage3);
function Blur23(blur6) {
  return function(data, rx, ry = rx) {
    if (!((rx = +rx) >= 0))
      throw new RangeError("invalid rx");
    if (!((ry = +ry) >= 0))
      throw new RangeError("invalid ry");
    let { data: values, width: width2, height: height2 } = data;
    if (!((width2 = Math.floor(width2)) >= 0))
      throw new RangeError("invalid width");
    if (!((height2 = Math.floor(height2 !== void 0 ? height2 : values.length / width2)) >= 0))
      throw new RangeError("invalid height");
    if (!width2 || !height2 || !rx && !ry)
      return data;
    const blurx = rx && blur6(rx);
    const blury = ry && blur6(ry);
    const temp2 = values.slice();
    if (blurx && blury) {
      blurh3(blurx, temp2, values, width2, height2);
      blurh3(blurx, values, temp2, width2, height2);
      blurh3(blurx, temp2, values, width2, height2);
      blurv3(blury, values, temp2, width2, height2);
      blurv3(blury, temp2, values, width2, height2);
      blurv3(blury, values, temp2, width2, height2);
    } else if (blurx) {
      blurh3(blurx, values, temp2, width2, height2);
      blurh3(blurx, temp2, values, width2, height2);
      blurh3(blurx, values, temp2, width2, height2);
    } else if (blury) {
      blurv3(blury, values, temp2, width2, height2);
      blurv3(blury, temp2, values, width2, height2);
      blurv3(blury, values, temp2, width2, height2);
    }
    return data;
  };
}
function blurh3(blur6, T, S, w2, h) {
  for (let y7 = 0, n = w2 * h; y7 < n; ) {
    blur6(T, S, y7, y7 += w2, 1);
  }
}
function blurv3(blur6, T, S, w2, h) {
  for (let x7 = 0, n = w2 * h; x7 < w2; ++x7) {
    blur6(T, S, x7, x7 + n, w2);
  }
}
function blurfImage3(radius) {
  const blur6 = blurf3(radius);
  return (T, S, start6, stop, step) => {
    start6 <<= 2, stop <<= 2, step <<= 2;
    blur6(T, S, start6 + 0, stop + 0, step);
    blur6(T, S, start6 + 1, stop + 1, step);
    blur6(T, S, start6 + 2, stop + 2, step);
    blur6(T, S, start6 + 3, stop + 3, step);
  };
}
function blurf3(radius) {
  const radius0 = Math.floor(radius);
  if (radius0 === radius)
    return bluri3(radius);
  const t = radius - radius0;
  const w2 = 2 * radius + 1;
  return (T, S, start6, stop, step) => {
    if (!((stop -= step) >= start6))
      return;
    let sum9 = radius0 * S[start6];
    const s0 = step * radius0;
    const s1 = s0 + step;
    for (let i = start6, j = start6 + s0; i < j; i += step) {
      sum9 += S[Math.min(stop, i)];
    }
    for (let i = start6, j = stop; i <= j; i += step) {
      sum9 += S[Math.min(stop, i + s0)];
      T[i] = (sum9 + t * (S[Math.max(start6, i - s1)] + S[Math.min(stop, i + s1)])) / w2;
      sum9 -= S[Math.max(start6, i - s0)];
    }
  };
}
function bluri3(radius) {
  const w2 = 2 * radius + 1;
  return (T, S, start6, stop, step) => {
    if (!((stop -= step) >= start6))
      return;
    let sum9 = radius * S[start6];
    const s3 = step * radius;
    for (let i = start6, j = start6 + s3; i < j; i += step) {
      sum9 += S[Math.min(stop, i)];
    }
    for (let i = start6, j = stop; i <= j; i += step) {
      sum9 += S[Math.min(stop, i + s3)];
      T[i] = sum9 / w2;
      sum9 -= S[Math.max(start6, i - s3)];
    }
  };
}

// node_modules/d3-geo/node_modules/d3-array/src/fsum.js
var Adder3 = class {
  constructor() {
    this._partials = new Float64Array(32);
    this._n = 0;
  }
  add(x7) {
    const p = this._partials;
    let i = 0;
    for (let j = 0; j < this._n && j < 32; j++) {
      const y7 = p[j], hi = x7 + y7, lo = Math.abs(x7) < Math.abs(y7) ? x7 - (hi - y7) : y7 - (hi - x7);
      if (lo)
        p[i++] = lo;
      x7 = hi;
    }
    p[i] = x7;
    this._n = i + 1;
    return this;
  }
  valueOf() {
    const p = this._partials;
    let n = this._n, x7, y7, lo, hi = 0;
    if (n > 0) {
      hi = p[--n];
      while (n > 0) {
        x7 = hi;
        y7 = p[--n];
        hi = x7 + y7;
        lo = y7 - (hi - x7);
        if (lo)
          break;
      }
      if (n > 0 && (lo < 0 && p[n - 1] < 0 || lo > 0 && p[n - 1] > 0)) {
        y7 = lo * 2;
        x7 = hi + y7;
        if (y7 == x7 - hi)
          hi = x7;
      }
    }
    return hi;
  }
};

// node_modules/d3-geo/node_modules/d3-array/src/array.js
var array6 = Array.prototype;
var slice5 = array6.slice;
var map6 = array6.map;

// node_modules/d3-geo/node_modules/d3-array/src/ticks.js
var e103 = Math.sqrt(50);
var e53 = Math.sqrt(10);
var e23 = Math.sqrt(2);

// node_modules/d3-geo/node_modules/d3-array/src/merge.js
function* flatten(arrays) {
  for (const array12 of arrays) {
    yield* array12;
  }
}
function merge3(arrays) {
  return Array.from(flatten(arrays));
}

// node_modules/d3-geo/node_modules/d3-array/src/shuffle.js
var shuffle_default3 = shuffler3(Math.random);
function shuffler3(random2) {
  return function shuffle3(array12, i0 = 0, i1 = array12.length) {
    let m = i1 - (i0 = +i0);
    while (m) {
      const i = random2() * m-- | 0, t = array12[m + i0];
      array12[m + i0] = array12[i + i0];
      array12[i + i0] = t;
    }
    return array12;
  };
}

// node_modules/d3-geo/src/math.js
var epsilon6 = 1e-6;
var epsilon22 = 1e-12;
var pi5 = Math.PI;
var halfPi4 = pi5 / 2;
var quarterPi = pi5 / 4;
var tau6 = pi5 * 2;
var degrees4 = 180 / pi5;
var radians3 = pi5 / 180;
var abs3 = Math.abs;
var atan = Math.atan;
var atan2 = Math.atan2;
var cos2 = Math.cos;
var exp = Math.exp;
var log = Math.log;
var sin2 = Math.sin;
var sign = Math.sign || function(x7) {
  return x7 > 0 ? 1 : x7 < 0 ? -1 : 0;
};
var sqrt = Math.sqrt;
var tan = Math.tan;
function acos(x7) {
  return x7 > 1 ? 0 : x7 < -1 ? pi5 : Math.acos(x7);
}
function asin(x7) {
  return x7 > 1 ? halfPi4 : x7 < -1 ? -halfPi4 : Math.asin(x7);
}

// node_modules/d3-geo/src/noop.js
function noop4() {
}

// node_modules/d3-geo/src/area.js
var areaRingSum = new Adder3();
var areaSum = new Adder3();

// node_modules/d3-geo/src/cartesian.js
function cartesian(spherical3) {
  var lambda = spherical3[0], phi3 = spherical3[1], cosPhi = cos2(phi3);
  return [cosPhi * cos2(lambda), cosPhi * sin2(lambda), sin2(phi3)];
}
function cartesianCross(a3, b) {
  return [a3[1] * b[2] - a3[2] * b[1], a3[2] * b[0] - a3[0] * b[2], a3[0] * b[1] - a3[1] * b[0]];
}
function cartesianNormalizeInPlace(d) {
  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);
  d[0] /= l, d[1] /= l, d[2] /= l;
}

// node_modules/d3-geo/src/rotation.js
function rotationIdentity(lambda, phi3) {
  return [abs3(lambda) > pi5 ? lambda + Math.round(-lambda / tau6) * tau6 : lambda, phi3];
}
rotationIdentity.invert = rotationIdentity;

// node_modules/d3-geo/src/clip/buffer.js
function buffer_default2() {
  var lines = [], line2;
  return {
    point: function(x7, y7, m) {
      line2.push([x7, y7, m]);
    },
    lineStart: function() {
      lines.push(line2 = []);
    },
    lineEnd: noop4,
    rejoin: function() {
      if (lines.length > 1)
        lines.push(lines.pop().concat(lines.shift()));
    },
    result: function() {
      var result = lines;
      lines = [];
      line2 = null;
      return result;
    }
  };
}

// node_modules/d3-geo/src/pointEqual.js
function pointEqual_default(a3, b) {
  return abs3(a3[0] - b[0]) < epsilon6 && abs3(a3[1] - b[1]) < epsilon6;
}

// node_modules/d3-geo/src/clip/rejoin.js
function Intersection(point12, points, other, entry) {
  this.x = point12;
  this.z = points;
  this.o = other;
  this.e = entry;
  this.v = false;
  this.n = this.p = null;
}
function rejoin_default(segments, compareIntersection3, startInside, interpolate, stream) {
  var subject = [], clip = [], i, n;
  segments.forEach(function(segment) {
    if ((n2 = segment.length - 1) <= 0)
      return;
    var n2, p02 = segment[0], p1 = segment[n2], x7;
    if (pointEqual_default(p02, p1)) {
      if (!p02[2] && !p1[2]) {
        stream.lineStart();
        for (i = 0; i < n2; ++i)
          stream.point((p02 = segment[i])[0], p02[1]);
        stream.lineEnd();
        return;
      }
      p1[0] += 2 * epsilon6;
    }
    subject.push(x7 = new Intersection(p02, segment, null, true));
    clip.push(x7.o = new Intersection(p02, null, x7, false));
    subject.push(x7 = new Intersection(p1, segment, null, false));
    clip.push(x7.o = new Intersection(p1, null, x7, true));
  });
  if (!subject.length)
    return;
  clip.sort(compareIntersection3);
  link(subject);
  link(clip);
  for (i = 0, n = clip.length; i < n; ++i) {
    clip[i].e = startInside = !startInside;
  }
  var start6 = subject[0], points, point12;
  while (1) {
    var current = start6, isSubject = true;
    while (current.v)
      if ((current = current.n) === start6)
        return;
    points = current.z;
    stream.lineStart();
    do {
      current.v = current.o.v = true;
      if (current.e) {
        if (isSubject) {
          for (i = 0, n = points.length; i < n; ++i)
            stream.point((point12 = points[i])[0], point12[1]);
        } else {
          interpolate(current.x, current.n.x, 1, stream);
        }
        current = current.n;
      } else {
        if (isSubject) {
          points = current.p.z;
          for (i = points.length - 1; i >= 0; --i)
            stream.point((point12 = points[i])[0], point12[1]);
        } else {
          interpolate(current.x, current.p.x, -1, stream);
        }
        current = current.p;
      }
      current = current.o;
      points = current.z;
      isSubject = !isSubject;
    } while (!current.v);
    stream.lineEnd();
  }
}
function link(array12) {
  if (!(n = array12.length))
    return;
  var n, i = 0, a3 = array12[0], b;
  while (++i < n) {
    a3.n = b = array12[i];
    b.p = a3;
    a3 = b;
  }
  a3.n = b = array12[0];
  b.p = a3;
}

// node_modules/d3-geo/src/polygonContains.js
function longitude(point12) {
  return abs3(point12[0]) <= pi5 ? point12[0] : sign(point12[0]) * ((abs3(point12[0]) + pi5) % tau6 - pi5);
}
function polygonContains_default(polygon, point12) {
  var lambda = longitude(point12), phi3 = point12[1], sinPhi = sin2(phi3), normal = [sin2(lambda), -cos2(lambda), 0], angle2 = 0, winding = 0;
  var sum9 = new Adder3();
  if (sinPhi === 1)
    phi3 = halfPi4 + epsilon6;
  else if (sinPhi === -1)
    phi3 = -halfPi4 - epsilon6;
  for (var i = 0, n = polygon.length; i < n; ++i) {
    if (!(m = (ring = polygon[i]).length))
      continue;
    var ring, m, point0 = ring[m - 1], lambda04 = longitude(point0), phi02 = point0[1] / 2 + quarterPi, sinPhi03 = sin2(phi02), cosPhi03 = cos2(phi02);
    for (var j = 0; j < m; ++j, lambda04 = lambda12, sinPhi03 = sinPhi1, cosPhi03 = cosPhi1, point0 = point1) {
      var point1 = ring[j], lambda12 = longitude(point1), phi12 = point1[1] / 2 + quarterPi, sinPhi1 = sin2(phi12), cosPhi1 = cos2(phi12), delta = lambda12 - lambda04, sign5 = delta >= 0 ? 1 : -1, absDelta = sign5 * delta, antimeridian = absDelta > pi5, k3 = sinPhi03 * sinPhi1;
      sum9.add(atan2(k3 * sign5 * sin2(absDelta), cosPhi03 * cosPhi1 + k3 * cos2(absDelta)));
      angle2 += antimeridian ? delta + sign5 * tau6 : delta;
      if (antimeridian ^ lambda04 >= lambda ^ lambda12 >= lambda) {
        var arc = cartesianCross(cartesian(point0), cartesian(point1));
        cartesianNormalizeInPlace(arc);
        var intersection6 = cartesianCross(normal, arc);
        cartesianNormalizeInPlace(intersection6);
        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection6[2]);
        if (phi3 > phiArc || phi3 === phiArc && (arc[0] || arc[1])) {
          winding += antimeridian ^ delta >= 0 ? 1 : -1;
        }
      }
    }
  }
  return (angle2 < -epsilon6 || angle2 < epsilon6 && sum9 < -epsilon22) ^ winding & 1;
}

// node_modules/d3-geo/src/clip/index.js
function clip_default(pointVisible, clipLine, interpolate, start6) {
  return function(sink) {
    var line2 = clipLine(sink), ringBuffer = buffer_default2(), ringSink = clipLine(ringBuffer), polygonStarted = false, polygon, segments, ring;
    var clip = {
      point: point12,
      lineStart,
      lineEnd,
      polygonStart: function() {
        clip.point = pointRing;
        clip.lineStart = ringStart;
        clip.lineEnd = ringEnd;
        segments = [];
        polygon = [];
      },
      polygonEnd: function() {
        clip.point = point12;
        clip.lineStart = lineStart;
        clip.lineEnd = lineEnd;
        segments = merge3(segments);
        var startInside = polygonContains_default(polygon, start6);
        if (segments.length) {
          if (!polygonStarted)
            sink.polygonStart(), polygonStarted = true;
          rejoin_default(segments, compareIntersection, startInside, interpolate, sink);
        } else if (startInside) {
          if (!polygonStarted)
            sink.polygonStart(), polygonStarted = true;
          sink.lineStart();
          interpolate(null, null, 1, sink);
          sink.lineEnd();
        }
        if (polygonStarted)
          sink.polygonEnd(), polygonStarted = false;
        segments = polygon = null;
      },
      sphere: function() {
        sink.polygonStart();
        sink.lineStart();
        interpolate(null, null, 1, sink);
        sink.lineEnd();
        sink.polygonEnd();
      }
    };
    function point12(lambda, phi3) {
      if (pointVisible(lambda, phi3))
        sink.point(lambda, phi3);
    }
    function pointLine(lambda, phi3) {
      line2.point(lambda, phi3);
    }
    function lineStart() {
      clip.point = pointLine;
      line2.lineStart();
    }
    function lineEnd() {
      clip.point = point12;
      line2.lineEnd();
    }
    function pointRing(lambda, phi3) {
      ring.push([lambda, phi3]);
      ringSink.point(lambda, phi3);
    }
    function ringStart() {
      ringSink.lineStart();
      ring = [];
    }
    function ringEnd() {
      pointRing(ring[0][0], ring[0][1]);
      ringSink.lineEnd();
      var clean = ringSink.clean(), ringSegments = ringBuffer.result(), i, n = ringSegments.length, m, segment, point13;
      ring.pop();
      polygon.push(ring);
      ring = null;
      if (!n)
        return;
      if (clean & 1) {
        segment = ringSegments[0];
        if ((m = segment.length - 1) > 0) {
          if (!polygonStarted)
            sink.polygonStart(), polygonStarted = true;
          sink.lineStart();
          for (i = 0; i < m; ++i)
            sink.point((point13 = segment[i])[0], point13[1]);
          sink.lineEnd();
        }
        return;
      }
      if (n > 1 && clean & 2)
        ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));
      segments.push(ringSegments.filter(validSegment));
    }
    return clip;
  };
}
function validSegment(segment) {
  return segment.length > 1;
}
function compareIntersection(a3, b) {
  return ((a3 = a3.x)[0] < 0 ? a3[1] - halfPi4 - epsilon6 : halfPi4 - a3[1]) - ((b = b.x)[0] < 0 ? b[1] - halfPi4 - epsilon6 : halfPi4 - b[1]);
}

// node_modules/d3-geo/src/clip/antimeridian.js
var antimeridian_default = clip_default(
  function() {
    return true;
  },
  clipAntimeridianLine,
  clipAntimeridianInterpolate,
  [-pi5, -halfPi4]
);
function clipAntimeridianLine(stream) {
  var lambda04 = NaN, phi02 = NaN, sign0 = NaN, clean;
  return {
    lineStart: function() {
      stream.lineStart();
      clean = 1;
    },
    point: function(lambda12, phi12) {
      var sign1 = lambda12 > 0 ? pi5 : -pi5, delta = abs3(lambda12 - lambda04);
      if (abs3(delta - pi5) < epsilon6) {
        stream.point(lambda04, phi02 = (phi02 + phi12) / 2 > 0 ? halfPi4 : -halfPi4);
        stream.point(sign0, phi02);
        stream.lineEnd();
        stream.lineStart();
        stream.point(sign1, phi02);
        stream.point(lambda12, phi02);
        clean = 0;
      } else if (sign0 !== sign1 && delta >= pi5) {
        if (abs3(lambda04 - sign0) < epsilon6)
          lambda04 -= sign0 * epsilon6;
        if (abs3(lambda12 - sign1) < epsilon6)
          lambda12 -= sign1 * epsilon6;
        phi02 = clipAntimeridianIntersect(lambda04, phi02, lambda12, phi12);
        stream.point(sign0, phi02);
        stream.lineEnd();
        stream.lineStart();
        stream.point(sign1, phi02);
        clean = 0;
      }
      stream.point(lambda04 = lambda12, phi02 = phi12);
      sign0 = sign1;
    },
    lineEnd: function() {
      stream.lineEnd();
      lambda04 = phi02 = NaN;
    },
    clean: function() {
      return 2 - clean;
    }
  };
}
function clipAntimeridianIntersect(lambda04, phi02, lambda12, phi12) {
  var cosPhi03, cosPhi1, sinLambda0Lambda1 = sin2(lambda04 - lambda12);
  return abs3(sinLambda0Lambda1) > epsilon6 ? atan((sin2(phi02) * (cosPhi1 = cos2(phi12)) * sin2(lambda12) - sin2(phi12) * (cosPhi03 = cos2(phi02)) * sin2(lambda04)) / (cosPhi03 * cosPhi1 * sinLambda0Lambda1)) : (phi02 + phi12) / 2;
}
function clipAntimeridianInterpolate(from2, to, direction2, stream) {
  var phi3;
  if (from2 == null) {
    phi3 = direction2 * halfPi4;
    stream.point(-pi5, phi3);
    stream.point(0, phi3);
    stream.point(pi5, phi3);
    stream.point(pi5, 0);
    stream.point(pi5, -phi3);
    stream.point(0, -phi3);
    stream.point(-pi5, -phi3);
    stream.point(-pi5, 0);
    stream.point(-pi5, phi3);
  } else if (abs3(from2[0] - to[0]) > epsilon6) {
    var lambda = from2[0] < to[0] ? pi5 : -pi5;
    phi3 = direction2 * lambda / 2;
    stream.point(-lambda, phi3);
    stream.point(0, phi3);
    stream.point(lambda, phi3);
  } else {
    stream.point(to[0], to[1]);
  }
}

// node_modules/d3-geo/src/clip/rectangle.js
var clipMax = 1e9;
var clipMin = -clipMax;

// node_modules/d3-geo/src/path/area.js
var areaSum2 = new Adder3();
var areaRingSum2 = new Adder3();

// node_modules/d3-geo/src/path/bounds.js
var x0 = Infinity;
var x1 = -x0;

// node_modules/d3-geo/src/path/context.js
function PathContext(context) {
  this._context = context;
}
PathContext.prototype = {
  _radius: 4.5,
  pointRadius: function(_2) {
    return this._radius = _2, this;
  },
  polygonStart: function() {
    this._line = 0;
  },
  polygonEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line === 0)
      this._context.closePath();
    this._point = NaN;
  },
  point: function(x7, y7) {
    switch (this._point) {
      case 0: {
        this._context.moveTo(x7, y7);
        this._point = 1;
        break;
      }
      case 1: {
        this._context.lineTo(x7, y7);
        break;
      }
      default: {
        this._context.moveTo(x7 + this._radius, y7);
        this._context.arc(x7, y7, this._radius, 0, tau6);
        break;
      }
    }
  },
  result: noop4
};

// node_modules/d3-geo/src/path/measure.js
var lengthSum = new Adder3();

// node_modules/d3-geo/src/path/string.js
function PathString() {
  this._string = [];
}
PathString.prototype = {
  _radius: 4.5,
  _circle: circle(4.5),
  pointRadius: function(_2) {
    if ((_2 = +_2) !== this._radius)
      this._radius = _2, this._circle = null;
    return this;
  },
  polygonStart: function() {
    this._line = 0;
  },
  polygonEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line === 0)
      this._string.push("Z");
    this._point = NaN;
  },
  point: function(x7, y7) {
    switch (this._point) {
      case 0: {
        this._string.push("M", x7, ",", y7);
        this._point = 1;
        break;
      }
      case 1: {
        this._string.push("L", x7, ",", y7);
        break;
      }
      default: {
        if (this._circle == null)
          this._circle = circle(this._radius);
        this._string.push("M", x7, ",", y7, this._circle);
        break;
      }
    }
  },
  result: function() {
    if (this._string.length) {
      var result = this._string.join("");
      this._string = [];
      return result;
    } else {
      return null;
    }
  }
};
function circle(radius) {
  return "m0," + radius + "a" + radius + "," + radius + " 0 1,1 0," + -2 * radius + "a" + radius + "," + radius + " 0 1,1 0," + 2 * radius + "z";
}

// node_modules/d3-geo/src/transform.js
function transformer(methods) {
  return function(stream) {
    var s3 = new TransformStream();
    for (var key in methods)
      s3[key] = methods[key];
    s3.stream = stream;
    return s3;
  };
}
function TransformStream() {
}
TransformStream.prototype = {
  constructor: TransformStream,
  point: function(x7, y7) {
    this.stream.point(x7, y7);
  },
  sphere: function() {
    this.stream.sphere();
  },
  lineStart: function() {
    this.stream.lineStart();
  },
  lineEnd: function() {
    this.stream.lineEnd();
  },
  polygonStart: function() {
    this.stream.polygonStart();
  },
  polygonEnd: function() {
    this.stream.polygonEnd();
  }
};

// node_modules/d3-geo/src/projection/resample.js
var cosMinDistance = cos2(30 * radians3);

// node_modules/d3-geo/src/projection/index.js
var transformRadians = transformer({
  point: function(x7, y7) {
    this.stream.point(x7 * radians3, y7 * radians3);
  }
});

// node_modules/d3-geo/src/projection/azimuthal.js
function azimuthalRaw(scale2) {
  return function(x7, y7) {
    var cx = cos2(x7), cy = cos2(y7), k3 = scale2(cx * cy);
    if (k3 === Infinity)
      return [2, 0];
    return [
      k3 * cy * sin2(x7),
      k3 * sin2(y7)
    ];
  };
}
function azimuthalInvert(angle2) {
  return function(x7, y7) {
    var z = sqrt(x7 * x7 + y7 * y7), c7 = angle2(z), sc = sin2(c7), cc2 = cos2(c7);
    return [
      atan2(x7 * sc, z * cc2),
      asin(z && y7 * sc / z)
    ];
  };
}

// node_modules/d3-geo/src/projection/azimuthalEqualArea.js
var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {
  return sqrt(2 / (1 + cxcy));
});
azimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {
  return 2 * asin(z / 2);
});

// node_modules/d3-geo/src/projection/azimuthalEquidistant.js
var azimuthalEquidistantRaw = azimuthalRaw(function(c7) {
  return (c7 = acos(c7)) && c7 / sin2(c7);
});
azimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {
  return z;
});

// node_modules/d3-geo/src/projection/mercator.js
function mercatorRaw(lambda, phi3) {
  return [lambda, log(tan((halfPi4 + phi3) / 2))];
}
mercatorRaw.invert = function(x7, y7) {
  return [x7, 2 * atan(exp(y7)) - halfPi4];
};

// node_modules/d3-geo/src/projection/equirectangular.js
function equirectangularRaw(lambda, phi3) {
  return [lambda, phi3];
}
equirectangularRaw.invert = equirectangularRaw;

// node_modules/d3-geo/src/projection/equalEarth.js
var A1 = 1.340264;
var A22 = -0.081106;
var A3 = 893e-6;
var A4 = 3796e-6;
var M = sqrt(3) / 2;
var iterations = 12;
function equalEarthRaw(lambda, phi3) {
  var l = asin(M * sin2(phi3)), l2 = l * l, l6 = l2 * l2 * l2;
  return [
    lambda * cos2(l) / (M * (A1 + 3 * A22 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),
    l * (A1 + A22 * l2 + l6 * (A3 + A4 * l2))
  ];
}
equalEarthRaw.invert = function(x7, y7) {
  var l = y7, l2 = l * l, l6 = l2 * l2 * l2;
  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {
    fy = l * (A1 + A22 * l2 + l6 * (A3 + A4 * l2)) - y7;
    fpy = A1 + 3 * A22 * l2 + l6 * (7 * A3 + 9 * A4 * l2);
    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;
    if (abs3(delta) < epsilon22)
      break;
  }
  return [
    M * x7 * (A1 + 3 * A22 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos2(l),
    asin(sin2(l) / M)
  ];
};

// node_modules/d3-geo/src/projection/gnomonic.js
function gnomonicRaw(x7, y7) {
  var cy = cos2(y7), k3 = cos2(x7) * cy;
  return [cy * sin2(x7) / k3, sin2(y7) / k3];
}
gnomonicRaw.invert = azimuthalInvert(atan);

// node_modules/d3-geo/src/projection/naturalEarth1.js
function naturalEarth1Raw(lambda, phi3) {
  var phi22 = phi3 * phi3, phi4 = phi22 * phi22;
  return [
    lambda * (0.8707 - 0.131979 * phi22 + phi4 * (-0.013791 + phi4 * (3971e-6 * phi22 - 1529e-6 * phi4))),
    phi3 * (1.007226 + phi22 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi22 - 5916e-6 * phi4)))
  ];
}
naturalEarth1Raw.invert = function(x7, y7) {
  var phi3 = y7, i = 25, delta;
  do {
    var phi22 = phi3 * phi3, phi4 = phi22 * phi22;
    phi3 -= delta = (phi3 * (1.007226 + phi22 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi22 - 5916e-6 * phi4))) - y7) / (1.007226 + phi22 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi22 - 5916e-6 * 11 * phi4)));
  } while (abs3(delta) > epsilon6 && --i > 0);
  return [
    x7 / (0.8707 + (phi22 = phi3 * phi3) * (-0.131979 + phi22 * (-0.013791 + phi22 * phi22 * phi22 * (3971e-6 - 1529e-6 * phi22)))),
    phi3
  ];
};

// node_modules/d3-geo/src/projection/orthographic.js
function orthographicRaw(x7, y7) {
  return [cos2(y7) * sin2(x7), sin2(y7)];
}
orthographicRaw.invert = azimuthalInvert(asin);

// node_modules/d3-geo/src/projection/stereographic.js
function stereographicRaw(x7, y7) {
  var cy = cos2(y7), k3 = 1 + cos2(x7) * cy;
  return [cy * sin2(x7) / k3, sin2(y7) / k3];
}
stereographicRaw.invert = azimuthalInvert(function(z) {
  return 2 * atan(z);
});

// node_modules/d3-geo/src/projection/transverseMercator.js
function transverseMercatorRaw(lambda, phi3) {
  return [log(tan((halfPi4 + phi3) / 2)), -lambda];
}
transverseMercatorRaw.invert = function(x7, y7) {
  return [-y7, 2 * atan(exp(x7)) - halfPi4];
};

// node_modules/d3-hierarchy/src/hierarchy/count.js
function count4(node2) {
  var sum9 = 0, children4 = node2.children, i = children4 && children4.length;
  if (!i)
    sum9 = 1;
  else
    while (--i >= 0)
      sum9 += children4[i].value;
  node2.value = sum9;
}
function count_default() {
  return this.eachAfter(count4);
}

// node_modules/d3-hierarchy/src/hierarchy/each.js
function each_default3(callback, that) {
  let index6 = -1;
  for (const node2 of this) {
    callback.call(that, node2, ++index6, this);
  }
  return this;
}

// node_modules/d3-hierarchy/src/hierarchy/eachBefore.js
function eachBefore_default(callback, that) {
  var node2 = this, nodes = [node2], children4, i, index6 = -1;
  while (node2 = nodes.pop()) {
    callback.call(that, node2, ++index6, this);
    if (children4 = node2.children) {
      for (i = children4.length - 1; i >= 0; --i) {
        nodes.push(children4[i]);
      }
    }
  }
  return this;
}

// node_modules/d3-hierarchy/src/hierarchy/eachAfter.js
function eachAfter_default(callback, that) {
  var node2 = this, nodes = [node2], next2 = [], children4, i, n, index6 = -1;
  while (node2 = nodes.pop()) {
    next2.push(node2);
    if (children4 = node2.children) {
      for (i = 0, n = children4.length; i < n; ++i) {
        nodes.push(children4[i]);
      }
    }
  }
  while (node2 = next2.pop()) {
    callback.call(that, node2, ++index6, this);
  }
  return this;
}

// node_modules/d3-hierarchy/src/hierarchy/find.js
function find_default2(callback, that) {
  let index6 = -1;
  for (const node2 of this) {
    if (callback.call(that, node2, ++index6, this)) {
      return node2;
    }
  }
}

// node_modules/d3-hierarchy/src/hierarchy/sum.js
function sum_default(value) {
  return this.eachAfter(function(node2) {
    var sum9 = +value(node2.data) || 0, children4 = node2.children, i = children4 && children4.length;
    while (--i >= 0)
      sum9 += children4[i].value;
    node2.value = sum9;
  });
}

// node_modules/d3-hierarchy/src/hierarchy/sort.js
function sort_default3(compare) {
  return this.eachBefore(function(node2) {
    if (node2.children) {
      node2.children.sort(compare);
    }
  });
}

// node_modules/d3-hierarchy/src/hierarchy/path.js
function path_default3(end2) {
  var start6 = this, ancestor = leastCommonAncestor(start6, end2), nodes = [start6];
  while (start6 !== ancestor) {
    start6 = start6.parent;
    nodes.push(start6);
  }
  var k3 = nodes.length;
  while (end2 !== ancestor) {
    nodes.splice(k3, 0, end2);
    end2 = end2.parent;
  }
  return nodes;
}
function leastCommonAncestor(a3, b) {
  if (a3 === b)
    return a3;
  var aNodes = a3.ancestors(), bNodes = b.ancestors(), c7 = null;
  a3 = aNodes.pop();
  b = bNodes.pop();
  while (a3 === b) {
    c7 = a3;
    a3 = aNodes.pop();
    b = bNodes.pop();
  }
  return c7;
}

// node_modules/d3-hierarchy/src/hierarchy/ancestors.js
function ancestors_default() {
  var node2 = this, nodes = [node2];
  while (node2 = node2.parent) {
    nodes.push(node2);
  }
  return nodes;
}

// node_modules/d3-hierarchy/src/hierarchy/descendants.js
function descendants_default() {
  return Array.from(this);
}

// node_modules/d3-hierarchy/src/hierarchy/leaves.js
function leaves_default() {
  var leaves = [];
  this.eachBefore(function(node2) {
    if (!node2.children) {
      leaves.push(node2);
    }
  });
  return leaves;
}

// node_modules/d3-hierarchy/src/hierarchy/links.js
function links_default() {
  var root7 = this, links2 = [];
  root7.each(function(node2) {
    if (node2 !== root7) {
      links2.push({ source: node2.parent, target: node2 });
    }
  });
  return links2;
}

// node_modules/d3-hierarchy/src/hierarchy/iterator.js
function* iterator_default3() {
  var node2 = this, current, next2 = [node2], children4, i, n;
  do {
    current = next2.reverse(), next2 = [];
    while (node2 = current.pop()) {
      yield node2;
      if (children4 = node2.children) {
        for (i = 0, n = children4.length; i < n; ++i) {
          next2.push(children4[i]);
        }
      }
    }
  } while (next2.length);
}

// node_modules/d3-hierarchy/src/hierarchy/index.js
function hierarchy(data, children4) {
  if (data instanceof Map) {
    data = [void 0, data];
    if (children4 === void 0)
      children4 = mapChildren;
  } else if (children4 === void 0) {
    children4 = objectChildren;
  }
  var root7 = new Node(data), node2, nodes = [root7], child, childs, i, n;
  while (node2 = nodes.pop()) {
    if ((childs = children4(node2.data)) && (n = (childs = Array.from(childs)).length)) {
      node2.children = childs;
      for (i = n - 1; i >= 0; --i) {
        nodes.push(child = childs[i] = new Node(childs[i]));
        child.parent = node2;
        child.depth = node2.depth + 1;
      }
    }
  }
  return root7.eachBefore(computeHeight);
}
function node_copy() {
  return hierarchy(this).eachBefore(copyData);
}
function objectChildren(d) {
  return d.children;
}
function mapChildren(d) {
  return Array.isArray(d) ? d[1] : null;
}
function copyData(node2) {
  if (node2.data.value !== void 0)
    node2.value = node2.data.value;
  node2.data = node2.data.data;
}
function computeHeight(node2) {
  var height2 = 0;
  do
    node2.height = height2;
  while ((node2 = node2.parent) && node2.height < ++height2);
}
function Node(data) {
  this.data = data;
  this.depth = this.height = 0;
  this.parent = null;
}
Node.prototype = hierarchy.prototype = {
  constructor: Node,
  count: count_default,
  each: each_default3,
  eachAfter: eachAfter_default,
  eachBefore: eachBefore_default,
  find: find_default2,
  sum: sum_default,
  sort: sort_default3,
  path: path_default3,
  ancestors: ancestors_default,
  descendants: descendants_default,
  leaves: leaves_default,
  links: links_default,
  copy: node_copy,
  [Symbol.iterator]: iterator_default3
};

// node_modules/d3-hierarchy/src/treemap/dice.js
function dice_default(parent, x07, y06, x13, y12) {
  var nodes = parent.children, node2, i = -1, n = nodes.length, k3 = parent.value && (x13 - x07) / parent.value;
  while (++i < n) {
    node2 = nodes[i], node2.y0 = y06, node2.y1 = y12;
    node2.x0 = x07, node2.x1 = x07 += node2.value * k3;
  }
}

// node_modules/d3-hierarchy/src/tree.js
function TreeNode(node2, i) {
  this._ = node2;
  this.parent = null;
  this.children = null;
  this.A = null;
  this.a = this;
  this.z = 0;
  this.m = 0;
  this.c = 0;
  this.s = 0;
  this.t = null;
  this.i = i;
}
TreeNode.prototype = Object.create(Node.prototype);

// node_modules/d3-hierarchy/src/treemap/slice.js
function slice_default(parent, x07, y06, x13, y12) {
  var nodes = parent.children, node2, i = -1, n = nodes.length, k3 = parent.value && (y12 - y06) / parent.value;
  while (++i < n) {
    node2 = nodes[i], node2.x0 = x07, node2.x1 = x13;
    node2.y0 = y06, node2.y1 = y06 += node2.value * k3;
  }
}

// node_modules/d3-hierarchy/src/treemap/squarify.js
var phi = (1 + Math.sqrt(5)) / 2;
function squarifyRatio(ratio, parent, x07, y06, x13, y12) {
  var rows = [], nodes = parent.children, row, nodeValue, i0 = 0, i1 = 0, n = nodes.length, dx, dy, value = parent.value, sumValue, minValue, maxValue, newRatio, minRatio, alpha, beta;
  while (i0 < n) {
    dx = x13 - x07, dy = y12 - y06;
    do
      sumValue = nodes[i1++].value;
    while (!sumValue && i1 < n);
    minValue = maxValue = sumValue;
    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);
    beta = sumValue * sumValue * alpha;
    minRatio = Math.max(maxValue / beta, beta / minValue);
    for (; i1 < n; ++i1) {
      sumValue += nodeValue = nodes[i1].value;
      if (nodeValue < minValue)
        minValue = nodeValue;
      if (nodeValue > maxValue)
        maxValue = nodeValue;
      beta = sumValue * sumValue * alpha;
      newRatio = Math.max(maxValue / beta, beta / minValue);
      if (newRatio > minRatio) {
        sumValue -= nodeValue;
        break;
      }
      minRatio = newRatio;
    }
    rows.push(row = { value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1) });
    if (row.dice)
      dice_default(row, x07, y06, x13, value ? y06 += dy * sumValue / value : y12);
    else
      slice_default(row, x07, y06, value ? x07 += dx * sumValue / value : x13, y12);
    value -= sumValue, i0 = i1;
  }
  return rows;
}
var squarify_default = function custom19(ratio) {
  function squarify(parent, x07, y06, x13, y12) {
    squarifyRatio(ratio, parent, x07, y06, x13, y12);
  }
  squarify.ratio = function(x7) {
    return custom19((x7 = +x7) > 1 ? x7 : 1);
  };
  return squarify;
}(phi);

// node_modules/d3-hierarchy/src/treemap/resquarify.js
var resquarify_default = function custom20(ratio) {
  function resquarify(parent, x07, y06, x13, y12) {
    if ((rows = parent._squarify) && rows.ratio === ratio) {
      var rows, row, nodes, i, j = -1, n, m = rows.length, value = parent.value;
      while (++j < m) {
        row = rows[j], nodes = row.children;
        for (i = row.value = 0, n = nodes.length; i < n; ++i)
          row.value += nodes[i].value;
        if (row.dice)
          dice_default(row, x07, y06, x13, value ? y06 += (y12 - y06) * row.value / value : y12);
        else
          slice_default(row, x07, y06, value ? x07 += (x13 - x07) * row.value / value : x13, y12);
        value -= row.value;
      }
    } else {
      parent._squarify = rows = squarifyRatio(ratio, parent, x07, y06, x13, y12);
      rows.ratio = ratio;
    }
  }
  resquarify.ratio = function(x7) {
    return custom20((x7 = +x7) > 1 ? x7 : 1);
  };
  return resquarify;
}(phi);

// node_modules/d3/node_modules/d3-interpolate/src/basis.js
function basis2(t110, v0, v1, v2, v32) {
  var t27 = t110 * t110, t37 = t27 * t110;
  return ((1 - 3 * t110 + 3 * t27 - t37) * v0 + (4 - 6 * t27 + 3 * t37) * v1 + (1 + 3 * t110 + 3 * t27 - 3 * t37) * v2 + t37 * v32) / 6;
}
function basis_default2(values) {
  var n = values.length - 1;
  return function(t) {
    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values[i], v2 = values[i + 1], v0 = i > 0 ? values[i - 1] : 2 * v1 - v2, v32 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;
    return basis2((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3/node_modules/d3-interpolate/src/basisClosed.js
function basisClosed_default2(values) {
  var n = values.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values[(i + n - 1) % n], v1 = values[i % n], v2 = values[(i + 1) % n], v32 = values[(i + 2) % n];
    return basis2((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3/node_modules/d3-interpolate/src/constant.js
var constant_default12 = (x7) => () => x7;

// node_modules/d3/node_modules/d3-interpolate/src/color.js
function linear4(a3, d) {
  return function(t) {
    return a3 + t * d;
  };
}
function exponential2(a3, b, y7) {
  return a3 = Math.pow(a3, y7), b = Math.pow(b, y7) - a3, y7 = 1 / y7, function(t) {
    return Math.pow(a3 + t * b, y7);
  };
}
function hue2(a3, b) {
  var d = b - a3;
  return d ? linear4(a3, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant_default12(isNaN(a3) ? b : a3);
}
function gamma2(y7) {
  return (y7 = +y7) === 1 ? nogamma2 : function(a3, b) {
    return b - a3 ? exponential2(a3, b, y7) : constant_default12(isNaN(a3) ? b : a3);
  };
}
function nogamma2(a3, b) {
  var d = b - a3;
  return d ? linear4(a3, d) : constant_default12(isNaN(a3) ? b : a3);
}

// node_modules/d3/node_modules/d3-interpolate/src/rgb.js
var rgb_default2 = function rgbGamma2(y7) {
  var color7 = gamma2(y7);
  function rgb7(start6, end2) {
    var r = color7((start6 = rgb2(start6)).r, (end2 = rgb2(end2)).r), g = color7(start6.g, end2.g), b = color7(start6.b, end2.b), opacity = nogamma2(start6.opacity, end2.opacity);
    return function(t) {
      start6.r = r(t);
      start6.g = g(t);
      start6.b = b(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  }
  rgb7.gamma = rgbGamma2;
  return rgb7;
}(1);
function rgbSpline2(spline) {
  return function(colors) {
    var n = colors.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color7;
    for (i = 0; i < n; ++i) {
      color7 = rgb2(colors[i]);
      r[i] = color7.r || 0;
      g[i] = color7.g || 0;
      b[i] = color7.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color7.opacity = 1;
    return function(t) {
      color7.r = r(t);
      color7.g = g(t);
      color7.b = b(t);
      return color7 + "";
    };
  };
}
var rgbBasis2 = rgbSpline2(basis_default2);
var rgbBasisClosed2 = rgbSpline2(basisClosed_default2);

// node_modules/d3/node_modules/d3-interpolate/src/number.js
function number_default2(a3, b) {
  return a3 = +a3, b = +b, function(t) {
    return a3 * (1 - t) + b * t;
  };
}

// node_modules/d3/node_modules/d3-interpolate/src/string.js
var reA2 = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var reB2 = new RegExp(reA2.source, "g");
function zero5(b) {
  return function() {
    return b;
  };
}
function one2(b) {
  return function(t) {
    return b(t) + "";
  };
}
function string_default2(a3, b) {
  var bi = reA2.lastIndex = reB2.lastIndex = 0, am, bm, bs, i = -1, s3 = [], q = [];
  a3 = a3 + "", b = b + "";
  while ((am = reA2.exec(a3)) && (bm = reB2.exec(b))) {
    if ((bs = bm.index) > bi) {
      bs = b.slice(bi, bs);
      if (s3[i])
        s3[i] += bs;
      else
        s3[++i] = bs;
    }
    if ((am = am[0]) === (bm = bm[0])) {
      if (s3[i])
        s3[i] += bm;
      else
        s3[++i] = bm;
    } else {
      s3[++i] = null;
      q.push({ i, x: number_default2(am, bm) });
    }
    bi = reB2.lastIndex;
  }
  if (bi < b.length) {
    bs = b.slice(bi);
    if (s3[i])
      s3[i] += bs;
    else
      s3[++i] = bs;
  }
  return s3.length < 2 ? q[0] ? one2(q[0].x) : zero5(b) : (b = q.length, function(t) {
    for (var i2 = 0, o; i2 < b; ++i2)
      s3[(o = q[i2]).i] = o.x(t);
    return s3.join("");
  });
}

// node_modules/d3/node_modules/d3-interpolate/src/transform/decompose.js
var degrees5 = 180 / Math.PI;
var identity5 = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function decompose_default2(a3, b, c7, d, e, f2) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a3 * a3 + b * b))
    a3 /= scaleX, b /= scaleX;
  if (skewX = a3 * c7 + b * d)
    c7 -= a3 * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c7 * c7 + d * d))
    c7 /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a3 * d < b * c7)
    a3 = -a3, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f2,
    rotate: Math.atan2(b, a3) * degrees5,
    skewX: Math.atan(skewX) * degrees5,
    scaleX,
    scaleY
  };
}

// node_modules/d3/node_modules/d3-interpolate/src/transform/parse.js
var svgNode2;
function parseCss2(value) {
  const m = new (typeof DOMMatrix === "function" ? DOMMatrix : WebKitCSSMatrix)(value + "");
  return m.isIdentity ? identity5 : decompose_default2(m.a, m.b, m.c, m.d, m.e, m.f);
}
function parseSvg2(value) {
  if (value == null)
    return identity5;
  if (!svgNode2)
    svgNode2 = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode2.setAttribute("transform", value);
  if (!(value = svgNode2.transform.baseVal.consolidate()))
    return identity5;
  value = value.matrix;
  return decompose_default2(value.a, value.b, value.c, value.d, value.e, value.f);
}

// node_modules/d3/node_modules/d3-interpolate/src/transform/index.js
function interpolateTransform2(parse4, pxComma, pxParen, degParen) {
  function pop(s3) {
    return s3.length ? s3.pop() + " " : "";
  }
  function translate(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push("translate(", null, pxComma, null, pxParen);
      q.push({ i: i - 4, x: number_default2(xa, xb) }, { i: i - 2, x: number_default2(ya, yb) });
    } else if (xb || yb) {
      s3.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }
  function rotate(a3, b, s3, q) {
    if (a3 !== b) {
      if (a3 - b > 180)
        b += 360;
      else if (b - a3 > 180)
        a3 += 360;
      q.push({ i: s3.push(pop(s3) + "rotate(", null, degParen) - 2, x: number_default2(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "rotate(" + b + degParen);
    }
  }
  function skewX(a3, b, s3, q) {
    if (a3 !== b) {
      q.push({ i: s3.push(pop(s3) + "skewX(", null, degParen) - 2, x: number_default2(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "skewX(" + b + degParen);
    }
  }
  function scale2(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push(pop(s3) + "scale(", null, ",", null, ")");
      q.push({ i: i - 4, x: number_default2(xa, xb) }, { i: i - 2, x: number_default2(ya, yb) });
    } else if (xb !== 1 || yb !== 1) {
      s3.push(pop(s3) + "scale(" + xb + "," + yb + ")");
    }
  }
  return function(a3, b) {
    var s3 = [], q = [];
    a3 = parse4(a3), b = parse4(b);
    translate(a3.translateX, a3.translateY, b.translateX, b.translateY, s3, q);
    rotate(a3.rotate, b.rotate, s3, q);
    skewX(a3.skewX, b.skewX, s3, q);
    scale2(a3.scaleX, a3.scaleY, b.scaleX, b.scaleY, s3, q);
    a3 = b = null;
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n)
        s3[(o = q[i]).i] = o.x(t);
      return s3.join("");
    };
  };
}
var interpolateTransformCss2 = interpolateTransform2(parseCss2, "px, ", "px)", "deg)");
var interpolateTransformSvg2 = interpolateTransform2(parseSvg2, ", ", ")", ")");

// node_modules/d3/node_modules/d3-interpolate/src/zoom.js
var epsilon23 = 1e-12;
function cosh2(x7) {
  return ((x7 = Math.exp(x7)) + 1 / x7) / 2;
}
function sinh2(x7) {
  return ((x7 = Math.exp(x7)) - 1 / x7) / 2;
}
function tanh2(x7) {
  return ((x7 = Math.exp(2 * x7)) - 1) / (x7 + 1);
}
var zoom_default2 = function zoomRho2(rho3, rho22, rho42) {
  function zoom(p02, p1) {
    var ux0 = p02[0], uy0 = p02[1], w0 = p02[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;
    if (d2 < epsilon23) {
      S = Math.log(w1 / w0) / rho3;
      i = function(t) {
        return [
          ux0 + t * dx,
          uy0 + t * dy,
          w0 * Math.exp(rho3 * t * S)
        ];
      };
    } else {
      var d1 = Math.sqrt(d2), b05 = (w1 * w1 - w0 * w0 + rho42 * d2) / (2 * w0 * rho22 * d1), b15 = (w1 * w1 - w0 * w0 - rho42 * d2) / (2 * w1 * rho22 * d1), r0 = Math.log(Math.sqrt(b05 * b05 + 1) - b05), r1 = Math.log(Math.sqrt(b15 * b15 + 1) - b15);
      S = (r1 - r0) / rho3;
      i = function(t) {
        var s3 = t * S, coshr0 = cosh2(r0), u4 = w0 / (rho22 * d1) * (coshr0 * tanh2(rho3 * s3 + r0) - sinh2(r0));
        return [
          ux0 + u4 * dx,
          uy0 + u4 * dy,
          w0 * coshr0 / cosh2(rho3 * s3 + r0)
        ];
      };
    }
    i.duration = S * 1e3 * rho3 / Math.SQRT2;
    return i;
  }
  zoom.rho = function(_2) {
    var _1 = Math.max(1e-3, +_2), _22 = _1 * _1, _4 = _22 * _22;
    return zoomRho2(_1, _22, _4);
  };
  return zoom;
}(Math.SQRT2, 2, 4);

// node_modules/d3/node_modules/d3-interpolate/src/hsl.js
function hsl4(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hsl3(start6)).h, (end2 = hsl3(end2)).h), s3 = nogamma2(start6.s, end2.s), l = nogamma2(start6.l, end2.l), opacity = nogamma2(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.s = s3(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hsl_default2 = hsl4(hue2);
var hslLong2 = hsl4(nogamma2);

// node_modules/d3/node_modules/d3-interpolate/src/hcl.js
function hcl4(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hcl3(start6)).h, (end2 = hcl3(end2)).h), c7 = nogamma2(start6.c, end2.c), l = nogamma2(start6.l, end2.l), opacity = nogamma2(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.c = c7(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hcl_default2 = hcl4(hue2);
var hclLong2 = hcl4(nogamma2);

// node_modules/d3/node_modules/d3-interpolate/src/cubehelix.js
function cubehelix4(hue7) {
  return function cubehelixGamma(y7) {
    y7 = +y7;
    function cubehelix13(start6, end2) {
      var h = hue7((start6 = cubehelix3(start6)).h, (end2 = cubehelix3(end2)).h), s3 = nogamma2(start6.s, end2.s), l = nogamma2(start6.l, end2.l), opacity = nogamma2(start6.opacity, end2.opacity);
      return function(t) {
        start6.h = h(t);
        start6.s = s3(t);
        start6.l = l(Math.pow(t, y7));
        start6.opacity = opacity(t);
        return start6 + "";
      };
    }
    cubehelix13.gamma = cubehelixGamma;
    return cubehelix13;
  }(1);
}
var cubehelix_default2 = cubehelix4(hue2);
var cubehelixLong2 = cubehelix4(nogamma2);

// node_modules/d3/node_modules/d3-path/src/path.js
var pi6 = Math.PI;
var tau7 = 2 * pi6;
var epsilon7 = 1e-6;
var tauEpsilon2 = tau7 - epsilon7;
function Path3() {
  this._x0 = this._y0 = this._x1 = this._y1 = null;
  this._ = "";
}
function path2() {
  return new Path3();
}
Path3.prototype = path2.prototype = {
  constructor: Path3,
  moveTo: function(x7, y7) {
    this._ += "M" + (this._x0 = this._x1 = +x7) + "," + (this._y0 = this._y1 = +y7);
  },
  closePath: function() {
    if (this._x1 !== null) {
      this._x1 = this._x0, this._y1 = this._y0;
      this._ += "Z";
    }
  },
  lineTo: function(x7, y7) {
    this._ += "L" + (this._x1 = +x7) + "," + (this._y1 = +y7);
  },
  quadraticCurveTo: function(x13, y12, x7, y7) {
    this._ += "Q" + +x13 + "," + +y12 + "," + (this._x1 = +x7) + "," + (this._y1 = +y7);
  },
  bezierCurveTo: function(x13, y12, x22, y22, x7, y7) {
    this._ += "C" + +x13 + "," + +y12 + "," + +x22 + "," + +y22 + "," + (this._x1 = +x7) + "," + (this._y1 = +y7);
  },
  arcTo: function(x13, y12, x22, y22, r) {
    x13 = +x13, y12 = +y12, x22 = +x22, y22 = +y22, r = +r;
    var x07 = this._x1, y06 = this._y1, x21 = x22 - x13, y21 = y22 - y12, x01 = x07 - x13, y01 = y06 - y12, l01_2 = x01 * x01 + y01 * y01;
    if (r < 0)
      throw new Error("negative radius: " + r);
    if (this._x1 === null) {
      this._ += "M" + (this._x1 = x13) + "," + (this._y1 = y12);
    } else if (!(l01_2 > epsilon7))
      ;
    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon7) || !r) {
      this._ += "L" + (this._x1 = x13) + "," + (this._y1 = y12);
    } else {
      var x20 = x22 - x07, y20 = y22 - y06, l21_2 = x21 * x21 + y21 * y21, l20_2 = x20 * x20 + y20 * y20, l21 = Math.sqrt(l21_2), l01 = Math.sqrt(l01_2), l = r * Math.tan((pi6 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2), t01 = l / l01, t21 = l / l21;
      if (Math.abs(t01 - 1) > epsilon7) {
        this._ += "L" + (x13 + t01 * x01) + "," + (y12 + t01 * y01);
      }
      this._ += "A" + r + "," + r + ",0,0," + +(y01 * x20 > x01 * y20) + "," + (this._x1 = x13 + t21 * x21) + "," + (this._y1 = y12 + t21 * y21);
    }
  },
  arc: function(x7, y7, r, a0, a1, ccw) {
    x7 = +x7, y7 = +y7, r = +r, ccw = !!ccw;
    var dx = r * Math.cos(a0), dy = r * Math.sin(a0), x07 = x7 + dx, y06 = y7 + dy, cw = 1 ^ ccw, da2 = ccw ? a0 - a1 : a1 - a0;
    if (r < 0)
      throw new Error("negative radius: " + r);
    if (this._x1 === null) {
      this._ += "M" + x07 + "," + y06;
    } else if (Math.abs(this._x1 - x07) > epsilon7 || Math.abs(this._y1 - y06) > epsilon7) {
      this._ += "L" + x07 + "," + y06;
    }
    if (!r)
      return;
    if (da2 < 0)
      da2 = da2 % tau7 + tau7;
    if (da2 > tauEpsilon2) {
      this._ += "A" + r + "," + r + ",0,1," + cw + "," + (x7 - dx) + "," + (y7 - dy) + "A" + r + "," + r + ",0,1," + cw + "," + (this._x1 = x07) + "," + (this._y1 = y06);
    } else if (da2 > epsilon7) {
      this._ += "A" + r + "," + r + ",0," + +(da2 >= pi6) + "," + cw + "," + (this._x1 = x7 + r * Math.cos(a1)) + "," + (this._y1 = y7 + r * Math.sin(a1));
    }
  },
  rect: function(x7, y7, w2, h) {
    this._ += "M" + (this._x0 = this._x1 = +x7) + "," + (this._y0 = this._y1 = +y7) + "h" + +w2 + "v" + +h + "h" + -w2 + "Z";
  },
  toString: function() {
    return this._;
  }
};

// node_modules/d3/node_modules/d3-quadtree/src/add.js
function add_default2(d) {
  const x7 = +this._x.call(null, d), y7 = +this._y.call(null, d);
  return add2(this.cover(x7, y7), x7, y7, d);
}
function add2(tree, x7, y7, d) {
  if (isNaN(x7) || isNaN(y7))
    return tree;
  var parent, node2 = tree._root, leaf = { data: d }, x07 = tree._x0, y06 = tree._y0, x13 = tree._x1, y12 = tree._y1, xm, ym, xp, yp, right3, bottom3, i, j;
  if (!node2)
    return tree._root = leaf, tree;
  while (node2.length) {
    if (right3 = x7 >= (xm = (x07 + x13) / 2))
      x07 = xm;
    else
      x13 = xm;
    if (bottom3 = y7 >= (ym = (y06 + y12) / 2))
      y06 = ym;
    else
      y12 = ym;
    if (parent = node2, !(node2 = node2[i = bottom3 << 1 | right3]))
      return parent[i] = leaf, tree;
  }
  xp = +tree._x.call(null, node2.data);
  yp = +tree._y.call(null, node2.data);
  if (x7 === xp && y7 === yp)
    return leaf.next = node2, parent ? parent[i] = leaf : tree._root = leaf, tree;
  do {
    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);
    if (right3 = x7 >= (xm = (x07 + x13) / 2))
      x07 = xm;
    else
      x13 = xm;
    if (bottom3 = y7 >= (ym = (y06 + y12) / 2))
      y06 = ym;
    else
      y12 = ym;
  } while ((i = bottom3 << 1 | right3) === (j = (yp >= ym) << 1 | xp >= xm));
  return parent[j] = node2, parent[i] = leaf, tree;
}
function addAll2(data) {
  var d, i, n = data.length, x7, y7, xz = new Array(n), yz = new Array(n), x07 = Infinity, y06 = Infinity, x13 = -Infinity, y12 = -Infinity;
  for (i = 0; i < n; ++i) {
    if (isNaN(x7 = +this._x.call(null, d = data[i])) || isNaN(y7 = +this._y.call(null, d)))
      continue;
    xz[i] = x7;
    yz[i] = y7;
    if (x7 < x07)
      x07 = x7;
    if (x7 > x13)
      x13 = x7;
    if (y7 < y06)
      y06 = y7;
    if (y7 > y12)
      y12 = y7;
  }
  if (x07 > x13 || y06 > y12)
    return this;
  this.cover(x07, y06).cover(x13, y12);
  for (i = 0; i < n; ++i) {
    add2(this, xz[i], yz[i], data[i]);
  }
  return this;
}

// node_modules/d3/node_modules/d3-quadtree/src/cover.js
function cover_default2(x7, y7) {
  if (isNaN(x7 = +x7) || isNaN(y7 = +y7))
    return this;
  var x07 = this._x0, y06 = this._y0, x13 = this._x1, y12 = this._y1;
  if (isNaN(x07)) {
    x13 = (x07 = Math.floor(x7)) + 1;
    y12 = (y06 = Math.floor(y7)) + 1;
  } else {
    var z = x13 - x07 || 1, node2 = this._root, parent, i;
    while (x07 > x7 || x7 >= x13 || y06 > y7 || y7 >= y12) {
      i = (y7 < y06) << 1 | x7 < x07;
      parent = new Array(4), parent[i] = node2, node2 = parent, z *= 2;
      switch (i) {
        case 0:
          x13 = x07 + z, y12 = y06 + z;
          break;
        case 1:
          x07 = x13 - z, y12 = y06 + z;
          break;
        case 2:
          x13 = x07 + z, y06 = y12 - z;
          break;
        case 3:
          x07 = x13 - z, y06 = y12 - z;
          break;
      }
    }
    if (this._root && this._root.length)
      this._root = node2;
  }
  this._x0 = x07;
  this._y0 = y06;
  this._x1 = x13;
  this._y1 = y12;
  return this;
}

// node_modules/d3/node_modules/d3-quadtree/src/data.js
function data_default4() {
  var data = [];
  this.visit(function(node2) {
    if (!node2.length)
      do
        data.push(node2.data);
      while (node2 = node2.next);
  });
  return data;
}

// node_modules/d3/node_modules/d3-quadtree/src/extent.js
function extent_default3(_2) {
  return arguments.length ? this.cover(+_2[0][0], +_2[0][1]).cover(+_2[1][0], +_2[1][1]) : isNaN(this._x0) ? void 0 : [[this._x0, this._y0], [this._x1, this._y1]];
}

// node_modules/d3/node_modules/d3-quadtree/src/quad.js
function quad_default2(node2, x07, y06, x13, y12) {
  this.node = node2;
  this.x0 = x07;
  this.y0 = y06;
  this.x1 = x13;
  this.y1 = y12;
}

// node_modules/d3/node_modules/d3-quadtree/src/find.js
function find_default3(x7, y7, radius) {
  var data, x07 = this._x0, y06 = this._y0, x13, y12, x22, y22, x32 = this._x1, y32 = this._y1, quads = [], node2 = this._root, q, i;
  if (node2)
    quads.push(new quad_default2(node2, x07, y06, x32, y32));
  if (radius == null)
    radius = Infinity;
  else {
    x07 = x7 - radius, y06 = y7 - radius;
    x32 = x7 + radius, y32 = y7 + radius;
    radius *= radius;
  }
  while (q = quads.pop()) {
    if (!(node2 = q.node) || (x13 = q.x0) > x32 || (y12 = q.y0) > y32 || (x22 = q.x1) < x07 || (y22 = q.y1) < y06)
      continue;
    if (node2.length) {
      var xm = (x13 + x22) / 2, ym = (y12 + y22) / 2;
      quads.push(
        new quad_default2(node2[3], xm, ym, x22, y22),
        new quad_default2(node2[2], x13, ym, xm, y22),
        new quad_default2(node2[1], xm, y12, x22, ym),
        new quad_default2(node2[0], x13, y12, xm, ym)
      );
      if (i = (y7 >= ym) << 1 | x7 >= xm) {
        q = quads[quads.length - 1];
        quads[quads.length - 1] = quads[quads.length - 1 - i];
        quads[quads.length - 1 - i] = q;
      }
    } else {
      var dx = x7 - +this._x.call(null, node2.data), dy = y7 - +this._y.call(null, node2.data), d2 = dx * dx + dy * dy;
      if (d2 < radius) {
        var d = Math.sqrt(radius = d2);
        x07 = x7 - d, y06 = y7 - d;
        x32 = x7 + d, y32 = y7 + d;
        data = node2.data;
      }
    }
  }
  return data;
}

// node_modules/d3/node_modules/d3-quadtree/src/remove.js
function remove_default5(d) {
  if (isNaN(x7 = +this._x.call(null, d)) || isNaN(y7 = +this._y.call(null, d)))
    return this;
  var parent, node2 = this._root, retainer, previous, next2, x07 = this._x0, y06 = this._y0, x13 = this._x1, y12 = this._y1, x7, y7, xm, ym, right3, bottom3, i, j;
  if (!node2)
    return this;
  if (node2.length)
    while (true) {
      if (right3 = x7 >= (xm = (x07 + x13) / 2))
        x07 = xm;
      else
        x13 = xm;
      if (bottom3 = y7 >= (ym = (y06 + y12) / 2))
        y06 = ym;
      else
        y12 = ym;
      if (!(parent = node2, node2 = node2[i = bottom3 << 1 | right3]))
        return this;
      if (!node2.length)
        break;
      if (parent[i + 1 & 3] || parent[i + 2 & 3] || parent[i + 3 & 3])
        retainer = parent, j = i;
    }
  while (node2.data !== d)
    if (!(previous = node2, node2 = node2.next))
      return this;
  if (next2 = node2.next)
    delete node2.next;
  if (previous)
    return next2 ? previous.next = next2 : delete previous.next, this;
  if (!parent)
    return this._root = next2, this;
  next2 ? parent[i] = next2 : delete parent[i];
  if ((node2 = parent[0] || parent[1] || parent[2] || parent[3]) && node2 === (parent[3] || parent[2] || parent[1] || parent[0]) && !node2.length) {
    if (retainer)
      retainer[j] = node2;
    else
      this._root = node2;
  }
  return this;
}
function removeAll2(data) {
  for (var i = 0, n = data.length; i < n; ++i)
    this.remove(data[i]);
  return this;
}

// node_modules/d3/node_modules/d3-quadtree/src/root.js
function root_default2() {
  return this._root;
}

// node_modules/d3/node_modules/d3-quadtree/src/size.js
function size_default4() {
  var size = 0;
  this.visit(function(node2) {
    if (!node2.length)
      do
        ++size;
      while (node2 = node2.next);
  });
  return size;
}

// node_modules/d3/node_modules/d3-quadtree/src/visit.js
function visit_default2(callback) {
  var quads = [], q, node2 = this._root, child, x07, y06, x13, y12;
  if (node2)
    quads.push(new quad_default2(node2, this._x0, this._y0, this._x1, this._y1));
  while (q = quads.pop()) {
    if (!callback(node2 = q.node, x07 = q.x0, y06 = q.y0, x13 = q.x1, y12 = q.y1) && node2.length) {
      var xm = (x07 + x13) / 2, ym = (y06 + y12) / 2;
      if (child = node2[3])
        quads.push(new quad_default2(child, xm, ym, x13, y12));
      if (child = node2[2])
        quads.push(new quad_default2(child, x07, ym, xm, y12));
      if (child = node2[1])
        quads.push(new quad_default2(child, xm, y06, x13, ym));
      if (child = node2[0])
        quads.push(new quad_default2(child, x07, y06, xm, ym));
    }
  }
  return this;
}

// node_modules/d3/node_modules/d3-quadtree/src/visitAfter.js
function visitAfter_default2(callback) {
  var quads = [], next2 = [], q;
  if (this._root)
    quads.push(new quad_default2(this._root, this._x0, this._y0, this._x1, this._y1));
  while (q = quads.pop()) {
    var node2 = q.node;
    if (node2.length) {
      var child, x07 = q.x0, y06 = q.y0, x13 = q.x1, y12 = q.y1, xm = (x07 + x13) / 2, ym = (y06 + y12) / 2;
      if (child = node2[0])
        quads.push(new quad_default2(child, x07, y06, xm, ym));
      if (child = node2[1])
        quads.push(new quad_default2(child, xm, y06, x13, ym));
      if (child = node2[2])
        quads.push(new quad_default2(child, x07, ym, xm, y12));
      if (child = node2[3])
        quads.push(new quad_default2(child, xm, ym, x13, y12));
    }
    next2.push(q);
  }
  while (q = next2.pop()) {
    callback(q.node, q.x0, q.y0, q.x1, q.y1);
  }
  return this;
}

// node_modules/d3/node_modules/d3-quadtree/src/x.js
function defaultX2(d) {
  return d[0];
}
function x_default3(_2) {
  return arguments.length ? (this._x = _2, this) : this._x;
}

// node_modules/d3/node_modules/d3-quadtree/src/y.js
function defaultY2(d) {
  return d[1];
}
function y_default3(_2) {
  return arguments.length ? (this._y = _2, this) : this._y;
}

// node_modules/d3/node_modules/d3-quadtree/src/quadtree.js
function quadtree2(nodes, x7, y7) {
  var tree = new Quadtree2(x7 == null ? defaultX2 : x7, y7 == null ? defaultY2 : y7, NaN, NaN, NaN, NaN);
  return nodes == null ? tree : tree.addAll(nodes);
}
function Quadtree2(x7, y7, x07, y06, x13, y12) {
  this._x = x7;
  this._y = y7;
  this._x0 = x07;
  this._y0 = y06;
  this._x1 = x13;
  this._y1 = y12;
  this._root = void 0;
}
function leaf_copy2(leaf) {
  var copy7 = { data: leaf.data }, next2 = copy7;
  while (leaf = leaf.next)
    next2 = next2.next = { data: leaf.data };
  return copy7;
}
var treeProto2 = quadtree2.prototype = Quadtree2.prototype;
treeProto2.copy = function() {
  var copy7 = new Quadtree2(this._x, this._y, this._x0, this._y0, this._x1, this._y1), node2 = this._root, nodes, child;
  if (!node2)
    return copy7;
  if (!node2.length)
    return copy7._root = leaf_copy2(node2), copy7;
  nodes = [{ source: node2, target: copy7._root = new Array(4) }];
  while (node2 = nodes.pop()) {
    for (var i = 0; i < 4; ++i) {
      if (child = node2.source[i]) {
        if (child.length)
          nodes.push({ source: child, target: node2.target[i] = new Array(4) });
        else
          node2.target[i] = leaf_copy2(child);
      }
    }
  }
  return copy7;
};
treeProto2.add = add_default2;
treeProto2.addAll = addAll2;
treeProto2.cover = cover_default2;
treeProto2.data = data_default4;
treeProto2.extent = extent_default3;
treeProto2.find = find_default3;
treeProto2.remove = remove_default5;
treeProto2.removeAll = removeAll2;
treeProto2.root = root_default2;
treeProto2.size = size_default4;
treeProto2.visit = visit_default2;
treeProto2.visitAfter = visitAfter_default2;
treeProto2.x = x_default3;
treeProto2.y = y_default3;

// node_modules/d3-random/src/defaultSource.js
var defaultSource_default = Math.random;

// node_modules/d3-random/src/uniform.js
var uniform_default = function sourceRandomUniform(source) {
  function randomUniform(min8, max10) {
    min8 = min8 == null ? 0 : +min8;
    max10 = max10 == null ? 1 : +max10;
    if (arguments.length === 1)
      max10 = min8, min8 = 0;
    else
      max10 -= min8;
    return function() {
      return source() * max10 + min8;
    };
  }
  randomUniform.source = sourceRandomUniform;
  return randomUniform;
}(defaultSource_default);

// node_modules/d3-random/src/int.js
var int_default = function sourceRandomInt(source) {
  function randomInt(min8, max10) {
    if (arguments.length < 2)
      max10 = min8, min8 = 0;
    min8 = Math.floor(min8);
    max10 = Math.floor(max10) - min8;
    return function() {
      return Math.floor(source() * max10 + min8);
    };
  }
  randomInt.source = sourceRandomInt;
  return randomInt;
}(defaultSource_default);

// node_modules/d3-random/src/normal.js
var normal_default = function sourceRandomNormal(source) {
  function randomNormal(mu, sigma) {
    var x7, r;
    mu = mu == null ? 0 : +mu;
    sigma = sigma == null ? 1 : +sigma;
    return function() {
      var y7;
      if (x7 != null)
        y7 = x7, x7 = null;
      else
        do {
          x7 = source() * 2 - 1;
          y7 = source() * 2 - 1;
          r = x7 * x7 + y7 * y7;
        } while (!r || r > 1);
      return mu + sigma * y7 * Math.sqrt(-2 * Math.log(r) / r);
    };
  }
  randomNormal.source = sourceRandomNormal;
  return randomNormal;
}(defaultSource_default);

// node_modules/d3-random/src/logNormal.js
var logNormal_default = function sourceRandomLogNormal(source) {
  var N = normal_default.source(source);
  function randomLogNormal() {
    var randomNormal = N.apply(this, arguments);
    return function() {
      return Math.exp(randomNormal());
    };
  }
  randomLogNormal.source = sourceRandomLogNormal;
  return randomLogNormal;
}(defaultSource_default);

// node_modules/d3-random/src/irwinHall.js
var irwinHall_default = function sourceRandomIrwinHall(source) {
  function randomIrwinHall(n) {
    if ((n = +n) <= 0)
      return () => 0;
    return function() {
      for (var sum9 = 0, i = n; i > 1; --i)
        sum9 += source();
      return sum9 + i * source();
    };
  }
  randomIrwinHall.source = sourceRandomIrwinHall;
  return randomIrwinHall;
}(defaultSource_default);

// node_modules/d3-random/src/bates.js
var bates_default = function sourceRandomBates(source) {
  var I = irwinHall_default.source(source);
  function randomBates(n) {
    if ((n = +n) === 0)
      return source;
    var randomIrwinHall = I(n);
    return function() {
      return randomIrwinHall() / n;
    };
  }
  randomBates.source = sourceRandomBates;
  return randomBates;
}(defaultSource_default);

// node_modules/d3-random/src/exponential.js
var exponential_default = function sourceRandomExponential(source) {
  function randomExponential(lambda) {
    return function() {
      return -Math.log1p(-source()) / lambda;
    };
  }
  randomExponential.source = sourceRandomExponential;
  return randomExponential;
}(defaultSource_default);

// node_modules/d3-random/src/pareto.js
var pareto_default = function sourceRandomPareto(source) {
  function randomPareto(alpha) {
    if ((alpha = +alpha) < 0)
      throw new RangeError("invalid alpha");
    alpha = 1 / -alpha;
    return function() {
      return Math.pow(1 - source(), alpha);
    };
  }
  randomPareto.source = sourceRandomPareto;
  return randomPareto;
}(defaultSource_default);

// node_modules/d3-random/src/bernoulli.js
var bernoulli_default = function sourceRandomBernoulli(source) {
  function randomBernoulli(p) {
    if ((p = +p) < 0 || p > 1)
      throw new RangeError("invalid p");
    return function() {
      return Math.floor(source() + p);
    };
  }
  randomBernoulli.source = sourceRandomBernoulli;
  return randomBernoulli;
}(defaultSource_default);

// node_modules/d3-random/src/geometric.js
var geometric_default = function sourceRandomGeometric(source) {
  function randomGeometric(p) {
    if ((p = +p) < 0 || p > 1)
      throw new RangeError("invalid p");
    if (p === 0)
      return () => Infinity;
    if (p === 1)
      return () => 1;
    p = Math.log1p(-p);
    return function() {
      return 1 + Math.floor(Math.log1p(-source()) / p);
    };
  }
  randomGeometric.source = sourceRandomGeometric;
  return randomGeometric;
}(defaultSource_default);

// node_modules/d3-random/src/gamma.js
var gamma_default = function sourceRandomGamma(source) {
  var randomNormal = normal_default.source(source)();
  function randomGamma(k3, theta) {
    if ((k3 = +k3) < 0)
      throw new RangeError("invalid k");
    if (k3 === 0)
      return () => 0;
    theta = theta == null ? 1 : +theta;
    if (k3 === 1)
      return () => -Math.log1p(-source()) * theta;
    var d = (k3 < 1 ? k3 + 1 : k3) - 1 / 3, c7 = 1 / (3 * Math.sqrt(d)), multiplier = k3 < 1 ? () => Math.pow(source(), 1 / k3) : () => 1;
    return function() {
      do {
        do {
          var x7 = randomNormal(), v2 = 1 + c7 * x7;
        } while (v2 <= 0);
        v2 *= v2 * v2;
        var u4 = 1 - source();
      } while (u4 >= 1 - 0.0331 * x7 * x7 * x7 * x7 && Math.log(u4) >= 0.5 * x7 * x7 + d * (1 - v2 + Math.log(v2)));
      return d * v2 * multiplier() * theta;
    };
  }
  randomGamma.source = sourceRandomGamma;
  return randomGamma;
}(defaultSource_default);

// node_modules/d3-random/src/beta.js
var beta_default = function sourceRandomBeta(source) {
  var G = gamma_default.source(source);
  function randomBeta(alpha, beta) {
    var X3 = G(alpha), Y3 = G(beta);
    return function() {
      var x7 = X3();
      return x7 === 0 ? 0 : x7 / (x7 + Y3());
    };
  }
  randomBeta.source = sourceRandomBeta;
  return randomBeta;
}(defaultSource_default);

// node_modules/d3-random/src/binomial.js
var binomial_default = function sourceRandomBinomial(source) {
  var G = geometric_default.source(source), B8 = beta_default.source(source);
  function randomBinomial(n, p) {
    n = +n;
    if ((p = +p) >= 1)
      return () => n;
    if (p <= 0)
      return () => 0;
    return function() {
      var acc = 0, nn = n, pp = p;
      while (nn * pp > 16 && nn * (1 - pp) > 16) {
        var i = Math.floor((nn + 1) * pp), y7 = B8(i, nn - i + 1)();
        if (y7 <= pp) {
          acc += i;
          nn -= i;
          pp = (pp - y7) / (1 - y7);
        } else {
          nn = i - 1;
          pp /= y7;
        }
      }
      var sign5 = pp < 0.5, pFinal = sign5 ? pp : 1 - pp, g = G(pFinal);
      for (var s3 = g(), k3 = 0; s3 <= nn; ++k3)
        s3 += g();
      return acc + (sign5 ? k3 : nn - k3);
    };
  }
  randomBinomial.source = sourceRandomBinomial;
  return randomBinomial;
}(defaultSource_default);

// node_modules/d3-random/src/weibull.js
var weibull_default = function sourceRandomWeibull(source) {
  function randomWeibull(k3, a3, b) {
    var outerFunc;
    if ((k3 = +k3) === 0) {
      outerFunc = (x7) => -Math.log(x7);
    } else {
      k3 = 1 / k3;
      outerFunc = (x7) => Math.pow(x7, k3);
    }
    a3 = a3 == null ? 0 : +a3;
    b = b == null ? 1 : +b;
    return function() {
      return a3 + b * outerFunc(-Math.log1p(-source()));
    };
  }
  randomWeibull.source = sourceRandomWeibull;
  return randomWeibull;
}(defaultSource_default);

// node_modules/d3-random/src/cauchy.js
var cauchy_default = function sourceRandomCauchy(source) {
  function randomCauchy(a3, b) {
    a3 = a3 == null ? 0 : +a3;
    b = b == null ? 1 : +b;
    return function() {
      return a3 + b * Math.tan(Math.PI * source());
    };
  }
  randomCauchy.source = sourceRandomCauchy;
  return randomCauchy;
}(defaultSource_default);

// node_modules/d3-random/src/logistic.js
var logistic_default = function sourceRandomLogistic(source) {
  function randomLogistic(a3, b) {
    a3 = a3 == null ? 0 : +a3;
    b = b == null ? 1 : +b;
    return function() {
      var u4 = source();
      return a3 + b * Math.log(u4 / (1 - u4));
    };
  }
  randomLogistic.source = sourceRandomLogistic;
  return randomLogistic;
}(defaultSource_default);

// node_modules/d3-random/src/poisson.js
var poisson_default = function sourceRandomPoisson(source) {
  var G = gamma_default.source(source), B8 = binomial_default.source(source);
  function randomPoisson(lambda) {
    return function() {
      var acc = 0, l = lambda;
      while (l > 16) {
        var n = Math.floor(0.875 * l), t = G(n)();
        if (t > l)
          return acc + B8(n - 1, l / t)();
        acc += n;
        l -= t;
      }
      for (var s3 = -Math.log1p(-source()), k3 = 0; s3 <= l; ++k3)
        s3 -= Math.log1p(-source());
      return acc + k3;
    };
  }
  randomPoisson.source = sourceRandomPoisson;
  return randomPoisson;
}(defaultSource_default);

// node_modules/d3-random/src/lcg.js
var eps = 1 / 4294967296;

// node_modules/d3-scale/node_modules/d3-array/src/ascending.js
function ascending6(a3, b) {
  return a3 == null || b == null ? NaN : a3 < b ? -1 : a3 > b ? 1 : a3 >= b ? 0 : NaN;
}

// node_modules/d3-scale/node_modules/d3-array/src/descending.js
function descending4(a3, b) {
  return a3 == null || b == null ? NaN : b < a3 ? -1 : b > a3 ? 1 : b >= a3 ? 0 : NaN;
}

// node_modules/d3-scale/node_modules/d3-array/src/bisector.js
function bisector4(f2) {
  let compare1, compare2, delta;
  if (f2.length !== 2) {
    compare1 = ascending6;
    compare2 = (d, x7) => ascending6(f2(d), x7);
    delta = (d, x7) => f2(d) - x7;
  } else {
    compare1 = f2 === ascending6 || f2 === descending4 ? f2 : zero6;
    compare2 = f2;
    delta = f2;
  }
  function left3(a3, x7, lo = 0, hi = a3.length) {
    if (lo < hi) {
      if (compare1(x7, x7) !== 0)
        return hi;
      do {
        const mid = lo + hi >>> 1;
        if (compare2(a3[mid], x7) < 0)
          lo = mid + 1;
        else
          hi = mid;
      } while (lo < hi);
    }
    return lo;
  }
  function right3(a3, x7, lo = 0, hi = a3.length) {
    if (lo < hi) {
      if (compare1(x7, x7) !== 0)
        return hi;
      do {
        const mid = lo + hi >>> 1;
        if (compare2(a3[mid], x7) <= 0)
          lo = mid + 1;
        else
          hi = mid;
      } while (lo < hi);
    }
    return lo;
  }
  function center3(a3, x7, lo = 0, hi = a3.length) {
    const i = left3(a3, x7, lo, hi - 1);
    return i > lo && delta(a3[i - 1], x7) > -delta(a3[i], x7) ? i - 1 : i;
  }
  return { left: left3, center: center3, right: right3 };
}
function zero6() {
  return 0;
}

// node_modules/d3-scale/node_modules/d3-array/src/number.js
function number5(x7) {
  return x7 === null ? NaN : +x7;
}

// node_modules/d3-scale/node_modules/d3-array/src/bisect.js
var ascendingBisect4 = bisector4(ascending6);
var bisectRight4 = ascendingBisect4.right;
var bisectLeft4 = ascendingBisect4.left;
var bisectCenter4 = bisector4(number5).center;
var bisect_default4 = bisectRight4;

// node_modules/d3-scale/node_modules/d3-array/src/blur.js
var blur24 = Blur24(blurf4);
var blurImage4 = Blur24(blurfImage4);
function Blur24(blur6) {
  return function(data, rx, ry = rx) {
    if (!((rx = +rx) >= 0))
      throw new RangeError("invalid rx");
    if (!((ry = +ry) >= 0))
      throw new RangeError("invalid ry");
    let { data: values, width: width2, height: height2 } = data;
    if (!((width2 = Math.floor(width2)) >= 0))
      throw new RangeError("invalid width");
    if (!((height2 = Math.floor(height2 !== void 0 ? height2 : values.length / width2)) >= 0))
      throw new RangeError("invalid height");
    if (!width2 || !height2 || !rx && !ry)
      return data;
    const blurx = rx && blur6(rx);
    const blury = ry && blur6(ry);
    const temp2 = values.slice();
    if (blurx && blury) {
      blurh4(blurx, temp2, values, width2, height2);
      blurh4(blurx, values, temp2, width2, height2);
      blurh4(blurx, temp2, values, width2, height2);
      blurv4(blury, values, temp2, width2, height2);
      blurv4(blury, temp2, values, width2, height2);
      blurv4(blury, values, temp2, width2, height2);
    } else if (blurx) {
      blurh4(blurx, values, temp2, width2, height2);
      blurh4(blurx, temp2, values, width2, height2);
      blurh4(blurx, values, temp2, width2, height2);
    } else if (blury) {
      blurv4(blury, values, temp2, width2, height2);
      blurv4(blury, temp2, values, width2, height2);
      blurv4(blury, values, temp2, width2, height2);
    }
    return data;
  };
}
function blurh4(blur6, T, S, w2, h) {
  for (let y7 = 0, n = w2 * h; y7 < n; ) {
    blur6(T, S, y7, y7 += w2, 1);
  }
}
function blurv4(blur6, T, S, w2, h) {
  for (let x7 = 0, n = w2 * h; x7 < w2; ++x7) {
    blur6(T, S, x7, x7 + n, w2);
  }
}
function blurfImage4(radius) {
  const blur6 = blurf4(radius);
  return (T, S, start6, stop, step) => {
    start6 <<= 2, stop <<= 2, step <<= 2;
    blur6(T, S, start6 + 0, stop + 0, step);
    blur6(T, S, start6 + 1, stop + 1, step);
    blur6(T, S, start6 + 2, stop + 2, step);
    blur6(T, S, start6 + 3, stop + 3, step);
  };
}
function blurf4(radius) {
  const radius0 = Math.floor(radius);
  if (radius0 === radius)
    return bluri4(radius);
  const t = radius - radius0;
  const w2 = 2 * radius + 1;
  return (T, S, start6, stop, step) => {
    if (!((stop -= step) >= start6))
      return;
    let sum9 = radius0 * S[start6];
    const s0 = step * radius0;
    const s1 = s0 + step;
    for (let i = start6, j = start6 + s0; i < j; i += step) {
      sum9 += S[Math.min(stop, i)];
    }
    for (let i = start6, j = stop; i <= j; i += step) {
      sum9 += S[Math.min(stop, i + s0)];
      T[i] = (sum9 + t * (S[Math.max(start6, i - s1)] + S[Math.min(stop, i + s1)])) / w2;
      sum9 -= S[Math.max(start6, i - s0)];
    }
  };
}
function bluri4(radius) {
  const w2 = 2 * radius + 1;
  return (T, S, start6, stop, step) => {
    if (!((stop -= step) >= start6))
      return;
    let sum9 = radius * S[start6];
    const s3 = step * radius;
    for (let i = start6, j = start6 + s3; i < j; i += step) {
      sum9 += S[Math.min(stop, i)];
    }
    for (let i = start6, j = stop; i <= j; i += step) {
      sum9 += S[Math.min(stop, i + s3)];
      T[i] = sum9 / w2;
      sum9 -= S[Math.max(start6, i - s3)];
    }
  };
}

// node_modules/d3-scale/node_modules/d3-array/src/array.js
var array7 = Array.prototype;
var slice6 = array7.slice;
var map8 = array7.map;

// node_modules/d3-scale/node_modules/d3-array/src/ticks.js
var e104 = Math.sqrt(50);
var e54 = Math.sqrt(10);
var e24 = Math.sqrt(2);
function ticks4(start6, stop, count7) {
  var reverse5, i = -1, n, ticks5, step;
  stop = +stop, start6 = +start6, count7 = +count7;
  if (start6 === stop && count7 > 0)
    return [start6];
  if (reverse5 = stop < start6)
    n = start6, start6 = stop, stop = n;
  if ((step = tickIncrement4(start6, stop, count7)) === 0 || !isFinite(step))
    return [];
  if (step > 0) {
    let r0 = Math.round(start6 / step), r1 = Math.round(stop / step);
    if (r0 * step < start6)
      ++r0;
    if (r1 * step > stop)
      --r1;
    ticks5 = new Array(n = r1 - r0 + 1);
    while (++i < n)
      ticks5[i] = (r0 + i) * step;
  } else {
    step = -step;
    let r0 = Math.round(start6 * step), r1 = Math.round(stop * step);
    if (r0 / step < start6)
      ++r0;
    if (r1 / step > stop)
      --r1;
    ticks5 = new Array(n = r1 - r0 + 1);
    while (++i < n)
      ticks5[i] = (r0 + i) / step;
  }
  if (reverse5)
    ticks5.reverse();
  return ticks5;
}
function tickIncrement4(start6, stop, count7) {
  var step = (stop - start6) / Math.max(0, count7), power = Math.floor(Math.log(step) / Math.LN10), error = step / Math.pow(10, power);
  return power >= 0 ? (error >= e104 ? 10 : error >= e54 ? 5 : error >= e24 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e104 ? 10 : error >= e54 ? 5 : error >= e24 ? 2 : 1);
}
function tickStep4(start6, stop, count7) {
  var step0 = Math.abs(stop - start6) / Math.max(0, count7), step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)), error = step0 / step1;
  if (error >= e104)
    step1 *= 10;
  else if (error >= e54)
    step1 *= 5;
  else if (error >= e24)
    step1 *= 2;
  return stop < start6 ? -step1 : step1;
}

// node_modules/d3-scale/node_modules/d3-array/src/shuffle.js
var shuffle_default4 = shuffler4(Math.random);
function shuffler4(random2) {
  return function shuffle3(array12, i0 = 0, i1 = array12.length) {
    let m = i1 - (i0 = +i0);
    while (m) {
      const i = random2() * m-- | 0, t = array12[m + i0];
      array12[m + i0] = array12[i + i0];
      array12[i + i0] = t;
    }
    return array12;
  };
}

// node_modules/d3-scale/src/init.js
function initRange(domain, range6) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(domain);
      break;
    default:
      this.range(range6).domain(domain);
      break;
  }
  return this;
}

// node_modules/d3-scale/src/ordinal.js
var implicit = Symbol("implicit");
function ordinal() {
  var index6 = new InternMap(), domain = [], range6 = [], unknown = implicit;
  function scale2(d) {
    let i = index6.get(d);
    if (i === void 0) {
      if (unknown !== implicit)
        return unknown;
      index6.set(d, i = domain.push(d) - 1);
    }
    return range6[i % range6.length];
  }
  scale2.domain = function(_2) {
    if (!arguments.length)
      return domain.slice();
    domain = [], index6 = new InternMap();
    for (const value of _2) {
      if (index6.has(value))
        continue;
      index6.set(value, domain.push(value) - 1);
    }
    return scale2;
  };
  scale2.range = function(_2) {
    return arguments.length ? (range6 = Array.from(_2), scale2) : range6.slice();
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.copy = function() {
    return ordinal(domain, range6).unknown(unknown);
  };
  initRange.apply(scale2, arguments);
  return scale2;
}

// node_modules/d3-scale/node_modules/d3-color/src/define.js
function define_default3(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
}
function extend3(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition)
    prototype[key] = definition[key];
  return prototype;
}

// node_modules/d3-scale/node_modules/d3-color/src/color.js
function Color3() {
}
var darker3 = 0.7;
var brighter3 = 1 / darker3;
var reI3 = "\\s*([+-]?\\d+)\\s*";
var reN3 = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var reP3 = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var reHex3 = /^#([0-9a-f]{3,8})$/;
var reRgbInteger3 = new RegExp(`^rgb\\(${reI3},${reI3},${reI3}\\)$`);
var reRgbPercent3 = new RegExp(`^rgb\\(${reP3},${reP3},${reP3}\\)$`);
var reRgbaInteger3 = new RegExp(`^rgba\\(${reI3},${reI3},${reI3},${reN3}\\)$`);
var reRgbaPercent3 = new RegExp(`^rgba\\(${reP3},${reP3},${reP3},${reN3}\\)$`);
var reHslPercent3 = new RegExp(`^hsl\\(${reN3},${reP3},${reP3}\\)$`);
var reHslaPercent3 = new RegExp(`^hsla\\(${reN3},${reP3},${reP3},${reN3}\\)$`);
var named3 = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
define_default3(Color3, color3, {
  copy(channels2) {
    return Object.assign(new this.constructor(), this, channels2);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: color_formatHex3,
  formatHex: color_formatHex3,
  formatHex8: color_formatHex83,
  formatHsl: color_formatHsl3,
  formatRgb: color_formatRgb3,
  toString: color_formatRgb3
});
function color_formatHex3() {
  return this.rgb().formatHex();
}
function color_formatHex83() {
  return this.rgb().formatHex8();
}
function color_formatHsl3() {
  return hslConvert3(this).formatHsl();
}
function color_formatRgb3() {
  return this.rgb().formatRgb();
}
function color3(format5) {
  var m, l;
  format5 = (format5 + "").trim().toLowerCase();
  return (m = reHex3.exec(format5)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn3(m) : l === 3 ? new Rgb3(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba3(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba3(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger3.exec(format5)) ? new Rgb3(m[1], m[2], m[3], 1) : (m = reRgbPercent3.exec(format5)) ? new Rgb3(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger3.exec(format5)) ? rgba3(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent3.exec(format5)) ? rgba3(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent3.exec(format5)) ? hsla3(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent3.exec(format5)) ? hsla3(m[1], m[2] / 100, m[3] / 100, m[4]) : named3.hasOwnProperty(format5) ? rgbn3(named3[format5]) : format5 === "transparent" ? new Rgb3(NaN, NaN, NaN, 0) : null;
}
function rgbn3(n) {
  return new Rgb3(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
}
function rgba3(r, g, b, a3) {
  if (a3 <= 0)
    r = g = b = NaN;
  return new Rgb3(r, g, b, a3);
}
function rgbConvert3(o) {
  if (!(o instanceof Color3))
    o = color3(o);
  if (!o)
    return new Rgb3();
  o = o.rgb();
  return new Rgb3(o.r, o.g, o.b, o.opacity);
}
function rgb3(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert3(r) : new Rgb3(r, g, b, opacity == null ? 1 : opacity);
}
function Rgb3(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}
define_default3(Rgb3, rgb3, extend3(Color3, {
  brighter(k3) {
    k3 = k3 == null ? brighter3 : Math.pow(brighter3, k3);
    return new Rgb3(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker3 : Math.pow(darker3, k3);
    return new Rgb3(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  rgb() {
    return this;
  },
  clamp() {
    return new Rgb3(clampi3(this.r), clampi3(this.g), clampi3(this.b), clampa3(this.opacity));
  },
  displayable() {
    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
  },
  hex: rgb_formatHex3,
  formatHex: rgb_formatHex3,
  formatHex8: rgb_formatHex83,
  formatRgb: rgb_formatRgb3,
  toString: rgb_formatRgb3
}));
function rgb_formatHex3() {
  return `#${hex3(this.r)}${hex3(this.g)}${hex3(this.b)}`;
}
function rgb_formatHex83() {
  return `#${hex3(this.r)}${hex3(this.g)}${hex3(this.b)}${hex3((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function rgb_formatRgb3() {
  const a3 = clampa3(this.opacity);
  return `${a3 === 1 ? "rgb(" : "rgba("}${clampi3(this.r)}, ${clampi3(this.g)}, ${clampi3(this.b)}${a3 === 1 ? ")" : `, ${a3})`}`;
}
function clampa3(opacity) {
  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));
}
function clampi3(value) {
  return Math.max(0, Math.min(255, Math.round(value) || 0));
}
function hex3(value) {
  value = clampi3(value);
  return (value < 16 ? "0" : "") + value.toString(16);
}
function hsla3(h, s3, l, a3) {
  if (a3 <= 0)
    h = s3 = l = NaN;
  else if (l <= 0 || l >= 1)
    h = s3 = NaN;
  else if (s3 <= 0)
    h = NaN;
  return new Hsl3(h, s3, l, a3);
}
function hslConvert3(o) {
  if (o instanceof Hsl3)
    return new Hsl3(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color3))
    o = color3(o);
  if (!o)
    return new Hsl3();
  if (o instanceof Hsl3)
    return o;
  o = o.rgb();
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min8 = Math.min(r, g, b), max10 = Math.max(r, g, b), h = NaN, s3 = max10 - min8, l = (max10 + min8) / 2;
  if (s3) {
    if (r === max10)
      h = (g - b) / s3 + (g < b) * 6;
    else if (g === max10)
      h = (b - r) / s3 + 2;
    else
      h = (r - g) / s3 + 4;
    s3 /= l < 0.5 ? max10 + min8 : 2 - max10 - min8;
    h *= 60;
  } else {
    s3 = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl3(h, s3, l, o.opacity);
}
function hsl5(h, s3, l, opacity) {
  return arguments.length === 1 ? hslConvert3(h) : new Hsl3(h, s3, l, opacity == null ? 1 : opacity);
}
function Hsl3(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default3(Hsl3, hsl5, extend3(Color3, {
  brighter(k3) {
    k3 = k3 == null ? brighter3 : Math.pow(brighter3, k3);
    return new Hsl3(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker3 : Math.pow(darker3, k3);
    return new Hsl3(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = this.h % 360 + (this.h < 0) * 360, s3 = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s3, m1 = 2 * l - m2;
    return new Rgb3(
      hsl2rgb3(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb3(h, m1, m2),
      hsl2rgb3(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  clamp() {
    return new Hsl3(clamph3(this.h), clampt3(this.s), clampt3(this.l), clampa3(this.opacity));
  },
  displayable() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
  },
  formatHsl() {
    const a3 = clampa3(this.opacity);
    return `${a3 === 1 ? "hsl(" : "hsla("}${clamph3(this.h)}, ${clampt3(this.s) * 100}%, ${clampt3(this.l) * 100}%${a3 === 1 ? ")" : `, ${a3})`}`;
  }
}));
function clamph3(value) {
  value = (value || 0) % 360;
  return value < 0 ? value + 360 : value;
}
function clampt3(value) {
  return Math.max(0, Math.min(1, value || 0));
}
function hsl2rgb3(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
}

// node_modules/d3-scale/node_modules/d3-color/src/math.js
var radians4 = Math.PI / 180;
var degrees6 = 180 / Math.PI;

// node_modules/d3-scale/node_modules/d3-color/src/lab.js
var K3 = 18;
var Xn3 = 0.96422;
var Yn3 = 1;
var Zn3 = 0.82521;
var t03 = 4 / 29;
var t13 = 6 / 29;
var t23 = 3 * t13 * t13;
var t33 = t13 * t13 * t13;
function labConvert3(o) {
  if (o instanceof Lab3)
    return new Lab3(o.l, o.a, o.b, o.opacity);
  if (o instanceof Hcl3)
    return hcl2lab3(o);
  if (!(o instanceof Rgb3))
    o = rgbConvert3(o);
  var r = rgb2lrgb3(o.r), g = rgb2lrgb3(o.g), b = rgb2lrgb3(o.b), y7 = xyz2lab3((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn3), x7, z;
  if (r === g && g === b)
    x7 = z = y7;
  else {
    x7 = xyz2lab3((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn3);
    z = xyz2lab3((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn3);
  }
  return new Lab3(116 * y7 - 16, 500 * (x7 - y7), 200 * (y7 - z), o.opacity);
}
function lab5(l, a3, b, opacity) {
  return arguments.length === 1 ? labConvert3(l) : new Lab3(l, a3, b, opacity == null ? 1 : opacity);
}
function Lab3(l, a3, b, opacity) {
  this.l = +l;
  this.a = +a3;
  this.b = +b;
  this.opacity = +opacity;
}
define_default3(Lab3, lab5, extend3(Color3, {
  brighter(k3) {
    return new Lab3(this.l + K3 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  darker(k3) {
    return new Lab3(this.l - K3 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  rgb() {
    var y7 = (this.l + 16) / 116, x7 = isNaN(this.a) ? y7 : y7 + this.a / 500, z = isNaN(this.b) ? y7 : y7 - this.b / 200;
    x7 = Xn3 * lab2xyz3(x7);
    y7 = Yn3 * lab2xyz3(y7);
    z = Zn3 * lab2xyz3(z);
    return new Rgb3(
      lrgb2rgb3(3.1338561 * x7 - 1.6168667 * y7 - 0.4906146 * z),
      lrgb2rgb3(-0.9787684 * x7 + 1.9161415 * y7 + 0.033454 * z),
      lrgb2rgb3(0.0719453 * x7 - 0.2289914 * y7 + 1.4052427 * z),
      this.opacity
    );
  }
}));
function xyz2lab3(t) {
  return t > t33 ? Math.pow(t, 1 / 3) : t / t23 + t03;
}
function lab2xyz3(t) {
  return t > t13 ? t * t * t : t23 * (t - t03);
}
function lrgb2rgb3(x7) {
  return 255 * (x7 <= 31308e-7 ? 12.92 * x7 : 1.055 * Math.pow(x7, 1 / 2.4) - 0.055);
}
function rgb2lrgb3(x7) {
  return (x7 /= 255) <= 0.04045 ? x7 / 12.92 : Math.pow((x7 + 0.055) / 1.055, 2.4);
}
function hclConvert3(o) {
  if (o instanceof Hcl3)
    return new Hcl3(o.h, o.c, o.l, o.opacity);
  if (!(o instanceof Lab3))
    o = labConvert3(o);
  if (o.a === 0 && o.b === 0)
    return new Hcl3(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);
  var h = Math.atan2(o.b, o.a) * degrees6;
  return new Hcl3(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);
}
function hcl5(h, c7, l, opacity) {
  return arguments.length === 1 ? hclConvert3(h) : new Hcl3(h, c7, l, opacity == null ? 1 : opacity);
}
function Hcl3(h, c7, l, opacity) {
  this.h = +h;
  this.c = +c7;
  this.l = +l;
  this.opacity = +opacity;
}
function hcl2lab3(o) {
  if (isNaN(o.h))
    return new Lab3(o.l, 0, 0, o.opacity);
  var h = o.h * radians4;
  return new Lab3(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);
}
define_default3(Hcl3, hcl5, extend3(Color3, {
  brighter(k3) {
    return new Hcl3(this.h, this.c, this.l + K3 * (k3 == null ? 1 : k3), this.opacity);
  },
  darker(k3) {
    return new Hcl3(this.h, this.c, this.l - K3 * (k3 == null ? 1 : k3), this.opacity);
  },
  rgb() {
    return hcl2lab3(this).rgb();
  }
}));

// node_modules/d3-scale/node_modules/d3-color/src/cubehelix.js
var A5 = -0.14861;
var B4 = 1.78277;
var C3 = -0.29227;
var D4 = -0.90649;
var E3 = 1.97294;
var ED3 = E3 * D4;
var EB3 = E3 * B4;
var BC_DA3 = B4 * C3 - D4 * A5;
function cubehelixConvert3(o) {
  if (o instanceof Cubehelix3)
    return new Cubehelix3(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Rgb3))
    o = rgbConvert3(o);
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, l = (BC_DA3 * b + ED3 * r - EB3 * g) / (BC_DA3 + ED3 - EB3), bl = b - l, k3 = (E3 * (g - l) - C3 * bl) / D4, s3 = Math.sqrt(k3 * k3 + bl * bl) / (E3 * l * (1 - l)), h = s3 ? Math.atan2(k3, bl) * degrees6 - 120 : NaN;
  return new Cubehelix3(h < 0 ? h + 360 : h, s3, l, o.opacity);
}
function cubehelix5(h, s3, l, opacity) {
  return arguments.length === 1 ? cubehelixConvert3(h) : new Cubehelix3(h, s3, l, opacity == null ? 1 : opacity);
}
function Cubehelix3(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default3(Cubehelix3, cubehelix5, extend3(Color3, {
  brighter(k3) {
    k3 = k3 == null ? brighter3 : Math.pow(brighter3, k3);
    return new Cubehelix3(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker3 : Math.pow(darker3, k3);
    return new Cubehelix3(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians4, l = +this.l, a3 = isNaN(this.s) ? 0 : this.s * l * (1 - l), cosh7 = Math.cos(h), sinh7 = Math.sin(h);
    return new Rgb3(
      255 * (l + a3 * (A5 * cosh7 + B4 * sinh7)),
      255 * (l + a3 * (C3 * cosh7 + D4 * sinh7)),
      255 * (l + a3 * (E3 * cosh7)),
      this.opacity
    );
  }
}));

// node_modules/d3-scale/node_modules/d3-interpolate/src/basis.js
function basis3(t110, v0, v1, v2, v32) {
  var t27 = t110 * t110, t37 = t27 * t110;
  return ((1 - 3 * t110 + 3 * t27 - t37) * v0 + (4 - 6 * t27 + 3 * t37) * v1 + (1 + 3 * t110 + 3 * t27 - 3 * t37) * v2 + t37 * v32) / 6;
}
function basis_default3(values) {
  var n = values.length - 1;
  return function(t) {
    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values[i], v2 = values[i + 1], v0 = i > 0 ? values[i - 1] : 2 * v1 - v2, v32 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;
    return basis3((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/basisClosed.js
function basisClosed_default3(values) {
  var n = values.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values[(i + n - 1) % n], v1 = values[i % n], v2 = values[(i + 1) % n], v32 = values[(i + 2) % n];
    return basis3((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/constant.js
var constant_default13 = (x7) => () => x7;

// node_modules/d3-scale/node_modules/d3-interpolate/src/color.js
function linear5(a3, d) {
  return function(t) {
    return a3 + t * d;
  };
}
function exponential3(a3, b, y7) {
  return a3 = Math.pow(a3, y7), b = Math.pow(b, y7) - a3, y7 = 1 / y7, function(t) {
    return Math.pow(a3 + t * b, y7);
  };
}
function hue3(a3, b) {
  var d = b - a3;
  return d ? linear5(a3, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant_default13(isNaN(a3) ? b : a3);
}
function gamma3(y7) {
  return (y7 = +y7) === 1 ? nogamma3 : function(a3, b) {
    return b - a3 ? exponential3(a3, b, y7) : constant_default13(isNaN(a3) ? b : a3);
  };
}
function nogamma3(a3, b) {
  var d = b - a3;
  return d ? linear5(a3, d) : constant_default13(isNaN(a3) ? b : a3);
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/rgb.js
var rgb_default3 = function rgbGamma3(y7) {
  var color7 = gamma3(y7);
  function rgb7(start6, end2) {
    var r = color7((start6 = rgb3(start6)).r, (end2 = rgb3(end2)).r), g = color7(start6.g, end2.g), b = color7(start6.b, end2.b), opacity = nogamma3(start6.opacity, end2.opacity);
    return function(t) {
      start6.r = r(t);
      start6.g = g(t);
      start6.b = b(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  }
  rgb7.gamma = rgbGamma3;
  return rgb7;
}(1);
function rgbSpline3(spline) {
  return function(colors) {
    var n = colors.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color7;
    for (i = 0; i < n; ++i) {
      color7 = rgb3(colors[i]);
      r[i] = color7.r || 0;
      g[i] = color7.g || 0;
      b[i] = color7.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color7.opacity = 1;
    return function(t) {
      color7.r = r(t);
      color7.g = g(t);
      color7.b = b(t);
      return color7 + "";
    };
  };
}
var rgbBasis3 = rgbSpline3(basis_default3);
var rgbBasisClosed3 = rgbSpline3(basisClosed_default3);

// node_modules/d3-scale/node_modules/d3-interpolate/src/numberArray.js
function numberArray_default3(a3, b) {
  if (!b)
    b = [];
  var n = a3 ? Math.min(b.length, a3.length) : 0, c7 = b.slice(), i;
  return function(t) {
    for (i = 0; i < n; ++i)
      c7[i] = a3[i] * (1 - t) + b[i] * t;
    return c7;
  };
}
function isNumberArray3(x7) {
  return ArrayBuffer.isView(x7) && !(x7 instanceof DataView);
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/array.js
function genericArray3(a3, b) {
  var nb = b ? b.length : 0, na = a3 ? Math.min(nb, a3.length) : 0, x7 = new Array(na), c7 = new Array(nb), i;
  for (i = 0; i < na; ++i)
    x7[i] = value_default3(a3[i], b[i]);
  for (; i < nb; ++i)
    c7[i] = b[i];
  return function(t) {
    for (i = 0; i < na; ++i)
      c7[i] = x7[i](t);
    return c7;
  };
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/date.js
function date_default3(a3, b) {
  var d = new Date();
  return a3 = +a3, b = +b, function(t) {
    return d.setTime(a3 * (1 - t) + b * t), d;
  };
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/number.js
function number_default3(a3, b) {
  return a3 = +a3, b = +b, function(t) {
    return a3 * (1 - t) + b * t;
  };
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/object.js
function object_default3(a3, b) {
  var i = {}, c7 = {}, k3;
  if (a3 === null || typeof a3 !== "object")
    a3 = {};
  if (b === null || typeof b !== "object")
    b = {};
  for (k3 in b) {
    if (k3 in a3) {
      i[k3] = value_default3(a3[k3], b[k3]);
    } else {
      c7[k3] = b[k3];
    }
  }
  return function(t) {
    for (k3 in i)
      c7[k3] = i[k3](t);
    return c7;
  };
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/string.js
var reA3 = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var reB3 = new RegExp(reA3.source, "g");
function zero7(b) {
  return function() {
    return b;
  };
}
function one3(b) {
  return function(t) {
    return b(t) + "";
  };
}
function string_default3(a3, b) {
  var bi = reA3.lastIndex = reB3.lastIndex = 0, am, bm, bs, i = -1, s3 = [], q = [];
  a3 = a3 + "", b = b + "";
  while ((am = reA3.exec(a3)) && (bm = reB3.exec(b))) {
    if ((bs = bm.index) > bi) {
      bs = b.slice(bi, bs);
      if (s3[i])
        s3[i] += bs;
      else
        s3[++i] = bs;
    }
    if ((am = am[0]) === (bm = bm[0])) {
      if (s3[i])
        s3[i] += bm;
      else
        s3[++i] = bm;
    } else {
      s3[++i] = null;
      q.push({ i, x: number_default3(am, bm) });
    }
    bi = reB3.lastIndex;
  }
  if (bi < b.length) {
    bs = b.slice(bi);
    if (s3[i])
      s3[i] += bs;
    else
      s3[++i] = bs;
  }
  return s3.length < 2 ? q[0] ? one3(q[0].x) : zero7(b) : (b = q.length, function(t) {
    for (var i2 = 0, o; i2 < b; ++i2)
      s3[(o = q[i2]).i] = o.x(t);
    return s3.join("");
  });
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/value.js
function value_default3(a3, b) {
  var t = typeof b, c7;
  return b == null || t === "boolean" ? constant_default13(b) : (t === "number" ? number_default3 : t === "string" ? (c7 = color3(b)) ? (b = c7, rgb_default3) : string_default3 : b instanceof color3 ? rgb_default3 : b instanceof Date ? date_default3 : isNumberArray3(b) ? numberArray_default3 : Array.isArray(b) ? genericArray3 : typeof b.valueOf !== "function" && typeof b.toString !== "function" || isNaN(b) ? object_default3 : number_default3)(a3, b);
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/round.js
function round_default4(a3, b) {
  return a3 = +a3, b = +b, function(t) {
    return Math.round(a3 * (1 - t) + b * t);
  };
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/transform/decompose.js
var degrees7 = 180 / Math.PI;
var identity7 = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function decompose_default3(a3, b, c7, d, e, f2) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a3 * a3 + b * b))
    a3 /= scaleX, b /= scaleX;
  if (skewX = a3 * c7 + b * d)
    c7 -= a3 * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c7 * c7 + d * d))
    c7 /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a3 * d < b * c7)
    a3 = -a3, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f2,
    rotate: Math.atan2(b, a3) * degrees7,
    skewX: Math.atan(skewX) * degrees7,
    scaleX,
    scaleY
  };
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/transform/parse.js
var svgNode3;
function parseCss3(value) {
  const m = new (typeof DOMMatrix === "function" ? DOMMatrix : WebKitCSSMatrix)(value + "");
  return m.isIdentity ? identity7 : decompose_default3(m.a, m.b, m.c, m.d, m.e, m.f);
}
function parseSvg3(value) {
  if (value == null)
    return identity7;
  if (!svgNode3)
    svgNode3 = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode3.setAttribute("transform", value);
  if (!(value = svgNode3.transform.baseVal.consolidate()))
    return identity7;
  value = value.matrix;
  return decompose_default3(value.a, value.b, value.c, value.d, value.e, value.f);
}

// node_modules/d3-scale/node_modules/d3-interpolate/src/transform/index.js
function interpolateTransform3(parse4, pxComma, pxParen, degParen) {
  function pop(s3) {
    return s3.length ? s3.pop() + " " : "";
  }
  function translate(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push("translate(", null, pxComma, null, pxParen);
      q.push({ i: i - 4, x: number_default3(xa, xb) }, { i: i - 2, x: number_default3(ya, yb) });
    } else if (xb || yb) {
      s3.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }
  function rotate(a3, b, s3, q) {
    if (a3 !== b) {
      if (a3 - b > 180)
        b += 360;
      else if (b - a3 > 180)
        a3 += 360;
      q.push({ i: s3.push(pop(s3) + "rotate(", null, degParen) - 2, x: number_default3(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "rotate(" + b + degParen);
    }
  }
  function skewX(a3, b, s3, q) {
    if (a3 !== b) {
      q.push({ i: s3.push(pop(s3) + "skewX(", null, degParen) - 2, x: number_default3(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "skewX(" + b + degParen);
    }
  }
  function scale2(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push(pop(s3) + "scale(", null, ",", null, ")");
      q.push({ i: i - 4, x: number_default3(xa, xb) }, { i: i - 2, x: number_default3(ya, yb) });
    } else if (xb !== 1 || yb !== 1) {
      s3.push(pop(s3) + "scale(" + xb + "," + yb + ")");
    }
  }
  return function(a3, b) {
    var s3 = [], q = [];
    a3 = parse4(a3), b = parse4(b);
    translate(a3.translateX, a3.translateY, b.translateX, b.translateY, s3, q);
    rotate(a3.rotate, b.rotate, s3, q);
    skewX(a3.skewX, b.skewX, s3, q);
    scale2(a3.scaleX, a3.scaleY, b.scaleX, b.scaleY, s3, q);
    a3 = b = null;
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n)
        s3[(o = q[i]).i] = o.x(t);
      return s3.join("");
    };
  };
}
var interpolateTransformCss3 = interpolateTransform3(parseCss3, "px, ", "px)", "deg)");
var interpolateTransformSvg3 = interpolateTransform3(parseSvg3, ", ", ")", ")");

// node_modules/d3-scale/node_modules/d3-interpolate/src/zoom.js
var epsilon24 = 1e-12;
function cosh3(x7) {
  return ((x7 = Math.exp(x7)) + 1 / x7) / 2;
}
function sinh3(x7) {
  return ((x7 = Math.exp(x7)) - 1 / x7) / 2;
}
function tanh3(x7) {
  return ((x7 = Math.exp(2 * x7)) - 1) / (x7 + 1);
}
var zoom_default3 = function zoomRho3(rho3, rho22, rho42) {
  function zoom(p02, p1) {
    var ux0 = p02[0], uy0 = p02[1], w0 = p02[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;
    if (d2 < epsilon24) {
      S = Math.log(w1 / w0) / rho3;
      i = function(t) {
        return [
          ux0 + t * dx,
          uy0 + t * dy,
          w0 * Math.exp(rho3 * t * S)
        ];
      };
    } else {
      var d1 = Math.sqrt(d2), b05 = (w1 * w1 - w0 * w0 + rho42 * d2) / (2 * w0 * rho22 * d1), b15 = (w1 * w1 - w0 * w0 - rho42 * d2) / (2 * w1 * rho22 * d1), r0 = Math.log(Math.sqrt(b05 * b05 + 1) - b05), r1 = Math.log(Math.sqrt(b15 * b15 + 1) - b15);
      S = (r1 - r0) / rho3;
      i = function(t) {
        var s3 = t * S, coshr0 = cosh3(r0), u4 = w0 / (rho22 * d1) * (coshr0 * tanh3(rho3 * s3 + r0) - sinh3(r0));
        return [
          ux0 + u4 * dx,
          uy0 + u4 * dy,
          w0 * coshr0 / cosh3(rho3 * s3 + r0)
        ];
      };
    }
    i.duration = S * 1e3 * rho3 / Math.SQRT2;
    return i;
  }
  zoom.rho = function(_2) {
    var _1 = Math.max(1e-3, +_2), _22 = _1 * _1, _4 = _22 * _22;
    return zoomRho3(_1, _22, _4);
  };
  return zoom;
}(Math.SQRT2, 2, 4);

// node_modules/d3-scale/node_modules/d3-interpolate/src/hsl.js
function hsl6(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hsl5(start6)).h, (end2 = hsl5(end2)).h), s3 = nogamma3(start6.s, end2.s), l = nogamma3(start6.l, end2.l), opacity = nogamma3(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.s = s3(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hsl_default3 = hsl6(hue3);
var hslLong3 = hsl6(nogamma3);

// node_modules/d3-scale/node_modules/d3-interpolate/src/hcl.js
function hcl6(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hcl5(start6)).h, (end2 = hcl5(end2)).h), c7 = nogamma3(start6.c, end2.c), l = nogamma3(start6.l, end2.l), opacity = nogamma3(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.c = c7(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hcl_default3 = hcl6(hue3);
var hclLong3 = hcl6(nogamma3);

// node_modules/d3-scale/node_modules/d3-interpolate/src/cubehelix.js
function cubehelix6(hue7) {
  return function cubehelixGamma(y7) {
    y7 = +y7;
    function cubehelix13(start6, end2) {
      var h = hue7((start6 = cubehelix5(start6)).h, (end2 = cubehelix5(end2)).h), s3 = nogamma3(start6.s, end2.s), l = nogamma3(start6.l, end2.l), opacity = nogamma3(start6.opacity, end2.opacity);
      return function(t) {
        start6.h = h(t);
        start6.s = s3(t);
        start6.l = l(Math.pow(t, y7));
        start6.opacity = opacity(t);
        return start6 + "";
      };
    }
    cubehelix13.gamma = cubehelixGamma;
    return cubehelix13;
  }(1);
}
var cubehelix_default3 = cubehelix6(hue3);
var cubehelixLong3 = cubehelix6(nogamma3);

// node_modules/d3-scale/src/constant.js
function constants(x7) {
  return function() {
    return x7;
  };
}

// node_modules/d3-scale/src/number.js
function number6(x7) {
  return +x7;
}

// node_modules/d3-scale/src/continuous.js
var unit = [0, 1];
function identity8(x7) {
  return x7;
}
function normalize(a3, b) {
  return (b -= a3 = +a3) ? function(x7) {
    return (x7 - a3) / b;
  } : constants(isNaN(b) ? NaN : 0.5);
}
function clamper(a3, b) {
  var t;
  if (a3 > b)
    t = a3, a3 = b, b = t;
  return function(x7) {
    return Math.max(a3, Math.min(b, x7));
  };
}
function bimap(domain, range6, interpolate) {
  var d0 = domain[0], d1 = domain[1], r0 = range6[0], r1 = range6[1];
  if (d1 < d0)
    d0 = normalize(d1, d0), r0 = interpolate(r1, r0);
  else
    d0 = normalize(d0, d1), r0 = interpolate(r0, r1);
  return function(x7) {
    return r0(d0(x7));
  };
}
function polymap(domain, range6, interpolate) {
  var j = Math.min(domain.length, range6.length) - 1, d = new Array(j), r = new Array(j), i = -1;
  if (domain[j] < domain[0]) {
    domain = domain.slice().reverse();
    range6 = range6.slice().reverse();
  }
  while (++i < j) {
    d[i] = normalize(domain[i], domain[i + 1]);
    r[i] = interpolate(range6[i], range6[i + 1]);
  }
  return function(x7) {
    var i2 = bisect_default4(domain, x7, 1, j) - 1;
    return r[i2](d[i2](x7));
  };
}
function copy(source, target) {
  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());
}
function transformer2() {
  var domain = unit, range6 = unit, interpolate = value_default3, transform3, untransform, unknown, clamp = identity8, piecewise7, output, input;
  function rescale() {
    var n = Math.min(domain.length, range6.length);
    if (clamp !== identity8)
      clamp = clamper(domain[0], domain[n - 1]);
    piecewise7 = n > 2 ? polymap : bimap;
    output = input = null;
    return scale2;
  }
  function scale2(x7) {
    return x7 == null || isNaN(x7 = +x7) ? unknown : (output || (output = piecewise7(domain.map(transform3), range6, interpolate)))(transform3(clamp(x7)));
  }
  scale2.invert = function(y7) {
    return clamp(untransform((input || (input = piecewise7(range6, domain.map(transform3), number_default3)))(y7)));
  };
  scale2.domain = function(_2) {
    return arguments.length ? (domain = Array.from(_2, number6), rescale()) : domain.slice();
  };
  scale2.range = function(_2) {
    return arguments.length ? (range6 = Array.from(_2), rescale()) : range6.slice();
  };
  scale2.rangeRound = function(_2) {
    return range6 = Array.from(_2), interpolate = round_default4, rescale();
  };
  scale2.clamp = function(_2) {
    return arguments.length ? (clamp = _2 ? true : identity8, rescale()) : clamp !== identity8;
  };
  scale2.interpolate = function(_2) {
    return arguments.length ? (interpolate = _2, rescale()) : interpolate;
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  return function(t, u4) {
    transform3 = t, untransform = u4;
    return rescale();
  };
}
function continuous() {
  return transformer2()(identity8, identity8);
}

// node_modules/d3-scale/node_modules/d3-format/src/formatDecimal.js
function formatDecimal_default2(x7) {
  return Math.abs(x7 = Math.round(x7)) >= 1e21 ? x7.toLocaleString("en").replace(/,/g, "") : x7.toString(10);
}
function formatDecimalParts2(x7, p) {
  if ((i = (x7 = p ? x7.toExponential(p - 1) : x7.toExponential()).indexOf("e")) < 0)
    return null;
  var i, coefficient = x7.slice(0, i);
  return [
    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,
    +x7.slice(i + 1)
  ];
}

// node_modules/d3-scale/node_modules/d3-format/src/exponent.js
function exponent_default2(x7) {
  return x7 = formatDecimalParts2(Math.abs(x7)), x7 ? x7[1] : NaN;
}

// node_modules/d3-scale/node_modules/d3-format/src/formatGroup.js
function formatGroup_default2(grouping, thousands) {
  return function(value, width2) {
    var i = value.length, t = [], j = 0, g = grouping[0], length3 = 0;
    while (i > 0 && g > 0) {
      if (length3 + g + 1 > width2)
        g = Math.max(1, width2 - length3);
      t.push(value.substring(i -= g, i + g));
      if ((length3 += g + 1) > width2)
        break;
      g = grouping[j = (j + 1) % grouping.length];
    }
    return t.reverse().join(thousands);
  };
}

// node_modules/d3-scale/node_modules/d3-format/src/formatNumerals.js
function formatNumerals_default2(numerals) {
  return function(value) {
    return value.replace(/[0-9]/g, function(i) {
      return numerals[+i];
    });
  };
}

// node_modules/d3-scale/node_modules/d3-format/src/formatSpecifier.js
var re2 = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function formatSpecifier2(specifier) {
  if (!(match2 = re2.exec(specifier)))
    throw new Error("invalid format: " + specifier);
  var match2;
  return new FormatSpecifier2({
    fill: match2[1],
    align: match2[2],
    sign: match2[3],
    symbol: match2[4],
    zero: match2[5],
    width: match2[6],
    comma: match2[7],
    precision: match2[8] && match2[8].slice(1),
    trim: match2[9],
    type: match2[10]
  });
}
formatSpecifier2.prototype = FormatSpecifier2.prototype;
function FormatSpecifier2(specifier) {
  this.fill = specifier.fill === void 0 ? " " : specifier.fill + "";
  this.align = specifier.align === void 0 ? ">" : specifier.align + "";
  this.sign = specifier.sign === void 0 ? "-" : specifier.sign + "";
  this.symbol = specifier.symbol === void 0 ? "" : specifier.symbol + "";
  this.zero = !!specifier.zero;
  this.width = specifier.width === void 0 ? void 0 : +specifier.width;
  this.comma = !!specifier.comma;
  this.precision = specifier.precision === void 0 ? void 0 : +specifier.precision;
  this.trim = !!specifier.trim;
  this.type = specifier.type === void 0 ? "" : specifier.type + "";
}
FormatSpecifier2.prototype.toString = function() {
  return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma ? "," : "") + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) + (this.trim ? "~" : "") + this.type;
};

// node_modules/d3-scale/node_modules/d3-format/src/formatTrim.js
function formatTrim_default2(s3) {
  out:
    for (var n = s3.length, i = 1, i0 = -1, i1; i < n; ++i) {
      switch (s3[i]) {
        case ".":
          i0 = i1 = i;
          break;
        case "0":
          if (i0 === 0)
            i0 = i;
          i1 = i;
          break;
        default:
          if (!+s3[i])
            break out;
          if (i0 > 0)
            i0 = 0;
          break;
      }
    }
  return i0 > 0 ? s3.slice(0, i0) + s3.slice(i1 + 1) : s3;
}

// node_modules/d3-scale/node_modules/d3-format/src/formatPrefixAuto.js
var prefixExponent2;
function formatPrefixAuto_default2(x7, p) {
  var d = formatDecimalParts2(x7, p);
  if (!d)
    return x7 + "";
  var coefficient = d[0], exponent5 = d[1], i = exponent5 - (prefixExponent2 = Math.max(-8, Math.min(8, Math.floor(exponent5 / 3))) * 3) + 1, n = coefficient.length;
  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join("0") : i > 0 ? coefficient.slice(0, i) + "." + coefficient.slice(i) : "0." + new Array(1 - i).join("0") + formatDecimalParts2(x7, Math.max(0, p + i - 1))[0];
}

// node_modules/d3-scale/node_modules/d3-format/src/formatRounded.js
function formatRounded_default2(x7, p) {
  var d = formatDecimalParts2(x7, p);
  if (!d)
    return x7 + "";
  var coefficient = d[0], exponent5 = d[1];
  return exponent5 < 0 ? "0." + new Array(-exponent5).join("0") + coefficient : coefficient.length > exponent5 + 1 ? coefficient.slice(0, exponent5 + 1) + "." + coefficient.slice(exponent5 + 1) : coefficient + new Array(exponent5 - coefficient.length + 2).join("0");
}

// node_modules/d3-scale/node_modules/d3-format/src/formatTypes.js
var formatTypes_default2 = {
  "%": (x7, p) => (x7 * 100).toFixed(p),
  "b": (x7) => Math.round(x7).toString(2),
  "c": (x7) => x7 + "",
  "d": formatDecimal_default2,
  "e": (x7, p) => x7.toExponential(p),
  "f": (x7, p) => x7.toFixed(p),
  "g": (x7, p) => x7.toPrecision(p),
  "o": (x7) => Math.round(x7).toString(8),
  "p": (x7, p) => formatRounded_default2(x7 * 100, p),
  "r": formatRounded_default2,
  "s": formatPrefixAuto_default2,
  "X": (x7) => Math.round(x7).toString(16).toUpperCase(),
  "x": (x7) => Math.round(x7).toString(16)
};

// node_modules/d3-scale/node_modules/d3-format/src/identity.js
function identity_default5(x7) {
  return x7;
}

// node_modules/d3-scale/node_modules/d3-format/src/locale.js
var map10 = Array.prototype.map;
var prefixes2 = ["y", "z", "a", "f", "p", "n", "\xB5", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
function locale_default2(locale7) {
  var group5 = locale7.grouping === void 0 || locale7.thousands === void 0 ? identity_default5 : formatGroup_default2(map10.call(locale7.grouping, Number), locale7.thousands + ""), currencyPrefix = locale7.currency === void 0 ? "" : locale7.currency[0] + "", currencySuffix = locale7.currency === void 0 ? "" : locale7.currency[1] + "", decimal = locale7.decimal === void 0 ? "." : locale7.decimal + "", numerals = locale7.numerals === void 0 ? identity_default5 : formatNumerals_default2(map10.call(locale7.numerals, String)), percent = locale7.percent === void 0 ? "%" : locale7.percent + "", minus = locale7.minus === void 0 ? "\u2212" : locale7.minus + "", nan = locale7.nan === void 0 ? "NaN" : locale7.nan + "";
  function newFormat(specifier) {
    specifier = formatSpecifier2(specifier);
    var fill = specifier.fill, align = specifier.align, sign5 = specifier.sign, symbol = specifier.symbol, zero10 = specifier.zero, width2 = specifier.width, comma = specifier.comma, precision = specifier.precision, trim2 = specifier.trim, type4 = specifier.type;
    if (type4 === "n")
      comma = true, type4 = "g";
    else if (!formatTypes_default2[type4])
      precision === void 0 && (precision = 12), trim2 = true, type4 = "g";
    if (zero10 || fill === "0" && align === "=")
      zero10 = true, fill = "0", align = "=";
    var prefix3 = symbol === "$" ? currencyPrefix : symbol === "#" && /[boxX]/.test(type4) ? "0" + type4.toLowerCase() : "", suffix = symbol === "$" ? currencySuffix : /[%p]/.test(type4) ? percent : "";
    var formatType = formatTypes_default2[type4], maybeSuffix = /[defgprs%]/.test(type4);
    precision = precision === void 0 ? 6 : /[gprs]/.test(type4) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));
    function format5(value) {
      var valuePrefix = prefix3, valueSuffix = suffix, i, n, c7;
      if (type4 === "c") {
        valueSuffix = formatType(value) + valueSuffix;
        value = "";
      } else {
        value = +value;
        var valueNegative = value < 0 || 1 / value < 0;
        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);
        if (trim2)
          value = formatTrim_default2(value);
        if (valueNegative && +value === 0 && sign5 !== "+")
          valueNegative = false;
        valuePrefix = (valueNegative ? sign5 === "(" ? sign5 : minus : sign5 === "-" || sign5 === "(" ? "" : sign5) + valuePrefix;
        valueSuffix = (type4 === "s" ? prefixes2[8 + prefixExponent2 / 3] : "") + valueSuffix + (valueNegative && sign5 === "(" ? ")" : "");
        if (maybeSuffix) {
          i = -1, n = value.length;
          while (++i < n) {
            if (c7 = value.charCodeAt(i), 48 > c7 || c7 > 57) {
              valueSuffix = (c7 === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;
              value = value.slice(0, i);
              break;
            }
          }
        }
      }
      if (comma && !zero10)
        value = group5(value, Infinity);
      var length3 = valuePrefix.length + value.length + valueSuffix.length, padding2 = length3 < width2 ? new Array(width2 - length3 + 1).join(fill) : "";
      if (comma && zero10)
        value = group5(padding2 + value, padding2.length ? width2 - valueSuffix.length : Infinity), padding2 = "";
      switch (align) {
        case "<":
          value = valuePrefix + value + valueSuffix + padding2;
          break;
        case "=":
          value = valuePrefix + padding2 + value + valueSuffix;
          break;
        case "^":
          value = padding2.slice(0, length3 = padding2.length >> 1) + valuePrefix + value + valueSuffix + padding2.slice(length3);
          break;
        default:
          value = padding2 + valuePrefix + value + valueSuffix;
          break;
      }
      return numerals(value);
    }
    format5.toString = function() {
      return specifier + "";
    };
    return format5;
  }
  function formatPrefix4(specifier, value) {
    var f2 = newFormat((specifier = formatSpecifier2(specifier), specifier.type = "f", specifier)), e = Math.max(-8, Math.min(8, Math.floor(exponent_default2(value) / 3))) * 3, k3 = Math.pow(10, -e), prefix3 = prefixes2[8 + e / 3];
    return function(value2) {
      return f2(k3 * value2) + prefix3;
    };
  }
  return {
    format: newFormat,
    formatPrefix: formatPrefix4
  };
}

// node_modules/d3-scale/node_modules/d3-format/src/defaultLocale.js
var locale2;
var format2;
var formatPrefix2;
defaultLocale2({
  thousands: ",",
  grouping: [3],
  currency: ["$", ""]
});
function defaultLocale2(definition) {
  locale2 = locale_default2(definition);
  format2 = locale2.format;
  formatPrefix2 = locale2.formatPrefix;
  return locale2;
}

// node_modules/d3-scale/node_modules/d3-format/src/precisionFixed.js
function precisionFixed_default2(step) {
  return Math.max(0, -exponent_default2(Math.abs(step)));
}

// node_modules/d3-scale/node_modules/d3-format/src/precisionPrefix.js
function precisionPrefix_default2(step, value) {
  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent_default2(value) / 3))) * 3 - exponent_default2(Math.abs(step)));
}

// node_modules/d3-scale/node_modules/d3-format/src/precisionRound.js
function precisionRound_default2(step, max10) {
  step = Math.abs(step), max10 = Math.abs(max10) - step;
  return Math.max(0, exponent_default2(max10) - exponent_default2(step)) + 1;
}

// node_modules/d3-scale/src/tickFormat.js
function tickFormat(start6, stop, count7, specifier) {
  var step = tickStep4(start6, stop, count7), precision;
  specifier = formatSpecifier2(specifier == null ? ",f" : specifier);
  switch (specifier.type) {
    case "s": {
      var value = Math.max(Math.abs(start6), Math.abs(stop));
      if (specifier.precision == null && !isNaN(precision = precisionPrefix_default2(step, value)))
        specifier.precision = precision;
      return formatPrefix2(specifier, value);
    }
    case "":
    case "e":
    case "g":
    case "p":
    case "r": {
      if (specifier.precision == null && !isNaN(precision = precisionRound_default2(step, Math.max(Math.abs(start6), Math.abs(stop)))))
        specifier.precision = precision - (specifier.type === "e");
      break;
    }
    case "f":
    case "%": {
      if (specifier.precision == null && !isNaN(precision = precisionFixed_default2(step)))
        specifier.precision = precision - (specifier.type === "%") * 2;
      break;
    }
  }
  return format2(specifier);
}

// node_modules/d3-scale/src/linear.js
function linearish(scale2) {
  var domain = scale2.domain;
  scale2.ticks = function(count7) {
    var d = domain();
    return ticks4(d[0], d[d.length - 1], count7 == null ? 10 : count7);
  };
  scale2.tickFormat = function(count7, specifier) {
    var d = domain();
    return tickFormat(d[0], d[d.length - 1], count7 == null ? 10 : count7, specifier);
  };
  scale2.nice = function(count7) {
    if (count7 == null)
      count7 = 10;
    var d = domain();
    var i0 = 0;
    var i1 = d.length - 1;
    var start6 = d[i0];
    var stop = d[i1];
    var prestep;
    var step;
    var maxIter = 10;
    if (stop < start6) {
      step = start6, start6 = stop, stop = step;
      step = i0, i0 = i1, i1 = step;
    }
    while (maxIter-- > 0) {
      step = tickIncrement4(start6, stop, count7);
      if (step === prestep) {
        d[i0] = start6;
        d[i1] = stop;
        return domain(d);
      } else if (step > 0) {
        start6 = Math.floor(start6 / step) * step;
        stop = Math.ceil(stop / step) * step;
      } else if (step < 0) {
        start6 = Math.ceil(start6 * step) / step;
        stop = Math.floor(stop * step) / step;
      } else {
        break;
      }
      prestep = step;
    }
    return scale2;
  };
  return scale2;
}
function linear6() {
  var scale2 = continuous();
  scale2.copy = function() {
    return copy(scale2, linear6());
  };
  initRange.apply(scale2, arguments);
  return linearish(scale2);
}

// node_modules/d3-scale/src/nice.js
function nice5(domain, interval6) {
  domain = domain.slice();
  var i0 = 0, i1 = domain.length - 1, x07 = domain[i0], x13 = domain[i1], t;
  if (x13 < x07) {
    t = i0, i0 = i1, i1 = t;
    t = x07, x07 = x13, x13 = t;
  }
  domain[i0] = interval6.floor(x07);
  domain[i1] = interval6.ceil(x13);
  return domain;
}

// node_modules/d3-scale/node_modules/d3-time/src/interval.js
var t04 = new Date();
var t14 = new Date();
function newInterval(floori, offseti, count7, field) {
  function interval6(date3) {
    return floori(date3 = arguments.length === 0 ? new Date() : new Date(+date3)), date3;
  }
  interval6.floor = function(date3) {
    return floori(date3 = new Date(+date3)), date3;
  };
  interval6.ceil = function(date3) {
    return floori(date3 = new Date(date3 - 1)), offseti(date3, 1), floori(date3), date3;
  };
  interval6.round = function(date3) {
    var d0 = interval6(date3), d1 = interval6.ceil(date3);
    return date3 - d0 < d1 - date3 ? d0 : d1;
  };
  interval6.offset = function(date3, step) {
    return offseti(date3 = new Date(+date3), step == null ? 1 : Math.floor(step)), date3;
  };
  interval6.range = function(start6, stop, step) {
    var range6 = [], previous;
    start6 = interval6.ceil(start6);
    step = step == null ? 1 : Math.floor(step);
    if (!(start6 < stop) || !(step > 0))
      return range6;
    do
      range6.push(previous = new Date(+start6)), offseti(start6, step), floori(start6);
    while (previous < start6 && start6 < stop);
    return range6;
  };
  interval6.filter = function(test) {
    return newInterval(function(date3) {
      if (date3 >= date3)
        while (floori(date3), !test(date3))
          date3.setTime(date3 - 1);
    }, function(date3, step) {
      if (date3 >= date3) {
        if (step < 0)
          while (++step <= 0) {
            while (offseti(date3, -1), !test(date3)) {
            }
          }
        else
          while (--step >= 0) {
            while (offseti(date3, 1), !test(date3)) {
            }
          }
      }
    });
  };
  if (count7) {
    interval6.count = function(start6, end2) {
      t04.setTime(+start6), t14.setTime(+end2);
      floori(t04), floori(t14);
      return Math.floor(count7(t04, t14));
    };
    interval6.every = function(step) {
      step = Math.floor(step);
      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval6 : interval6.filter(field ? function(d) {
        return field(d) % step === 0;
      } : function(d) {
        return interval6.count(0, d) % step === 0;
      });
    };
  }
  return interval6;
}

// node_modules/d3-scale/node_modules/d3-time/src/millisecond.js
var millisecond = newInterval(function() {
}, function(date3, step) {
  date3.setTime(+date3 + step);
}, function(start6, end2) {
  return end2 - start6;
});
millisecond.every = function(k3) {
  k3 = Math.floor(k3);
  if (!isFinite(k3) || !(k3 > 0))
    return null;
  if (!(k3 > 1))
    return millisecond;
  return newInterval(function(date3) {
    date3.setTime(Math.floor(date3 / k3) * k3);
  }, function(date3, step) {
    date3.setTime(+date3 + step * k3);
  }, function(start6, end2) {
    return (end2 - start6) / k3;
  });
};
var millisecond_default = millisecond;
var milliseconds = millisecond.range;

// node_modules/d3-scale/node_modules/d3-time/src/duration.js
var durationSecond = 1e3;
var durationMinute = durationSecond * 60;
var durationHour = durationMinute * 60;
var durationDay = durationHour * 24;
var durationWeek = durationDay * 7;
var durationMonth = durationDay * 30;
var durationYear = durationDay * 365;

// node_modules/d3-scale/node_modules/d3-time/src/second.js
var second = newInterval(function(date3) {
  date3.setTime(date3 - date3.getMilliseconds());
}, function(date3, step) {
  date3.setTime(+date3 + step * durationSecond);
}, function(start6, end2) {
  return (end2 - start6) / durationSecond;
}, function(date3) {
  return date3.getUTCSeconds();
});
var second_default = second;
var seconds = second.range;

// node_modules/d3-scale/node_modules/d3-time/src/minute.js
var minute = newInterval(function(date3) {
  date3.setTime(date3 - date3.getMilliseconds() - date3.getSeconds() * durationSecond);
}, function(date3, step) {
  date3.setTime(+date3 + step * durationMinute);
}, function(start6, end2) {
  return (end2 - start6) / durationMinute;
}, function(date3) {
  return date3.getMinutes();
});
var minute_default = minute;
var minutes = minute.range;

// node_modules/d3-scale/node_modules/d3-time/src/hour.js
var hour = newInterval(function(date3) {
  date3.setTime(date3 - date3.getMilliseconds() - date3.getSeconds() * durationSecond - date3.getMinutes() * durationMinute);
}, function(date3, step) {
  date3.setTime(+date3 + step * durationHour);
}, function(start6, end2) {
  return (end2 - start6) / durationHour;
}, function(date3) {
  return date3.getHours();
});
var hour_default = hour;
var hours = hour.range;

// node_modules/d3-scale/node_modules/d3-time/src/day.js
var day = newInterval(
  (date3) => date3.setHours(0, 0, 0, 0),
  (date3, step) => date3.setDate(date3.getDate() + step),
  (start6, end2) => (end2 - start6 - (end2.getTimezoneOffset() - start6.getTimezoneOffset()) * durationMinute) / durationDay,
  (date3) => date3.getDate() - 1
);
var day_default = day;
var days = day.range;

// node_modules/d3-scale/node_modules/d3-time/src/week.js
function weekday(i) {
  return newInterval(function(date3) {
    date3.setDate(date3.getDate() - (date3.getDay() + 7 - i) % 7);
    date3.setHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setDate(date3.getDate() + step * 7);
  }, function(start6, end2) {
    return (end2 - start6 - (end2.getTimezoneOffset() - start6.getTimezoneOffset()) * durationMinute) / durationWeek;
  });
}
var sunday = weekday(0);
var monday = weekday(1);
var tuesday = weekday(2);
var wednesday = weekday(3);
var thursday = weekday(4);
var friday = weekday(5);
var saturday = weekday(6);
var sundays = sunday.range;
var mondays = monday.range;
var tuesdays = tuesday.range;
var wednesdays = wednesday.range;
var thursdays = thursday.range;
var fridays = friday.range;
var saturdays = saturday.range;

// node_modules/d3-scale/node_modules/d3-time/src/month.js
var month = newInterval(function(date3) {
  date3.setDate(1);
  date3.setHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setMonth(date3.getMonth() + step);
}, function(start6, end2) {
  return end2.getMonth() - start6.getMonth() + (end2.getFullYear() - start6.getFullYear()) * 12;
}, function(date3) {
  return date3.getMonth();
});
var month_default = month;
var months = month.range;

// node_modules/d3-scale/node_modules/d3-time/src/year.js
var year = newInterval(function(date3) {
  date3.setMonth(0, 1);
  date3.setHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setFullYear(date3.getFullYear() + step);
}, function(start6, end2) {
  return end2.getFullYear() - start6.getFullYear();
}, function(date3) {
  return date3.getFullYear();
});
year.every = function(k3) {
  return !isFinite(k3 = Math.floor(k3)) || !(k3 > 0) ? null : newInterval(function(date3) {
    date3.setFullYear(Math.floor(date3.getFullYear() / k3) * k3);
    date3.setMonth(0, 1);
    date3.setHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setFullYear(date3.getFullYear() + step * k3);
  });
};
var year_default = year;
var years = year.range;

// node_modules/d3-scale/node_modules/d3-time/src/utcMinute.js
var utcMinute = newInterval(function(date3) {
  date3.setUTCSeconds(0, 0);
}, function(date3, step) {
  date3.setTime(+date3 + step * durationMinute);
}, function(start6, end2) {
  return (end2 - start6) / durationMinute;
}, function(date3) {
  return date3.getUTCMinutes();
});
var utcMinute_default = utcMinute;
var utcMinutes = utcMinute.range;

// node_modules/d3-scale/node_modules/d3-time/src/utcHour.js
var utcHour = newInterval(function(date3) {
  date3.setUTCMinutes(0, 0, 0);
}, function(date3, step) {
  date3.setTime(+date3 + step * durationHour);
}, function(start6, end2) {
  return (end2 - start6) / durationHour;
}, function(date3) {
  return date3.getUTCHours();
});
var utcHour_default = utcHour;
var utcHours = utcHour.range;

// node_modules/d3-scale/node_modules/d3-time/src/utcDay.js
var utcDay = newInterval(function(date3) {
  date3.setUTCHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setUTCDate(date3.getUTCDate() + step);
}, function(start6, end2) {
  return (end2 - start6) / durationDay;
}, function(date3) {
  return date3.getUTCDate() - 1;
});
var utcDay_default = utcDay;
var utcDays = utcDay.range;

// node_modules/d3-scale/node_modules/d3-time/src/utcWeek.js
function utcWeekday(i) {
  return newInterval(function(date3) {
    date3.setUTCDate(date3.getUTCDate() - (date3.getUTCDay() + 7 - i) % 7);
    date3.setUTCHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setUTCDate(date3.getUTCDate() + step * 7);
  }, function(start6, end2) {
    return (end2 - start6) / durationWeek;
  });
}
var utcSunday = utcWeekday(0);
var utcMonday = utcWeekday(1);
var utcTuesday = utcWeekday(2);
var utcWednesday = utcWeekday(3);
var utcThursday = utcWeekday(4);
var utcFriday = utcWeekday(5);
var utcSaturday = utcWeekday(6);
var utcSundays = utcSunday.range;
var utcMondays = utcMonday.range;
var utcTuesdays = utcTuesday.range;
var utcWednesdays = utcWednesday.range;
var utcThursdays = utcThursday.range;
var utcFridays = utcFriday.range;
var utcSaturdays = utcSaturday.range;

// node_modules/d3-scale/node_modules/d3-time/src/utcMonth.js
var utcMonth = newInterval(function(date3) {
  date3.setUTCDate(1);
  date3.setUTCHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setUTCMonth(date3.getUTCMonth() + step);
}, function(start6, end2) {
  return end2.getUTCMonth() - start6.getUTCMonth() + (end2.getUTCFullYear() - start6.getUTCFullYear()) * 12;
}, function(date3) {
  return date3.getUTCMonth();
});
var utcMonth_default = utcMonth;
var utcMonths = utcMonth.range;

// node_modules/d3-scale/node_modules/d3-time/src/utcYear.js
var utcYear = newInterval(function(date3) {
  date3.setUTCMonth(0, 1);
  date3.setUTCHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setUTCFullYear(date3.getUTCFullYear() + step);
}, function(start6, end2) {
  return end2.getUTCFullYear() - start6.getUTCFullYear();
}, function(date3) {
  return date3.getUTCFullYear();
});
utcYear.every = function(k3) {
  return !isFinite(k3 = Math.floor(k3)) || !(k3 > 0) ? null : newInterval(function(date3) {
    date3.setUTCFullYear(Math.floor(date3.getUTCFullYear() / k3) * k3);
    date3.setUTCMonth(0, 1);
    date3.setUTCHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setUTCFullYear(date3.getUTCFullYear() + step * k3);
  });
};
var utcYear_default = utcYear;
var utcYears = utcYear.range;

// node_modules/d3-scale/node_modules/d3-time/src/ticks.js
function ticker(year4, month4, week, day4, hour4, minute4) {
  const tickIntervals = [
    [second_default, 1, durationSecond],
    [second_default, 5, 5 * durationSecond],
    [second_default, 15, 15 * durationSecond],
    [second_default, 30, 30 * durationSecond],
    [minute4, 1, durationMinute],
    [minute4, 5, 5 * durationMinute],
    [minute4, 15, 15 * durationMinute],
    [minute4, 30, 30 * durationMinute],
    [hour4, 1, durationHour],
    [hour4, 3, 3 * durationHour],
    [hour4, 6, 6 * durationHour],
    [hour4, 12, 12 * durationHour],
    [day4, 1, durationDay],
    [day4, 2, 2 * durationDay],
    [week, 1, durationWeek],
    [month4, 1, durationMonth],
    [month4, 3, 3 * durationMonth],
    [year4, 1, durationYear]
  ];
  function ticks5(start6, stop, count7) {
    const reverse5 = stop < start6;
    if (reverse5)
      [start6, stop] = [stop, start6];
    const interval6 = count7 && typeof count7.range === "function" ? count7 : tickInterval(start6, stop, count7);
    const ticks6 = interval6 ? interval6.range(start6, +stop + 1) : [];
    return reverse5 ? ticks6.reverse() : ticks6;
  }
  function tickInterval(start6, stop, count7) {
    const target = Math.abs(stop - start6) / count7;
    const i = bisector4(([, , step2]) => step2).right(tickIntervals, target);
    if (i === tickIntervals.length)
      return year4.every(tickStep4(start6 / durationYear, stop / durationYear, count7));
    if (i === 0)
      return millisecond_default.every(Math.max(tickStep4(start6, stop, count7), 1));
    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];
    return t.every(step);
  }
  return [ticks5, tickInterval];
}
var [utcTicks, utcTickInterval] = ticker(utcYear_default, utcMonth_default, utcSunday, utcDay_default, utcHour_default, utcMinute_default);
var [timeTicks, timeTickInterval] = ticker(year_default, month_default, sunday, day_default, hour_default, minute_default);

// node_modules/d3-scale/node_modules/d3-time-format/src/locale.js
function localDate(d) {
  if (0 <= d.y && d.y < 100) {
    var date3 = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);
    date3.setFullYear(d.y);
    return date3;
  }
  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);
}
function utcDate(d) {
  if (0 <= d.y && d.y < 100) {
    var date3 = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));
    date3.setUTCFullYear(d.y);
    return date3;
  }
  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));
}
function newDate(y7, m, d) {
  return { y: y7, m, d, H: 0, M: 0, S: 0, L: 0 };
}
function formatLocale(locale7) {
  var locale_dateTime = locale7.dateTime, locale_date = locale7.date, locale_time = locale7.time, locale_periods = locale7.periods, locale_weekdays = locale7.days, locale_shortWeekdays = locale7.shortDays, locale_months = locale7.months, locale_shortMonths = locale7.shortMonths;
  var periodRe = formatRe(locale_periods), periodLookup = formatLookup(locale_periods), weekdayRe = formatRe(locale_weekdays), weekdayLookup = formatLookup(locale_weekdays), shortWeekdayRe = formatRe(locale_shortWeekdays), shortWeekdayLookup = formatLookup(locale_shortWeekdays), monthRe = formatRe(locale_months), monthLookup = formatLookup(locale_months), shortMonthRe = formatRe(locale_shortMonths), shortMonthLookup = formatLookup(locale_shortMonths);
  var formats = {
    "a": formatShortWeekday,
    "A": formatWeekday,
    "b": formatShortMonth,
    "B": formatMonth,
    "c": null,
    "d": formatDayOfMonth,
    "e": formatDayOfMonth,
    "f": formatMicroseconds,
    "g": formatYearISO,
    "G": formatFullYearISO,
    "H": formatHour24,
    "I": formatHour12,
    "j": formatDayOfYear,
    "L": formatMilliseconds,
    "m": formatMonthNumber,
    "M": formatMinutes,
    "p": formatPeriod,
    "q": formatQuarter,
    "Q": formatUnixTimestamp,
    "s": formatUnixTimestampSeconds,
    "S": formatSeconds,
    "u": formatWeekdayNumberMonday,
    "U": formatWeekNumberSunday,
    "V": formatWeekNumberISO,
    "w": formatWeekdayNumberSunday,
    "W": formatWeekNumberMonday,
    "x": null,
    "X": null,
    "y": formatYear3,
    "Y": formatFullYear,
    "Z": formatZone,
    "%": formatLiteralPercent
  };
  var utcFormats = {
    "a": formatUTCShortWeekday,
    "A": formatUTCWeekday,
    "b": formatUTCShortMonth,
    "B": formatUTCMonth,
    "c": null,
    "d": formatUTCDayOfMonth,
    "e": formatUTCDayOfMonth,
    "f": formatUTCMicroseconds,
    "g": formatUTCYearISO,
    "G": formatUTCFullYearISO,
    "H": formatUTCHour24,
    "I": formatUTCHour12,
    "j": formatUTCDayOfYear,
    "L": formatUTCMilliseconds,
    "m": formatUTCMonthNumber,
    "M": formatUTCMinutes,
    "p": formatUTCPeriod,
    "q": formatUTCQuarter,
    "Q": formatUnixTimestamp,
    "s": formatUnixTimestampSeconds,
    "S": formatUTCSeconds,
    "u": formatUTCWeekdayNumberMonday,
    "U": formatUTCWeekNumberSunday,
    "V": formatUTCWeekNumberISO,
    "w": formatUTCWeekdayNumberSunday,
    "W": formatUTCWeekNumberMonday,
    "x": null,
    "X": null,
    "y": formatUTCYear,
    "Y": formatUTCFullYear,
    "Z": formatUTCZone,
    "%": formatLiteralPercent
  };
  var parses = {
    "a": parseShortWeekday,
    "A": parseWeekday,
    "b": parseShortMonth,
    "B": parseMonth,
    "c": parseLocaleDateTime,
    "d": parseDayOfMonth,
    "e": parseDayOfMonth,
    "f": parseMicroseconds,
    "g": parseYear,
    "G": parseFullYear,
    "H": parseHour24,
    "I": parseHour24,
    "j": parseDayOfYear,
    "L": parseMilliseconds,
    "m": parseMonthNumber,
    "M": parseMinutes,
    "p": parsePeriod,
    "q": parseQuarter,
    "Q": parseUnixTimestamp,
    "s": parseUnixTimestampSeconds,
    "S": parseSeconds,
    "u": parseWeekdayNumberMonday,
    "U": parseWeekNumberSunday,
    "V": parseWeekNumberISO,
    "w": parseWeekdayNumberSunday,
    "W": parseWeekNumberMonday,
    "x": parseLocaleDate,
    "X": parseLocaleTime,
    "y": parseYear,
    "Y": parseFullYear,
    "Z": parseZone,
    "%": parseLiteralPercent
  };
  formats.x = newFormat(locale_date, formats);
  formats.X = newFormat(locale_time, formats);
  formats.c = newFormat(locale_dateTime, formats);
  utcFormats.x = newFormat(locale_date, utcFormats);
  utcFormats.X = newFormat(locale_time, utcFormats);
  utcFormats.c = newFormat(locale_dateTime, utcFormats);
  function newFormat(specifier, formats2) {
    return function(date3) {
      var string = [], i = -1, j = 0, n = specifier.length, c7, pad7, format5;
      if (!(date3 instanceof Date))
        date3 = new Date(+date3);
      while (++i < n) {
        if (specifier.charCodeAt(i) === 37) {
          string.push(specifier.slice(j, i));
          if ((pad7 = pads[c7 = specifier.charAt(++i)]) != null)
            c7 = specifier.charAt(++i);
          else
            pad7 = c7 === "e" ? " " : "0";
          if (format5 = formats2[c7])
            c7 = format5(date3, pad7);
          string.push(c7);
          j = i + 1;
        }
      }
      string.push(specifier.slice(j, i));
      return string.join("");
    };
  }
  function newParse(specifier, Z) {
    return function(string) {
      var d = newDate(1900, void 0, 1), i = parseSpecifier(d, specifier, string += "", 0), week, day4;
      if (i != string.length)
        return null;
      if ("Q" in d)
        return new Date(d.Q);
      if ("s" in d)
        return new Date(d.s * 1e3 + ("L" in d ? d.L : 0));
      if (Z && !("Z" in d))
        d.Z = 0;
      if ("p" in d)
        d.H = d.H % 12 + d.p * 12;
      if (d.m === void 0)
        d.m = "q" in d ? d.q : 0;
      if ("V" in d) {
        if (d.V < 1 || d.V > 53)
          return null;
        if (!("w" in d))
          d.w = 1;
        if ("Z" in d) {
          week = utcDate(newDate(d.y, 0, 1)), day4 = week.getUTCDay();
          week = day4 > 4 || day4 === 0 ? utcMonday.ceil(week) : utcMonday(week);
          week = utcDay_default.offset(week, (d.V - 1) * 7);
          d.y = week.getUTCFullYear();
          d.m = week.getUTCMonth();
          d.d = week.getUTCDate() + (d.w + 6) % 7;
        } else {
          week = localDate(newDate(d.y, 0, 1)), day4 = week.getDay();
          week = day4 > 4 || day4 === 0 ? monday.ceil(week) : monday(week);
          week = day_default.offset(week, (d.V - 1) * 7);
          d.y = week.getFullYear();
          d.m = week.getMonth();
          d.d = week.getDate() + (d.w + 6) % 7;
        }
      } else if ("W" in d || "U" in d) {
        if (!("w" in d))
          d.w = "u" in d ? d.u % 7 : "W" in d ? 1 : 0;
        day4 = "Z" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();
        d.m = 0;
        d.d = "W" in d ? (d.w + 6) % 7 + d.W * 7 - (day4 + 5) % 7 : d.w + d.U * 7 - (day4 + 6) % 7;
      }
      if ("Z" in d) {
        d.H += d.Z / 100 | 0;
        d.M += d.Z % 100;
        return utcDate(d);
      }
      return localDate(d);
    };
  }
  function parseSpecifier(d, specifier, string, j) {
    var i = 0, n = specifier.length, m = string.length, c7, parse4;
    while (i < n) {
      if (j >= m)
        return -1;
      c7 = specifier.charCodeAt(i++);
      if (c7 === 37) {
        c7 = specifier.charAt(i++);
        parse4 = parses[c7 in pads ? specifier.charAt(i++) : c7];
        if (!parse4 || (j = parse4(d, string, j)) < 0)
          return -1;
      } else if (c7 != string.charCodeAt(j++)) {
        return -1;
      }
    }
    return j;
  }
  function parsePeriod(d, string, i) {
    var n = periodRe.exec(string.slice(i));
    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseShortWeekday(d, string, i) {
    var n = shortWeekdayRe.exec(string.slice(i));
    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseWeekday(d, string, i) {
    var n = weekdayRe.exec(string.slice(i));
    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseShortMonth(d, string, i) {
    var n = shortMonthRe.exec(string.slice(i));
    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseMonth(d, string, i) {
    var n = monthRe.exec(string.slice(i));
    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseLocaleDateTime(d, string, i) {
    return parseSpecifier(d, locale_dateTime, string, i);
  }
  function parseLocaleDate(d, string, i) {
    return parseSpecifier(d, locale_date, string, i);
  }
  function parseLocaleTime(d, string, i) {
    return parseSpecifier(d, locale_time, string, i);
  }
  function formatShortWeekday(d) {
    return locale_shortWeekdays[d.getDay()];
  }
  function formatWeekday(d) {
    return locale_weekdays[d.getDay()];
  }
  function formatShortMonth(d) {
    return locale_shortMonths[d.getMonth()];
  }
  function formatMonth(d) {
    return locale_months[d.getMonth()];
  }
  function formatPeriod(d) {
    return locale_periods[+(d.getHours() >= 12)];
  }
  function formatQuarter(d) {
    return 1 + ~~(d.getMonth() / 3);
  }
  function formatUTCShortWeekday(d) {
    return locale_shortWeekdays[d.getUTCDay()];
  }
  function formatUTCWeekday(d) {
    return locale_weekdays[d.getUTCDay()];
  }
  function formatUTCShortMonth(d) {
    return locale_shortMonths[d.getUTCMonth()];
  }
  function formatUTCMonth(d) {
    return locale_months[d.getUTCMonth()];
  }
  function formatUTCPeriod(d) {
    return locale_periods[+(d.getUTCHours() >= 12)];
  }
  function formatUTCQuarter(d) {
    return 1 + ~~(d.getUTCMonth() / 3);
  }
  return {
    format: function(specifier) {
      var f2 = newFormat(specifier += "", formats);
      f2.toString = function() {
        return specifier;
      };
      return f2;
    },
    parse: function(specifier) {
      var p = newParse(specifier += "", false);
      p.toString = function() {
        return specifier;
      };
      return p;
    },
    utcFormat: function(specifier) {
      var f2 = newFormat(specifier += "", utcFormats);
      f2.toString = function() {
        return specifier;
      };
      return f2;
    },
    utcParse: function(specifier) {
      var p = newParse(specifier += "", true);
      p.toString = function() {
        return specifier;
      };
      return p;
    }
  };
}
var pads = { "-": "", "_": " ", "0": "0" };
var numberRe = /^\s*\d+/;
var percentRe = /^%/;
var requoteRe = /[\\^$*+?|[\]().{}]/g;
function pad3(value, fill, width2) {
  var sign5 = value < 0 ? "-" : "", string = (sign5 ? -value : value) + "", length3 = string.length;
  return sign5 + (length3 < width2 ? new Array(width2 - length3 + 1).join(fill) + string : string);
}
function requote(s3) {
  return s3.replace(requoteRe, "\\$&");
}
function formatRe(names) {
  return new RegExp("^(?:" + names.map(requote).join("|") + ")", "i");
}
function formatLookup(names) {
  return new Map(names.map((name2, i) => [name2.toLowerCase(), i]));
}
function parseWeekdayNumberSunday(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 1));
  return n ? (d.w = +n[0], i + n[0].length) : -1;
}
function parseWeekdayNumberMonday(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 1));
  return n ? (d.u = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberSunday(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.U = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberISO(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.V = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberMonday(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.W = +n[0], i + n[0].length) : -1;
}
function parseFullYear(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 4));
  return n ? (d.y = +n[0], i + n[0].length) : -1;
}
function parseYear(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3), i + n[0].length) : -1;
}
function parseZone(d, string, i) {
  var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i, i + 6));
  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || "00")), i + n[0].length) : -1;
}
function parseQuarter(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 1));
  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;
}
function parseMonthNumber(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;
}
function parseDayOfMonth(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.d = +n[0], i + n[0].length) : -1;
}
function parseDayOfYear(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 3));
  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;
}
function parseHour24(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.H = +n[0], i + n[0].length) : -1;
}
function parseMinutes(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.M = +n[0], i + n[0].length) : -1;
}
function parseSeconds(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.S = +n[0], i + n[0].length) : -1;
}
function parseMilliseconds(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 3));
  return n ? (d.L = +n[0], i + n[0].length) : -1;
}
function parseMicroseconds(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 6));
  return n ? (d.L = Math.floor(n[0] / 1e3), i + n[0].length) : -1;
}
function parseLiteralPercent(d, string, i) {
  var n = percentRe.exec(string.slice(i, i + 1));
  return n ? i + n[0].length : -1;
}
function parseUnixTimestamp(d, string, i) {
  var n = numberRe.exec(string.slice(i));
  return n ? (d.Q = +n[0], i + n[0].length) : -1;
}
function parseUnixTimestampSeconds(d, string, i) {
  var n = numberRe.exec(string.slice(i));
  return n ? (d.s = +n[0], i + n[0].length) : -1;
}
function formatDayOfMonth(d, p) {
  return pad3(d.getDate(), p, 2);
}
function formatHour24(d, p) {
  return pad3(d.getHours(), p, 2);
}
function formatHour12(d, p) {
  return pad3(d.getHours() % 12 || 12, p, 2);
}
function formatDayOfYear(d, p) {
  return pad3(1 + day_default.count(year_default(d), d), p, 3);
}
function formatMilliseconds(d, p) {
  return pad3(d.getMilliseconds(), p, 3);
}
function formatMicroseconds(d, p) {
  return formatMilliseconds(d, p) + "000";
}
function formatMonthNumber(d, p) {
  return pad3(d.getMonth() + 1, p, 2);
}
function formatMinutes(d, p) {
  return pad3(d.getMinutes(), p, 2);
}
function formatSeconds(d, p) {
  return pad3(d.getSeconds(), p, 2);
}
function formatWeekdayNumberMonday(d) {
  var day4 = d.getDay();
  return day4 === 0 ? 7 : day4;
}
function formatWeekNumberSunday(d, p) {
  return pad3(sunday.count(year_default(d) - 1, d), p, 2);
}
function dISO(d) {
  var day4 = d.getDay();
  return day4 >= 4 || day4 === 0 ? thursday(d) : thursday.ceil(d);
}
function formatWeekNumberISO(d, p) {
  d = dISO(d);
  return pad3(thursday.count(year_default(d), d) + (year_default(d).getDay() === 4), p, 2);
}
function formatWeekdayNumberSunday(d) {
  return d.getDay();
}
function formatWeekNumberMonday(d, p) {
  return pad3(monday.count(year_default(d) - 1, d), p, 2);
}
function formatYear3(d, p) {
  return pad3(d.getFullYear() % 100, p, 2);
}
function formatYearISO(d, p) {
  d = dISO(d);
  return pad3(d.getFullYear() % 100, p, 2);
}
function formatFullYear(d, p) {
  return pad3(d.getFullYear() % 1e4, p, 4);
}
function formatFullYearISO(d, p) {
  var day4 = d.getDay();
  d = day4 >= 4 || day4 === 0 ? thursday(d) : thursday.ceil(d);
  return pad3(d.getFullYear() % 1e4, p, 4);
}
function formatZone(d) {
  var z = d.getTimezoneOffset();
  return (z > 0 ? "-" : (z *= -1, "+")) + pad3(z / 60 | 0, "0", 2) + pad3(z % 60, "0", 2);
}
function formatUTCDayOfMonth(d, p) {
  return pad3(d.getUTCDate(), p, 2);
}
function formatUTCHour24(d, p) {
  return pad3(d.getUTCHours(), p, 2);
}
function formatUTCHour12(d, p) {
  return pad3(d.getUTCHours() % 12 || 12, p, 2);
}
function formatUTCDayOfYear(d, p) {
  return pad3(1 + utcDay_default.count(utcYear_default(d), d), p, 3);
}
function formatUTCMilliseconds(d, p) {
  return pad3(d.getUTCMilliseconds(), p, 3);
}
function formatUTCMicroseconds(d, p) {
  return formatUTCMilliseconds(d, p) + "000";
}
function formatUTCMonthNumber(d, p) {
  return pad3(d.getUTCMonth() + 1, p, 2);
}
function formatUTCMinutes(d, p) {
  return pad3(d.getUTCMinutes(), p, 2);
}
function formatUTCSeconds(d, p) {
  return pad3(d.getUTCSeconds(), p, 2);
}
function formatUTCWeekdayNumberMonday(d) {
  var dow = d.getUTCDay();
  return dow === 0 ? 7 : dow;
}
function formatUTCWeekNumberSunday(d, p) {
  return pad3(utcSunday.count(utcYear_default(d) - 1, d), p, 2);
}
function UTCdISO(d) {
  var day4 = d.getUTCDay();
  return day4 >= 4 || day4 === 0 ? utcThursday(d) : utcThursday.ceil(d);
}
function formatUTCWeekNumberISO(d, p) {
  d = UTCdISO(d);
  return pad3(utcThursday.count(utcYear_default(d), d) + (utcYear_default(d).getUTCDay() === 4), p, 2);
}
function formatUTCWeekdayNumberSunday(d) {
  return d.getUTCDay();
}
function formatUTCWeekNumberMonday(d, p) {
  return pad3(utcMonday.count(utcYear_default(d) - 1, d), p, 2);
}
function formatUTCYear(d, p) {
  return pad3(d.getUTCFullYear() % 100, p, 2);
}
function formatUTCYearISO(d, p) {
  d = UTCdISO(d);
  return pad3(d.getUTCFullYear() % 100, p, 2);
}
function formatUTCFullYear(d, p) {
  return pad3(d.getUTCFullYear() % 1e4, p, 4);
}
function formatUTCFullYearISO(d, p) {
  var day4 = d.getUTCDay();
  d = day4 >= 4 || day4 === 0 ? utcThursday(d) : utcThursday.ceil(d);
  return pad3(d.getUTCFullYear() % 1e4, p, 4);
}
function formatUTCZone() {
  return "+0000";
}
function formatLiteralPercent() {
  return "%";
}
function formatUnixTimestamp(d) {
  return +d;
}
function formatUnixTimestampSeconds(d) {
  return Math.floor(+d / 1e3);
}

// node_modules/d3-scale/node_modules/d3-time-format/src/defaultLocale.js
var locale3;
var timeFormat;
var timeParse;
var utcFormat;
var utcParse;
defaultLocale3({
  dateTime: "%x, %X",
  date: "%-m/%-d/%Y",
  time: "%-I:%M:%S %p",
  periods: ["AM", "PM"],
  days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
  shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
  shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
});
function defaultLocale3(definition) {
  locale3 = formatLocale(definition);
  timeFormat = locale3.format;
  timeParse = locale3.parse;
  utcFormat = locale3.utcFormat;
  utcParse = locale3.utcParse;
  return locale3;
}

// node_modules/d3-scale/node_modules/d3-time-format/src/isoFormat.js
var isoSpecifier = "%Y-%m-%dT%H:%M:%S.%LZ";
function formatIsoNative(date3) {
  return date3.toISOString();
}
var formatIso = Date.prototype.toISOString ? formatIsoNative : utcFormat(isoSpecifier);

// node_modules/d3-scale/node_modules/d3-time-format/src/isoParse.js
function parseIsoNative(string) {
  var date3 = new Date(string);
  return isNaN(date3) ? null : date3;
}
var parseIso = +new Date("2000-01-01T00:00:00.000Z") ? parseIsoNative : utcParse(isoSpecifier);

// node_modules/d3-scale/src/time.js
function date(t) {
  return new Date(t);
}
function number7(t) {
  return t instanceof Date ? +t : +new Date(+t);
}
function calendar(ticks5, tickInterval, year4, month4, week, day4, hour4, minute4, second4, format5) {
  var scale2 = continuous(), invert2 = scale2.invert, domain = scale2.domain;
  var formatMillisecond = format5(".%L"), formatSecond = format5(":%S"), formatMinute = format5("%I:%M"), formatHour = format5("%I %p"), formatDay = format5("%a %d"), formatWeek = format5("%b %d"), formatMonth = format5("%B"), formatYear7 = format5("%Y");
  function tickFormat2(date3) {
    return (second4(date3) < date3 ? formatMillisecond : minute4(date3) < date3 ? formatSecond : hour4(date3) < date3 ? formatMinute : day4(date3) < date3 ? formatHour : month4(date3) < date3 ? week(date3) < date3 ? formatDay : formatWeek : year4(date3) < date3 ? formatMonth : formatYear7)(date3);
  }
  scale2.invert = function(y7) {
    return new Date(invert2(y7));
  };
  scale2.domain = function(_2) {
    return arguments.length ? domain(Array.from(_2, number7)) : domain().map(date);
  };
  scale2.ticks = function(interval6) {
    var d = domain();
    return ticks5(d[0], d[d.length - 1], interval6 == null ? 10 : interval6);
  };
  scale2.tickFormat = function(count7, specifier) {
    return specifier == null ? tickFormat2 : format5(specifier);
  };
  scale2.nice = function(interval6) {
    var d = domain();
    if (!interval6 || typeof interval6.range !== "function")
      interval6 = tickInterval(d[0], d[d.length - 1], interval6 == null ? 10 : interval6);
    return interval6 ? domain(nice5(d, interval6)) : scale2;
  };
  scale2.copy = function() {
    return copy(scale2, calendar(ticks5, tickInterval, year4, month4, week, day4, hour4, minute4, second4, format5));
  };
  return scale2;
}
function time() {
  return initRange.apply(calendar(timeTicks, timeTickInterval, year_default, month_default, sunday, day_default, hour_default, minute_default, second_default, timeFormat).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments);
}

// node_modules/d3-scale-chromatic/src/colors.js
function colors_default(specifier) {
  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;
  while (i < n)
    colors[i] = "#" + specifier.slice(i * 6, ++i * 6);
  return colors;
}

// node_modules/d3-scale-chromatic/src/categorical/category10.js
var category10_default = colors_default("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");

// node_modules/d3-scale-chromatic/src/categorical/Accent.js
var Accent_default = colors_default("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");

// node_modules/d3-scale-chromatic/src/categorical/Dark2.js
var Dark2_default = colors_default("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");

// node_modules/d3-scale-chromatic/src/categorical/Paired.js
var Paired_default = colors_default("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");

// node_modules/d3-scale-chromatic/src/categorical/Pastel1.js
var Pastel1_default = colors_default("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");

// node_modules/d3-scale-chromatic/src/categorical/Pastel2.js
var Pastel2_default = colors_default("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");

// node_modules/d3-scale-chromatic/src/categorical/Set1.js
var Set1_default = colors_default("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");

// node_modules/d3-scale-chromatic/src/categorical/Set2.js
var Set2_default = colors_default("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");

// node_modules/d3-scale-chromatic/src/categorical/Set3.js
var Set3_default = colors_default("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");

// node_modules/d3-scale-chromatic/src/categorical/Tableau10.js
var Tableau10_default = colors_default("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");

// node_modules/d3-scale-chromatic/node_modules/d3-color/src/define.js
function define_default4(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
}
function extend4(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition)
    prototype[key] = definition[key];
  return prototype;
}

// node_modules/d3-scale-chromatic/node_modules/d3-color/src/color.js
function Color4() {
}
var darker4 = 0.7;
var brighter4 = 1 / darker4;
var reI4 = "\\s*([+-]?\\d+)\\s*";
var reN4 = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var reP4 = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var reHex4 = /^#([0-9a-f]{3,8})$/;
var reRgbInteger4 = new RegExp(`^rgb\\(${reI4},${reI4},${reI4}\\)$`);
var reRgbPercent4 = new RegExp(`^rgb\\(${reP4},${reP4},${reP4}\\)$`);
var reRgbaInteger4 = new RegExp(`^rgba\\(${reI4},${reI4},${reI4},${reN4}\\)$`);
var reRgbaPercent4 = new RegExp(`^rgba\\(${reP4},${reP4},${reP4},${reN4}\\)$`);
var reHslPercent4 = new RegExp(`^hsl\\(${reN4},${reP4},${reP4}\\)$`);
var reHslaPercent4 = new RegExp(`^hsla\\(${reN4},${reP4},${reP4},${reN4}\\)$`);
var named4 = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
define_default4(Color4, color4, {
  copy(channels2) {
    return Object.assign(new this.constructor(), this, channels2);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: color_formatHex4,
  formatHex: color_formatHex4,
  formatHex8: color_formatHex84,
  formatHsl: color_formatHsl4,
  formatRgb: color_formatRgb4,
  toString: color_formatRgb4
});
function color_formatHex4() {
  return this.rgb().formatHex();
}
function color_formatHex84() {
  return this.rgb().formatHex8();
}
function color_formatHsl4() {
  return hslConvert4(this).formatHsl();
}
function color_formatRgb4() {
  return this.rgb().formatRgb();
}
function color4(format5) {
  var m, l;
  format5 = (format5 + "").trim().toLowerCase();
  return (m = reHex4.exec(format5)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn4(m) : l === 3 ? new Rgb4(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba4(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba4(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger4.exec(format5)) ? new Rgb4(m[1], m[2], m[3], 1) : (m = reRgbPercent4.exec(format5)) ? new Rgb4(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger4.exec(format5)) ? rgba4(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent4.exec(format5)) ? rgba4(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent4.exec(format5)) ? hsla4(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent4.exec(format5)) ? hsla4(m[1], m[2] / 100, m[3] / 100, m[4]) : named4.hasOwnProperty(format5) ? rgbn4(named4[format5]) : format5 === "transparent" ? new Rgb4(NaN, NaN, NaN, 0) : null;
}
function rgbn4(n) {
  return new Rgb4(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
}
function rgba4(r, g, b, a3) {
  if (a3 <= 0)
    r = g = b = NaN;
  return new Rgb4(r, g, b, a3);
}
function rgbConvert4(o) {
  if (!(o instanceof Color4))
    o = color4(o);
  if (!o)
    return new Rgb4();
  o = o.rgb();
  return new Rgb4(o.r, o.g, o.b, o.opacity);
}
function rgb4(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert4(r) : new Rgb4(r, g, b, opacity == null ? 1 : opacity);
}
function Rgb4(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}
define_default4(Rgb4, rgb4, extend4(Color4, {
  brighter(k3) {
    k3 = k3 == null ? brighter4 : Math.pow(brighter4, k3);
    return new Rgb4(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker4 : Math.pow(darker4, k3);
    return new Rgb4(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  rgb() {
    return this;
  },
  clamp() {
    return new Rgb4(clampi4(this.r), clampi4(this.g), clampi4(this.b), clampa4(this.opacity));
  },
  displayable() {
    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
  },
  hex: rgb_formatHex4,
  formatHex: rgb_formatHex4,
  formatHex8: rgb_formatHex84,
  formatRgb: rgb_formatRgb4,
  toString: rgb_formatRgb4
}));
function rgb_formatHex4() {
  return `#${hex4(this.r)}${hex4(this.g)}${hex4(this.b)}`;
}
function rgb_formatHex84() {
  return `#${hex4(this.r)}${hex4(this.g)}${hex4(this.b)}${hex4((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function rgb_formatRgb4() {
  const a3 = clampa4(this.opacity);
  return `${a3 === 1 ? "rgb(" : "rgba("}${clampi4(this.r)}, ${clampi4(this.g)}, ${clampi4(this.b)}${a3 === 1 ? ")" : `, ${a3})`}`;
}
function clampa4(opacity) {
  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));
}
function clampi4(value) {
  return Math.max(0, Math.min(255, Math.round(value) || 0));
}
function hex4(value) {
  value = clampi4(value);
  return (value < 16 ? "0" : "") + value.toString(16);
}
function hsla4(h, s3, l, a3) {
  if (a3 <= 0)
    h = s3 = l = NaN;
  else if (l <= 0 || l >= 1)
    h = s3 = NaN;
  else if (s3 <= 0)
    h = NaN;
  return new Hsl4(h, s3, l, a3);
}
function hslConvert4(o) {
  if (o instanceof Hsl4)
    return new Hsl4(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color4))
    o = color4(o);
  if (!o)
    return new Hsl4();
  if (o instanceof Hsl4)
    return o;
  o = o.rgb();
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min8 = Math.min(r, g, b), max10 = Math.max(r, g, b), h = NaN, s3 = max10 - min8, l = (max10 + min8) / 2;
  if (s3) {
    if (r === max10)
      h = (g - b) / s3 + (g < b) * 6;
    else if (g === max10)
      h = (b - r) / s3 + 2;
    else
      h = (r - g) / s3 + 4;
    s3 /= l < 0.5 ? max10 + min8 : 2 - max10 - min8;
    h *= 60;
  } else {
    s3 = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl4(h, s3, l, o.opacity);
}
function hsl7(h, s3, l, opacity) {
  return arguments.length === 1 ? hslConvert4(h) : new Hsl4(h, s3, l, opacity == null ? 1 : opacity);
}
function Hsl4(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default4(Hsl4, hsl7, extend4(Color4, {
  brighter(k3) {
    k3 = k3 == null ? brighter4 : Math.pow(brighter4, k3);
    return new Hsl4(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker4 : Math.pow(darker4, k3);
    return new Hsl4(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = this.h % 360 + (this.h < 0) * 360, s3 = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s3, m1 = 2 * l - m2;
    return new Rgb4(
      hsl2rgb4(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb4(h, m1, m2),
      hsl2rgb4(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  clamp() {
    return new Hsl4(clamph4(this.h), clampt4(this.s), clampt4(this.l), clampa4(this.opacity));
  },
  displayable() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
  },
  formatHsl() {
    const a3 = clampa4(this.opacity);
    return `${a3 === 1 ? "hsl(" : "hsla("}${clamph4(this.h)}, ${clampt4(this.s) * 100}%, ${clampt4(this.l) * 100}%${a3 === 1 ? ")" : `, ${a3})`}`;
  }
}));
function clamph4(value) {
  value = (value || 0) % 360;
  return value < 0 ? value + 360 : value;
}
function clampt4(value) {
  return Math.max(0, Math.min(1, value || 0));
}
function hsl2rgb4(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
}

// node_modules/d3-scale-chromatic/node_modules/d3-color/src/math.js
var radians5 = Math.PI / 180;
var degrees8 = 180 / Math.PI;

// node_modules/d3-scale-chromatic/node_modules/d3-color/src/lab.js
var K4 = 18;
var Xn4 = 0.96422;
var Yn4 = 1;
var Zn4 = 0.82521;
var t05 = 4 / 29;
var t15 = 6 / 29;
var t24 = 3 * t15 * t15;
var t34 = t15 * t15 * t15;
function labConvert4(o) {
  if (o instanceof Lab4)
    return new Lab4(o.l, o.a, o.b, o.opacity);
  if (o instanceof Hcl4)
    return hcl2lab4(o);
  if (!(o instanceof Rgb4))
    o = rgbConvert4(o);
  var r = rgb2lrgb4(o.r), g = rgb2lrgb4(o.g), b = rgb2lrgb4(o.b), y7 = xyz2lab4((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn4), x7, z;
  if (r === g && g === b)
    x7 = z = y7;
  else {
    x7 = xyz2lab4((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn4);
    z = xyz2lab4((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn4);
  }
  return new Lab4(116 * y7 - 16, 500 * (x7 - y7), 200 * (y7 - z), o.opacity);
}
function lab7(l, a3, b, opacity) {
  return arguments.length === 1 ? labConvert4(l) : new Lab4(l, a3, b, opacity == null ? 1 : opacity);
}
function Lab4(l, a3, b, opacity) {
  this.l = +l;
  this.a = +a3;
  this.b = +b;
  this.opacity = +opacity;
}
define_default4(Lab4, lab7, extend4(Color4, {
  brighter(k3) {
    return new Lab4(this.l + K4 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  darker(k3) {
    return new Lab4(this.l - K4 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  rgb() {
    var y7 = (this.l + 16) / 116, x7 = isNaN(this.a) ? y7 : y7 + this.a / 500, z = isNaN(this.b) ? y7 : y7 - this.b / 200;
    x7 = Xn4 * lab2xyz4(x7);
    y7 = Yn4 * lab2xyz4(y7);
    z = Zn4 * lab2xyz4(z);
    return new Rgb4(
      lrgb2rgb4(3.1338561 * x7 - 1.6168667 * y7 - 0.4906146 * z),
      lrgb2rgb4(-0.9787684 * x7 + 1.9161415 * y7 + 0.033454 * z),
      lrgb2rgb4(0.0719453 * x7 - 0.2289914 * y7 + 1.4052427 * z),
      this.opacity
    );
  }
}));
function xyz2lab4(t) {
  return t > t34 ? Math.pow(t, 1 / 3) : t / t24 + t05;
}
function lab2xyz4(t) {
  return t > t15 ? t * t * t : t24 * (t - t05);
}
function lrgb2rgb4(x7) {
  return 255 * (x7 <= 31308e-7 ? 12.92 * x7 : 1.055 * Math.pow(x7, 1 / 2.4) - 0.055);
}
function rgb2lrgb4(x7) {
  return (x7 /= 255) <= 0.04045 ? x7 / 12.92 : Math.pow((x7 + 0.055) / 1.055, 2.4);
}
function hclConvert4(o) {
  if (o instanceof Hcl4)
    return new Hcl4(o.h, o.c, o.l, o.opacity);
  if (!(o instanceof Lab4))
    o = labConvert4(o);
  if (o.a === 0 && o.b === 0)
    return new Hcl4(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);
  var h = Math.atan2(o.b, o.a) * degrees8;
  return new Hcl4(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);
}
function hcl7(h, c7, l, opacity) {
  return arguments.length === 1 ? hclConvert4(h) : new Hcl4(h, c7, l, opacity == null ? 1 : opacity);
}
function Hcl4(h, c7, l, opacity) {
  this.h = +h;
  this.c = +c7;
  this.l = +l;
  this.opacity = +opacity;
}
function hcl2lab4(o) {
  if (isNaN(o.h))
    return new Lab4(o.l, 0, 0, o.opacity);
  var h = o.h * radians5;
  return new Lab4(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);
}
define_default4(Hcl4, hcl7, extend4(Color4, {
  brighter(k3) {
    return new Hcl4(this.h, this.c, this.l + K4 * (k3 == null ? 1 : k3), this.opacity);
  },
  darker(k3) {
    return new Hcl4(this.h, this.c, this.l - K4 * (k3 == null ? 1 : k3), this.opacity);
  },
  rgb() {
    return hcl2lab4(this).rgb();
  }
}));

// node_modules/d3-scale-chromatic/node_modules/d3-color/src/cubehelix.js
var A6 = -0.14861;
var B5 = 1.78277;
var C4 = -0.29227;
var D5 = -0.90649;
var E4 = 1.97294;
var ED4 = E4 * D5;
var EB4 = E4 * B5;
var BC_DA4 = B5 * C4 - D5 * A6;
function cubehelixConvert4(o) {
  if (o instanceof Cubehelix4)
    return new Cubehelix4(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Rgb4))
    o = rgbConvert4(o);
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, l = (BC_DA4 * b + ED4 * r - EB4 * g) / (BC_DA4 + ED4 - EB4), bl = b - l, k3 = (E4 * (g - l) - C4 * bl) / D5, s3 = Math.sqrt(k3 * k3 + bl * bl) / (E4 * l * (1 - l)), h = s3 ? Math.atan2(k3, bl) * degrees8 - 120 : NaN;
  return new Cubehelix4(h < 0 ? h + 360 : h, s3, l, o.opacity);
}
function cubehelix7(h, s3, l, opacity) {
  return arguments.length === 1 ? cubehelixConvert4(h) : new Cubehelix4(h, s3, l, opacity == null ? 1 : opacity);
}
function Cubehelix4(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default4(Cubehelix4, cubehelix7, extend4(Color4, {
  brighter(k3) {
    k3 = k3 == null ? brighter4 : Math.pow(brighter4, k3);
    return new Cubehelix4(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker4 : Math.pow(darker4, k3);
    return new Cubehelix4(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians5, l = +this.l, a3 = isNaN(this.s) ? 0 : this.s * l * (1 - l), cosh7 = Math.cos(h), sinh7 = Math.sin(h);
    return new Rgb4(
      255 * (l + a3 * (A6 * cosh7 + B5 * sinh7)),
      255 * (l + a3 * (C4 * cosh7 + D5 * sinh7)),
      255 * (l + a3 * (E4 * cosh7)),
      this.opacity
    );
  }
}));

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/basis.js
function basis4(t110, v0, v1, v2, v32) {
  var t27 = t110 * t110, t37 = t27 * t110;
  return ((1 - 3 * t110 + 3 * t27 - t37) * v0 + (4 - 6 * t27 + 3 * t37) * v1 + (1 + 3 * t110 + 3 * t27 - 3 * t37) * v2 + t37 * v32) / 6;
}
function basis_default4(values) {
  var n = values.length - 1;
  return function(t) {
    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values[i], v2 = values[i + 1], v0 = i > 0 ? values[i - 1] : 2 * v1 - v2, v32 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;
    return basis4((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/basisClosed.js
function basisClosed_default4(values) {
  var n = values.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values[(i + n - 1) % n], v1 = values[i % n], v2 = values[(i + 1) % n], v32 = values[(i + 2) % n];
    return basis4((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/constant.js
var constant_default14 = (x7) => () => x7;

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/color.js
function linear7(a3, d) {
  return function(t) {
    return a3 + t * d;
  };
}
function exponential4(a3, b, y7) {
  return a3 = Math.pow(a3, y7), b = Math.pow(b, y7) - a3, y7 = 1 / y7, function(t) {
    return Math.pow(a3 + t * b, y7);
  };
}
function hue4(a3, b) {
  var d = b - a3;
  return d ? linear7(a3, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant_default14(isNaN(a3) ? b : a3);
}
function gamma4(y7) {
  return (y7 = +y7) === 1 ? nogamma4 : function(a3, b) {
    return b - a3 ? exponential4(a3, b, y7) : constant_default14(isNaN(a3) ? b : a3);
  };
}
function nogamma4(a3, b) {
  var d = b - a3;
  return d ? linear7(a3, d) : constant_default14(isNaN(a3) ? b : a3);
}

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/rgb.js
var rgb_default4 = function rgbGamma4(y7) {
  var color7 = gamma4(y7);
  function rgb7(start6, end2) {
    var r = color7((start6 = rgb4(start6)).r, (end2 = rgb4(end2)).r), g = color7(start6.g, end2.g), b = color7(start6.b, end2.b), opacity = nogamma4(start6.opacity, end2.opacity);
    return function(t) {
      start6.r = r(t);
      start6.g = g(t);
      start6.b = b(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  }
  rgb7.gamma = rgbGamma4;
  return rgb7;
}(1);
function rgbSpline4(spline) {
  return function(colors) {
    var n = colors.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color7;
    for (i = 0; i < n; ++i) {
      color7 = rgb4(colors[i]);
      r[i] = color7.r || 0;
      g[i] = color7.g || 0;
      b[i] = color7.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color7.opacity = 1;
    return function(t) {
      color7.r = r(t);
      color7.g = g(t);
      color7.b = b(t);
      return color7 + "";
    };
  };
}
var rgbBasis4 = rgbSpline4(basis_default4);
var rgbBasisClosed4 = rgbSpline4(basisClosed_default4);

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/number.js
function number_default4(a3, b) {
  return a3 = +a3, b = +b, function(t) {
    return a3 * (1 - t) + b * t;
  };
}

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/string.js
var reA4 = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var reB4 = new RegExp(reA4.source, "g");

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/transform/decompose.js
var degrees9 = 180 / Math.PI;
var identity10 = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function decompose_default4(a3, b, c7, d, e, f2) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a3 * a3 + b * b))
    a3 /= scaleX, b /= scaleX;
  if (skewX = a3 * c7 + b * d)
    c7 -= a3 * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c7 * c7 + d * d))
    c7 /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a3 * d < b * c7)
    a3 = -a3, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f2,
    rotate: Math.atan2(b, a3) * degrees9,
    skewX: Math.atan(skewX) * degrees9,
    scaleX,
    scaleY
  };
}

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/transform/parse.js
var svgNode4;
function parseCss4(value) {
  const m = new (typeof DOMMatrix === "function" ? DOMMatrix : WebKitCSSMatrix)(value + "");
  return m.isIdentity ? identity10 : decompose_default4(m.a, m.b, m.c, m.d, m.e, m.f);
}
function parseSvg4(value) {
  if (value == null)
    return identity10;
  if (!svgNode4)
    svgNode4 = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode4.setAttribute("transform", value);
  if (!(value = svgNode4.transform.baseVal.consolidate()))
    return identity10;
  value = value.matrix;
  return decompose_default4(value.a, value.b, value.c, value.d, value.e, value.f);
}

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/transform/index.js
function interpolateTransform4(parse4, pxComma, pxParen, degParen) {
  function pop(s3) {
    return s3.length ? s3.pop() + " " : "";
  }
  function translate(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push("translate(", null, pxComma, null, pxParen);
      q.push({ i: i - 4, x: number_default4(xa, xb) }, { i: i - 2, x: number_default4(ya, yb) });
    } else if (xb || yb) {
      s3.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }
  function rotate(a3, b, s3, q) {
    if (a3 !== b) {
      if (a3 - b > 180)
        b += 360;
      else if (b - a3 > 180)
        a3 += 360;
      q.push({ i: s3.push(pop(s3) + "rotate(", null, degParen) - 2, x: number_default4(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "rotate(" + b + degParen);
    }
  }
  function skewX(a3, b, s3, q) {
    if (a3 !== b) {
      q.push({ i: s3.push(pop(s3) + "skewX(", null, degParen) - 2, x: number_default4(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "skewX(" + b + degParen);
    }
  }
  function scale2(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push(pop(s3) + "scale(", null, ",", null, ")");
      q.push({ i: i - 4, x: number_default4(xa, xb) }, { i: i - 2, x: number_default4(ya, yb) });
    } else if (xb !== 1 || yb !== 1) {
      s3.push(pop(s3) + "scale(" + xb + "," + yb + ")");
    }
  }
  return function(a3, b) {
    var s3 = [], q = [];
    a3 = parse4(a3), b = parse4(b);
    translate(a3.translateX, a3.translateY, b.translateX, b.translateY, s3, q);
    rotate(a3.rotate, b.rotate, s3, q);
    skewX(a3.skewX, b.skewX, s3, q);
    scale2(a3.scaleX, a3.scaleY, b.scaleX, b.scaleY, s3, q);
    a3 = b = null;
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n)
        s3[(o = q[i]).i] = o.x(t);
      return s3.join("");
    };
  };
}
var interpolateTransformCss4 = interpolateTransform4(parseCss4, "px, ", "px)", "deg)");
var interpolateTransformSvg4 = interpolateTransform4(parseSvg4, ", ", ")", ")");

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/zoom.js
var epsilon25 = 1e-12;
function cosh4(x7) {
  return ((x7 = Math.exp(x7)) + 1 / x7) / 2;
}
function sinh4(x7) {
  return ((x7 = Math.exp(x7)) - 1 / x7) / 2;
}
function tanh4(x7) {
  return ((x7 = Math.exp(2 * x7)) - 1) / (x7 + 1);
}
var zoom_default4 = function zoomRho4(rho3, rho22, rho42) {
  function zoom(p02, p1) {
    var ux0 = p02[0], uy0 = p02[1], w0 = p02[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;
    if (d2 < epsilon25) {
      S = Math.log(w1 / w0) / rho3;
      i = function(t) {
        return [
          ux0 + t * dx,
          uy0 + t * dy,
          w0 * Math.exp(rho3 * t * S)
        ];
      };
    } else {
      var d1 = Math.sqrt(d2), b05 = (w1 * w1 - w0 * w0 + rho42 * d2) / (2 * w0 * rho22 * d1), b15 = (w1 * w1 - w0 * w0 - rho42 * d2) / (2 * w1 * rho22 * d1), r0 = Math.log(Math.sqrt(b05 * b05 + 1) - b05), r1 = Math.log(Math.sqrt(b15 * b15 + 1) - b15);
      S = (r1 - r0) / rho3;
      i = function(t) {
        var s3 = t * S, coshr0 = cosh4(r0), u4 = w0 / (rho22 * d1) * (coshr0 * tanh4(rho3 * s3 + r0) - sinh4(r0));
        return [
          ux0 + u4 * dx,
          uy0 + u4 * dy,
          w0 * coshr0 / cosh4(rho3 * s3 + r0)
        ];
      };
    }
    i.duration = S * 1e3 * rho3 / Math.SQRT2;
    return i;
  }
  zoom.rho = function(_2) {
    var _1 = Math.max(1e-3, +_2), _22 = _1 * _1, _4 = _22 * _22;
    return zoomRho4(_1, _22, _4);
  };
  return zoom;
}(Math.SQRT2, 2, 4);

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/hsl.js
function hsl8(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hsl7(start6)).h, (end2 = hsl7(end2)).h), s3 = nogamma4(start6.s, end2.s), l = nogamma4(start6.l, end2.l), opacity = nogamma4(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.s = s3(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hsl_default4 = hsl8(hue4);
var hslLong4 = hsl8(nogamma4);

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/hcl.js
function hcl8(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hcl7(start6)).h, (end2 = hcl7(end2)).h), c7 = nogamma4(start6.c, end2.c), l = nogamma4(start6.l, end2.l), opacity = nogamma4(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.c = c7(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hcl_default4 = hcl8(hue4);
var hclLong4 = hcl8(nogamma4);

// node_modules/d3-scale-chromatic/node_modules/d3-interpolate/src/cubehelix.js
function cubehelix8(hue7) {
  return function cubehelixGamma(y7) {
    y7 = +y7;
    function cubehelix13(start6, end2) {
      var h = hue7((start6 = cubehelix7(start6)).h, (end2 = cubehelix7(end2)).h), s3 = nogamma4(start6.s, end2.s), l = nogamma4(start6.l, end2.l), opacity = nogamma4(start6.opacity, end2.opacity);
      return function(t) {
        start6.h = h(t);
        start6.s = s3(t);
        start6.l = l(Math.pow(t, y7));
        start6.opacity = opacity(t);
        return start6 + "";
      };
    }
    cubehelix13.gamma = cubehelixGamma;
    return cubehelix13;
  }(1);
}
var cubehelix_default4 = cubehelix8(hue4);
var cubehelixLong4 = cubehelix8(nogamma4);

// node_modules/d3-scale-chromatic/src/ramp.js
var ramp_default = (scheme55) => rgbBasis4(scheme55[scheme55.length - 1]);

// node_modules/d3-scale-chromatic/src/diverging/BrBG.js
var scheme = new Array(3).concat(
  "d8b365f5f5f55ab4ac",
  "a6611adfc27d80cdc1018571",
  "a6611adfc27df5f5f580cdc1018571",
  "8c510ad8b365f6e8c3c7eae55ab4ac01665e",
  "8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e",
  "8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",
  "8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e",
  "5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30",
  "5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30"
).map(colors_default);
var BrBG_default = ramp_default(scheme);

// node_modules/d3-scale-chromatic/src/diverging/PRGn.js
var scheme2 = new Array(3).concat(
  "af8dc3f7f7f77fbf7b",
  "7b3294c2a5cfa6dba0008837",
  "7b3294c2a5cff7f7f7a6dba0008837",
  "762a83af8dc3e7d4e8d9f0d37fbf7b1b7837",
  "762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837",
  "762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837",
  "762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837",
  "40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b",
  "40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b"
).map(colors_default);
var PRGn_default = ramp_default(scheme2);

// node_modules/d3-scale-chromatic/src/diverging/PiYG.js
var scheme3 = new Array(3).concat(
  "e9a3c9f7f7f7a1d76a",
  "d01c8bf1b6dab8e1864dac26",
  "d01c8bf1b6daf7f7f7b8e1864dac26",
  "c51b7de9a3c9fde0efe6f5d0a1d76a4d9221",
  "c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221",
  "c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221",
  "c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221",
  "8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419",
  "8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419"
).map(colors_default);
var PiYG_default = ramp_default(scheme3);

// node_modules/d3-scale-chromatic/src/diverging/PuOr.js
var scheme4 = new Array(3).concat(
  "998ec3f7f7f7f1a340",
  "5e3c99b2abd2fdb863e66101",
  "5e3c99b2abd2f7f7f7fdb863e66101",
  "542788998ec3d8daebfee0b6f1a340b35806",
  "542788998ec3d8daebf7f7f7fee0b6f1a340b35806",
  "5427888073acb2abd2d8daebfee0b6fdb863e08214b35806",
  "5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806",
  "2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08",
  "2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08"
).map(colors_default);
var PuOr_default = ramp_default(scheme4);

// node_modules/d3-scale-chromatic/src/diverging/RdBu.js
var scheme5 = new Array(3).concat(
  "ef8a62f7f7f767a9cf",
  "ca0020f4a58292c5de0571b0",
  "ca0020f4a582f7f7f792c5de0571b0",
  "b2182bef8a62fddbc7d1e5f067a9cf2166ac",
  "b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac",
  "b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac",
  "b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac",
  "67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061",
  "67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061"
).map(colors_default);
var RdBu_default = ramp_default(scheme5);

// node_modules/d3-scale-chromatic/src/diverging/RdGy.js
var scheme6 = new Array(3).concat(
  "ef8a62ffffff999999",
  "ca0020f4a582bababa404040",
  "ca0020f4a582ffffffbababa404040",
  "b2182bef8a62fddbc7e0e0e09999994d4d4d",
  "b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d",
  "b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d",
  "b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d",
  "67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a",
  "67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a"
).map(colors_default);
var RdGy_default = ramp_default(scheme6);

// node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js
var scheme7 = new Array(3).concat(
  "fc8d59ffffbf91bfdb",
  "d7191cfdae61abd9e92c7bb6",
  "d7191cfdae61ffffbfabd9e92c7bb6",
  "d73027fc8d59fee090e0f3f891bfdb4575b4",
  "d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4",
  "d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",
  "d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4",
  "a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695",
  "a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695"
).map(colors_default);
var RdYlBu_default = ramp_default(scheme7);

// node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js
var scheme8 = new Array(3).concat(
  "fc8d59ffffbf91cf60",
  "d7191cfdae61a6d96a1a9641",
  "d7191cfdae61ffffbfa6d96a1a9641",
  "d73027fc8d59fee08bd9ef8b91cf601a9850",
  "d73027fc8d59fee08bffffbfd9ef8b91cf601a9850",
  "d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850",
  "d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850",
  "a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",
  "a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837"
).map(colors_default);
var RdYlGn_default = ramp_default(scheme8);

// node_modules/d3-scale-chromatic/src/diverging/Spectral.js
var scheme9 = new Array(3).concat(
  "fc8d59ffffbf99d594",
  "d7191cfdae61abdda42b83ba",
  "d7191cfdae61ffffbfabdda42b83ba",
  "d53e4ffc8d59fee08be6f59899d5943288bd",
  "d53e4ffc8d59fee08bffffbfe6f59899d5943288bd",
  "d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd",
  "d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd",
  "9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2",
  "9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2"
).map(colors_default);
var Spectral_default = ramp_default(scheme9);

// node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js
var scheme10 = new Array(3).concat(
  "e5f5f999d8c92ca25f",
  "edf8fbb2e2e266c2a4238b45",
  "edf8fbb2e2e266c2a42ca25f006d2c",
  "edf8fbccece699d8c966c2a42ca25f006d2c",
  "edf8fbccece699d8c966c2a441ae76238b45005824",
  "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824",
  "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b"
).map(colors_default);
var BuGn_default = ramp_default(scheme10);

// node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js
var scheme11 = new Array(3).concat(
  "e0ecf49ebcda8856a7",
  "edf8fbb3cde38c96c688419d",
  "edf8fbb3cde38c96c68856a7810f7c",
  "edf8fbbfd3e69ebcda8c96c68856a7810f7c",
  "edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b",
  "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b",
  "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b"
).map(colors_default);
var BuPu_default = ramp_default(scheme11);

// node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js
var scheme12 = new Array(3).concat(
  "e0f3dba8ddb543a2ca",
  "f0f9e8bae4bc7bccc42b8cbe",
  "f0f9e8bae4bc7bccc443a2ca0868ac",
  "f0f9e8ccebc5a8ddb57bccc443a2ca0868ac",
  "f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e",
  "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e",
  "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081"
).map(colors_default);
var GnBu_default = ramp_default(scheme12);

// node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js
var scheme13 = new Array(3).concat(
  "fee8c8fdbb84e34a33",
  "fef0d9fdcc8afc8d59d7301f",
  "fef0d9fdcc8afc8d59e34a33b30000",
  "fef0d9fdd49efdbb84fc8d59e34a33b30000",
  "fef0d9fdd49efdbb84fc8d59ef6548d7301f990000",
  "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000",
  "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000"
).map(colors_default);
var OrRd_default = ramp_default(scheme13);

// node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js
var scheme14 = new Array(3).concat(
  "ece2f0a6bddb1c9099",
  "f6eff7bdc9e167a9cf02818a",
  "f6eff7bdc9e167a9cf1c9099016c59",
  "f6eff7d0d1e6a6bddb67a9cf1c9099016c59",
  "f6eff7d0d1e6a6bddb67a9cf3690c002818a016450",
  "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450",
  "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636"
).map(colors_default);
var PuBuGn_default = ramp_default(scheme14);

// node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js
var scheme15 = new Array(3).concat(
  "ece7f2a6bddb2b8cbe",
  "f1eef6bdc9e174a9cf0570b0",
  "f1eef6bdc9e174a9cf2b8cbe045a8d",
  "f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d",
  "f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b",
  "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b",
  "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858"
).map(colors_default);
var PuBu_default = ramp_default(scheme15);

// node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js
var scheme16 = new Array(3).concat(
  "e7e1efc994c7dd1c77",
  "f1eef6d7b5d8df65b0ce1256",
  "f1eef6d7b5d8df65b0dd1c77980043",
  "f1eef6d4b9dac994c7df65b0dd1c77980043",
  "f1eef6d4b9dac994c7df65b0e7298ace125691003f",
  "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f",
  "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f"
).map(colors_default);
var PuRd_default = ramp_default(scheme16);

// node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js
var scheme17 = new Array(3).concat(
  "fde0ddfa9fb5c51b8a",
  "feebe2fbb4b9f768a1ae017e",
  "feebe2fbb4b9f768a1c51b8a7a0177",
  "feebe2fcc5c0fa9fb5f768a1c51b8a7a0177",
  "feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177",
  "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177",
  "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a"
).map(colors_default);
var RdPu_default = ramp_default(scheme17);

// node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js
var scheme18 = new Array(3).concat(
  "edf8b17fcdbb2c7fb8",
  "ffffcca1dab441b6c4225ea8",
  "ffffcca1dab441b6c42c7fb8253494",
  "ffffccc7e9b47fcdbb41b6c42c7fb8253494",
  "ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84",
  "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84",
  "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58"
).map(colors_default);
var YlGnBu_default = ramp_default(scheme18);

// node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js
var scheme19 = new Array(3).concat(
  "f7fcb9addd8e31a354",
  "ffffccc2e69978c679238443",
  "ffffccc2e69978c67931a354006837",
  "ffffccd9f0a3addd8e78c67931a354006837",
  "ffffccd9f0a3addd8e78c67941ab5d238443005a32",
  "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32",
  "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529"
).map(colors_default);
var YlGn_default = ramp_default(scheme19);

// node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js
var scheme20 = new Array(3).concat(
  "fff7bcfec44fd95f0e",
  "ffffd4fed98efe9929cc4c02",
  "ffffd4fed98efe9929d95f0e993404",
  "ffffd4fee391fec44ffe9929d95f0e993404",
  "ffffd4fee391fec44ffe9929ec7014cc4c028c2d04",
  "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04",
  "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506"
).map(colors_default);
var YlOrBr_default = ramp_default(scheme20);

// node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js
var scheme21 = new Array(3).concat(
  "ffeda0feb24cf03b20",
  "ffffb2fecc5cfd8d3ce31a1c",
  "ffffb2fecc5cfd8d3cf03b20bd0026",
  "ffffb2fed976feb24cfd8d3cf03b20bd0026",
  "ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026",
  "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026",
  "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026"
).map(colors_default);
var YlOrRd_default = ramp_default(scheme21);

// node_modules/d3-scale-chromatic/src/sequential-single/Blues.js
var scheme22 = new Array(3).concat(
  "deebf79ecae13182bd",
  "eff3ffbdd7e76baed62171b5",
  "eff3ffbdd7e76baed63182bd08519c",
  "eff3ffc6dbef9ecae16baed63182bd08519c",
  "eff3ffc6dbef9ecae16baed64292c62171b5084594",
  "f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594",
  "f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b"
).map(colors_default);
var Blues_default = ramp_default(scheme22);

// node_modules/d3-scale-chromatic/src/sequential-single/Greens.js
var scheme23 = new Array(3).concat(
  "e5f5e0a1d99b31a354",
  "edf8e9bae4b374c476238b45",
  "edf8e9bae4b374c47631a354006d2c",
  "edf8e9c7e9c0a1d99b74c47631a354006d2c",
  "edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32",
  "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32",
  "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b"
).map(colors_default);
var Greens_default = ramp_default(scheme23);

// node_modules/d3-scale-chromatic/src/sequential-single/Greys.js
var scheme24 = new Array(3).concat(
  "f0f0f0bdbdbd636363",
  "f7f7f7cccccc969696525252",
  "f7f7f7cccccc969696636363252525",
  "f7f7f7d9d9d9bdbdbd969696636363252525",
  "f7f7f7d9d9d9bdbdbd969696737373525252252525",
  "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525",
  "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000"
).map(colors_default);
var Greys_default = ramp_default(scheme24);

// node_modules/d3-scale-chromatic/src/sequential-single/Purples.js
var scheme25 = new Array(3).concat(
  "efedf5bcbddc756bb1",
  "f2f0f7cbc9e29e9ac86a51a3",
  "f2f0f7cbc9e29e9ac8756bb154278f",
  "f2f0f7dadaebbcbddc9e9ac8756bb154278f",
  "f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486",
  "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486",
  "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d"
).map(colors_default);
var Purples_default = ramp_default(scheme25);

// node_modules/d3-scale-chromatic/src/sequential-single/Reds.js
var scheme26 = new Array(3).concat(
  "fee0d2fc9272de2d26",
  "fee5d9fcae91fb6a4acb181d",
  "fee5d9fcae91fb6a4ade2d26a50f15",
  "fee5d9fcbba1fc9272fb6a4ade2d26a50f15",
  "fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d",
  "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d",
  "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d"
).map(colors_default);
var Reds_default = ramp_default(scheme26);

// node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js
var scheme27 = new Array(3).concat(
  "fee6cefdae6be6550d",
  "feeddefdbe85fd8d3cd94701",
  "feeddefdbe85fd8d3ce6550da63603",
  "feeddefdd0a2fdae6bfd8d3ce6550da63603",
  "feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04",
  "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04",
  "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704"
).map(colors_default);
var Oranges_default = ramp_default(scheme27);

// node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js
var cubehelix_default5 = cubehelixLong4(cubehelix7(300, 0.5, 0), cubehelix7(-240, 0.5, 1));

// node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js
var warm = cubehelixLong4(cubehelix7(-100, 0.75, 0.35), cubehelix7(80, 1.5, 0.8));
var cool = cubehelixLong4(cubehelix7(260, 0.75, 0.35), cubehelix7(80, 1.5, 0.8));
var c2 = cubehelix7();

// node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js
var c3 = rgb4();
var pi_1_3 = Math.PI / 3;
var pi_2_3 = Math.PI * 2 / 3;

// node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js
function ramp(range6) {
  var n = range6.length;
  return function(t) {
    return range6[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];
  };
}
var viridis_default = ramp(colors_default("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));
var magma = ramp(colors_default("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));
var inferno = ramp(colors_default("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));
var plasma = ramp(colors_default("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));

// node_modules/d3-shape/node_modules/d3-path/src/path.js
var pi7 = Math.PI;
var tau8 = 2 * pi7;
var epsilon8 = 1e-6;
var tauEpsilon3 = tau8 - epsilon8;
function Path4() {
  this._x0 = this._y0 = this._x1 = this._y1 = null;
  this._ = "";
}
function path3() {
  return new Path4();
}
Path4.prototype = path3.prototype = {
  constructor: Path4,
  moveTo: function(x7, y7) {
    this._ += "M" + (this._x0 = this._x1 = +x7) + "," + (this._y0 = this._y1 = +y7);
  },
  closePath: function() {
    if (this._x1 !== null) {
      this._x1 = this._x0, this._y1 = this._y0;
      this._ += "Z";
    }
  },
  lineTo: function(x7, y7) {
    this._ += "L" + (this._x1 = +x7) + "," + (this._y1 = +y7);
  },
  quadraticCurveTo: function(x13, y12, x7, y7) {
    this._ += "Q" + +x13 + "," + +y12 + "," + (this._x1 = +x7) + "," + (this._y1 = +y7);
  },
  bezierCurveTo: function(x13, y12, x22, y22, x7, y7) {
    this._ += "C" + +x13 + "," + +y12 + "," + +x22 + "," + +y22 + "," + (this._x1 = +x7) + "," + (this._y1 = +y7);
  },
  arcTo: function(x13, y12, x22, y22, r) {
    x13 = +x13, y12 = +y12, x22 = +x22, y22 = +y22, r = +r;
    var x07 = this._x1, y06 = this._y1, x21 = x22 - x13, y21 = y22 - y12, x01 = x07 - x13, y01 = y06 - y12, l01_2 = x01 * x01 + y01 * y01;
    if (r < 0)
      throw new Error("negative radius: " + r);
    if (this._x1 === null) {
      this._ += "M" + (this._x1 = x13) + "," + (this._y1 = y12);
    } else if (!(l01_2 > epsilon8))
      ;
    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon8) || !r) {
      this._ += "L" + (this._x1 = x13) + "," + (this._y1 = y12);
    } else {
      var x20 = x22 - x07, y20 = y22 - y06, l21_2 = x21 * x21 + y21 * y21, l20_2 = x20 * x20 + y20 * y20, l21 = Math.sqrt(l21_2), l01 = Math.sqrt(l01_2), l = r * Math.tan((pi7 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2), t01 = l / l01, t21 = l / l21;
      if (Math.abs(t01 - 1) > epsilon8) {
        this._ += "L" + (x13 + t01 * x01) + "," + (y12 + t01 * y01);
      }
      this._ += "A" + r + "," + r + ",0,0," + +(y01 * x20 > x01 * y20) + "," + (this._x1 = x13 + t21 * x21) + "," + (this._y1 = y12 + t21 * y21);
    }
  },
  arc: function(x7, y7, r, a0, a1, ccw) {
    x7 = +x7, y7 = +y7, r = +r, ccw = !!ccw;
    var dx = r * Math.cos(a0), dy = r * Math.sin(a0), x07 = x7 + dx, y06 = y7 + dy, cw = 1 ^ ccw, da2 = ccw ? a0 - a1 : a1 - a0;
    if (r < 0)
      throw new Error("negative radius: " + r);
    if (this._x1 === null) {
      this._ += "M" + x07 + "," + y06;
    } else if (Math.abs(this._x1 - x07) > epsilon8 || Math.abs(this._y1 - y06) > epsilon8) {
      this._ += "L" + x07 + "," + y06;
    }
    if (!r)
      return;
    if (da2 < 0)
      da2 = da2 % tau8 + tau8;
    if (da2 > tauEpsilon3) {
      this._ += "A" + r + "," + r + ",0,1," + cw + "," + (x7 - dx) + "," + (y7 - dy) + "A" + r + "," + r + ",0,1," + cw + "," + (this._x1 = x07) + "," + (this._y1 = y06);
    } else if (da2 > epsilon8) {
      this._ += "A" + r + "," + r + ",0," + +(da2 >= pi7) + "," + cw + "," + (this._x1 = x7 + r * Math.cos(a1)) + "," + (this._y1 = y7 + r * Math.sin(a1));
    }
  },
  rect: function(x7, y7, w2, h) {
    this._ += "M" + (this._x0 = this._x1 = +x7) + "," + (this._y0 = this._y1 = +y7) + "h" + +w2 + "v" + +h + "h" + -w2 + "Z";
  },
  toString: function() {
    return this._;
  }
};
var path_default5 = path3;

// node_modules/d3-shape/src/constant.js
function constant_default15(x7) {
  return function constant5() {
    return x7;
  };
}

// node_modules/d3-shape/src/math.js
var abs4 = Math.abs;
var atan22 = Math.atan2;
var cos3 = Math.cos;
var max7 = Math.max;
var min6 = Math.min;
var sin3 = Math.sin;
var sqrt3 = Math.sqrt;
var epsilon9 = 1e-12;
var pi8 = Math.PI;
var halfPi5 = pi8 / 2;
var tau9 = 2 * pi8;
function acos2(x7) {
  return x7 > 1 ? 0 : x7 < -1 ? pi8 : Math.acos(x7);
}
function asin2(x7) {
  return x7 >= 1 ? halfPi5 : x7 <= -1 ? -halfPi5 : Math.asin(x7);
}

// node_modules/d3-shape/src/arc.js
function arcInnerRadius(d) {
  return d.innerRadius;
}
function arcOuterRadius(d) {
  return d.outerRadius;
}
function arcStartAngle(d) {
  return d.startAngle;
}
function arcEndAngle(d) {
  return d.endAngle;
}
function arcPadAngle(d) {
  return d && d.padAngle;
}
function intersect(x07, y06, x13, y12, x22, y22, x32, y32) {
  var x10 = x13 - x07, y10 = y12 - y06, x322 = x32 - x22, y322 = y32 - y22, t = y322 * x10 - x322 * y10;
  if (t * t < epsilon9)
    return;
  t = (x322 * (y06 - y22) - y322 * (x07 - x22)) / t;
  return [x07 + t * x10, y06 + t * y10];
}
function cornerTangents(x07, y06, x13, y12, r1, rc, cw) {
  var x01 = x07 - x13, y01 = y06 - y12, lo = (cw ? rc : -rc) / sqrt3(x01 * x01 + y01 * y01), ox = lo * y01, oy = -lo * x01, x11 = x07 + ox, y11 = y06 + oy, x10 = x13 + ox, y10 = y12 + oy, x004 = (x11 + x10) / 2, y004 = (y11 + y10) / 2, dx = x10 - x11, dy = y10 - y11, d2 = dx * dx + dy * dy, r = r1 - rc, D8 = x11 * y10 - x10 * y11, d = (dy < 0 ? -1 : 1) * sqrt3(max7(0, r * r * d2 - D8 * D8)), cx0 = (D8 * dy - dx * d) / d2, cy0 = (-D8 * dx - dy * d) / d2, cx1 = (D8 * dy + dx * d) / d2, cy1 = (-D8 * dx + dy * d) / d2, dx0 = cx0 - x004, dy0 = cy0 - y004, dx1 = cx1 - x004, dy1 = cy1 - y004;
  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1)
    cx0 = cx1, cy0 = cy1;
  return {
    cx: cx0,
    cy: cy0,
    x01: -ox,
    y01: -oy,
    x11: cx0 * (r1 / r - 1),
    y11: cy0 * (r1 / r - 1)
  };
}
function arc_default() {
  var innerRadius = arcInnerRadius, outerRadius = arcOuterRadius, cornerRadius = constant_default15(0), padRadius = null, startAngle = arcStartAngle, endAngle = arcEndAngle, padAngle = arcPadAngle, context = null;
  function arc() {
    var buffer, r, r0 = +innerRadius.apply(this, arguments), r1 = +outerRadius.apply(this, arguments), a0 = startAngle.apply(this, arguments) - halfPi5, a1 = endAngle.apply(this, arguments) - halfPi5, da2 = abs4(a1 - a0), cw = a1 > a0;
    if (!context)
      context = buffer = path_default5();
    if (r1 < r0)
      r = r1, r1 = r0, r0 = r;
    if (!(r1 > epsilon9))
      context.moveTo(0, 0);
    else if (da2 > tau9 - epsilon9) {
      context.moveTo(r1 * cos3(a0), r1 * sin3(a0));
      context.arc(0, 0, r1, a0, a1, !cw);
      if (r0 > epsilon9) {
        context.moveTo(r0 * cos3(a1), r0 * sin3(a1));
        context.arc(0, 0, r0, a1, a0, cw);
      }
    } else {
      var a01 = a0, a11 = a1, a00 = a0, a10 = a1, da0 = da2, da1 = da2, ap = padAngle.apply(this, arguments) / 2, rp = ap > epsilon9 && (padRadius ? +padRadius.apply(this, arguments) : sqrt3(r0 * r0 + r1 * r1)), rc = min6(abs4(r1 - r0) / 2, +cornerRadius.apply(this, arguments)), rc0 = rc, rc1 = rc, t010, t110;
      if (rp > epsilon9) {
        var p02 = asin2(rp / r0 * sin3(ap)), p1 = asin2(rp / r1 * sin3(ap));
        if ((da0 -= p02 * 2) > epsilon9)
          p02 *= cw ? 1 : -1, a00 += p02, a10 -= p02;
        else
          da0 = 0, a00 = a10 = (a0 + a1) / 2;
        if ((da1 -= p1 * 2) > epsilon9)
          p1 *= cw ? 1 : -1, a01 += p1, a11 -= p1;
        else
          da1 = 0, a01 = a11 = (a0 + a1) / 2;
      }
      var x01 = r1 * cos3(a01), y01 = r1 * sin3(a01), x10 = r0 * cos3(a10), y10 = r0 * sin3(a10);
      if (rc > epsilon9) {
        var x11 = r1 * cos3(a11), y11 = r1 * sin3(a11), x004 = r0 * cos3(a00), y004 = r0 * sin3(a00), oc;
        if (da2 < pi8 && (oc = intersect(x01, y01, x004, y004, x11, y11, x10, y10))) {
          var ax = x01 - oc[0], ay = y01 - oc[1], bx = x11 - oc[0], by = y11 - oc[1], kc = 1 / sin3(acos2((ax * bx + ay * by) / (sqrt3(ax * ax + ay * ay) * sqrt3(bx * bx + by * by))) / 2), lc = sqrt3(oc[0] * oc[0] + oc[1] * oc[1]);
          rc0 = min6(rc, (r0 - lc) / (kc - 1));
          rc1 = min6(rc, (r1 - lc) / (kc + 1));
        }
      }
      if (!(da1 > epsilon9))
        context.moveTo(x01, y01);
      else if (rc1 > epsilon9) {
        t010 = cornerTangents(x004, y004, x01, y01, r1, rc1, cw);
        t110 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);
        context.moveTo(t010.cx + t010.x01, t010.cy + t010.y01);
        if (rc1 < rc)
          context.arc(t010.cx, t010.cy, rc1, atan22(t010.y01, t010.x01), atan22(t110.y01, t110.x01), !cw);
        else {
          context.arc(t010.cx, t010.cy, rc1, atan22(t010.y01, t010.x01), atan22(t010.y11, t010.x11), !cw);
          context.arc(0, 0, r1, atan22(t010.cy + t010.y11, t010.cx + t010.x11), atan22(t110.cy + t110.y11, t110.cx + t110.x11), !cw);
          context.arc(t110.cx, t110.cy, rc1, atan22(t110.y11, t110.x11), atan22(t110.y01, t110.x01), !cw);
        }
      } else
        context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);
      if (!(r0 > epsilon9) || !(da0 > epsilon9))
        context.lineTo(x10, y10);
      else if (rc0 > epsilon9) {
        t010 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);
        t110 = cornerTangents(x01, y01, x004, y004, r0, -rc0, cw);
        context.lineTo(t010.cx + t010.x01, t010.cy + t010.y01);
        if (rc0 < rc)
          context.arc(t010.cx, t010.cy, rc0, atan22(t010.y01, t010.x01), atan22(t110.y01, t110.x01), !cw);
        else {
          context.arc(t010.cx, t010.cy, rc0, atan22(t010.y01, t010.x01), atan22(t010.y11, t010.x11), !cw);
          context.arc(0, 0, r0, atan22(t010.cy + t010.y11, t010.cx + t010.x11), atan22(t110.cy + t110.y11, t110.cx + t110.x11), cw);
          context.arc(t110.cx, t110.cy, rc0, atan22(t110.y11, t110.x11), atan22(t110.y01, t110.x01), !cw);
        }
      } else
        context.arc(0, 0, r0, a10, a00, cw);
    }
    context.closePath();
    if (buffer)
      return context = null, buffer + "" || null;
  }
  arc.centroid = function() {
    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2, a3 = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi8 / 2;
    return [cos3(a3) * r, sin3(a3) * r];
  };
  arc.innerRadius = function(_2) {
    return arguments.length ? (innerRadius = typeof _2 === "function" ? _2 : constant_default15(+_2), arc) : innerRadius;
  };
  arc.outerRadius = function(_2) {
    return arguments.length ? (outerRadius = typeof _2 === "function" ? _2 : constant_default15(+_2), arc) : outerRadius;
  };
  arc.cornerRadius = function(_2) {
    return arguments.length ? (cornerRadius = typeof _2 === "function" ? _2 : constant_default15(+_2), arc) : cornerRadius;
  };
  arc.padRadius = function(_2) {
    return arguments.length ? (padRadius = _2 == null ? null : typeof _2 === "function" ? _2 : constant_default15(+_2), arc) : padRadius;
  };
  arc.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant_default15(+_2), arc) : startAngle;
  };
  arc.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant_default15(+_2), arc) : endAngle;
  };
  arc.padAngle = function(_2) {
    return arguments.length ? (padAngle = typeof _2 === "function" ? _2 : constant_default15(+_2), arc) : padAngle;
  };
  arc.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, arc) : context;
  };
  return arc;
}

// node_modules/d3-shape/src/array.js
var slice7 = Array.prototype.slice;
function array_default6(x7) {
  return typeof x7 === "object" && "length" in x7 ? x7 : Array.from(x7);
}

// node_modules/d3-shape/src/curve/linear.js
function Linear(context) {
  this._context = context;
}
Linear.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
        break;
      case 1:
        this._point = 2;
      default:
        this._context.lineTo(x7, y7);
        break;
    }
  }
};
function linear_default(context) {
  return new Linear(context);
}

// node_modules/d3-shape/src/point.js
function x2(p) {
  return p[0];
}
function y2(p) {
  return p[1];
}

// node_modules/d3-shape/src/line.js
function line_default2(x7, y7) {
  var defined = constant_default15(true), context = null, curve = linear_default, output = null;
  x7 = typeof x7 === "function" ? x7 : x7 === void 0 ? x2 : constant_default15(x7);
  y7 = typeof y7 === "function" ? y7 : y7 === void 0 ? y2 : constant_default15(y7);
  function line2(data) {
    var i, n = (data = array_default6(data)).length, d, defined0 = false, buffer;
    if (context == null)
      output = curve(buffer = path_default5());
    for (i = 0; i <= n; ++i) {
      if (!(i < n && defined(d = data[i], i, data)) === defined0) {
        if (defined0 = !defined0)
          output.lineStart();
        else
          output.lineEnd();
      }
      if (defined0)
        output.point(+x7(d, i, data), +y7(d, i, data));
    }
    if (buffer)
      return output = null, buffer + "" || null;
  }
  line2.x = function(_2) {
    return arguments.length ? (x7 = typeof _2 === "function" ? _2 : constant_default15(+_2), line2) : x7;
  };
  line2.y = function(_2) {
    return arguments.length ? (y7 = typeof _2 === "function" ? _2 : constant_default15(+_2), line2) : y7;
  };
  line2.defined = function(_2) {
    return arguments.length ? (defined = typeof _2 === "function" ? _2 : constant_default15(!!_2), line2) : defined;
  };
  line2.curve = function(_2) {
    return arguments.length ? (curve = _2, context != null && (output = curve(context)), line2) : curve;
  };
  line2.context = function(_2) {
    return arguments.length ? (_2 == null ? context = output = null : output = curve(context = _2), line2) : context;
  };
  return line2;
}

// node_modules/d3-shape/src/descending.js
function descending_default(a3, b) {
  return b < a3 ? -1 : b > a3 ? 1 : b >= a3 ? 0 : NaN;
}

// node_modules/d3-shape/src/identity.js
function identity_default6(d) {
  return d;
}

// node_modules/d3-shape/src/pie.js
function pie_default() {
  var value = identity_default6, sortValues = descending_default, sort5 = null, startAngle = constant_default15(0), endAngle = constant_default15(tau9), padAngle = constant_default15(0);
  function pie(data) {
    var i, n = (data = array_default6(data)).length, j, k3, sum9 = 0, index6 = new Array(n), arcs = new Array(n), a0 = +startAngle.apply(this, arguments), da2 = Math.min(tau9, Math.max(-tau9, endAngle.apply(this, arguments) - a0)), a1, p = Math.min(Math.abs(da2) / n, padAngle.apply(this, arguments)), pa = p * (da2 < 0 ? -1 : 1), v2;
    for (i = 0; i < n; ++i) {
      if ((v2 = arcs[index6[i] = i] = +value(data[i], i, data)) > 0) {
        sum9 += v2;
      }
    }
    if (sortValues != null)
      index6.sort(function(i2, j2) {
        return sortValues(arcs[i2], arcs[j2]);
      });
    else if (sort5 != null)
      index6.sort(function(i2, j2) {
        return sort5(data[i2], data[j2]);
      });
    for (i = 0, k3 = sum9 ? (da2 - n * pa) / sum9 : 0; i < n; ++i, a0 = a1) {
      j = index6[i], v2 = arcs[j], a1 = a0 + (v2 > 0 ? v2 * k3 : 0) + pa, arcs[j] = {
        data: data[j],
        index: i,
        value: v2,
        startAngle: a0,
        endAngle: a1,
        padAngle: p
      };
    }
    return arcs;
  }
  pie.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant_default15(+_2), pie) : value;
  };
  pie.sortValues = function(_2) {
    return arguments.length ? (sortValues = _2, sort5 = null, pie) : sortValues;
  };
  pie.sort = function(_2) {
    return arguments.length ? (sort5 = _2, sortValues = null, pie) : sort5;
  };
  pie.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant_default15(+_2), pie) : startAngle;
  };
  pie.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant_default15(+_2), pie) : endAngle;
  };
  pie.padAngle = function(_2) {
    return arguments.length ? (padAngle = typeof _2 === "function" ? _2 : constant_default15(+_2), pie) : padAngle;
  };
  return pie;
}

// node_modules/d3-shape/src/curve/radial.js
var curveRadialLinear = curveRadial(linear_default);
function Radial(curve) {
  this._curve = curve;
}
Radial.prototype = {
  areaStart: function() {
    this._curve.areaStart();
  },
  areaEnd: function() {
    this._curve.areaEnd();
  },
  lineStart: function() {
    this._curve.lineStart();
  },
  lineEnd: function() {
    this._curve.lineEnd();
  },
  point: function(a3, r) {
    this._curve.point(r * Math.sin(a3), r * -Math.cos(a3));
  }
};
function curveRadial(curve) {
  function radial2(context) {
    return new Radial(curve(context));
  }
  radial2._curve = curve;
  return radial2;
}

// node_modules/d3-shape/src/symbol/asterisk.js
var sqrt32 = sqrt3(3);

// node_modules/d3-shape/src/symbol/diamond.js
var tan30 = sqrt3(1 / 3);
var tan30_2 = tan30 * 2;

// node_modules/d3-shape/src/symbol/star.js
var kr = sin3(pi8 / 10) / sin3(7 * pi8 / 10);
var kx = sin3(tau9 / 10) * kr;
var ky = -cos3(tau9 / 10) * kr;

// node_modules/d3-shape/src/symbol/triangle.js
var sqrt33 = sqrt3(3);

// node_modules/d3-shape/src/symbol/triangle2.js
var sqrt34 = sqrt3(3);

// node_modules/d3-shape/src/symbol/wye.js
var s = sqrt3(3) / 2;
var k = 1 / sqrt3(12);
var a = (k / 2 + 1) * 3;

// node_modules/d3-shape/src/noop.js
function noop_default2() {
}

// node_modules/d3-shape/src/curve/basis.js
function point2(that, x7, y7) {
  that._context.bezierCurveTo(
    (2 * that._x0 + that._x1) / 3,
    (2 * that._y0 + that._y1) / 3,
    (that._x0 + 2 * that._x1) / 3,
    (that._y0 + 2 * that._y1) / 3,
    (that._x0 + 4 * that._x1 + x7) / 6,
    (that._y0 + 4 * that._y1 + y7) / 6
  );
}
function Basis(context) {
  this._context = context;
}
Basis.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 3:
        point2(this, this._x1, this._y1);
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
    }
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
      default:
        point2(this, x7, y7);
        break;
    }
    this._x0 = this._x1, this._x1 = x7;
    this._y0 = this._y1, this._y1 = y7;
  }
};
function basis_default5(context) {
  return new Basis(context);
}

// node_modules/d3-shape/src/curve/basisClosed.js
function BasisClosed(context) {
  this._context = context;
}
BasisClosed.prototype = {
  areaStart: noop_default2,
  areaEnd: noop_default2,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x2, this._y2);
        this._context.closePath();
        break;
      }
      case 2: {
        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);
        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);
        this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x2, this._y2);
        this.point(this._x3, this._y3);
        this.point(this._x4, this._y4);
        break;
      }
    }
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._x2 = x7, this._y2 = y7;
        break;
      case 1:
        this._point = 2;
        this._x3 = x7, this._y3 = y7;
        break;
      case 2:
        this._point = 3;
        this._x4 = x7, this._y4 = y7;
        this._context.moveTo((this._x0 + 4 * this._x1 + x7) / 6, (this._y0 + 4 * this._y1 + y7) / 6);
        break;
      default:
        point2(this, x7, y7);
        break;
    }
    this._x0 = this._x1, this._x1 = x7;
    this._y0 = this._y1, this._y1 = y7;
  }
};
function basisClosed_default5(context) {
  return new BasisClosed(context);
}

// node_modules/d3-shape/src/curve/basisOpen.js
function BasisOpen(context) {
  this._context = context;
}
BasisOpen.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line || this._line !== 0 && this._point === 3)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    switch (this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        var x07 = (this._x0 + 4 * this._x1 + x7) / 6, y06 = (this._y0 + 4 * this._y1 + y7) / 6;
        this._line ? this._context.lineTo(x07, y06) : this._context.moveTo(x07, y06);
        break;
      case 3:
        this._point = 4;
      default:
        point2(this, x7, y7);
        break;
    }
    this._x0 = this._x1, this._x1 = x7;
    this._y0 = this._y1, this._y1 = y7;
  }
};
function basisOpen_default(context) {
  return new BasisOpen(context);
}

// node_modules/d3-shape/src/curve/bundle.js
function Bundle(context, beta) {
  this._basis = new Basis(context);
  this._beta = beta;
}
Bundle.prototype = {
  lineStart: function() {
    this._x = [];
    this._y = [];
    this._basis.lineStart();
  },
  lineEnd: function() {
    var x7 = this._x, y7 = this._y, j = x7.length - 1;
    if (j > 0) {
      var x07 = x7[0], y06 = y7[0], dx = x7[j] - x07, dy = y7[j] - y06, i = -1, t;
      while (++i <= j) {
        t = i / j;
        this._basis.point(
          this._beta * x7[i] + (1 - this._beta) * (x07 + t * dx),
          this._beta * y7[i] + (1 - this._beta) * (y06 + t * dy)
        );
      }
    }
    this._x = this._y = null;
    this._basis.lineEnd();
  },
  point: function(x7, y7) {
    this._x.push(+x7);
    this._y.push(+y7);
  }
};
var bundle_default = function custom21(beta) {
  function bundle(context) {
    return beta === 1 ? new Basis(context) : new Bundle(context, beta);
  }
  bundle.beta = function(beta2) {
    return custom21(+beta2);
  };
  return bundle;
}(0.85);

// node_modules/d3-shape/src/curve/cardinal.js
function point3(that, x7, y7) {
  that._context.bezierCurveTo(
    that._x1 + that._k * (that._x2 - that._x0),
    that._y1 + that._k * (that._y2 - that._y0),
    that._x2 + that._k * (that._x1 - x7),
    that._y2 + that._k * (that._y1 - y7),
    that._x2,
    that._y2
  );
}
function Cardinal(context, tension) {
  this._context = context;
  this._k = (1 - tension) / 6;
}
Cardinal.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x2, this._y2);
        break;
      case 3:
        point3(this, this._x1, this._y1);
        break;
    }
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
        break;
      case 1:
        this._point = 2;
        this._x1 = x7, this._y1 = y7;
        break;
      case 2:
        this._point = 3;
      default:
        point3(this, x7, y7);
        break;
    }
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
  }
};
var cardinal_default = function custom22(tension) {
  function cardinal(context) {
    return new Cardinal(context, tension);
  }
  cardinal.tension = function(tension2) {
    return custom22(+tension2);
  };
  return cardinal;
}(0);

// node_modules/d3-shape/src/curve/cardinalClosed.js
function CardinalClosed(context, tension) {
  this._context = context;
  this._k = (1 - tension) / 6;
}
CardinalClosed.prototype = {
  areaStart: noop_default2,
  areaEnd: noop_default2,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x3, this._y3);
        this._context.closePath();
        break;
      }
      case 2: {
        this._context.lineTo(this._x3, this._y3);
        this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x3, this._y3);
        this.point(this._x4, this._y4);
        this.point(this._x5, this._y5);
        break;
      }
    }
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._x3 = x7, this._y3 = y7;
        break;
      case 1:
        this._point = 2;
        this._context.moveTo(this._x4 = x7, this._y4 = y7);
        break;
      case 2:
        this._point = 3;
        this._x5 = x7, this._y5 = y7;
        break;
      default:
        point3(this, x7, y7);
        break;
    }
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
  }
};
var cardinalClosed_default = function custom23(tension) {
  function cardinal(context) {
    return new CardinalClosed(context, tension);
  }
  cardinal.tension = function(tension2) {
    return custom23(+tension2);
  };
  return cardinal;
}(0);

// node_modules/d3-shape/src/curve/cardinalOpen.js
function CardinalOpen(context, tension) {
  this._context = context;
  this._k = (1 - tension) / 6;
}
CardinalOpen.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line || this._line !== 0 && this._point === 3)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    switch (this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
        break;
      case 3:
        this._point = 4;
      default:
        point3(this, x7, y7);
        break;
    }
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
  }
};
var cardinalOpen_default = function custom24(tension) {
  function cardinal(context) {
    return new CardinalOpen(context, tension);
  }
  cardinal.tension = function(tension2) {
    return custom24(+tension2);
  };
  return cardinal;
}(0);

// node_modules/d3-shape/src/curve/catmullRom.js
function point4(that, x7, y7) {
  var x13 = that._x1, y12 = that._y1, x22 = that._x2, y22 = that._y2;
  if (that._l01_a > epsilon9) {
    var a3 = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a, n = 3 * that._l01_a * (that._l01_a + that._l12_a);
    x13 = (x13 * a3 - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;
    y12 = (y12 * a3 - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;
  }
  if (that._l23_a > epsilon9) {
    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a, m = 3 * that._l23_a * (that._l23_a + that._l12_a);
    x22 = (x22 * b + that._x1 * that._l23_2a - x7 * that._l12_2a) / m;
    y22 = (y22 * b + that._y1 * that._l23_2a - y7 * that._l12_2a) / m;
  }
  that._context.bezierCurveTo(x13, y12, x22, y22, that._x2, that._y2);
}
function CatmullRom(context, alpha) {
  this._context = context;
  this._alpha = alpha;
}
CatmullRom.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x2, this._y2);
        break;
      case 3:
        this.point(this._x2, this._y2);
        break;
    }
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    if (this._point) {
      var x23 = this._x2 - x7, y23 = this._y2 - y7;
      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));
    }
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
      default:
        point4(this, x7, y7);
        break;
    }
    this._l01_a = this._l12_a, this._l12_a = this._l23_a;
    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
  }
};
var catmullRom_default = function custom25(alpha) {
  function catmullRom(context) {
    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);
  }
  catmullRom.alpha = function(alpha2) {
    return custom25(+alpha2);
  };
  return catmullRom;
}(0.5);

// node_modules/d3-shape/src/curve/catmullRomClosed.js
function CatmullRomClosed(context, alpha) {
  this._context = context;
  this._alpha = alpha;
}
CatmullRomClosed.prototype = {
  areaStart: noop_default2,
  areaEnd: noop_default2,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;
    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x3, this._y3);
        this._context.closePath();
        break;
      }
      case 2: {
        this._context.lineTo(this._x3, this._y3);
        this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x3, this._y3);
        this.point(this._x4, this._y4);
        this.point(this._x5, this._y5);
        break;
      }
    }
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    if (this._point) {
      var x23 = this._x2 - x7, y23 = this._y2 - y7;
      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));
    }
    switch (this._point) {
      case 0:
        this._point = 1;
        this._x3 = x7, this._y3 = y7;
        break;
      case 1:
        this._point = 2;
        this._context.moveTo(this._x4 = x7, this._y4 = y7);
        break;
      case 2:
        this._point = 3;
        this._x5 = x7, this._y5 = y7;
        break;
      default:
        point4(this, x7, y7);
        break;
    }
    this._l01_a = this._l12_a, this._l12_a = this._l23_a;
    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
  }
};
var catmullRomClosed_default = function custom26(alpha) {
  function catmullRom(context) {
    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);
  }
  catmullRom.alpha = function(alpha2) {
    return custom26(+alpha2);
  };
  return catmullRom;
}(0.5);

// node_modules/d3-shape/src/curve/catmullRomOpen.js
function CatmullRomOpen(context, alpha) {
  this._context = context;
  this._alpha = alpha;
}
CatmullRomOpen.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
  },
  lineEnd: function() {
    if (this._line || this._line !== 0 && this._point === 3)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    if (this._point) {
      var x23 = this._x2 - x7, y23 = this._y2 - y7;
      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));
    }
    switch (this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
        break;
      case 3:
        this._point = 4;
      default:
        point4(this, x7, y7);
        break;
    }
    this._l01_a = this._l12_a, this._l12_a = this._l23_a;
    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x7;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y7;
  }
};
var catmullRomOpen_default = function custom27(alpha) {
  function catmullRom(context) {
    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);
  }
  catmullRom.alpha = function(alpha2) {
    return custom27(+alpha2);
  };
  return catmullRom;
}(0.5);

// node_modules/d3-shape/src/curve/linearClosed.js
function LinearClosed(context) {
  this._context = context;
}
LinearClosed.prototype = {
  areaStart: noop_default2,
  areaEnd: noop_default2,
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    if (this._point)
      this._context.closePath();
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    if (this._point)
      this._context.lineTo(x7, y7);
    else
      this._point = 1, this._context.moveTo(x7, y7);
  }
};
function linearClosed_default(context) {
  return new LinearClosed(context);
}

// node_modules/d3-shape/src/curve/monotone.js
function sign2(x7) {
  return x7 < 0 ? -1 : 1;
}
function slope3(that, x22, y22) {
  var h0 = that._x1 - that._x0, h1 = x22 - that._x1, s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0), s1 = (y22 - that._y1) / (h1 || h0 < 0 && -0), p = (s0 * h1 + s1 * h0) / (h0 + h1);
  return (sign2(s0) + sign2(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;
}
function slope2(that, t) {
  var h = that._x1 - that._x0;
  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;
}
function point5(that, t010, t110) {
  var x07 = that._x0, y06 = that._y0, x13 = that._x1, y12 = that._y1, dx = (x13 - x07) / 3;
  that._context.bezierCurveTo(x07 + dx, y06 + dx * t010, x13 - dx, y12 - dx * t110, x13, y12);
}
function MonotoneX(context) {
  this._context = context;
}
MonotoneX.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
      case 3:
        point5(this, this._t0, slope2(this, this._t0));
        break;
    }
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x7, y7) {
    var t110 = NaN;
    x7 = +x7, y7 = +y7;
    if (x7 === this._x1 && y7 === this._y1)
      return;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        point5(this, slope2(this, t110 = slope3(this, x7, y7)), t110);
        break;
      default:
        point5(this, this._t0, t110 = slope3(this, x7, y7));
        break;
    }
    this._x0 = this._x1, this._x1 = x7;
    this._y0 = this._y1, this._y1 = y7;
    this._t0 = t110;
  }
};
function MonotoneY(context) {
  this._context = new ReflectContext(context);
}
(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x7, y7) {
  MonotoneX.prototype.point.call(this, y7, x7);
};
function ReflectContext(context) {
  this._context = context;
}
ReflectContext.prototype = {
  moveTo: function(x7, y7) {
    this._context.moveTo(y7, x7);
  },
  closePath: function() {
    this._context.closePath();
  },
  lineTo: function(x7, y7) {
    this._context.lineTo(y7, x7);
  },
  bezierCurveTo: function(x13, y12, x22, y22, x7, y7) {
    this._context.bezierCurveTo(y12, x13, y22, x22, y7, x7);
  }
};
function monotoneX(context) {
  return new MonotoneX(context);
}
function monotoneY(context) {
  return new MonotoneY(context);
}

// node_modules/d3-shape/src/curve/natural.js
function Natural(context) {
  this._context = context;
}
Natural.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x = [];
    this._y = [];
  },
  lineEnd: function() {
    var x7 = this._x, y7 = this._y, n = x7.length;
    if (n) {
      this._line ? this._context.lineTo(x7[0], y7[0]) : this._context.moveTo(x7[0], y7[0]);
      if (n === 2) {
        this._context.lineTo(x7[1], y7[1]);
      } else {
        var px = controlPoints(x7), py = controlPoints(y7);
        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {
          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x7[i1], y7[i1]);
        }
      }
    }
    if (this._line || this._line !== 0 && n === 1)
      this._context.closePath();
    this._line = 1 - this._line;
    this._x = this._y = null;
  },
  point: function(x7, y7) {
    this._x.push(+x7);
    this._y.push(+y7);
  }
};
function controlPoints(x7) {
  var i, n = x7.length - 1, m, a3 = new Array(n), b = new Array(n), r = new Array(n);
  a3[0] = 0, b[0] = 2, r[0] = x7[0] + 2 * x7[1];
  for (i = 1; i < n - 1; ++i)
    a3[i] = 1, b[i] = 4, r[i] = 4 * x7[i] + 2 * x7[i + 1];
  a3[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x7[n - 1] + x7[n];
  for (i = 1; i < n; ++i)
    m = a3[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];
  a3[n - 1] = r[n - 1] / b[n - 1];
  for (i = n - 2; i >= 0; --i)
    a3[i] = (r[i] - a3[i + 1]) / b[i];
  b[n - 1] = (x7[n] + a3[n - 1]) / 2;
  for (i = 0; i < n - 1; ++i)
    b[i] = 2 * x7[i + 1] - a3[i + 1];
  return [a3, b];
}
function natural_default(context) {
  return new Natural(context);
}

// node_modules/d3-shape/src/curve/step.js
function Step(context, t) {
  this._context = context;
  this._t = t;
}
Step.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x = this._y = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    if (0 < this._t && this._t < 1 && this._point === 2)
      this._context.lineTo(this._x, this._y);
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    if (this._line >= 0)
      this._t = 1 - this._t, this._line = 1 - this._line;
  },
  point: function(x7, y7) {
    x7 = +x7, y7 = +y7;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x7, y7) : this._context.moveTo(x7, y7);
        break;
      case 1:
        this._point = 2;
      default: {
        if (this._t <= 0) {
          this._context.lineTo(this._x, y7);
          this._context.lineTo(x7, y7);
        } else {
          var x13 = this._x * (1 - this._t) + x7 * this._t;
          this._context.lineTo(x13, this._y);
          this._context.lineTo(x13, y7);
        }
        break;
      }
    }
    this._x = x7, this._y = y7;
  }
};
function step_default(context) {
  return new Step(context, 0.5);
}
function stepBefore(context) {
  return new Step(context, 0);
}
function stepAfter(context) {
  return new Step(context, 1);
}

// node_modules/d3/node_modules/d3-time/src/interval.js
var t06 = new Date();
var t16 = new Date();
function newInterval2(floori, offseti, count7, field) {
  function interval6(date3) {
    return floori(date3 = arguments.length === 0 ? new Date() : new Date(+date3)), date3;
  }
  interval6.floor = function(date3) {
    return floori(date3 = new Date(+date3)), date3;
  };
  interval6.ceil = function(date3) {
    return floori(date3 = new Date(date3 - 1)), offseti(date3, 1), floori(date3), date3;
  };
  interval6.round = function(date3) {
    var d0 = interval6(date3), d1 = interval6.ceil(date3);
    return date3 - d0 < d1 - date3 ? d0 : d1;
  };
  interval6.offset = function(date3, step) {
    return offseti(date3 = new Date(+date3), step == null ? 1 : Math.floor(step)), date3;
  };
  interval6.range = function(start6, stop, step) {
    var range6 = [], previous;
    start6 = interval6.ceil(start6);
    step = step == null ? 1 : Math.floor(step);
    if (!(start6 < stop) || !(step > 0))
      return range6;
    do
      range6.push(previous = new Date(+start6)), offseti(start6, step), floori(start6);
    while (previous < start6 && start6 < stop);
    return range6;
  };
  interval6.filter = function(test) {
    return newInterval2(function(date3) {
      if (date3 >= date3)
        while (floori(date3), !test(date3))
          date3.setTime(date3 - 1);
    }, function(date3, step) {
      if (date3 >= date3) {
        if (step < 0)
          while (++step <= 0) {
            while (offseti(date3, -1), !test(date3)) {
            }
          }
        else
          while (--step >= 0) {
            while (offseti(date3, 1), !test(date3)) {
            }
          }
      }
    });
  };
  if (count7) {
    interval6.count = function(start6, end2) {
      t06.setTime(+start6), t16.setTime(+end2);
      floori(t06), floori(t16);
      return Math.floor(count7(t06, t16));
    };
    interval6.every = function(step) {
      step = Math.floor(step);
      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval6 : interval6.filter(field ? function(d) {
        return field(d) % step === 0;
      } : function(d) {
        return interval6.count(0, d) % step === 0;
      });
    };
  }
  return interval6;
}

// node_modules/d3/node_modules/d3-time/src/millisecond.js
var millisecond2 = newInterval2(function() {
}, function(date3, step) {
  date3.setTime(+date3 + step);
}, function(start6, end2) {
  return end2 - start6;
});
millisecond2.every = function(k3) {
  k3 = Math.floor(k3);
  if (!isFinite(k3) || !(k3 > 0))
    return null;
  if (!(k3 > 1))
    return millisecond2;
  return newInterval2(function(date3) {
    date3.setTime(Math.floor(date3 / k3) * k3);
  }, function(date3, step) {
    date3.setTime(+date3 + step * k3);
  }, function(start6, end2) {
    return (end2 - start6) / k3;
  });
};
var millisecond_default2 = millisecond2;
var milliseconds2 = millisecond2.range;

// node_modules/d3/node_modules/d3-time/src/duration.js
var durationSecond2 = 1e3;
var durationMinute2 = durationSecond2 * 60;
var durationHour2 = durationMinute2 * 60;
var durationDay2 = durationHour2 * 24;
var durationWeek2 = durationDay2 * 7;
var durationMonth2 = durationDay2 * 30;
var durationYear2 = durationDay2 * 365;

// node_modules/d3/node_modules/d3-time/src/second.js
var second2 = newInterval2(function(date3) {
  date3.setTime(date3 - date3.getMilliseconds());
}, function(date3, step) {
  date3.setTime(+date3 + step * durationSecond2);
}, function(start6, end2) {
  return (end2 - start6) / durationSecond2;
}, function(date3) {
  return date3.getUTCSeconds();
});
var second_default2 = second2;
var seconds2 = second2.range;

// node_modules/d3/node_modules/d3-time/src/minute.js
var minute2 = newInterval2(function(date3) {
  date3.setTime(date3 - date3.getMilliseconds() - date3.getSeconds() * durationSecond2);
}, function(date3, step) {
  date3.setTime(+date3 + step * durationMinute2);
}, function(start6, end2) {
  return (end2 - start6) / durationMinute2;
}, function(date3) {
  return date3.getMinutes();
});
var minute_default2 = minute2;
var minutes2 = minute2.range;

// node_modules/d3/node_modules/d3-time/src/hour.js
var hour2 = newInterval2(function(date3) {
  date3.setTime(date3 - date3.getMilliseconds() - date3.getSeconds() * durationSecond2 - date3.getMinutes() * durationMinute2);
}, function(date3, step) {
  date3.setTime(+date3 + step * durationHour2);
}, function(start6, end2) {
  return (end2 - start6) / durationHour2;
}, function(date3) {
  return date3.getHours();
});
var hour_default2 = hour2;
var hours2 = hour2.range;

// node_modules/d3/node_modules/d3-time/src/day.js
var day2 = newInterval2(
  (date3) => date3.setHours(0, 0, 0, 0),
  (date3, step) => date3.setDate(date3.getDate() + step),
  (start6, end2) => (end2 - start6 - (end2.getTimezoneOffset() - start6.getTimezoneOffset()) * durationMinute2) / durationDay2,
  (date3) => date3.getDate() - 1
);
var day_default2 = day2;
var days2 = day2.range;

// node_modules/d3/node_modules/d3-time/src/week.js
function weekday2(i) {
  return newInterval2(function(date3) {
    date3.setDate(date3.getDate() - (date3.getDay() + 7 - i) % 7);
    date3.setHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setDate(date3.getDate() + step * 7);
  }, function(start6, end2) {
    return (end2 - start6 - (end2.getTimezoneOffset() - start6.getTimezoneOffset()) * durationMinute2) / durationWeek2;
  });
}
var sunday2 = weekday2(0);
var monday2 = weekday2(1);
var tuesday2 = weekday2(2);
var wednesday2 = weekday2(3);
var thursday2 = weekday2(4);
var friday2 = weekday2(5);
var saturday2 = weekday2(6);
var sundays2 = sunday2.range;
var mondays2 = monday2.range;
var tuesdays2 = tuesday2.range;
var wednesdays2 = wednesday2.range;
var thursdays2 = thursday2.range;
var fridays2 = friday2.range;
var saturdays2 = saturday2.range;

// node_modules/d3/node_modules/d3-time/src/month.js
var month2 = newInterval2(function(date3) {
  date3.setDate(1);
  date3.setHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setMonth(date3.getMonth() + step);
}, function(start6, end2) {
  return end2.getMonth() - start6.getMonth() + (end2.getFullYear() - start6.getFullYear()) * 12;
}, function(date3) {
  return date3.getMonth();
});
var month_default2 = month2;
var months2 = month2.range;

// node_modules/d3/node_modules/d3-time/src/year.js
var year2 = newInterval2(function(date3) {
  date3.setMonth(0, 1);
  date3.setHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setFullYear(date3.getFullYear() + step);
}, function(start6, end2) {
  return end2.getFullYear() - start6.getFullYear();
}, function(date3) {
  return date3.getFullYear();
});
year2.every = function(k3) {
  return !isFinite(k3 = Math.floor(k3)) || !(k3 > 0) ? null : newInterval2(function(date3) {
    date3.setFullYear(Math.floor(date3.getFullYear() / k3) * k3);
    date3.setMonth(0, 1);
    date3.setHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setFullYear(date3.getFullYear() + step * k3);
  });
};
var year_default2 = year2;
var years2 = year2.range;

// node_modules/d3/node_modules/d3-time/src/utcMinute.js
var utcMinute2 = newInterval2(function(date3) {
  date3.setUTCSeconds(0, 0);
}, function(date3, step) {
  date3.setTime(+date3 + step * durationMinute2);
}, function(start6, end2) {
  return (end2 - start6) / durationMinute2;
}, function(date3) {
  return date3.getUTCMinutes();
});
var utcMinute_default2 = utcMinute2;
var utcMinutes2 = utcMinute2.range;

// node_modules/d3/node_modules/d3-time/src/utcHour.js
var utcHour2 = newInterval2(function(date3) {
  date3.setUTCMinutes(0, 0, 0);
}, function(date3, step) {
  date3.setTime(+date3 + step * durationHour2);
}, function(start6, end2) {
  return (end2 - start6) / durationHour2;
}, function(date3) {
  return date3.getUTCHours();
});
var utcHour_default2 = utcHour2;
var utcHours2 = utcHour2.range;

// node_modules/d3/node_modules/d3-time/src/utcDay.js
var utcDay2 = newInterval2(function(date3) {
  date3.setUTCHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setUTCDate(date3.getUTCDate() + step);
}, function(start6, end2) {
  return (end2 - start6) / durationDay2;
}, function(date3) {
  return date3.getUTCDate() - 1;
});
var utcDay_default2 = utcDay2;
var utcDays2 = utcDay2.range;

// node_modules/d3/node_modules/d3-time/src/utcWeek.js
function utcWeekday2(i) {
  return newInterval2(function(date3) {
    date3.setUTCDate(date3.getUTCDate() - (date3.getUTCDay() + 7 - i) % 7);
    date3.setUTCHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setUTCDate(date3.getUTCDate() + step * 7);
  }, function(start6, end2) {
    return (end2 - start6) / durationWeek2;
  });
}
var utcSunday2 = utcWeekday2(0);
var utcMonday2 = utcWeekday2(1);
var utcTuesday2 = utcWeekday2(2);
var utcWednesday2 = utcWeekday2(3);
var utcThursday2 = utcWeekday2(4);
var utcFriday2 = utcWeekday2(5);
var utcSaturday2 = utcWeekday2(6);
var utcSundays2 = utcSunday2.range;
var utcMondays2 = utcMonday2.range;
var utcTuesdays2 = utcTuesday2.range;
var utcWednesdays2 = utcWednesday2.range;
var utcThursdays2 = utcThursday2.range;
var utcFridays2 = utcFriday2.range;
var utcSaturdays2 = utcSaturday2.range;

// node_modules/d3/node_modules/d3-time/src/utcMonth.js
var utcMonth2 = newInterval2(function(date3) {
  date3.setUTCDate(1);
  date3.setUTCHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setUTCMonth(date3.getUTCMonth() + step);
}, function(start6, end2) {
  return end2.getUTCMonth() - start6.getUTCMonth() + (end2.getUTCFullYear() - start6.getUTCFullYear()) * 12;
}, function(date3) {
  return date3.getUTCMonth();
});
var utcMonth_default2 = utcMonth2;
var utcMonths2 = utcMonth2.range;

// node_modules/d3/node_modules/d3-time/src/utcYear.js
var utcYear2 = newInterval2(function(date3) {
  date3.setUTCMonth(0, 1);
  date3.setUTCHours(0, 0, 0, 0);
}, function(date3, step) {
  date3.setUTCFullYear(date3.getUTCFullYear() + step);
}, function(start6, end2) {
  return end2.getUTCFullYear() - start6.getUTCFullYear();
}, function(date3) {
  return date3.getUTCFullYear();
});
utcYear2.every = function(k3) {
  return !isFinite(k3 = Math.floor(k3)) || !(k3 > 0) ? null : newInterval2(function(date3) {
    date3.setUTCFullYear(Math.floor(date3.getUTCFullYear() / k3) * k3);
    date3.setUTCMonth(0, 1);
    date3.setUTCHours(0, 0, 0, 0);
  }, function(date3, step) {
    date3.setUTCFullYear(date3.getUTCFullYear() + step * k3);
  });
};
var utcYear_default2 = utcYear2;
var utcYears2 = utcYear2.range;

// node_modules/d3/node_modules/d3-time/src/ticks.js
function ticker2(year4, month4, week, day4, hour4, minute4) {
  const tickIntervals = [
    [second_default2, 1, durationSecond2],
    [second_default2, 5, 5 * durationSecond2],
    [second_default2, 15, 15 * durationSecond2],
    [second_default2, 30, 30 * durationSecond2],
    [minute4, 1, durationMinute2],
    [minute4, 5, 5 * durationMinute2],
    [minute4, 15, 15 * durationMinute2],
    [minute4, 30, 30 * durationMinute2],
    [hour4, 1, durationHour2],
    [hour4, 3, 3 * durationHour2],
    [hour4, 6, 6 * durationHour2],
    [hour4, 12, 12 * durationHour2],
    [day4, 1, durationDay2],
    [day4, 2, 2 * durationDay2],
    [week, 1, durationWeek2],
    [month4, 1, durationMonth2],
    [month4, 3, 3 * durationMonth2],
    [year4, 1, durationYear2]
  ];
  function ticks5(start6, stop, count7) {
    const reverse5 = stop < start6;
    if (reverse5)
      [start6, stop] = [stop, start6];
    const interval6 = count7 && typeof count7.range === "function" ? count7 : tickInterval(start6, stop, count7);
    const ticks6 = interval6 ? interval6.range(start6, +stop + 1) : [];
    return reverse5 ? ticks6.reverse() : ticks6;
  }
  function tickInterval(start6, stop, count7) {
    const target = Math.abs(stop - start6) / count7;
    const i = bisector(([, , step2]) => step2).right(tickIntervals, target);
    if (i === tickIntervals.length)
      return year4.every(tickStep(start6 / durationYear2, stop / durationYear2, count7));
    if (i === 0)
      return millisecond_default2.every(Math.max(tickStep(start6, stop, count7), 1));
    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];
    return t.every(step);
  }
  return [ticks5, tickInterval];
}
var [utcTicks2, utcTickInterval2] = ticker2(utcYear_default2, utcMonth_default2, utcSunday2, utcDay_default2, utcHour_default2, utcMinute_default2);
var [timeTicks2, timeTickInterval2] = ticker2(year_default2, month_default2, sunday2, day_default2, hour_default2, minute_default2);

// node_modules/d3/node_modules/d3-time-format/src/locale.js
function localDate2(d) {
  if (0 <= d.y && d.y < 100) {
    var date3 = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);
    date3.setFullYear(d.y);
    return date3;
  }
  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);
}
function utcDate2(d) {
  if (0 <= d.y && d.y < 100) {
    var date3 = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));
    date3.setUTCFullYear(d.y);
    return date3;
  }
  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));
}
function newDate2(y7, m, d) {
  return { y: y7, m, d, H: 0, M: 0, S: 0, L: 0 };
}
function formatLocale2(locale7) {
  var locale_dateTime = locale7.dateTime, locale_date = locale7.date, locale_time = locale7.time, locale_periods = locale7.periods, locale_weekdays = locale7.days, locale_shortWeekdays = locale7.shortDays, locale_months = locale7.months, locale_shortMonths = locale7.shortMonths;
  var periodRe = formatRe2(locale_periods), periodLookup = formatLookup2(locale_periods), weekdayRe = formatRe2(locale_weekdays), weekdayLookup = formatLookup2(locale_weekdays), shortWeekdayRe = formatRe2(locale_shortWeekdays), shortWeekdayLookup = formatLookup2(locale_shortWeekdays), monthRe = formatRe2(locale_months), monthLookup = formatLookup2(locale_months), shortMonthRe = formatRe2(locale_shortMonths), shortMonthLookup = formatLookup2(locale_shortMonths);
  var formats = {
    "a": formatShortWeekday,
    "A": formatWeekday,
    "b": formatShortMonth,
    "B": formatMonth,
    "c": null,
    "d": formatDayOfMonth2,
    "e": formatDayOfMonth2,
    "f": formatMicroseconds2,
    "g": formatYearISO2,
    "G": formatFullYearISO2,
    "H": formatHour242,
    "I": formatHour122,
    "j": formatDayOfYear2,
    "L": formatMilliseconds2,
    "m": formatMonthNumber2,
    "M": formatMinutes2,
    "p": formatPeriod,
    "q": formatQuarter,
    "Q": formatUnixTimestamp2,
    "s": formatUnixTimestampSeconds2,
    "S": formatSeconds2,
    "u": formatWeekdayNumberMonday2,
    "U": formatWeekNumberSunday2,
    "V": formatWeekNumberISO2,
    "w": formatWeekdayNumberSunday2,
    "W": formatWeekNumberMonday2,
    "x": null,
    "X": null,
    "y": formatYear4,
    "Y": formatFullYear2,
    "Z": formatZone2,
    "%": formatLiteralPercent2
  };
  var utcFormats = {
    "a": formatUTCShortWeekday,
    "A": formatUTCWeekday,
    "b": formatUTCShortMonth,
    "B": formatUTCMonth,
    "c": null,
    "d": formatUTCDayOfMonth2,
    "e": formatUTCDayOfMonth2,
    "f": formatUTCMicroseconds2,
    "g": formatUTCYearISO2,
    "G": formatUTCFullYearISO2,
    "H": formatUTCHour242,
    "I": formatUTCHour122,
    "j": formatUTCDayOfYear2,
    "L": formatUTCMilliseconds2,
    "m": formatUTCMonthNumber2,
    "M": formatUTCMinutes2,
    "p": formatUTCPeriod,
    "q": formatUTCQuarter,
    "Q": formatUnixTimestamp2,
    "s": formatUnixTimestampSeconds2,
    "S": formatUTCSeconds2,
    "u": formatUTCWeekdayNumberMonday2,
    "U": formatUTCWeekNumberSunday2,
    "V": formatUTCWeekNumberISO2,
    "w": formatUTCWeekdayNumberSunday2,
    "W": formatUTCWeekNumberMonday2,
    "x": null,
    "X": null,
    "y": formatUTCYear2,
    "Y": formatUTCFullYear2,
    "Z": formatUTCZone2,
    "%": formatLiteralPercent2
  };
  var parses = {
    "a": parseShortWeekday,
    "A": parseWeekday,
    "b": parseShortMonth,
    "B": parseMonth,
    "c": parseLocaleDateTime,
    "d": parseDayOfMonth2,
    "e": parseDayOfMonth2,
    "f": parseMicroseconds2,
    "g": parseYear2,
    "G": parseFullYear2,
    "H": parseHour242,
    "I": parseHour242,
    "j": parseDayOfYear2,
    "L": parseMilliseconds2,
    "m": parseMonthNumber2,
    "M": parseMinutes2,
    "p": parsePeriod,
    "q": parseQuarter2,
    "Q": parseUnixTimestamp2,
    "s": parseUnixTimestampSeconds2,
    "S": parseSeconds2,
    "u": parseWeekdayNumberMonday2,
    "U": parseWeekNumberSunday2,
    "V": parseWeekNumberISO2,
    "w": parseWeekdayNumberSunday2,
    "W": parseWeekNumberMonday2,
    "x": parseLocaleDate,
    "X": parseLocaleTime,
    "y": parseYear2,
    "Y": parseFullYear2,
    "Z": parseZone2,
    "%": parseLiteralPercent2
  };
  formats.x = newFormat(locale_date, formats);
  formats.X = newFormat(locale_time, formats);
  formats.c = newFormat(locale_dateTime, formats);
  utcFormats.x = newFormat(locale_date, utcFormats);
  utcFormats.X = newFormat(locale_time, utcFormats);
  utcFormats.c = newFormat(locale_dateTime, utcFormats);
  function newFormat(specifier, formats2) {
    return function(date3) {
      var string = [], i = -1, j = 0, n = specifier.length, c7, pad7, format5;
      if (!(date3 instanceof Date))
        date3 = new Date(+date3);
      while (++i < n) {
        if (specifier.charCodeAt(i) === 37) {
          string.push(specifier.slice(j, i));
          if ((pad7 = pads2[c7 = specifier.charAt(++i)]) != null)
            c7 = specifier.charAt(++i);
          else
            pad7 = c7 === "e" ? " " : "0";
          if (format5 = formats2[c7])
            c7 = format5(date3, pad7);
          string.push(c7);
          j = i + 1;
        }
      }
      string.push(specifier.slice(j, i));
      return string.join("");
    };
  }
  function newParse(specifier, Z) {
    return function(string) {
      var d = newDate2(1900, void 0, 1), i = parseSpecifier(d, specifier, string += "", 0), week, day4;
      if (i != string.length)
        return null;
      if ("Q" in d)
        return new Date(d.Q);
      if ("s" in d)
        return new Date(d.s * 1e3 + ("L" in d ? d.L : 0));
      if (Z && !("Z" in d))
        d.Z = 0;
      if ("p" in d)
        d.H = d.H % 12 + d.p * 12;
      if (d.m === void 0)
        d.m = "q" in d ? d.q : 0;
      if ("V" in d) {
        if (d.V < 1 || d.V > 53)
          return null;
        if (!("w" in d))
          d.w = 1;
        if ("Z" in d) {
          week = utcDate2(newDate2(d.y, 0, 1)), day4 = week.getUTCDay();
          week = day4 > 4 || day4 === 0 ? utcMonday2.ceil(week) : utcMonday2(week);
          week = utcDay_default2.offset(week, (d.V - 1) * 7);
          d.y = week.getUTCFullYear();
          d.m = week.getUTCMonth();
          d.d = week.getUTCDate() + (d.w + 6) % 7;
        } else {
          week = localDate2(newDate2(d.y, 0, 1)), day4 = week.getDay();
          week = day4 > 4 || day4 === 0 ? monday2.ceil(week) : monday2(week);
          week = day_default2.offset(week, (d.V - 1) * 7);
          d.y = week.getFullYear();
          d.m = week.getMonth();
          d.d = week.getDate() + (d.w + 6) % 7;
        }
      } else if ("W" in d || "U" in d) {
        if (!("w" in d))
          d.w = "u" in d ? d.u % 7 : "W" in d ? 1 : 0;
        day4 = "Z" in d ? utcDate2(newDate2(d.y, 0, 1)).getUTCDay() : localDate2(newDate2(d.y, 0, 1)).getDay();
        d.m = 0;
        d.d = "W" in d ? (d.w + 6) % 7 + d.W * 7 - (day4 + 5) % 7 : d.w + d.U * 7 - (day4 + 6) % 7;
      }
      if ("Z" in d) {
        d.H += d.Z / 100 | 0;
        d.M += d.Z % 100;
        return utcDate2(d);
      }
      return localDate2(d);
    };
  }
  function parseSpecifier(d, specifier, string, j) {
    var i = 0, n = specifier.length, m = string.length, c7, parse4;
    while (i < n) {
      if (j >= m)
        return -1;
      c7 = specifier.charCodeAt(i++);
      if (c7 === 37) {
        c7 = specifier.charAt(i++);
        parse4 = parses[c7 in pads2 ? specifier.charAt(i++) : c7];
        if (!parse4 || (j = parse4(d, string, j)) < 0)
          return -1;
      } else if (c7 != string.charCodeAt(j++)) {
        return -1;
      }
    }
    return j;
  }
  function parsePeriod(d, string, i) {
    var n = periodRe.exec(string.slice(i));
    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseShortWeekday(d, string, i) {
    var n = shortWeekdayRe.exec(string.slice(i));
    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseWeekday(d, string, i) {
    var n = weekdayRe.exec(string.slice(i));
    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseShortMonth(d, string, i) {
    var n = shortMonthRe.exec(string.slice(i));
    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseMonth(d, string, i) {
    var n = monthRe.exec(string.slice(i));
    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
  }
  function parseLocaleDateTime(d, string, i) {
    return parseSpecifier(d, locale_dateTime, string, i);
  }
  function parseLocaleDate(d, string, i) {
    return parseSpecifier(d, locale_date, string, i);
  }
  function parseLocaleTime(d, string, i) {
    return parseSpecifier(d, locale_time, string, i);
  }
  function formatShortWeekday(d) {
    return locale_shortWeekdays[d.getDay()];
  }
  function formatWeekday(d) {
    return locale_weekdays[d.getDay()];
  }
  function formatShortMonth(d) {
    return locale_shortMonths[d.getMonth()];
  }
  function formatMonth(d) {
    return locale_months[d.getMonth()];
  }
  function formatPeriod(d) {
    return locale_periods[+(d.getHours() >= 12)];
  }
  function formatQuarter(d) {
    return 1 + ~~(d.getMonth() / 3);
  }
  function formatUTCShortWeekday(d) {
    return locale_shortWeekdays[d.getUTCDay()];
  }
  function formatUTCWeekday(d) {
    return locale_weekdays[d.getUTCDay()];
  }
  function formatUTCShortMonth(d) {
    return locale_shortMonths[d.getUTCMonth()];
  }
  function formatUTCMonth(d) {
    return locale_months[d.getUTCMonth()];
  }
  function formatUTCPeriod(d) {
    return locale_periods[+(d.getUTCHours() >= 12)];
  }
  function formatUTCQuarter(d) {
    return 1 + ~~(d.getUTCMonth() / 3);
  }
  return {
    format: function(specifier) {
      var f2 = newFormat(specifier += "", formats);
      f2.toString = function() {
        return specifier;
      };
      return f2;
    },
    parse: function(specifier) {
      var p = newParse(specifier += "", false);
      p.toString = function() {
        return specifier;
      };
      return p;
    },
    utcFormat: function(specifier) {
      var f2 = newFormat(specifier += "", utcFormats);
      f2.toString = function() {
        return specifier;
      };
      return f2;
    },
    utcParse: function(specifier) {
      var p = newParse(specifier += "", true);
      p.toString = function() {
        return specifier;
      };
      return p;
    }
  };
}
var pads2 = { "-": "", "_": " ", "0": "0" };
var numberRe2 = /^\s*\d+/;
var percentRe2 = /^%/;
var requoteRe2 = /[\\^$*+?|[\]().{}]/g;
function pad4(value, fill, width2) {
  var sign5 = value < 0 ? "-" : "", string = (sign5 ? -value : value) + "", length3 = string.length;
  return sign5 + (length3 < width2 ? new Array(width2 - length3 + 1).join(fill) + string : string);
}
function requote2(s3) {
  return s3.replace(requoteRe2, "\\$&");
}
function formatRe2(names) {
  return new RegExp("^(?:" + names.map(requote2).join("|") + ")", "i");
}
function formatLookup2(names) {
  return new Map(names.map((name2, i) => [name2.toLowerCase(), i]));
}
function parseWeekdayNumberSunday2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 1));
  return n ? (d.w = +n[0], i + n[0].length) : -1;
}
function parseWeekdayNumberMonday2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 1));
  return n ? (d.u = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberSunday2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 2));
  return n ? (d.U = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberISO2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 2));
  return n ? (d.V = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberMonday2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 2));
  return n ? (d.W = +n[0], i + n[0].length) : -1;
}
function parseFullYear2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 4));
  return n ? (d.y = +n[0], i + n[0].length) : -1;
}
function parseYear2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 2));
  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3), i + n[0].length) : -1;
}
function parseZone2(d, string, i) {
  var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i, i + 6));
  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || "00")), i + n[0].length) : -1;
}
function parseQuarter2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 1));
  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;
}
function parseMonthNumber2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 2));
  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;
}
function parseDayOfMonth2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 2));
  return n ? (d.d = +n[0], i + n[0].length) : -1;
}
function parseDayOfYear2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 3));
  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;
}
function parseHour242(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 2));
  return n ? (d.H = +n[0], i + n[0].length) : -1;
}
function parseMinutes2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 2));
  return n ? (d.M = +n[0], i + n[0].length) : -1;
}
function parseSeconds2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 2));
  return n ? (d.S = +n[0], i + n[0].length) : -1;
}
function parseMilliseconds2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 3));
  return n ? (d.L = +n[0], i + n[0].length) : -1;
}
function parseMicroseconds2(d, string, i) {
  var n = numberRe2.exec(string.slice(i, i + 6));
  return n ? (d.L = Math.floor(n[0] / 1e3), i + n[0].length) : -1;
}
function parseLiteralPercent2(d, string, i) {
  var n = percentRe2.exec(string.slice(i, i + 1));
  return n ? i + n[0].length : -1;
}
function parseUnixTimestamp2(d, string, i) {
  var n = numberRe2.exec(string.slice(i));
  return n ? (d.Q = +n[0], i + n[0].length) : -1;
}
function parseUnixTimestampSeconds2(d, string, i) {
  var n = numberRe2.exec(string.slice(i));
  return n ? (d.s = +n[0], i + n[0].length) : -1;
}
function formatDayOfMonth2(d, p) {
  return pad4(d.getDate(), p, 2);
}
function formatHour242(d, p) {
  return pad4(d.getHours(), p, 2);
}
function formatHour122(d, p) {
  return pad4(d.getHours() % 12 || 12, p, 2);
}
function formatDayOfYear2(d, p) {
  return pad4(1 + day_default2.count(year_default2(d), d), p, 3);
}
function formatMilliseconds2(d, p) {
  return pad4(d.getMilliseconds(), p, 3);
}
function formatMicroseconds2(d, p) {
  return formatMilliseconds2(d, p) + "000";
}
function formatMonthNumber2(d, p) {
  return pad4(d.getMonth() + 1, p, 2);
}
function formatMinutes2(d, p) {
  return pad4(d.getMinutes(), p, 2);
}
function formatSeconds2(d, p) {
  return pad4(d.getSeconds(), p, 2);
}
function formatWeekdayNumberMonday2(d) {
  var day4 = d.getDay();
  return day4 === 0 ? 7 : day4;
}
function formatWeekNumberSunday2(d, p) {
  return pad4(sunday2.count(year_default2(d) - 1, d), p, 2);
}
function dISO2(d) {
  var day4 = d.getDay();
  return day4 >= 4 || day4 === 0 ? thursday2(d) : thursday2.ceil(d);
}
function formatWeekNumberISO2(d, p) {
  d = dISO2(d);
  return pad4(thursday2.count(year_default2(d), d) + (year_default2(d).getDay() === 4), p, 2);
}
function formatWeekdayNumberSunday2(d) {
  return d.getDay();
}
function formatWeekNumberMonday2(d, p) {
  return pad4(monday2.count(year_default2(d) - 1, d), p, 2);
}
function formatYear4(d, p) {
  return pad4(d.getFullYear() % 100, p, 2);
}
function formatYearISO2(d, p) {
  d = dISO2(d);
  return pad4(d.getFullYear() % 100, p, 2);
}
function formatFullYear2(d, p) {
  return pad4(d.getFullYear() % 1e4, p, 4);
}
function formatFullYearISO2(d, p) {
  var day4 = d.getDay();
  d = day4 >= 4 || day4 === 0 ? thursday2(d) : thursday2.ceil(d);
  return pad4(d.getFullYear() % 1e4, p, 4);
}
function formatZone2(d) {
  var z = d.getTimezoneOffset();
  return (z > 0 ? "-" : (z *= -1, "+")) + pad4(z / 60 | 0, "0", 2) + pad4(z % 60, "0", 2);
}
function formatUTCDayOfMonth2(d, p) {
  return pad4(d.getUTCDate(), p, 2);
}
function formatUTCHour242(d, p) {
  return pad4(d.getUTCHours(), p, 2);
}
function formatUTCHour122(d, p) {
  return pad4(d.getUTCHours() % 12 || 12, p, 2);
}
function formatUTCDayOfYear2(d, p) {
  return pad4(1 + utcDay_default2.count(utcYear_default2(d), d), p, 3);
}
function formatUTCMilliseconds2(d, p) {
  return pad4(d.getUTCMilliseconds(), p, 3);
}
function formatUTCMicroseconds2(d, p) {
  return formatUTCMilliseconds2(d, p) + "000";
}
function formatUTCMonthNumber2(d, p) {
  return pad4(d.getUTCMonth() + 1, p, 2);
}
function formatUTCMinutes2(d, p) {
  return pad4(d.getUTCMinutes(), p, 2);
}
function formatUTCSeconds2(d, p) {
  return pad4(d.getUTCSeconds(), p, 2);
}
function formatUTCWeekdayNumberMonday2(d) {
  var dow = d.getUTCDay();
  return dow === 0 ? 7 : dow;
}
function formatUTCWeekNumberSunday2(d, p) {
  return pad4(utcSunday2.count(utcYear_default2(d) - 1, d), p, 2);
}
function UTCdISO2(d) {
  var day4 = d.getUTCDay();
  return day4 >= 4 || day4 === 0 ? utcThursday2(d) : utcThursday2.ceil(d);
}
function formatUTCWeekNumberISO2(d, p) {
  d = UTCdISO2(d);
  return pad4(utcThursday2.count(utcYear_default2(d), d) + (utcYear_default2(d).getUTCDay() === 4), p, 2);
}
function formatUTCWeekdayNumberSunday2(d) {
  return d.getUTCDay();
}
function formatUTCWeekNumberMonday2(d, p) {
  return pad4(utcMonday2.count(utcYear_default2(d) - 1, d), p, 2);
}
function formatUTCYear2(d, p) {
  return pad4(d.getUTCFullYear() % 100, p, 2);
}
function formatUTCYearISO2(d, p) {
  d = UTCdISO2(d);
  return pad4(d.getUTCFullYear() % 100, p, 2);
}
function formatUTCFullYear2(d, p) {
  return pad4(d.getUTCFullYear() % 1e4, p, 4);
}
function formatUTCFullYearISO2(d, p) {
  var day4 = d.getUTCDay();
  d = day4 >= 4 || day4 === 0 ? utcThursday2(d) : utcThursday2.ceil(d);
  return pad4(d.getUTCFullYear() % 1e4, p, 4);
}
function formatUTCZone2() {
  return "+0000";
}
function formatLiteralPercent2() {
  return "%";
}
function formatUnixTimestamp2(d) {
  return +d;
}
function formatUnixTimestampSeconds2(d) {
  return Math.floor(+d / 1e3);
}

// node_modules/d3/node_modules/d3-time-format/src/defaultLocale.js
var locale4;
var timeFormat2;
var timeParse2;
var utcFormat2;
var utcParse2;
defaultLocale4({
  dateTime: "%x, %X",
  date: "%-m/%-d/%Y",
  time: "%-I:%M:%S %p",
  periods: ["AM", "PM"],
  days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
  shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
  shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
});
function defaultLocale4(definition) {
  locale4 = formatLocale2(definition);
  timeFormat2 = locale4.format;
  timeParse2 = locale4.parse;
  utcFormat2 = locale4.utcFormat;
  utcParse2 = locale4.utcParse;
  return locale4;
}

// node_modules/d3/node_modules/d3-time-format/src/isoFormat.js
var isoSpecifier2 = "%Y-%m-%dT%H:%M:%S.%LZ";
function formatIsoNative2(date3) {
  return date3.toISOString();
}
var formatIso2 = Date.prototype.toISOString ? formatIsoNative2 : utcFormat2(isoSpecifier2);

// node_modules/d3/node_modules/d3-time-format/src/isoParse.js
function parseIsoNative2(string) {
  var date3 = new Date(string);
  return isNaN(date3) ? null : date3;
}
var parseIso2 = +new Date("2000-01-01T00:00:00.000Z") ? parseIsoNative2 : utcParse2(isoSpecifier2);

// node_modules/d3/node_modules/d3-timer/src/timer.js
var frame3 = 0;
var timeout3 = 0;
var interval3 = 0;
var pokeDelay3 = 1e3;
var taskHead3;
var taskTail3;
var clockLast3 = 0;
var clockNow3 = 0;
var clockSkew3 = 0;
var clock3 = typeof performance === "object" && performance.now ? performance : Date;
var setFrame3 = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f2) {
  setTimeout(f2, 17);
};
function now3() {
  return clockNow3 || (setFrame3(clearNow3), clockNow3 = clock3.now() + clockSkew3);
}
function clearNow3() {
  clockNow3 = 0;
}
function Timer3() {
  this._call = this._time = this._next = null;
}
Timer3.prototype = timer3.prototype = {
  constructor: Timer3,
  restart: function(callback, delay, time2) {
    if (typeof callback !== "function")
      throw new TypeError("callback is not a function");
    time2 = (time2 == null ? now3() : +time2) + (delay == null ? 0 : +delay);
    if (!this._next && taskTail3 !== this) {
      if (taskTail3)
        taskTail3._next = this;
      else
        taskHead3 = this;
      taskTail3 = this;
    }
    this._call = callback;
    this._time = time2;
    sleep3();
  },
  stop: function() {
    if (this._call) {
      this._call = null;
      this._time = Infinity;
      sleep3();
    }
  }
};
function timer3(callback, delay, time2) {
  var t = new Timer3();
  t.restart(callback, delay, time2);
  return t;
}
function timerFlush3() {
  now3();
  ++frame3;
  var t = taskHead3, e;
  while (t) {
    if ((e = clockNow3 - t._time) >= 0)
      t._call.call(void 0, e);
    t = t._next;
  }
  --frame3;
}
function wake3() {
  clockNow3 = (clockLast3 = clock3.now()) + clockSkew3;
  frame3 = timeout3 = 0;
  try {
    timerFlush3();
  } finally {
    frame3 = 0;
    nap3();
    clockNow3 = 0;
  }
}
function poke3() {
  var now6 = clock3.now(), delay = now6 - clockLast3;
  if (delay > pokeDelay3)
    clockSkew3 -= delay, clockLast3 = now6;
}
function nap3() {
  var t010, t110 = taskHead3, t27, time2 = Infinity;
  while (t110) {
    if (t110._call) {
      if (time2 > t110._time)
        time2 = t110._time;
      t010 = t110, t110 = t110._next;
    } else {
      t27 = t110._next, t110._next = null;
      t110 = t010 ? t010._next = t27 : taskHead3 = t27;
    }
  }
  taskTail3 = t010;
  sleep3(time2);
}
function sleep3(time2) {
  if (frame3)
    return;
  if (timeout3)
    timeout3 = clearTimeout(timeout3);
  var delay = time2 - clockNow3;
  if (delay > 24) {
    if (time2 < Infinity)
      timeout3 = setTimeout(wake3, time2 - clock3.now() - clockSkew3);
    if (interval3)
      interval3 = clearInterval(interval3);
  } else {
    if (!interval3)
      clockLast3 = clock3.now(), interval3 = setInterval(poke3, pokeDelay3);
    frame3 = 1, setFrame3(wake3);
  }
}

// node_modules/d3/node_modules/d3-timer/src/timeout.js
function timeout_default3(callback, delay, time2) {
  var t = new Timer3();
  delay = delay == null ? 0 : +delay;
  t.restart((elapsed) => {
    t.stop();
    callback(elapsed + delay);
  }, delay, time2);
  return t;
}

// node_modules/d3/node_modules/d3-transition/src/transition/schedule.js
var emptyOn2 = dispatch_default3("start", "end", "cancel", "interrupt");
var emptyTween2 = [];
var CREATED2 = 0;
var SCHEDULED2 = 1;
var STARTING2 = 2;
var STARTED2 = 3;
var RUNNING2 = 4;
var ENDING2 = 5;
var ENDED2 = 6;
function schedule_default2(node2, name2, id5, index6, group5, timing) {
  var schedules = node2.__transition;
  if (!schedules)
    node2.__transition = {};
  else if (id5 in schedules)
    return;
  create2(node2, id5, {
    name: name2,
    index: index6,
    group: group5,
    on: emptyOn2,
    tween: emptyTween2,
    time: timing.time,
    delay: timing.delay,
    duration: timing.duration,
    ease: timing.ease,
    timer: null,
    state: CREATED2
  });
}
function init2(node2, id5) {
  var schedule = get5(node2, id5);
  if (schedule.state > CREATED2)
    throw new Error("too late; already scheduled");
  return schedule;
}
function set5(node2, id5) {
  var schedule = get5(node2, id5);
  if (schedule.state > STARTED2)
    throw new Error("too late; already running");
  return schedule;
}
function get5(node2, id5) {
  var schedule = node2.__transition;
  if (!schedule || !(schedule = schedule[id5]))
    throw new Error("transition not found");
  return schedule;
}
function create2(node2, id5, self2) {
  var schedules = node2.__transition, tween;
  schedules[id5] = self2;
  self2.timer = timer3(schedule, 0, self2.time);
  function schedule(elapsed) {
    self2.state = SCHEDULED2;
    self2.timer.restart(start6, self2.delay, self2.time);
    if (self2.delay <= elapsed)
      start6(elapsed - self2.delay);
  }
  function start6(elapsed) {
    var i, j, n, o;
    if (self2.state !== SCHEDULED2)
      return stop();
    for (i in schedules) {
      o = schedules[i];
      if (o.name !== self2.name)
        continue;
      if (o.state === STARTED2)
        return timeout_default3(start6);
      if (o.state === RUNNING2) {
        o.state = ENDED2;
        o.timer.stop();
        o.on.call("interrupt", node2, node2.__data__, o.index, o.group);
        delete schedules[i];
      } else if (+i < id5) {
        o.state = ENDED2;
        o.timer.stop();
        o.on.call("cancel", node2, node2.__data__, o.index, o.group);
        delete schedules[i];
      }
    }
    timeout_default3(function() {
      if (self2.state === STARTED2) {
        self2.state = RUNNING2;
        self2.timer.restart(tick, self2.delay, self2.time);
        tick(elapsed);
      }
    });
    self2.state = STARTING2;
    self2.on.call("start", node2, node2.__data__, self2.index, self2.group);
    if (self2.state !== STARTING2)
      return;
    self2.state = STARTED2;
    tween = new Array(n = self2.tween.length);
    for (i = 0, j = -1; i < n; ++i) {
      if (o = self2.tween[i].value.call(node2, node2.__data__, self2.index, self2.group)) {
        tween[++j] = o;
      }
    }
    tween.length = j + 1;
  }
  function tick(elapsed) {
    var t = elapsed < self2.duration ? self2.ease.call(null, elapsed / self2.duration) : (self2.timer.restart(stop), self2.state = ENDING2, 1), i = -1, n = tween.length;
    while (++i < n) {
      tween[i].call(node2, t);
    }
    if (self2.state === ENDING2) {
      self2.on.call("end", node2, node2.__data__, self2.index, self2.group);
      stop();
    }
  }
  function stop() {
    self2.state = ENDED2;
    self2.timer.stop();
    delete schedules[id5];
    for (var i in schedules)
      return;
    delete node2.__transition;
  }
}

// node_modules/d3/node_modules/d3-transition/src/interrupt.js
function interrupt_default3(node2, name2) {
  var schedules = node2.__transition, schedule, active, empty6 = true, i;
  if (!schedules)
    return;
  name2 = name2 == null ? null : name2 + "";
  for (i in schedules) {
    if ((schedule = schedules[i]).name !== name2) {
      empty6 = false;
      continue;
    }
    active = schedule.state > STARTING2 && schedule.state < ENDING2;
    schedule.state = ENDED2;
    schedule.timer.stop();
    schedule.on.call(active ? "interrupt" : "cancel", node2, node2.__data__, schedule.index, schedule.group);
    delete schedules[i];
  }
  if (empty6)
    delete node2.__transition;
}

// node_modules/d3/node_modules/d3-transition/src/selection/interrupt.js
function interrupt_default4(name2) {
  return this.each(function() {
    interrupt_default3(this, name2);
  });
}

// node_modules/d3/node_modules/d3-transition/src/transition/tween.js
function tweenRemove2(id5, name2) {
  var tween0, tween1;
  return function() {
    var schedule = set5(this, id5), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = tween0 = tween;
      for (var i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name2) {
          tween1 = tween1.slice();
          tween1.splice(i, 1);
          break;
        }
      }
    }
    schedule.tween = tween1;
  };
}
function tweenFunction2(id5, name2, value) {
  var tween0, tween1;
  if (typeof value !== "function")
    throw new Error();
  return function() {
    var schedule = set5(this, id5), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = (tween0 = tween).slice();
      for (var t = { name: name2, value }, i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name2) {
          tween1[i] = t;
          break;
        }
      }
      if (i === n)
        tween1.push(t);
    }
    schedule.tween = tween1;
  };
}
function tween_default2(name2, value) {
  var id5 = this._id;
  name2 += "";
  if (arguments.length < 2) {
    var tween = get5(this.node(), id5).tween;
    for (var i = 0, n = tween.length, t; i < n; ++i) {
      if ((t = tween[i]).name === name2) {
        return t.value;
      }
    }
    return null;
  }
  return this.each((value == null ? tweenRemove2 : tweenFunction2)(id5, name2, value));
}
function tweenValue2(transition5, name2, value) {
  var id5 = transition5._id;
  transition5.each(function() {
    var schedule = set5(this, id5);
    (schedule.value || (schedule.value = {}))[name2] = value.apply(this, arguments);
  });
  return function(node2) {
    return get5(node2, id5).value[name2];
  };
}

// node_modules/d3/node_modules/d3-transition/src/transition/interpolate.js
function interpolate_default3(a3, b) {
  var c7;
  return (typeof b === "number" ? number_default2 : b instanceof color2 ? rgb_default2 : (c7 = color2(b)) ? (b = c7, rgb_default2) : string_default2)(a3, b);
}

// node_modules/d3/node_modules/d3-transition/src/transition/attr.js
function attrRemove4(name2) {
  return function() {
    this.removeAttribute(name2);
  };
}
function attrRemoveNS4(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant4(name2, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttribute(name2);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrConstantNS4(fullname, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttributeNS(fullname.space, fullname.local);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrFunction4(name2, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttribute(name2);
    string0 = this.getAttribute(name2);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attrFunctionNS4(fullname, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttributeNS(fullname.space, fullname.local);
    string0 = this.getAttributeNS(fullname.space, fullname.local);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attr_default4(name2, value) {
  var fullname = namespace_default2(name2), i = fullname === "transform" ? interpolateTransformSvg2 : interpolate_default3;
  return this.attrTween(name2, typeof value === "function" ? (fullname.local ? attrFunctionNS4 : attrFunction4)(fullname, i, tweenValue2(this, "attr." + name2, value)) : value == null ? (fullname.local ? attrRemoveNS4 : attrRemove4)(fullname) : (fullname.local ? attrConstantNS4 : attrConstant4)(fullname, i, value));
}

// node_modules/d3/node_modules/d3-transition/src/transition/attrTween.js
function attrInterpolate2(name2, i) {
  return function(t) {
    this.setAttribute(name2, i.call(this, t));
  };
}
function attrInterpolateNS2(fullname, i) {
  return function(t) {
    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));
  };
}
function attrTweenNS2(fullname, value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && attrInterpolateNS2(fullname, i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function attrTween2(name2, value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && attrInterpolate2(name2, i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function attrTween_default2(name2, value) {
  var key = "attr." + name2;
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  var fullname = namespace_default2(name2);
  return this.tween(key, (fullname.local ? attrTweenNS2 : attrTween2)(fullname, value));
}

// node_modules/d3/node_modules/d3-transition/src/transition/delay.js
function delayFunction2(id5, value) {
  return function() {
    init2(this, id5).delay = +value.apply(this, arguments);
  };
}
function delayConstant2(id5, value) {
  return value = +value, function() {
    init2(this, id5).delay = value;
  };
}
function delay_default2(value) {
  var id5 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? delayFunction2 : delayConstant2)(id5, value)) : get5(this.node(), id5).delay;
}

// node_modules/d3/node_modules/d3-transition/src/transition/duration.js
function durationFunction2(id5, value) {
  return function() {
    set5(this, id5).duration = +value.apply(this, arguments);
  };
}
function durationConstant2(id5, value) {
  return value = +value, function() {
    set5(this, id5).duration = value;
  };
}
function duration_default2(value) {
  var id5 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? durationFunction2 : durationConstant2)(id5, value)) : get5(this.node(), id5).duration;
}

// node_modules/d3/node_modules/d3-transition/src/transition/ease.js
function easeConstant2(id5, value) {
  if (typeof value !== "function")
    throw new Error();
  return function() {
    set5(this, id5).ease = value;
  };
}
function ease_default2(value) {
  var id5 = this._id;
  return arguments.length ? this.each(easeConstant2(id5, value)) : get5(this.node(), id5).ease;
}

// node_modules/d3/node_modules/d3-transition/src/transition/easeVarying.js
function easeVarying2(id5, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (typeof v2 !== "function")
      throw new Error();
    set5(this, id5).ease = v2;
  };
}
function easeVarying_default2(value) {
  if (typeof value !== "function")
    throw new Error();
  return this.each(easeVarying2(this._id, value));
}

// node_modules/d3/node_modules/d3-transition/src/transition/filter.js
function filter_default4(match2) {
  if (typeof match2 !== "function")
    match2 = matcher_default2(match2);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = [], node2, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && match2.call(node2, node2.__data__, i, group5)) {
        subgroup.push(node2);
      }
    }
  }
  return new Transition2(subgroups, this._parents, this._name, this._id);
}

// node_modules/d3/node_modules/d3-transition/src/transition/merge.js
function merge_default4(transition5) {
  if (transition5._id !== this._id)
    throw new Error();
  for (var groups0 = this._groups, groups1 = transition5._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge6 = merges[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group0[i] || group1[i]) {
        merge6[i] = node2;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Transition2(merges, this._parents, this._name, this._id);
}

// node_modules/d3/node_modules/d3-transition/src/transition/on.js
function start2(name2) {
  return (name2 + "").trim().split(/^|\s+/).every(function(t) {
    var i = t.indexOf(".");
    if (i >= 0)
      t = t.slice(0, i);
    return !t || t === "start";
  });
}
function onFunction2(id5, name2, listener) {
  var on0, on1, sit = start2(name2) ? init2 : set5;
  return function() {
    var schedule = sit(this, id5), on = schedule.on;
    if (on !== on0)
      (on1 = (on0 = on).copy()).on(name2, listener);
    schedule.on = on1;
  };
}
function on_default4(name2, listener) {
  var id5 = this._id;
  return arguments.length < 2 ? get5(this.node(), id5).on.on(name2) : this.each(onFunction2(id5, name2, listener));
}

// node_modules/d3/node_modules/d3-transition/src/transition/remove.js
function removeFunction2(id5) {
  return function() {
    var parent = this.parentNode;
    for (var i in this.__transition)
      if (+i !== id5)
        return;
    if (parent)
      parent.removeChild(this);
  };
}
function remove_default6() {
  return this.on("end.remove", removeFunction2(this._id));
}

// node_modules/d3/node_modules/d3-transition/src/transition/select.js
function select_default6(select) {
  var name2 = this._name, id5 = this._id;
  if (typeof select !== "function")
    select = selector_default2(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = new Array(n), node2, subnode, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && (subnode = select.call(node2, node2.__data__, i, group5))) {
        if ("__data__" in node2)
          subnode.__data__ = node2.__data__;
        subgroup[i] = subnode;
        schedule_default2(subgroup[i], name2, id5, i, subgroup, get5(node2, id5));
      }
    }
  }
  return new Transition2(subgroups, this._parents, name2, id5);
}

// node_modules/d3/node_modules/d3-transition/src/transition/selectAll.js
function selectAll_default6(select) {
  var name2 = this._name, id5 = this._id;
  if (typeof select !== "function")
    select = selectorAll_default2(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = [], parents2 = [], j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        for (var children4 = select.call(node2, node2.__data__, i, group5), child, inherit5 = get5(node2, id5), k3 = 0, l = children4.length; k3 < l; ++k3) {
          if (child = children4[k3]) {
            schedule_default2(child, name2, id5, k3, children4, inherit5);
          }
        }
        subgroups.push(children4);
        parents2.push(node2);
      }
    }
  }
  return new Transition2(subgroups, parents2, name2, id5);
}

// node_modules/d3/node_modules/d3-transition/src/transition/selection.js
var Selection4 = selection_default3.prototype.constructor;
function selection_default4() {
  return new Selection4(this._groups, this._parents);
}

// node_modules/d3/node_modules/d3-transition/src/transition/style.js
function styleNull2(name2, interpolate) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue2(this, name2), string1 = (this.style.removeProperty(name2), styleValue2(this, name2));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);
  };
}
function styleRemove4(name2) {
  return function() {
    this.style.removeProperty(name2);
  };
}
function styleConstant4(name2, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = styleValue2(this, name2);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function styleFunction4(name2, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue2(this, name2), value1 = value(this), string1 = value1 + "";
    if (value1 == null)
      string1 = value1 = (this.style.removeProperty(name2), styleValue2(this, name2));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function styleMaybeRemove2(id5, name2) {
  var on0, on1, listener0, key = "style." + name2, event2 = "end." + key, remove5;
  return function() {
    var schedule = set5(this, id5), on = schedule.on, listener = schedule.value[key] == null ? remove5 || (remove5 = styleRemove4(name2)) : void 0;
    if (on !== on0 || listener0 !== listener)
      (on1 = (on0 = on).copy()).on(event2, listener0 = listener);
    schedule.on = on1;
  };
}
function style_default4(name2, value, priority) {
  var i = (name2 += "") === "transform" ? interpolateTransformCss2 : interpolate_default3;
  return value == null ? this.styleTween(name2, styleNull2(name2, i)).on("end.style." + name2, styleRemove4(name2)) : typeof value === "function" ? this.styleTween(name2, styleFunction4(name2, i, tweenValue2(this, "style." + name2, value))).each(styleMaybeRemove2(this._id, name2)) : this.styleTween(name2, styleConstant4(name2, i, value), priority).on("end.style." + name2, null);
}

// node_modules/d3/node_modules/d3-transition/src/transition/styleTween.js
function styleInterpolate2(name2, i, priority) {
  return function(t) {
    this.style.setProperty(name2, i.call(this, t), priority);
  };
}
function styleTween2(name2, value, priority) {
  var t, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t = (i0 = i) && styleInterpolate2(name2, i, priority);
    return t;
  }
  tween._value = value;
  return tween;
}
function styleTween_default2(name2, value, priority) {
  var key = "style." + (name2 += "");
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, styleTween2(name2, value, priority == null ? "" : priority));
}

// node_modules/d3/node_modules/d3-transition/src/transition/text.js
function textConstant4(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction4(value) {
  return function() {
    var value1 = value(this);
    this.textContent = value1 == null ? "" : value1;
  };
}
function text_default5(value) {
  return this.tween("text", typeof value === "function" ? textFunction4(tweenValue2(this, "text", value)) : textConstant4(value == null ? "" : value + ""));
}

// node_modules/d3/node_modules/d3-transition/src/transition/textTween.js
function textInterpolate2(i) {
  return function(t) {
    this.textContent = i.call(this, t);
  };
}
function textTween2(value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && textInterpolate2(i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function textTween_default2(value) {
  var key = "text";
  if (arguments.length < 1)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, textTween2(value));
}

// node_modules/d3/node_modules/d3-transition/src/transition/transition.js
function transition_default3() {
  var name2 = this._name, id0 = this._id, id1 = newId2();
  for (var groups5 = this._groups, m = groups5.length, j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        var inherit5 = get5(node2, id0);
        schedule_default2(node2, name2, id1, i, group5, {
          time: inherit5.time + inherit5.delay + inherit5.duration,
          delay: 0,
          duration: inherit5.duration,
          ease: inherit5.ease
        });
      }
    }
  }
  return new Transition2(groups5, this._parents, name2, id1);
}

// node_modules/d3/node_modules/d3-transition/src/transition/end.js
function end_default2() {
  var on0, on1, that = this, id5 = that._id, size = that.size();
  return new Promise(function(resolve, reject) {
    var cancel = { value: reject }, end2 = { value: function() {
      if (--size === 0)
        resolve();
    } };
    that.each(function() {
      var schedule = set5(this, id5), on = schedule.on;
      if (on !== on0) {
        on1 = (on0 = on).copy();
        on1._.cancel.push(cancel);
        on1._.interrupt.push(cancel);
        on1._.end.push(end2);
      }
      schedule.on = on1;
    });
    if (size === 0)
      resolve();
  });
}

// node_modules/d3/node_modules/d3-transition/src/transition/index.js
var id2 = 0;
function Transition2(groups5, parents2, name2, id5) {
  this._groups = groups5;
  this._parents = parents2;
  this._name = name2;
  this._id = id5;
}
function transition2(name2) {
  return selection_default3().transition(name2);
}
function newId2() {
  return ++id2;
}
var selection_prototype2 = selection_default3.prototype;
Transition2.prototype = transition2.prototype = {
  constructor: Transition2,
  select: select_default6,
  selectAll: selectAll_default6,
  selectChild: selection_prototype2.selectChild,
  selectChildren: selection_prototype2.selectChildren,
  filter: filter_default4,
  merge: merge_default4,
  selection: selection_default4,
  transition: transition_default3,
  call: selection_prototype2.call,
  nodes: selection_prototype2.nodes,
  node: selection_prototype2.node,
  size: selection_prototype2.size,
  empty: selection_prototype2.empty,
  each: selection_prototype2.each,
  on: on_default4,
  attr: attr_default4,
  attrTween: attrTween_default2,
  style: style_default4,
  styleTween: styleTween_default2,
  text: text_default5,
  textTween: textTween_default2,
  remove: remove_default6,
  tween: tween_default2,
  delay: delay_default2,
  duration: duration_default2,
  ease: ease_default2,
  easeVarying: easeVarying_default2,
  end: end_default2,
  [Symbol.iterator]: selection_prototype2[Symbol.iterator]
};

// node_modules/d3/node_modules/d3-transition/src/selection/transition.js
var defaultTiming2 = {
  time: null,
  delay: 0,
  duration: 250,
  ease: cubicInOut2
};
function inherit2(node2, id5) {
  var timing;
  while (!(timing = node2.__transition) || !(timing = timing[id5])) {
    if (!(node2 = node2.parentNode)) {
      throw new Error(`transition ${id5} not found`);
    }
  }
  return timing;
}
function transition_default4(name2) {
  var id5, timing;
  if (name2 instanceof Transition2) {
    id5 = name2._id, name2 = name2._name;
  } else {
    id5 = newId2(), (timing = defaultTiming2).time = now3(), name2 = name2 == null ? null : name2 + "";
  }
  for (var groups5 = this._groups, m = groups5.length, j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        schedule_default2(node2, name2, id5, i, group5, timing || inherit2(node2, id5));
      }
    }
  }
  return new Transition2(groups5, this._parents, name2, id5);
}

// node_modules/d3/node_modules/d3-transition/src/selection/index.js
selection_default3.prototype.interrupt = interrupt_default4;
selection_default3.prototype.transition = transition_default4;

// node_modules/d3-zoom/node_modules/d3-dispatch/src/dispatch.js
var noop5 = { value: () => {
} };
function dispatch4() {
  for (var i = 0, n = arguments.length, _2 = {}, t; i < n; ++i) {
    if (!(t = arguments[i] + "") || t in _2 || /[\s.]/.test(t))
      throw new Error("illegal type: " + t);
    _2[t] = [];
  }
  return new Dispatch4(_2);
}
function Dispatch4(_2) {
  this._ = _2;
}
function parseTypenames6(typenames, types2) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name2 = "", i = t.indexOf(".");
    if (i >= 0)
      name2 = t.slice(i + 1), t = t.slice(0, i);
    if (t && !types2.hasOwnProperty(t))
      throw new Error("unknown type: " + t);
    return { type: t, name: name2 };
  });
}
Dispatch4.prototype = dispatch4.prototype = {
  constructor: Dispatch4,
  on: function(typename, callback) {
    var _2 = this._, T = parseTypenames6(typename + "", _2), t, i = -1, n = T.length;
    if (arguments.length < 2) {
      while (++i < n)
        if ((t = (typename = T[i]).type) && (t = get6(_2[t], typename.name)))
          return t;
      return;
    }
    if (callback != null && typeof callback !== "function")
      throw new Error("invalid callback: " + callback);
    while (++i < n) {
      if (t = (typename = T[i]).type)
        _2[t] = set6(_2[t], typename.name, callback);
      else if (callback == null)
        for (t in _2)
          _2[t] = set6(_2[t], typename.name, null);
    }
    return this;
  },
  copy: function() {
    var copy7 = {}, _2 = this._;
    for (var t in _2)
      copy7[t] = _2[t].slice();
    return new Dispatch4(copy7);
  },
  call: function(type4, that) {
    if ((n = arguments.length - 2) > 0)
      for (var args = new Array(n), i = 0, n, t; i < n; ++i)
        args[i] = arguments[i + 2];
    if (!this._.hasOwnProperty(type4))
      throw new Error("unknown type: " + type4);
    for (t = this._[type4], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  },
  apply: function(type4, that, args) {
    if (!this._.hasOwnProperty(type4))
      throw new Error("unknown type: " + type4);
    for (var t = this._[type4], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  }
};
function get6(type4, name2) {
  for (var i = 0, n = type4.length, c7; i < n; ++i) {
    if ((c7 = type4[i]).name === name2) {
      return c7.value;
    }
  }
}
function set6(type4, name2, callback) {
  for (var i = 0, n = type4.length; i < n; ++i) {
    if (type4[i].name === name2) {
      type4[i] = noop5, type4 = type4.slice(0, i).concat(type4.slice(i + 1));
      break;
    }
  }
  if (callback != null)
    type4.push({ name: name2, value: callback });
  return type4;
}
var dispatch_default6 = dispatch4;

// node_modules/d3-zoom/node_modules/d3-selection/src/namespaces.js
var xhtml3 = "http://www.w3.org/1999/xhtml";
var namespaces_default3 = {
  svg: "http://www.w3.org/2000/svg",
  xhtml: xhtml3,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};

// node_modules/d3-zoom/node_modules/d3-selection/src/namespace.js
function namespace_default3(name2) {
  var prefix3 = name2 += "", i = prefix3.indexOf(":");
  if (i >= 0 && (prefix3 = name2.slice(0, i)) !== "xmlns")
    name2 = name2.slice(i + 1);
  return namespaces_default3.hasOwnProperty(prefix3) ? { space: namespaces_default3[prefix3], local: name2 } : name2;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/creator.js
function creatorInherit3(name2) {
  return function() {
    var document2 = this.ownerDocument, uri = this.namespaceURI;
    return uri === xhtml3 && document2.documentElement.namespaceURI === xhtml3 ? document2.createElement(name2) : document2.createElementNS(uri, name2);
  };
}
function creatorFixed3(fullname) {
  return function() {
    return this.ownerDocument.createElementNS(fullname.space, fullname.local);
  };
}
function creator_default3(name2) {
  var fullname = namespace_default3(name2);
  return (fullname.local ? creatorFixed3 : creatorInherit3)(fullname);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selector.js
function none3() {
}
function selector_default3(selector) {
  return selector == null ? none3 : function() {
    return this.querySelector(selector);
  };
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/select.js
function select_default7(select) {
  if (typeof select !== "function")
    select = selector_default3(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = new Array(n), node2, subnode, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && (subnode = select.call(node2, node2.__data__, i, group5))) {
        if ("__data__" in node2)
          subnode.__data__ = node2.__data__;
        subgroup[i] = subnode;
      }
    }
  }
  return new Selection5(subgroups, this._parents);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/array.js
function array8(x7) {
  return x7 == null ? [] : Array.isArray(x7) ? x7 : Array.from(x7);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selectorAll.js
function empty3() {
  return [];
}
function selectorAll_default3(selector) {
  return selector == null ? empty3 : function() {
    return this.querySelectorAll(selector);
  };
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/selectAll.js
function arrayAll3(select) {
  return function() {
    return array8(select.apply(this, arguments));
  };
}
function selectAll_default7(select) {
  if (typeof select === "function")
    select = arrayAll3(select);
  else
    select = selectorAll_default3(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = [], parents2 = [], j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        subgroups.push(select.call(node2, node2.__data__, i, group5));
        parents2.push(node2);
      }
    }
  }
  return new Selection5(subgroups, parents2);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/matcher.js
function matcher_default3(selector) {
  return function() {
    return this.matches(selector);
  };
}
function childMatcher3(selector) {
  return function(node2) {
    return node2.matches(selector);
  };
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/selectChild.js
var find3 = Array.prototype.find;
function childFind3(match2) {
  return function() {
    return find3.call(this.children, match2);
  };
}
function childFirst3() {
  return this.firstElementChild;
}
function selectChild_default3(match2) {
  return this.select(match2 == null ? childFirst3 : childFind3(typeof match2 === "function" ? match2 : childMatcher3(match2)));
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/selectChildren.js
var filter7 = Array.prototype.filter;
function children3() {
  return Array.from(this.children);
}
function childrenFilter3(match2) {
  return function() {
    return filter7.call(this.children, match2);
  };
}
function selectChildren_default3(match2) {
  return this.selectAll(match2 == null ? children3 : childrenFilter3(typeof match2 === "function" ? match2 : childMatcher3(match2)));
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/filter.js
function filter_default5(match2) {
  if (typeof match2 !== "function")
    match2 = matcher_default3(match2);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = [], node2, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && match2.call(node2, node2.__data__, i, group5)) {
        subgroup.push(node2);
      }
    }
  }
  return new Selection5(subgroups, this._parents);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/sparse.js
function sparse_default3(update) {
  return new Array(update.length);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/enter.js
function enter_default3() {
  return new Selection5(this._enter || this._groups.map(sparse_default3), this._parents);
}
function EnterNode3(parent, datum4) {
  this.ownerDocument = parent.ownerDocument;
  this.namespaceURI = parent.namespaceURI;
  this._next = null;
  this._parent = parent;
  this.__data__ = datum4;
}
EnterNode3.prototype = {
  constructor: EnterNode3,
  appendChild: function(child) {
    return this._parent.insertBefore(child, this._next);
  },
  insertBefore: function(child, next2) {
    return this._parent.insertBefore(child, next2);
  },
  querySelector: function(selector) {
    return this._parent.querySelector(selector);
  },
  querySelectorAll: function(selector) {
    return this._parent.querySelectorAll(selector);
  }
};

// node_modules/d3-zoom/node_modules/d3-selection/src/constant.js
function constant_default16(x7) {
  return function() {
    return x7;
  };
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/data.js
function bindIndex3(parent, group5, enter, update, exit, data) {
  var i = 0, node2, groupLength = group5.length, dataLength = data.length;
  for (; i < dataLength; ++i) {
    if (node2 = group5[i]) {
      node2.__data__ = data[i];
      update[i] = node2;
    } else {
      enter[i] = new EnterNode3(parent, data[i]);
    }
  }
  for (; i < groupLength; ++i) {
    if (node2 = group5[i]) {
      exit[i] = node2;
    }
  }
}
function bindKey3(parent, group5, enter, update, exit, data, key) {
  var i, node2, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group5.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;
  for (i = 0; i < groupLength; ++i) {
    if (node2 = group5[i]) {
      keyValues[i] = keyValue = key.call(node2, node2.__data__, i, group5) + "";
      if (nodeByKeyValue.has(keyValue)) {
        exit[i] = node2;
      } else {
        nodeByKeyValue.set(keyValue, node2);
      }
    }
  }
  for (i = 0; i < dataLength; ++i) {
    keyValue = key.call(parent, data[i], i, data) + "";
    if (node2 = nodeByKeyValue.get(keyValue)) {
      update[i] = node2;
      node2.__data__ = data[i];
      nodeByKeyValue.delete(keyValue);
    } else {
      enter[i] = new EnterNode3(parent, data[i]);
    }
  }
  for (i = 0; i < groupLength; ++i) {
    if ((node2 = group5[i]) && nodeByKeyValue.get(keyValues[i]) === node2) {
      exit[i] = node2;
    }
  }
}
function datum3(node2) {
  return node2.__data__;
}
function data_default5(value, key) {
  if (!arguments.length)
    return Array.from(this, datum3);
  var bind = key ? bindKey3 : bindIndex3, parents2 = this._parents, groups5 = this._groups;
  if (typeof value !== "function")
    value = constant_default16(value);
  for (var m = groups5.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
    var parent = parents2[j], group5 = groups5[j], groupLength = group5.length, data = arraylike3(value.call(parent, parent && parent.__data__, j, parents2)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);
    bind(parent, group5, enterGroup, updateGroup, exitGroup, data, key);
    for (var i0 = 0, i1 = 0, previous, next2; i0 < dataLength; ++i0) {
      if (previous = enterGroup[i0]) {
        if (i0 >= i1)
          i1 = i0 + 1;
        while (!(next2 = updateGroup[i1]) && ++i1 < dataLength)
          ;
        previous._next = next2 || null;
      }
    }
  }
  update = new Selection5(update, parents2);
  update._enter = enter;
  update._exit = exit;
  return update;
}
function arraylike3(data) {
  return typeof data === "object" && "length" in data ? data : Array.from(data);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/exit.js
function exit_default3() {
  return new Selection5(this._exit || this._groups.map(sparse_default3), this._parents);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/join.js
function join_default3(onenter, onupdate, onexit) {
  var enter = this.enter(), update = this, exit = this.exit();
  if (typeof onenter === "function") {
    enter = onenter(enter);
    if (enter)
      enter = enter.selection();
  } else {
    enter = enter.append(onenter + "");
  }
  if (onupdate != null) {
    update = onupdate(update);
    if (update)
      update = update.selection();
  }
  if (onexit == null)
    exit.remove();
  else
    onexit(exit);
  return enter && update ? enter.merge(update).order() : update;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/merge.js
function merge_default5(context) {
  var selection5 = context.selection ? context.selection() : context;
  for (var groups0 = this._groups, groups1 = selection5._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge6 = merges[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group0[i] || group1[i]) {
        merge6[i] = node2;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Selection5(merges, this._parents);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/order.js
function order_default3() {
  for (var groups5 = this._groups, j = -1, m = groups5.length; ++j < m; ) {
    for (var group5 = groups5[j], i = group5.length - 1, next2 = group5[i], node2; --i >= 0; ) {
      if (node2 = group5[i]) {
        if (next2 && node2.compareDocumentPosition(next2) ^ 4)
          next2.parentNode.insertBefore(node2, next2);
        next2 = node2;
      }
    }
  }
  return this;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/sort.js
function sort_default4(compare) {
  if (!compare)
    compare = ascending7;
  function compareNode(a3, b) {
    return a3 && b ? compare(a3.__data__, b.__data__) : !a3 - !b;
  }
  for (var groups5 = this._groups, m = groups5.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, sortgroup = sortgroups[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        sortgroup[i] = node2;
      }
    }
    sortgroup.sort(compareNode);
  }
  return new Selection5(sortgroups, this._parents).order();
}
function ascending7(a3, b) {
  return a3 < b ? -1 : a3 > b ? 1 : a3 >= b ? 0 : NaN;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/call.js
function call_default3() {
  var callback = arguments[0];
  arguments[0] = this;
  callback.apply(null, arguments);
  return this;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/nodes.js
function nodes_default3() {
  return Array.from(this);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/node.js
function node_default3() {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length; i < n; ++i) {
      var node2 = group5[i];
      if (node2)
        return node2;
    }
  }
  return null;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/size.js
function size_default5() {
  let size = 0;
  for (const node2 of this)
    ++size;
  return size;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/empty.js
function empty_default3() {
  return !this.node();
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/each.js
function each_default4(callback) {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length, node2; i < n; ++i) {
      if (node2 = group5[i])
        callback.call(node2, node2.__data__, i, group5);
    }
  }
  return this;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/attr.js
function attrRemove5(name2) {
  return function() {
    this.removeAttribute(name2);
  };
}
function attrRemoveNS5(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant5(name2, value) {
  return function() {
    this.setAttribute(name2, value);
  };
}
function attrConstantNS5(fullname, value) {
  return function() {
    this.setAttributeNS(fullname.space, fullname.local, value);
  };
}
function attrFunction5(name2, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.removeAttribute(name2);
    else
      this.setAttribute(name2, v2);
  };
}
function attrFunctionNS5(fullname, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.removeAttributeNS(fullname.space, fullname.local);
    else
      this.setAttributeNS(fullname.space, fullname.local, v2);
  };
}
function attr_default5(name2, value) {
  var fullname = namespace_default3(name2);
  if (arguments.length < 2) {
    var node2 = this.node();
    return fullname.local ? node2.getAttributeNS(fullname.space, fullname.local) : node2.getAttribute(fullname);
  }
  return this.each((value == null ? fullname.local ? attrRemoveNS5 : attrRemove5 : typeof value === "function" ? fullname.local ? attrFunctionNS5 : attrFunction5 : fullname.local ? attrConstantNS5 : attrConstant5)(fullname, value));
}

// node_modules/d3-zoom/node_modules/d3-selection/src/window.js
function window_default3(node2) {
  return node2.ownerDocument && node2.ownerDocument.defaultView || node2.document && node2 || node2.defaultView;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/style.js
function styleRemove5(name2) {
  return function() {
    this.style.removeProperty(name2);
  };
}
function styleConstant5(name2, value, priority) {
  return function() {
    this.style.setProperty(name2, value, priority);
  };
}
function styleFunction5(name2, value, priority) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      this.style.removeProperty(name2);
    else
      this.style.setProperty(name2, v2, priority);
  };
}
function style_default5(name2, value, priority) {
  return arguments.length > 1 ? this.each((value == null ? styleRemove5 : typeof value === "function" ? styleFunction5 : styleConstant5)(name2, value, priority == null ? "" : priority)) : styleValue3(this.node(), name2);
}
function styleValue3(node2, name2) {
  return node2.style.getPropertyValue(name2) || window_default3(node2).getComputedStyle(node2, null).getPropertyValue(name2);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/property.js
function propertyRemove3(name2) {
  return function() {
    delete this[name2];
  };
}
function propertyConstant3(name2, value) {
  return function() {
    this[name2] = value;
  };
}
function propertyFunction3(name2, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (v2 == null)
      delete this[name2];
    else
      this[name2] = v2;
  };
}
function property_default3(name2, value) {
  return arguments.length > 1 ? this.each((value == null ? propertyRemove3 : typeof value === "function" ? propertyFunction3 : propertyConstant3)(name2, value)) : this.node()[name2];
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/classed.js
function classArray3(string) {
  return string.trim().split(/^|\s+/);
}
function classList3(node2) {
  return node2.classList || new ClassList3(node2);
}
function ClassList3(node2) {
  this._node = node2;
  this._names = classArray3(node2.getAttribute("class") || "");
}
ClassList3.prototype = {
  add: function(name2) {
    var i = this._names.indexOf(name2);
    if (i < 0) {
      this._names.push(name2);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  remove: function(name2) {
    var i = this._names.indexOf(name2);
    if (i >= 0) {
      this._names.splice(i, 1);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  contains: function(name2) {
    return this._names.indexOf(name2) >= 0;
  }
};
function classedAdd3(node2, names) {
  var list = classList3(node2), i = -1, n = names.length;
  while (++i < n)
    list.add(names[i]);
}
function classedRemove3(node2, names) {
  var list = classList3(node2), i = -1, n = names.length;
  while (++i < n)
    list.remove(names[i]);
}
function classedTrue3(names) {
  return function() {
    classedAdd3(this, names);
  };
}
function classedFalse3(names) {
  return function() {
    classedRemove3(this, names);
  };
}
function classedFunction3(names, value) {
  return function() {
    (value.apply(this, arguments) ? classedAdd3 : classedRemove3)(this, names);
  };
}
function classed_default3(name2, value) {
  var names = classArray3(name2 + "");
  if (arguments.length < 2) {
    var list = classList3(this.node()), i = -1, n = names.length;
    while (++i < n)
      if (!list.contains(names[i]))
        return false;
    return true;
  }
  return this.each((typeof value === "function" ? classedFunction3 : value ? classedTrue3 : classedFalse3)(names, value));
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/text.js
function textRemove3() {
  this.textContent = "";
}
function textConstant5(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction5(value) {
  return function() {
    var v2 = value.apply(this, arguments);
    this.textContent = v2 == null ? "" : v2;
  };
}
function text_default6(value) {
  return arguments.length ? this.each(value == null ? textRemove3 : (typeof value === "function" ? textFunction5 : textConstant5)(value)) : this.node().textContent;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/html.js
function htmlRemove3() {
  this.innerHTML = "";
}
function htmlConstant3(value) {
  return function() {
    this.innerHTML = value;
  };
}
function htmlFunction3(value) {
  return function() {
    var v2 = value.apply(this, arguments);
    this.innerHTML = v2 == null ? "" : v2;
  };
}
function html_default3(value) {
  return arguments.length ? this.each(value == null ? htmlRemove3 : (typeof value === "function" ? htmlFunction3 : htmlConstant3)(value)) : this.node().innerHTML;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/raise.js
function raise3() {
  if (this.nextSibling)
    this.parentNode.appendChild(this);
}
function raise_default3() {
  return this.each(raise3);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/lower.js
function lower3() {
  if (this.previousSibling)
    this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function lower_default3() {
  return this.each(lower3);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/append.js
function append_default3(name2) {
  var create6 = typeof name2 === "function" ? name2 : creator_default3(name2);
  return this.select(function() {
    return this.appendChild(create6.apply(this, arguments));
  });
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/insert.js
function constantNull3() {
  return null;
}
function insert_default3(name2, before) {
  var create6 = typeof name2 === "function" ? name2 : creator_default3(name2), select = before == null ? constantNull3 : typeof before === "function" ? before : selector_default3(before);
  return this.select(function() {
    return this.insertBefore(create6.apply(this, arguments), select.apply(this, arguments) || null);
  });
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/remove.js
function remove3() {
  var parent = this.parentNode;
  if (parent)
    parent.removeChild(this);
}
function remove_default7() {
  return this.each(remove3);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/clone.js
function selection_cloneShallow3() {
  var clone3 = this.cloneNode(false), parent = this.parentNode;
  return parent ? parent.insertBefore(clone3, this.nextSibling) : clone3;
}
function selection_cloneDeep3() {
  var clone3 = this.cloneNode(true), parent = this.parentNode;
  return parent ? parent.insertBefore(clone3, this.nextSibling) : clone3;
}
function clone_default3(deep) {
  return this.select(deep ? selection_cloneDeep3 : selection_cloneShallow3);
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/datum.js
function datum_default3(value) {
  return arguments.length ? this.property("__data__", value) : this.node().__data__;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/on.js
function contextListener3(listener) {
  return function(event2) {
    listener.call(this, event2, this.__data__);
  };
}
function parseTypenames7(typenames) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name2 = "", i = t.indexOf(".");
    if (i >= 0)
      name2 = t.slice(i + 1), t = t.slice(0, i);
    return { type: t, name: name2 };
  });
}
function onRemove3(typename) {
  return function() {
    var on = this.__on;
    if (!on)
      return;
    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {
      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.options);
      } else {
        on[++i] = o;
      }
    }
    if (++i)
      on.length = i;
    else
      delete this.__on;
  };
}
function onAdd3(typename, value, options2) {
  return function() {
    var on = this.__on, o, listener = contextListener3(value);
    if (on)
      for (var j = 0, m = on.length; j < m; ++j) {
        if ((o = on[j]).type === typename.type && o.name === typename.name) {
          this.removeEventListener(o.type, o.listener, o.options);
          this.addEventListener(o.type, o.listener = listener, o.options = options2);
          o.value = value;
          return;
        }
      }
    this.addEventListener(typename.type, listener, options2);
    o = { type: typename.type, name: typename.name, value, listener, options: options2 };
    if (!on)
      this.__on = [o];
    else
      on.push(o);
  };
}
function on_default5(typename, value, options2) {
  var typenames = parseTypenames7(typename + ""), i, n = typenames.length, t;
  if (arguments.length < 2) {
    var on = this.node().__on;
    if (on)
      for (var j = 0, m = on.length, o; j < m; ++j) {
        for (i = 0, o = on[j]; i < n; ++i) {
          if ((t = typenames[i]).type === o.type && t.name === o.name) {
            return o.value;
          }
        }
      }
    return;
  }
  on = value ? onAdd3 : onRemove3;
  for (i = 0; i < n; ++i)
    this.each(on(typenames[i], value, options2));
  return this;
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/dispatch.js
function dispatchEvent3(node2, type4, params) {
  var window2 = window_default3(node2), event2 = window2.CustomEvent;
  if (typeof event2 === "function") {
    event2 = new event2(type4, params);
  } else {
    event2 = window2.document.createEvent("Event");
    if (params)
      event2.initEvent(type4, params.bubbles, params.cancelable), event2.detail = params.detail;
    else
      event2.initEvent(type4, false, false);
  }
  node2.dispatchEvent(event2);
}
function dispatchConstant3(type4, params) {
  return function() {
    return dispatchEvent3(this, type4, params);
  };
}
function dispatchFunction3(type4, params) {
  return function() {
    return dispatchEvent3(this, type4, params.apply(this, arguments));
  };
}
function dispatch_default7(type4, params) {
  return this.each((typeof params === "function" ? dispatchFunction3 : dispatchConstant3)(type4, params));
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/iterator.js
function* iterator_default4() {
  for (var groups5 = this._groups, j = 0, m = groups5.length; j < m; ++j) {
    for (var group5 = groups5[j], i = 0, n = group5.length, node2; i < n; ++i) {
      if (node2 = group5[i])
        yield node2;
    }
  }
}

// node_modules/d3-zoom/node_modules/d3-selection/src/selection/index.js
var root3 = [null];
function Selection5(groups5, parents2) {
  this._groups = groups5;
  this._parents = parents2;
}
function selection3() {
  return new Selection5([[document.documentElement]], root3);
}
function selection_selection3() {
  return this;
}
Selection5.prototype = selection3.prototype = {
  constructor: Selection5,
  select: select_default7,
  selectAll: selectAll_default7,
  selectChild: selectChild_default3,
  selectChildren: selectChildren_default3,
  filter: filter_default5,
  data: data_default5,
  enter: enter_default3,
  exit: exit_default3,
  join: join_default3,
  merge: merge_default5,
  selection: selection_selection3,
  order: order_default3,
  sort: sort_default4,
  call: call_default3,
  nodes: nodes_default3,
  node: node_default3,
  size: size_default5,
  empty: empty_default3,
  each: each_default4,
  attr: attr_default5,
  style: style_default5,
  property: property_default3,
  classed: classed_default3,
  text: text_default6,
  html: html_default3,
  raise: raise_default3,
  lower: lower_default3,
  append: append_default3,
  insert: insert_default3,
  remove: remove_default7,
  clone: clone_default3,
  datum: datum_default3,
  on: on_default5,
  dispatch: dispatch_default7,
  [Symbol.iterator]: iterator_default4
};
var selection_default5 = selection3;

// node_modules/d3-zoom/node_modules/d3-selection/src/local.js
var nextId3 = 0;
function local3() {
  return new Local3();
}
function Local3() {
  this._ = "@" + (++nextId3).toString(36);
}
Local3.prototype = local3.prototype = {
  constructor: Local3,
  get: function(node2) {
    var id5 = this._;
    while (!(id5 in node2))
      if (!(node2 = node2.parentNode))
        return;
    return node2[id5];
  },
  set: function(node2, value) {
    return node2[this._] = value;
  },
  remove: function(node2) {
    return this._ in node2 && delete node2[this._];
  },
  toString: function() {
    return this._;
  }
};

// node_modules/d3-zoom/node_modules/d3-drag/src/event.js
function DragEvent3(type4, {
  sourceEvent,
  subject,
  target,
  identifier: identifier2,
  active,
  x: x7,
  y: y7,
  dx,
  dy,
  dispatch: dispatch6
}) {
  Object.defineProperties(this, {
    type: { value: type4, enumerable: true, configurable: true },
    sourceEvent: { value: sourceEvent, enumerable: true, configurable: true },
    subject: { value: subject, enumerable: true, configurable: true },
    target: { value: target, enumerable: true, configurable: true },
    identifier: { value: identifier2, enumerable: true, configurable: true },
    active: { value: active, enumerable: true, configurable: true },
    x: { value: x7, enumerable: true, configurable: true },
    y: { value: y7, enumerable: true, configurable: true },
    dx: { value: dx, enumerable: true, configurable: true },
    dy: { value: dy, enumerable: true, configurable: true },
    _: { value: dispatch6 }
  });
}
DragEvent3.prototype.on = function() {
  var value = this._.on.apply(this._, arguments);
  return value === this._ ? this : value;
};

// node_modules/d3-zoom/node_modules/d3-color/src/define.js
function define_default5(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
}
function extend5(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition)
    prototype[key] = definition[key];
  return prototype;
}

// node_modules/d3-zoom/node_modules/d3-color/src/color.js
function Color5() {
}
var darker5 = 0.7;
var brighter5 = 1 / darker5;
var reI5 = "\\s*([+-]?\\d+)\\s*";
var reN5 = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var reP5 = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var reHex5 = /^#([0-9a-f]{3,8})$/;
var reRgbInteger5 = new RegExp(`^rgb\\(${reI5},${reI5},${reI5}\\)$`);
var reRgbPercent5 = new RegExp(`^rgb\\(${reP5},${reP5},${reP5}\\)$`);
var reRgbaInteger5 = new RegExp(`^rgba\\(${reI5},${reI5},${reI5},${reN5}\\)$`);
var reRgbaPercent5 = new RegExp(`^rgba\\(${reP5},${reP5},${reP5},${reN5}\\)$`);
var reHslPercent5 = new RegExp(`^hsl\\(${reN5},${reP5},${reP5}\\)$`);
var reHslaPercent5 = new RegExp(`^hsla\\(${reN5},${reP5},${reP5},${reN5}\\)$`);
var named5 = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
define_default5(Color5, color5, {
  copy(channels2) {
    return Object.assign(new this.constructor(), this, channels2);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: color_formatHex5,
  formatHex: color_formatHex5,
  formatHex8: color_formatHex85,
  formatHsl: color_formatHsl5,
  formatRgb: color_formatRgb5,
  toString: color_formatRgb5
});
function color_formatHex5() {
  return this.rgb().formatHex();
}
function color_formatHex85() {
  return this.rgb().formatHex8();
}
function color_formatHsl5() {
  return hslConvert5(this).formatHsl();
}
function color_formatRgb5() {
  return this.rgb().formatRgb();
}
function color5(format5) {
  var m, l;
  format5 = (format5 + "").trim().toLowerCase();
  return (m = reHex5.exec(format5)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn5(m) : l === 3 ? new Rgb5(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba5(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba5(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger5.exec(format5)) ? new Rgb5(m[1], m[2], m[3], 1) : (m = reRgbPercent5.exec(format5)) ? new Rgb5(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger5.exec(format5)) ? rgba5(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent5.exec(format5)) ? rgba5(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent5.exec(format5)) ? hsla5(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent5.exec(format5)) ? hsla5(m[1], m[2] / 100, m[3] / 100, m[4]) : named5.hasOwnProperty(format5) ? rgbn5(named5[format5]) : format5 === "transparent" ? new Rgb5(NaN, NaN, NaN, 0) : null;
}
function rgbn5(n) {
  return new Rgb5(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
}
function rgba5(r, g, b, a3) {
  if (a3 <= 0)
    r = g = b = NaN;
  return new Rgb5(r, g, b, a3);
}
function rgbConvert5(o) {
  if (!(o instanceof Color5))
    o = color5(o);
  if (!o)
    return new Rgb5();
  o = o.rgb();
  return new Rgb5(o.r, o.g, o.b, o.opacity);
}
function rgb5(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert5(r) : new Rgb5(r, g, b, opacity == null ? 1 : opacity);
}
function Rgb5(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}
define_default5(Rgb5, rgb5, extend5(Color5, {
  brighter(k3) {
    k3 = k3 == null ? brighter5 : Math.pow(brighter5, k3);
    return new Rgb5(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker5 : Math.pow(darker5, k3);
    return new Rgb5(this.r * k3, this.g * k3, this.b * k3, this.opacity);
  },
  rgb() {
    return this;
  },
  clamp() {
    return new Rgb5(clampi5(this.r), clampi5(this.g), clampi5(this.b), clampa5(this.opacity));
  },
  displayable() {
    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
  },
  hex: rgb_formatHex5,
  formatHex: rgb_formatHex5,
  formatHex8: rgb_formatHex85,
  formatRgb: rgb_formatRgb5,
  toString: rgb_formatRgb5
}));
function rgb_formatHex5() {
  return `#${hex5(this.r)}${hex5(this.g)}${hex5(this.b)}`;
}
function rgb_formatHex85() {
  return `#${hex5(this.r)}${hex5(this.g)}${hex5(this.b)}${hex5((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function rgb_formatRgb5() {
  const a3 = clampa5(this.opacity);
  return `${a3 === 1 ? "rgb(" : "rgba("}${clampi5(this.r)}, ${clampi5(this.g)}, ${clampi5(this.b)}${a3 === 1 ? ")" : `, ${a3})`}`;
}
function clampa5(opacity) {
  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));
}
function clampi5(value) {
  return Math.max(0, Math.min(255, Math.round(value) || 0));
}
function hex5(value) {
  value = clampi5(value);
  return (value < 16 ? "0" : "") + value.toString(16);
}
function hsla5(h, s3, l, a3) {
  if (a3 <= 0)
    h = s3 = l = NaN;
  else if (l <= 0 || l >= 1)
    h = s3 = NaN;
  else if (s3 <= 0)
    h = NaN;
  return new Hsl5(h, s3, l, a3);
}
function hslConvert5(o) {
  if (o instanceof Hsl5)
    return new Hsl5(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color5))
    o = color5(o);
  if (!o)
    return new Hsl5();
  if (o instanceof Hsl5)
    return o;
  o = o.rgb();
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min8 = Math.min(r, g, b), max10 = Math.max(r, g, b), h = NaN, s3 = max10 - min8, l = (max10 + min8) / 2;
  if (s3) {
    if (r === max10)
      h = (g - b) / s3 + (g < b) * 6;
    else if (g === max10)
      h = (b - r) / s3 + 2;
    else
      h = (r - g) / s3 + 4;
    s3 /= l < 0.5 ? max10 + min8 : 2 - max10 - min8;
    h *= 60;
  } else {
    s3 = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl5(h, s3, l, o.opacity);
}
function hsl9(h, s3, l, opacity) {
  return arguments.length === 1 ? hslConvert5(h) : new Hsl5(h, s3, l, opacity == null ? 1 : opacity);
}
function Hsl5(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default5(Hsl5, hsl9, extend5(Color5, {
  brighter(k3) {
    k3 = k3 == null ? brighter5 : Math.pow(brighter5, k3);
    return new Hsl5(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker5 : Math.pow(darker5, k3);
    return new Hsl5(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = this.h % 360 + (this.h < 0) * 360, s3 = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s3, m1 = 2 * l - m2;
    return new Rgb5(
      hsl2rgb5(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb5(h, m1, m2),
      hsl2rgb5(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  clamp() {
    return new Hsl5(clamph5(this.h), clampt5(this.s), clampt5(this.l), clampa5(this.opacity));
  },
  displayable() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
  },
  formatHsl() {
    const a3 = clampa5(this.opacity);
    return `${a3 === 1 ? "hsl(" : "hsla("}${clamph5(this.h)}, ${clampt5(this.s) * 100}%, ${clampt5(this.l) * 100}%${a3 === 1 ? ")" : `, ${a3})`}`;
  }
}));
function clamph5(value) {
  value = (value || 0) % 360;
  return value < 0 ? value + 360 : value;
}
function clampt5(value) {
  return Math.max(0, Math.min(1, value || 0));
}
function hsl2rgb5(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
}

// node_modules/d3-zoom/node_modules/d3-color/src/math.js
var radians6 = Math.PI / 180;
var degrees10 = 180 / Math.PI;

// node_modules/d3-zoom/node_modules/d3-color/src/lab.js
var K5 = 18;
var Xn5 = 0.96422;
var Yn5 = 1;
var Zn5 = 0.82521;
var t07 = 4 / 29;
var t17 = 6 / 29;
var t25 = 3 * t17 * t17;
var t35 = t17 * t17 * t17;
function labConvert5(o) {
  if (o instanceof Lab5)
    return new Lab5(o.l, o.a, o.b, o.opacity);
  if (o instanceof Hcl5)
    return hcl2lab5(o);
  if (!(o instanceof Rgb5))
    o = rgbConvert5(o);
  var r = rgb2lrgb5(o.r), g = rgb2lrgb5(o.g), b = rgb2lrgb5(o.b), y7 = xyz2lab5((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn5), x7, z;
  if (r === g && g === b)
    x7 = z = y7;
  else {
    x7 = xyz2lab5((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn5);
    z = xyz2lab5((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn5);
  }
  return new Lab5(116 * y7 - 16, 500 * (x7 - y7), 200 * (y7 - z), o.opacity);
}
function lab9(l, a3, b, opacity) {
  return arguments.length === 1 ? labConvert5(l) : new Lab5(l, a3, b, opacity == null ? 1 : opacity);
}
function Lab5(l, a3, b, opacity) {
  this.l = +l;
  this.a = +a3;
  this.b = +b;
  this.opacity = +opacity;
}
define_default5(Lab5, lab9, extend5(Color5, {
  brighter(k3) {
    return new Lab5(this.l + K5 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  darker(k3) {
    return new Lab5(this.l - K5 * (k3 == null ? 1 : k3), this.a, this.b, this.opacity);
  },
  rgb() {
    var y7 = (this.l + 16) / 116, x7 = isNaN(this.a) ? y7 : y7 + this.a / 500, z = isNaN(this.b) ? y7 : y7 - this.b / 200;
    x7 = Xn5 * lab2xyz5(x7);
    y7 = Yn5 * lab2xyz5(y7);
    z = Zn5 * lab2xyz5(z);
    return new Rgb5(
      lrgb2rgb5(3.1338561 * x7 - 1.6168667 * y7 - 0.4906146 * z),
      lrgb2rgb5(-0.9787684 * x7 + 1.9161415 * y7 + 0.033454 * z),
      lrgb2rgb5(0.0719453 * x7 - 0.2289914 * y7 + 1.4052427 * z),
      this.opacity
    );
  }
}));
function xyz2lab5(t) {
  return t > t35 ? Math.pow(t, 1 / 3) : t / t25 + t07;
}
function lab2xyz5(t) {
  return t > t17 ? t * t * t : t25 * (t - t07);
}
function lrgb2rgb5(x7) {
  return 255 * (x7 <= 31308e-7 ? 12.92 * x7 : 1.055 * Math.pow(x7, 1 / 2.4) - 0.055);
}
function rgb2lrgb5(x7) {
  return (x7 /= 255) <= 0.04045 ? x7 / 12.92 : Math.pow((x7 + 0.055) / 1.055, 2.4);
}
function hclConvert5(o) {
  if (o instanceof Hcl5)
    return new Hcl5(o.h, o.c, o.l, o.opacity);
  if (!(o instanceof Lab5))
    o = labConvert5(o);
  if (o.a === 0 && o.b === 0)
    return new Hcl5(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);
  var h = Math.atan2(o.b, o.a) * degrees10;
  return new Hcl5(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);
}
function hcl9(h, c7, l, opacity) {
  return arguments.length === 1 ? hclConvert5(h) : new Hcl5(h, c7, l, opacity == null ? 1 : opacity);
}
function Hcl5(h, c7, l, opacity) {
  this.h = +h;
  this.c = +c7;
  this.l = +l;
  this.opacity = +opacity;
}
function hcl2lab5(o) {
  if (isNaN(o.h))
    return new Lab5(o.l, 0, 0, o.opacity);
  var h = o.h * radians6;
  return new Lab5(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);
}
define_default5(Hcl5, hcl9, extend5(Color5, {
  brighter(k3) {
    return new Hcl5(this.h, this.c, this.l + K5 * (k3 == null ? 1 : k3), this.opacity);
  },
  darker(k3) {
    return new Hcl5(this.h, this.c, this.l - K5 * (k3 == null ? 1 : k3), this.opacity);
  },
  rgb() {
    return hcl2lab5(this).rgb();
  }
}));

// node_modules/d3-zoom/node_modules/d3-color/src/cubehelix.js
var A7 = -0.14861;
var B6 = 1.78277;
var C5 = -0.29227;
var D6 = -0.90649;
var E5 = 1.97294;
var ED5 = E5 * D6;
var EB5 = E5 * B6;
var BC_DA5 = B6 * C5 - D6 * A7;
function cubehelixConvert5(o) {
  if (o instanceof Cubehelix5)
    return new Cubehelix5(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Rgb5))
    o = rgbConvert5(o);
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, l = (BC_DA5 * b + ED5 * r - EB5 * g) / (BC_DA5 + ED5 - EB5), bl = b - l, k3 = (E5 * (g - l) - C5 * bl) / D6, s3 = Math.sqrt(k3 * k3 + bl * bl) / (E5 * l * (1 - l)), h = s3 ? Math.atan2(k3, bl) * degrees10 - 120 : NaN;
  return new Cubehelix5(h < 0 ? h + 360 : h, s3, l, o.opacity);
}
function cubehelix9(h, s3, l, opacity) {
  return arguments.length === 1 ? cubehelixConvert5(h) : new Cubehelix5(h, s3, l, opacity == null ? 1 : opacity);
}
function Cubehelix5(h, s3, l, opacity) {
  this.h = +h;
  this.s = +s3;
  this.l = +l;
  this.opacity = +opacity;
}
define_default5(Cubehelix5, cubehelix9, extend5(Color5, {
  brighter(k3) {
    k3 = k3 == null ? brighter5 : Math.pow(brighter5, k3);
    return new Cubehelix5(this.h, this.s, this.l * k3, this.opacity);
  },
  darker(k3) {
    k3 = k3 == null ? darker5 : Math.pow(darker5, k3);
    return new Cubehelix5(this.h, this.s, this.l * k3, this.opacity);
  },
  rgb() {
    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians6, l = +this.l, a3 = isNaN(this.s) ? 0 : this.s * l * (1 - l), cosh7 = Math.cos(h), sinh7 = Math.sin(h);
    return new Rgb5(
      255 * (l + a3 * (A7 * cosh7 + B6 * sinh7)),
      255 * (l + a3 * (C5 * cosh7 + D6 * sinh7)),
      255 * (l + a3 * (E5 * cosh7)),
      this.opacity
    );
  }
}));

// node_modules/d3-zoom/node_modules/d3-interpolate/src/basis.js
function basis5(t110, v0, v1, v2, v32) {
  var t27 = t110 * t110, t37 = t27 * t110;
  return ((1 - 3 * t110 + 3 * t27 - t37) * v0 + (4 - 6 * t27 + 3 * t37) * v1 + (1 + 3 * t110 + 3 * t27 - 3 * t37) * v2 + t37 * v32) / 6;
}
function basis_default6(values) {
  var n = values.length - 1;
  return function(t) {
    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values[i], v2 = values[i + 1], v0 = i > 0 ? values[i - 1] : 2 * v1 - v2, v32 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;
    return basis5((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3-zoom/node_modules/d3-interpolate/src/basisClosed.js
function basisClosed_default6(values) {
  var n = values.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values[(i + n - 1) % n], v1 = values[i % n], v2 = values[(i + 1) % n], v32 = values[(i + 2) % n];
    return basis5((t - i / n) * n, v0, v1, v2, v32);
  };
}

// node_modules/d3-zoom/node_modules/d3-interpolate/src/constant.js
var constant_default18 = (x7) => () => x7;

// node_modules/d3-zoom/node_modules/d3-interpolate/src/color.js
function linear8(a3, d) {
  return function(t) {
    return a3 + t * d;
  };
}
function exponential5(a3, b, y7) {
  return a3 = Math.pow(a3, y7), b = Math.pow(b, y7) - a3, y7 = 1 / y7, function(t) {
    return Math.pow(a3 + t * b, y7);
  };
}
function hue5(a3, b) {
  var d = b - a3;
  return d ? linear8(a3, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant_default18(isNaN(a3) ? b : a3);
}
function gamma5(y7) {
  return (y7 = +y7) === 1 ? nogamma5 : function(a3, b) {
    return b - a3 ? exponential5(a3, b, y7) : constant_default18(isNaN(a3) ? b : a3);
  };
}
function nogamma5(a3, b) {
  var d = b - a3;
  return d ? linear8(a3, d) : constant_default18(isNaN(a3) ? b : a3);
}

// node_modules/d3-zoom/node_modules/d3-interpolate/src/rgb.js
var rgb_default5 = function rgbGamma5(y7) {
  var color7 = gamma5(y7);
  function rgb7(start6, end2) {
    var r = color7((start6 = rgb5(start6)).r, (end2 = rgb5(end2)).r), g = color7(start6.g, end2.g), b = color7(start6.b, end2.b), opacity = nogamma5(start6.opacity, end2.opacity);
    return function(t) {
      start6.r = r(t);
      start6.g = g(t);
      start6.b = b(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  }
  rgb7.gamma = rgbGamma5;
  return rgb7;
}(1);
function rgbSpline5(spline) {
  return function(colors) {
    var n = colors.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color7;
    for (i = 0; i < n; ++i) {
      color7 = rgb5(colors[i]);
      r[i] = color7.r || 0;
      g[i] = color7.g || 0;
      b[i] = color7.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color7.opacity = 1;
    return function(t) {
      color7.r = r(t);
      color7.g = g(t);
      color7.b = b(t);
      return color7 + "";
    };
  };
}
var rgbBasis5 = rgbSpline5(basis_default6);
var rgbBasisClosed5 = rgbSpline5(basisClosed_default6);

// node_modules/d3-zoom/node_modules/d3-interpolate/src/number.js
function number_default5(a3, b) {
  return a3 = +a3, b = +b, function(t) {
    return a3 * (1 - t) + b * t;
  };
}

// node_modules/d3-zoom/node_modules/d3-interpolate/src/string.js
var reA5 = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var reB5 = new RegExp(reA5.source, "g");
function zero8(b) {
  return function() {
    return b;
  };
}
function one4(b) {
  return function(t) {
    return b(t) + "";
  };
}
function string_default5(a3, b) {
  var bi = reA5.lastIndex = reB5.lastIndex = 0, am, bm, bs, i = -1, s3 = [], q = [];
  a3 = a3 + "", b = b + "";
  while ((am = reA5.exec(a3)) && (bm = reB5.exec(b))) {
    if ((bs = bm.index) > bi) {
      bs = b.slice(bi, bs);
      if (s3[i])
        s3[i] += bs;
      else
        s3[++i] = bs;
    }
    if ((am = am[0]) === (bm = bm[0])) {
      if (s3[i])
        s3[i] += bm;
      else
        s3[++i] = bm;
    } else {
      s3[++i] = null;
      q.push({ i, x: number_default5(am, bm) });
    }
    bi = reB5.lastIndex;
  }
  if (bi < b.length) {
    bs = b.slice(bi);
    if (s3[i])
      s3[i] += bs;
    else
      s3[++i] = bs;
  }
  return s3.length < 2 ? q[0] ? one4(q[0].x) : zero8(b) : (b = q.length, function(t) {
    for (var i2 = 0, o; i2 < b; ++i2)
      s3[(o = q[i2]).i] = o.x(t);
    return s3.join("");
  });
}

// node_modules/d3-zoom/node_modules/d3-interpolate/src/transform/decompose.js
var degrees11 = 180 / Math.PI;
var identity11 = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function decompose_default5(a3, b, c7, d, e, f2) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a3 * a3 + b * b))
    a3 /= scaleX, b /= scaleX;
  if (skewX = a3 * c7 + b * d)
    c7 -= a3 * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c7 * c7 + d * d))
    c7 /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a3 * d < b * c7)
    a3 = -a3, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f2,
    rotate: Math.atan2(b, a3) * degrees11,
    skewX: Math.atan(skewX) * degrees11,
    scaleX,
    scaleY
  };
}

// node_modules/d3-zoom/node_modules/d3-interpolate/src/transform/parse.js
var svgNode5;
function parseCss5(value) {
  const m = new (typeof DOMMatrix === "function" ? DOMMatrix : WebKitCSSMatrix)(value + "");
  return m.isIdentity ? identity11 : decompose_default5(m.a, m.b, m.c, m.d, m.e, m.f);
}
function parseSvg5(value) {
  if (value == null)
    return identity11;
  if (!svgNode5)
    svgNode5 = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode5.setAttribute("transform", value);
  if (!(value = svgNode5.transform.baseVal.consolidate()))
    return identity11;
  value = value.matrix;
  return decompose_default5(value.a, value.b, value.c, value.d, value.e, value.f);
}

// node_modules/d3-zoom/node_modules/d3-interpolate/src/transform/index.js
function interpolateTransform5(parse4, pxComma, pxParen, degParen) {
  function pop(s3) {
    return s3.length ? s3.pop() + " " : "";
  }
  function translate(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push("translate(", null, pxComma, null, pxParen);
      q.push({ i: i - 4, x: number_default5(xa, xb) }, { i: i - 2, x: number_default5(ya, yb) });
    } else if (xb || yb) {
      s3.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }
  function rotate(a3, b, s3, q) {
    if (a3 !== b) {
      if (a3 - b > 180)
        b += 360;
      else if (b - a3 > 180)
        a3 += 360;
      q.push({ i: s3.push(pop(s3) + "rotate(", null, degParen) - 2, x: number_default5(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "rotate(" + b + degParen);
    }
  }
  function skewX(a3, b, s3, q) {
    if (a3 !== b) {
      q.push({ i: s3.push(pop(s3) + "skewX(", null, degParen) - 2, x: number_default5(a3, b) });
    } else if (b) {
      s3.push(pop(s3) + "skewX(" + b + degParen);
    }
  }
  function scale2(xa, ya, xb, yb, s3, q) {
    if (xa !== xb || ya !== yb) {
      var i = s3.push(pop(s3) + "scale(", null, ",", null, ")");
      q.push({ i: i - 4, x: number_default5(xa, xb) }, { i: i - 2, x: number_default5(ya, yb) });
    } else if (xb !== 1 || yb !== 1) {
      s3.push(pop(s3) + "scale(" + xb + "," + yb + ")");
    }
  }
  return function(a3, b) {
    var s3 = [], q = [];
    a3 = parse4(a3), b = parse4(b);
    translate(a3.translateX, a3.translateY, b.translateX, b.translateY, s3, q);
    rotate(a3.rotate, b.rotate, s3, q);
    skewX(a3.skewX, b.skewX, s3, q);
    scale2(a3.scaleX, a3.scaleY, b.scaleX, b.scaleY, s3, q);
    a3 = b = null;
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n)
        s3[(o = q[i]).i] = o.x(t);
      return s3.join("");
    };
  };
}
var interpolateTransformCss5 = interpolateTransform5(parseCss5, "px, ", "px)", "deg)");
var interpolateTransformSvg5 = interpolateTransform5(parseSvg5, ", ", ")", ")");

// node_modules/d3-zoom/node_modules/d3-interpolate/src/zoom.js
var epsilon26 = 1e-12;
function cosh5(x7) {
  return ((x7 = Math.exp(x7)) + 1 / x7) / 2;
}
function sinh5(x7) {
  return ((x7 = Math.exp(x7)) - 1 / x7) / 2;
}
function tanh5(x7) {
  return ((x7 = Math.exp(2 * x7)) - 1) / (x7 + 1);
}
var zoom_default5 = function zoomRho5(rho3, rho22, rho42) {
  function zoom(p02, p1) {
    var ux0 = p02[0], uy0 = p02[1], w0 = p02[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;
    if (d2 < epsilon26) {
      S = Math.log(w1 / w0) / rho3;
      i = function(t) {
        return [
          ux0 + t * dx,
          uy0 + t * dy,
          w0 * Math.exp(rho3 * t * S)
        ];
      };
    } else {
      var d1 = Math.sqrt(d2), b05 = (w1 * w1 - w0 * w0 + rho42 * d2) / (2 * w0 * rho22 * d1), b15 = (w1 * w1 - w0 * w0 - rho42 * d2) / (2 * w1 * rho22 * d1), r0 = Math.log(Math.sqrt(b05 * b05 + 1) - b05), r1 = Math.log(Math.sqrt(b15 * b15 + 1) - b15);
      S = (r1 - r0) / rho3;
      i = function(t) {
        var s3 = t * S, coshr0 = cosh5(r0), u4 = w0 / (rho22 * d1) * (coshr0 * tanh5(rho3 * s3 + r0) - sinh5(r0));
        return [
          ux0 + u4 * dx,
          uy0 + u4 * dy,
          w0 * coshr0 / cosh5(rho3 * s3 + r0)
        ];
      };
    }
    i.duration = S * 1e3 * rho3 / Math.SQRT2;
    return i;
  }
  zoom.rho = function(_2) {
    var _1 = Math.max(1e-3, +_2), _22 = _1 * _1, _4 = _22 * _22;
    return zoomRho5(_1, _22, _4);
  };
  return zoom;
}(Math.SQRT2, 2, 4);

// node_modules/d3-zoom/node_modules/d3-interpolate/src/hsl.js
function hsl10(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hsl9(start6)).h, (end2 = hsl9(end2)).h), s3 = nogamma5(start6.s, end2.s), l = nogamma5(start6.l, end2.l), opacity = nogamma5(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.s = s3(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hsl_default5 = hsl10(hue5);
var hslLong5 = hsl10(nogamma5);

// node_modules/d3-zoom/node_modules/d3-interpolate/src/hcl.js
function hcl10(hue7) {
  return function(start6, end2) {
    var h = hue7((start6 = hcl9(start6)).h, (end2 = hcl9(end2)).h), c7 = nogamma5(start6.c, end2.c), l = nogamma5(start6.l, end2.l), opacity = nogamma5(start6.opacity, end2.opacity);
    return function(t) {
      start6.h = h(t);
      start6.c = c7(t);
      start6.l = l(t);
      start6.opacity = opacity(t);
      return start6 + "";
    };
  };
}
var hcl_default5 = hcl10(hue5);
var hclLong5 = hcl10(nogamma5);

// node_modules/d3-zoom/node_modules/d3-interpolate/src/cubehelix.js
function cubehelix10(hue7) {
  return function cubehelixGamma(y7) {
    y7 = +y7;
    function cubehelix13(start6, end2) {
      var h = hue7((start6 = cubehelix9(start6)).h, (end2 = cubehelix9(end2)).h), s3 = nogamma5(start6.s, end2.s), l = nogamma5(start6.l, end2.l), opacity = nogamma5(start6.opacity, end2.opacity);
      return function(t) {
        start6.h = h(t);
        start6.s = s3(t);
        start6.l = l(Math.pow(t, y7));
        start6.opacity = opacity(t);
        return start6 + "";
      };
    }
    cubehelix13.gamma = cubehelixGamma;
    return cubehelix13;
  }(1);
}
var cubehelix_default6 = cubehelix10(hue5);
var cubehelixLong5 = cubehelix10(nogamma5);

// node_modules/d3-zoom/node_modules/d3-timer/src/timer.js
var frame4 = 0;
var timeout4 = 0;
var interval4 = 0;
var pokeDelay4 = 1e3;
var taskHead4;
var taskTail4;
var clockLast4 = 0;
var clockNow4 = 0;
var clockSkew4 = 0;
var clock4 = typeof performance === "object" && performance.now ? performance : Date;
var setFrame4 = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f2) {
  setTimeout(f2, 17);
};
function now4() {
  return clockNow4 || (setFrame4(clearNow4), clockNow4 = clock4.now() + clockSkew4);
}
function clearNow4() {
  clockNow4 = 0;
}
function Timer4() {
  this._call = this._time = this._next = null;
}
Timer4.prototype = timer4.prototype = {
  constructor: Timer4,
  restart: function(callback, delay, time2) {
    if (typeof callback !== "function")
      throw new TypeError("callback is not a function");
    time2 = (time2 == null ? now4() : +time2) + (delay == null ? 0 : +delay);
    if (!this._next && taskTail4 !== this) {
      if (taskTail4)
        taskTail4._next = this;
      else
        taskHead4 = this;
      taskTail4 = this;
    }
    this._call = callback;
    this._time = time2;
    sleep4();
  },
  stop: function() {
    if (this._call) {
      this._call = null;
      this._time = Infinity;
      sleep4();
    }
  }
};
function timer4(callback, delay, time2) {
  var t = new Timer4();
  t.restart(callback, delay, time2);
  return t;
}
function timerFlush4() {
  now4();
  ++frame4;
  var t = taskHead4, e;
  while (t) {
    if ((e = clockNow4 - t._time) >= 0)
      t._call.call(void 0, e);
    t = t._next;
  }
  --frame4;
}
function wake4() {
  clockNow4 = (clockLast4 = clock4.now()) + clockSkew4;
  frame4 = timeout4 = 0;
  try {
    timerFlush4();
  } finally {
    frame4 = 0;
    nap4();
    clockNow4 = 0;
  }
}
function poke4() {
  var now6 = clock4.now(), delay = now6 - clockLast4;
  if (delay > pokeDelay4)
    clockSkew4 -= delay, clockLast4 = now6;
}
function nap4() {
  var t010, t110 = taskHead4, t27, time2 = Infinity;
  while (t110) {
    if (t110._call) {
      if (time2 > t110._time)
        time2 = t110._time;
      t010 = t110, t110 = t110._next;
    } else {
      t27 = t110._next, t110._next = null;
      t110 = t010 ? t010._next = t27 : taskHead4 = t27;
    }
  }
  taskTail4 = t010;
  sleep4(time2);
}
function sleep4(time2) {
  if (frame4)
    return;
  if (timeout4)
    timeout4 = clearTimeout(timeout4);
  var delay = time2 - clockNow4;
  if (delay > 24) {
    if (time2 < Infinity)
      timeout4 = setTimeout(wake4, time2 - clock4.now() - clockSkew4);
    if (interval4)
      interval4 = clearInterval(interval4);
  } else {
    if (!interval4)
      clockLast4 = clock4.now(), interval4 = setInterval(poke4, pokeDelay4);
    frame4 = 1, setFrame4(wake4);
  }
}

// node_modules/d3-zoom/node_modules/d3-timer/src/timeout.js
function timeout_default4(callback, delay, time2) {
  var t = new Timer4();
  delay = delay == null ? 0 : +delay;
  t.restart((elapsed) => {
    t.stop();
    callback(elapsed + delay);
  }, delay, time2);
  return t;
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/schedule.js
var emptyOn3 = dispatch_default6("start", "end", "cancel", "interrupt");
var emptyTween3 = [];
var CREATED3 = 0;
var SCHEDULED3 = 1;
var STARTING3 = 2;
var STARTED3 = 3;
var RUNNING3 = 4;
var ENDING3 = 5;
var ENDED3 = 6;
function schedule_default3(node2, name2, id5, index6, group5, timing) {
  var schedules = node2.__transition;
  if (!schedules)
    node2.__transition = {};
  else if (id5 in schedules)
    return;
  create3(node2, id5, {
    name: name2,
    index: index6,
    group: group5,
    on: emptyOn3,
    tween: emptyTween3,
    time: timing.time,
    delay: timing.delay,
    duration: timing.duration,
    ease: timing.ease,
    timer: null,
    state: CREATED3
  });
}
function init3(node2, id5) {
  var schedule = get7(node2, id5);
  if (schedule.state > CREATED3)
    throw new Error("too late; already scheduled");
  return schedule;
}
function set7(node2, id5) {
  var schedule = get7(node2, id5);
  if (schedule.state > STARTED3)
    throw new Error("too late; already running");
  return schedule;
}
function get7(node2, id5) {
  var schedule = node2.__transition;
  if (!schedule || !(schedule = schedule[id5]))
    throw new Error("transition not found");
  return schedule;
}
function create3(node2, id5, self2) {
  var schedules = node2.__transition, tween;
  schedules[id5] = self2;
  self2.timer = timer4(schedule, 0, self2.time);
  function schedule(elapsed) {
    self2.state = SCHEDULED3;
    self2.timer.restart(start6, self2.delay, self2.time);
    if (self2.delay <= elapsed)
      start6(elapsed - self2.delay);
  }
  function start6(elapsed) {
    var i, j, n, o;
    if (self2.state !== SCHEDULED3)
      return stop();
    for (i in schedules) {
      o = schedules[i];
      if (o.name !== self2.name)
        continue;
      if (o.state === STARTED3)
        return timeout_default4(start6);
      if (o.state === RUNNING3) {
        o.state = ENDED3;
        o.timer.stop();
        o.on.call("interrupt", node2, node2.__data__, o.index, o.group);
        delete schedules[i];
      } else if (+i < id5) {
        o.state = ENDED3;
        o.timer.stop();
        o.on.call("cancel", node2, node2.__data__, o.index, o.group);
        delete schedules[i];
      }
    }
    timeout_default4(function() {
      if (self2.state === STARTED3) {
        self2.state = RUNNING3;
        self2.timer.restart(tick, self2.delay, self2.time);
        tick(elapsed);
      }
    });
    self2.state = STARTING3;
    self2.on.call("start", node2, node2.__data__, self2.index, self2.group);
    if (self2.state !== STARTING3)
      return;
    self2.state = STARTED3;
    tween = new Array(n = self2.tween.length);
    for (i = 0, j = -1; i < n; ++i) {
      if (o = self2.tween[i].value.call(node2, node2.__data__, self2.index, self2.group)) {
        tween[++j] = o;
      }
    }
    tween.length = j + 1;
  }
  function tick(elapsed) {
    var t = elapsed < self2.duration ? self2.ease.call(null, elapsed / self2.duration) : (self2.timer.restart(stop), self2.state = ENDING3, 1), i = -1, n = tween.length;
    while (++i < n) {
      tween[i].call(node2, t);
    }
    if (self2.state === ENDING3) {
      self2.on.call("end", node2, node2.__data__, self2.index, self2.group);
      stop();
    }
  }
  function stop() {
    self2.state = ENDED3;
    self2.timer.stop();
    delete schedules[id5];
    for (var i in schedules)
      return;
    delete node2.__transition;
  }
}

// node_modules/d3-zoom/node_modules/d3-transition/src/interrupt.js
function interrupt_default5(node2, name2) {
  var schedules = node2.__transition, schedule, active, empty6 = true, i;
  if (!schedules)
    return;
  name2 = name2 == null ? null : name2 + "";
  for (i in schedules) {
    if ((schedule = schedules[i]).name !== name2) {
      empty6 = false;
      continue;
    }
    active = schedule.state > STARTING3 && schedule.state < ENDING3;
    schedule.state = ENDED3;
    schedule.timer.stop();
    schedule.on.call(active ? "interrupt" : "cancel", node2, node2.__data__, schedule.index, schedule.group);
    delete schedules[i];
  }
  if (empty6)
    delete node2.__transition;
}

// node_modules/d3-zoom/node_modules/d3-transition/src/selection/interrupt.js
function interrupt_default6(name2) {
  return this.each(function() {
    interrupt_default5(this, name2);
  });
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/tween.js
function tweenRemove3(id5, name2) {
  var tween0, tween1;
  return function() {
    var schedule = set7(this, id5), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = tween0 = tween;
      for (var i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name2) {
          tween1 = tween1.slice();
          tween1.splice(i, 1);
          break;
        }
      }
    }
    schedule.tween = tween1;
  };
}
function tweenFunction3(id5, name2, value) {
  var tween0, tween1;
  if (typeof value !== "function")
    throw new Error();
  return function() {
    var schedule = set7(this, id5), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = (tween0 = tween).slice();
      for (var t = { name: name2, value }, i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name2) {
          tween1[i] = t;
          break;
        }
      }
      if (i === n)
        tween1.push(t);
    }
    schedule.tween = tween1;
  };
}
function tween_default3(name2, value) {
  var id5 = this._id;
  name2 += "";
  if (arguments.length < 2) {
    var tween = get7(this.node(), id5).tween;
    for (var i = 0, n = tween.length, t; i < n; ++i) {
      if ((t = tween[i]).name === name2) {
        return t.value;
      }
    }
    return null;
  }
  return this.each((value == null ? tweenRemove3 : tweenFunction3)(id5, name2, value));
}
function tweenValue3(transition5, name2, value) {
  var id5 = transition5._id;
  transition5.each(function() {
    var schedule = set7(this, id5);
    (schedule.value || (schedule.value = {}))[name2] = value.apply(this, arguments);
  });
  return function(node2) {
    return get7(node2, id5).value[name2];
  };
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/interpolate.js
function interpolate_default4(a3, b) {
  var c7;
  return (typeof b === "number" ? number_default5 : b instanceof color5 ? rgb_default5 : (c7 = color5(b)) ? (b = c7, rgb_default5) : string_default5)(a3, b);
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/attr.js
function attrRemove6(name2) {
  return function() {
    this.removeAttribute(name2);
  };
}
function attrRemoveNS6(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant6(name2, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttribute(name2);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrConstantNS6(fullname, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttributeNS(fullname.space, fullname.local);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrFunction6(name2, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttribute(name2);
    string0 = this.getAttribute(name2);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attrFunctionNS6(fullname, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttributeNS(fullname.space, fullname.local);
    string0 = this.getAttributeNS(fullname.space, fullname.local);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attr_default6(name2, value) {
  var fullname = namespace_default3(name2), i = fullname === "transform" ? interpolateTransformSvg5 : interpolate_default4;
  return this.attrTween(name2, typeof value === "function" ? (fullname.local ? attrFunctionNS6 : attrFunction6)(fullname, i, tweenValue3(this, "attr." + name2, value)) : value == null ? (fullname.local ? attrRemoveNS6 : attrRemove6)(fullname) : (fullname.local ? attrConstantNS6 : attrConstant6)(fullname, i, value));
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/attrTween.js
function attrInterpolate3(name2, i) {
  return function(t) {
    this.setAttribute(name2, i.call(this, t));
  };
}
function attrInterpolateNS3(fullname, i) {
  return function(t) {
    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));
  };
}
function attrTweenNS3(fullname, value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && attrInterpolateNS3(fullname, i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function attrTween3(name2, value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && attrInterpolate3(name2, i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function attrTween_default3(name2, value) {
  var key = "attr." + name2;
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  var fullname = namespace_default3(name2);
  return this.tween(key, (fullname.local ? attrTweenNS3 : attrTween3)(fullname, value));
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/delay.js
function delayFunction3(id5, value) {
  return function() {
    init3(this, id5).delay = +value.apply(this, arguments);
  };
}
function delayConstant3(id5, value) {
  return value = +value, function() {
    init3(this, id5).delay = value;
  };
}
function delay_default3(value) {
  var id5 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? delayFunction3 : delayConstant3)(id5, value)) : get7(this.node(), id5).delay;
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/duration.js
function durationFunction3(id5, value) {
  return function() {
    set7(this, id5).duration = +value.apply(this, arguments);
  };
}
function durationConstant3(id5, value) {
  return value = +value, function() {
    set7(this, id5).duration = value;
  };
}
function duration_default3(value) {
  var id5 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? durationFunction3 : durationConstant3)(id5, value)) : get7(this.node(), id5).duration;
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/ease.js
function easeConstant3(id5, value) {
  if (typeof value !== "function")
    throw new Error();
  return function() {
    set7(this, id5).ease = value;
  };
}
function ease_default3(value) {
  var id5 = this._id;
  return arguments.length ? this.each(easeConstant3(id5, value)) : get7(this.node(), id5).ease;
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/easeVarying.js
function easeVarying3(id5, value) {
  return function() {
    var v2 = value.apply(this, arguments);
    if (typeof v2 !== "function")
      throw new Error();
    set7(this, id5).ease = v2;
  };
}
function easeVarying_default3(value) {
  if (typeof value !== "function")
    throw new Error();
  return this.each(easeVarying3(this._id, value));
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/filter.js
function filter_default6(match2) {
  if (typeof match2 !== "function")
    match2 = matcher_default3(match2);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = [], node2, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && match2.call(node2, node2.__data__, i, group5)) {
        subgroup.push(node2);
      }
    }
  }
  return new Transition3(subgroups, this._parents, this._name, this._id);
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/merge.js
function merge_default6(transition5) {
  if (transition5._id !== this._id)
    throw new Error();
  for (var groups0 = this._groups, groups1 = transition5._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge6 = merges[j] = new Array(n), node2, i = 0; i < n; ++i) {
      if (node2 = group0[i] || group1[i]) {
        merge6[i] = node2;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Transition3(merges, this._parents, this._name, this._id);
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/on.js
function start3(name2) {
  return (name2 + "").trim().split(/^|\s+/).every(function(t) {
    var i = t.indexOf(".");
    if (i >= 0)
      t = t.slice(0, i);
    return !t || t === "start";
  });
}
function onFunction3(id5, name2, listener) {
  var on0, on1, sit = start3(name2) ? init3 : set7;
  return function() {
    var schedule = sit(this, id5), on = schedule.on;
    if (on !== on0)
      (on1 = (on0 = on).copy()).on(name2, listener);
    schedule.on = on1;
  };
}
function on_default6(name2, listener) {
  var id5 = this._id;
  return arguments.length < 2 ? get7(this.node(), id5).on.on(name2) : this.each(onFunction3(id5, name2, listener));
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/remove.js
function removeFunction3(id5) {
  return function() {
    var parent = this.parentNode;
    for (var i in this.__transition)
      if (+i !== id5)
        return;
    if (parent)
      parent.removeChild(this);
  };
}
function remove_default8() {
  return this.on("end.remove", removeFunction3(this._id));
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/select.js
function select_default9(select) {
  var name2 = this._name, id5 = this._id;
  if (typeof select !== "function")
    select = selector_default3(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, subgroup = subgroups[j] = new Array(n), node2, subnode, i = 0; i < n; ++i) {
      if ((node2 = group5[i]) && (subnode = select.call(node2, node2.__data__, i, group5))) {
        if ("__data__" in node2)
          subnode.__data__ = node2.__data__;
        subgroup[i] = subnode;
        schedule_default3(subgroup[i], name2, id5, i, subgroup, get7(node2, id5));
      }
    }
  }
  return new Transition3(subgroups, this._parents, name2, id5);
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/selectAll.js
function selectAll_default9(select) {
  var name2 = this._name, id5 = this._id;
  if (typeof select !== "function")
    select = selectorAll_default3(select);
  for (var groups5 = this._groups, m = groups5.length, subgroups = [], parents2 = [], j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        for (var children4 = select.call(node2, node2.__data__, i, group5), child, inherit5 = get7(node2, id5), k3 = 0, l = children4.length; k3 < l; ++k3) {
          if (child = children4[k3]) {
            schedule_default3(child, name2, id5, k3, children4, inherit5);
          }
        }
        subgroups.push(children4);
        parents2.push(node2);
      }
    }
  }
  return new Transition3(subgroups, parents2, name2, id5);
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/selection.js
var Selection6 = selection_default5.prototype.constructor;
function selection_default6() {
  return new Selection6(this._groups, this._parents);
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/style.js
function styleNull3(name2, interpolate) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue3(this, name2), string1 = (this.style.removeProperty(name2), styleValue3(this, name2));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);
  };
}
function styleRemove6(name2) {
  return function() {
    this.style.removeProperty(name2);
  };
}
function styleConstant6(name2, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = styleValue3(this, name2);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function styleFunction6(name2, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue3(this, name2), value1 = value(this), string1 = value1 + "";
    if (value1 == null)
      string1 = value1 = (this.style.removeProperty(name2), styleValue3(this, name2));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function styleMaybeRemove3(id5, name2) {
  var on0, on1, listener0, key = "style." + name2, event2 = "end." + key, remove5;
  return function() {
    var schedule = set7(this, id5), on = schedule.on, listener = schedule.value[key] == null ? remove5 || (remove5 = styleRemove6(name2)) : void 0;
    if (on !== on0 || listener0 !== listener)
      (on1 = (on0 = on).copy()).on(event2, listener0 = listener);
    schedule.on = on1;
  };
}
function style_default6(name2, value, priority) {
  var i = (name2 += "") === "transform" ? interpolateTransformCss5 : interpolate_default4;
  return value == null ? this.styleTween(name2, styleNull3(name2, i)).on("end.style." + name2, styleRemove6(name2)) : typeof value === "function" ? this.styleTween(name2, styleFunction6(name2, i, tweenValue3(this, "style." + name2, value))).each(styleMaybeRemove3(this._id, name2)) : this.styleTween(name2, styleConstant6(name2, i, value), priority).on("end.style." + name2, null);
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/styleTween.js
function styleInterpolate3(name2, i, priority) {
  return function(t) {
    this.style.setProperty(name2, i.call(this, t), priority);
  };
}
function styleTween3(name2, value, priority) {
  var t, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t = (i0 = i) && styleInterpolate3(name2, i, priority);
    return t;
  }
  tween._value = value;
  return tween;
}
function styleTween_default3(name2, value, priority) {
  var key = "style." + (name2 += "");
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, styleTween3(name2, value, priority == null ? "" : priority));
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/text.js
function textConstant6(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction6(value) {
  return function() {
    var value1 = value(this);
    this.textContent = value1 == null ? "" : value1;
  };
}
function text_default7(value) {
  return this.tween("text", typeof value === "function" ? textFunction6(tweenValue3(this, "text", value)) : textConstant6(value == null ? "" : value + ""));
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/textTween.js
function textInterpolate3(i) {
  return function(t) {
    this.textContent = i.call(this, t);
  };
}
function textTween3(value) {
  var t010, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t010 = (i0 = i) && textInterpolate3(i);
    return t010;
  }
  tween._value = value;
  return tween;
}
function textTween_default3(value) {
  var key = "text";
  if (arguments.length < 1)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, textTween3(value));
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/transition.js
function transition_default5() {
  var name2 = this._name, id0 = this._id, id1 = newId3();
  for (var groups5 = this._groups, m = groups5.length, j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        var inherit5 = get7(node2, id0);
        schedule_default3(node2, name2, id1, i, group5, {
          time: inherit5.time + inherit5.delay + inherit5.duration,
          delay: 0,
          duration: inherit5.duration,
          ease: inherit5.ease
        });
      }
    }
  }
  return new Transition3(groups5, this._parents, name2, id1);
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/end.js
function end_default3() {
  var on0, on1, that = this, id5 = that._id, size = that.size();
  return new Promise(function(resolve, reject) {
    var cancel = { value: reject }, end2 = { value: function() {
      if (--size === 0)
        resolve();
    } };
    that.each(function() {
      var schedule = set7(this, id5), on = schedule.on;
      if (on !== on0) {
        on1 = (on0 = on).copy();
        on1._.cancel.push(cancel);
        on1._.interrupt.push(cancel);
        on1._.end.push(end2);
      }
      schedule.on = on1;
    });
    if (size === 0)
      resolve();
  });
}

// node_modules/d3-zoom/node_modules/d3-transition/src/transition/index.js
var id3 = 0;
function Transition3(groups5, parents2, name2, id5) {
  this._groups = groups5;
  this._parents = parents2;
  this._name = name2;
  this._id = id5;
}
function transition3(name2) {
  return selection_default5().transition(name2);
}
function newId3() {
  return ++id3;
}
var selection_prototype3 = selection_default5.prototype;
Transition3.prototype = transition3.prototype = {
  constructor: Transition3,
  select: select_default9,
  selectAll: selectAll_default9,
  selectChild: selection_prototype3.selectChild,
  selectChildren: selection_prototype3.selectChildren,
  filter: filter_default6,
  merge: merge_default6,
  selection: selection_default6,
  transition: transition_default5,
  call: selection_prototype3.call,
  nodes: selection_prototype3.nodes,
  node: selection_prototype3.node,
  size: selection_prototype3.size,
  empty: selection_prototype3.empty,
  each: selection_prototype3.each,
  on: on_default6,
  attr: attr_default6,
  attrTween: attrTween_default3,
  style: style_default6,
  styleTween: styleTween_default3,
  text: text_default7,
  textTween: textTween_default3,
  remove: remove_default8,
  tween: tween_default3,
  delay: delay_default3,
  duration: duration_default3,
  ease: ease_default3,
  easeVarying: easeVarying_default3,
  end: end_default3,
  [Symbol.iterator]: selection_prototype3[Symbol.iterator]
};

// node_modules/d3-zoom/node_modules/d3-ease/src/cubic.js
function cubicInOut3(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}

// node_modules/d3-zoom/node_modules/d3-ease/src/poly.js
var exponent3 = 3;
var polyIn3 = function custom28(e) {
  e = +e;
  function polyIn5(t) {
    return Math.pow(t, e);
  }
  polyIn5.exponent = custom28;
  return polyIn5;
}(exponent3);
var polyOut3 = function custom29(e) {
  e = +e;
  function polyOut5(t) {
    return 1 - Math.pow(1 - t, e);
  }
  polyOut5.exponent = custom29;
  return polyOut5;
}(exponent3);
var polyInOut3 = function custom30(e) {
  e = +e;
  function polyInOut5(t) {
    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
  }
  polyInOut5.exponent = custom30;
  return polyInOut5;
}(exponent3);

// node_modules/d3-zoom/node_modules/d3-ease/src/sin.js
var pi9 = Math.PI;
var halfPi6 = pi9 / 2;

// node_modules/d3-zoom/node_modules/d3-ease/src/math.js
function tpmt3(x7) {
  return (Math.pow(2, -10 * x7) - 9765625e-10) * 1.0009775171065494;
}

// node_modules/d3-zoom/node_modules/d3-ease/src/bounce.js
var b13 = 4 / 11;
var b23 = 6 / 11;
var b33 = 8 / 11;
var b43 = 3 / 4;
var b53 = 9 / 11;
var b63 = 10 / 11;
var b73 = 15 / 16;
var b83 = 21 / 22;
var b93 = 63 / 64;
var b03 = 1 / b13 / b13;

// node_modules/d3-zoom/node_modules/d3-ease/src/back.js
var overshoot3 = 1.70158;
var backIn3 = function custom31(s3) {
  s3 = +s3;
  function backIn5(t) {
    return (t = +t) * t * (s3 * (t - 1) + t);
  }
  backIn5.overshoot = custom31;
  return backIn5;
}(overshoot3);
var backOut3 = function custom32(s3) {
  s3 = +s3;
  function backOut5(t) {
    return --t * t * ((t + 1) * s3 + t) + 1;
  }
  backOut5.overshoot = custom32;
  return backOut5;
}(overshoot3);
var backInOut3 = function custom33(s3) {
  s3 = +s3;
  function backInOut5(t) {
    return ((t *= 2) < 1 ? t * t * ((s3 + 1) * t - s3) : (t -= 2) * t * ((s3 + 1) * t + s3) + 2) / 2;
  }
  backInOut5.overshoot = custom33;
  return backInOut5;
}(overshoot3);

// node_modules/d3-zoom/node_modules/d3-ease/src/elastic.js
var tau10 = 2 * Math.PI;
var amplitude3 = 1;
var period3 = 0.3;
var elasticIn3 = function custom34(a3, p) {
  var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau10);
  function elasticIn5(t) {
    return a3 * tpmt3(- --t) * Math.sin((s3 - t) / p);
  }
  elasticIn5.amplitude = function(a4) {
    return custom34(a4, p * tau10);
  };
  elasticIn5.period = function(p2) {
    return custom34(a3, p2);
  };
  return elasticIn5;
}(amplitude3, period3);
var elasticOut3 = function custom35(a3, p) {
  var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau10);
  function elasticOut5(t) {
    return 1 - a3 * tpmt3(t = +t) * Math.sin((t + s3) / p);
  }
  elasticOut5.amplitude = function(a4) {
    return custom35(a4, p * tau10);
  };
  elasticOut5.period = function(p2) {
    return custom35(a3, p2);
  };
  return elasticOut5;
}(amplitude3, period3);
var elasticInOut3 = function custom36(a3, p) {
  var s3 = Math.asin(1 / (a3 = Math.max(1, a3))) * (p /= tau10);
  function elasticInOut5(t) {
    return ((t = t * 2 - 1) < 0 ? a3 * tpmt3(-t) * Math.sin((s3 - t) / p) : 2 - a3 * tpmt3(t) * Math.sin((s3 + t) / p)) / 2;
  }
  elasticInOut5.amplitude = function(a4) {
    return custom36(a4, p * tau10);
  };
  elasticInOut5.period = function(p2) {
    return custom36(a3, p2);
  };
  return elasticInOut5;
}(amplitude3, period3);

// node_modules/d3-zoom/node_modules/d3-transition/src/selection/transition.js
var defaultTiming3 = {
  time: null,
  delay: 0,
  duration: 250,
  ease: cubicInOut3
};
function inherit3(node2, id5) {
  var timing;
  while (!(timing = node2.__transition) || !(timing = timing[id5])) {
    if (!(node2 = node2.parentNode)) {
      throw new Error(`transition ${id5} not found`);
    }
  }
  return timing;
}
function transition_default6(name2) {
  var id5, timing;
  if (name2 instanceof Transition3) {
    id5 = name2._id, name2 = name2._name;
  } else {
    id5 = newId3(), (timing = defaultTiming3).time = now4(), name2 = name2 == null ? null : name2 + "";
  }
  for (var groups5 = this._groups, m = groups5.length, j = 0; j < m; ++j) {
    for (var group5 = groups5[j], n = group5.length, node2, i = 0; i < n; ++i) {
      if (node2 = group5[i]) {
        schedule_default3(node2, name2, id5, i, group5, timing || inherit3(node2, id5));
      }
    }
  }
  return new Transition3(groups5, this._parents, name2, id5);
}

// node_modules/d3-zoom/node_modules/d3-transition/src/selection/index.js
selection_default5.prototype.interrupt = interrupt_default6;
selection_default5.prototype.transition = transition_default6;

// node_modules/d3-zoom/src/transform.js
function Transform(k3, x7, y7) {
  this.k = k3;
  this.x = x7;
  this.y = y7;
}
Transform.prototype = {
  constructor: Transform,
  scale: function(k3) {
    return k3 === 1 ? this : new Transform(this.k * k3, this.x, this.y);
  },
  translate: function(x7, y7) {
    return x7 === 0 & y7 === 0 ? this : new Transform(this.k, this.x + this.k * x7, this.y + this.k * y7);
  },
  apply: function(point12) {
    return [point12[0] * this.k + this.x, point12[1] * this.k + this.y];
  },
  applyX: function(x7) {
    return x7 * this.k + this.x;
  },
  applyY: function(y7) {
    return y7 * this.k + this.y;
  },
  invert: function(location2) {
    return [(location2[0] - this.x) / this.k, (location2[1] - this.y) / this.k];
  },
  invertX: function(x7) {
    return (x7 - this.x) / this.k;
  },
  invertY: function(y7) {
    return (y7 - this.y) / this.k;
  },
  rescaleX: function(x7) {
    return x7.copy().domain(x7.range().map(this.invertX, this).map(x7.invert, x7));
  },
  rescaleY: function(y7) {
    return y7.copy().domain(y7.range().map(this.invertY, this).map(y7.invert, y7));
  },
  toString: function() {
    return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
  }
};
var identity12 = new Transform(1, 0, 0);
transform.prototype = Transform.prototype;
function transform(node2) {
  while (!node2.__zoom)
    if (!(node2 = node2.parentNode))
      return identity12;
  return node2.__zoom;
}

// node_modules/dompurify/dist/purify.es.js
function _typeof(obj) {
  "@babel/helpers - typeof";
  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
    return typeof obj2;
  } : function(obj2) {
    return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
  }, _typeof(obj);
}
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
    o2.__proto__ = p2;
    return o2;
  };
  return _setPrototypeOf(o, p);
}
function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct)
    return false;
  if (Reflect.construct.sham)
    return false;
  if (typeof Proxy === "function")
    return true;
  try {
    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    }));
    return true;
  } catch (e) {
    return false;
  }
}
function _construct(Parent, args, Class) {
  if (_isNativeReflectConstruct()) {
    _construct = Reflect.construct;
  } else {
    _construct = function _construct2(Parent2, args2, Class2) {
      var a3 = [null];
      a3.push.apply(a3, args2);
      var Constructor = Function.bind.apply(Parent2, a3);
      var instance = new Constructor();
      if (Class2)
        _setPrototypeOf(instance, Class2.prototype);
      return instance;
    };
  }
  return _construct.apply(null, arguments);
}
function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr))
    return _arrayLikeToArray(arr);
}
function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
    return Array.from(iter);
}
function _unsupportedIterableToArray(o, minLen) {
  if (!o)
    return;
  if (typeof o === "string")
    return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor)
    n = o.constructor.name;
  if (n === "Map" || n === "Set")
    return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
    return _arrayLikeToArray(o, minLen);
}
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length)
    len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++)
    arr2[i] = arr[i];
  return arr2;
}
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
var hasOwnProperty = Object.hasOwnProperty;
var setPrototypeOf = Object.setPrototypeOf;
var isFrozen = Object.isFrozen;
var getPrototypeOf = Object.getPrototypeOf;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var freeze = Object.freeze;
var seal = Object.seal;
var create4 = Object.create;
var _ref = typeof Reflect !== "undefined" && Reflect;
var apply = _ref.apply;
var construct = _ref.construct;
if (!apply) {
  apply = function apply3(fun, thisValue, args) {
    return fun.apply(thisValue, args);
  };
}
if (!freeze) {
  freeze = function freeze2(x7) {
    return x7;
  };
}
if (!seal) {
  seal = function seal2(x7) {
    return x7;
  };
}
if (!construct) {
  construct = function construct2(Func, args) {
    return _construct(Func, _toConsumableArray(args));
  };
}
var arrayForEach = unapply(Array.prototype.forEach);
var arrayPop = unapply(Array.prototype.pop);
var arrayPush = unapply(Array.prototype.push);
var stringToLowerCase = unapply(String.prototype.toLowerCase);
var stringMatch = unapply(String.prototype.match);
var stringReplace = unapply(String.prototype.replace);
var stringIndexOf = unapply(String.prototype.indexOf);
var stringTrim = unapply(String.prototype.trim);
var regExpTest = unapply(RegExp.prototype.test);
var typeErrorCreate = unconstruct(TypeError);
function unapply(func) {
  return function(thisArg) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    return apply(func, thisArg, args);
  };
}
function unconstruct(func) {
  return function() {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return construct(func, args);
  };
}
function addToSet(set11, array12, transformCaseFunc) {
  transformCaseFunc = transformCaseFunc ? transformCaseFunc : stringToLowerCase;
  if (setPrototypeOf) {
    setPrototypeOf(set11, null);
  }
  var l = array12.length;
  while (l--) {
    var element = array12[l];
    if (typeof element === "string") {
      var lcElement = transformCaseFunc(element);
      if (lcElement !== element) {
        if (!isFrozen(array12)) {
          array12[l] = lcElement;
        }
        element = lcElement;
      }
    }
    set11[element] = true;
  }
  return set11;
}
function clone(object2) {
  var newObject = create4(null);
  var property;
  for (property in object2) {
    if (apply(hasOwnProperty, object2, [property])) {
      newObject[property] = object2[property];
    }
  }
  return newObject;
}
function lookupGetter(object2, prop) {
  while (object2 !== null) {
    var desc = getOwnPropertyDescriptor(object2, prop);
    if (desc) {
      if (desc.get) {
        return unapply(desc.get);
      }
      if (typeof desc.value === "function") {
        return unapply(desc.value);
      }
    }
    object2 = getPrototypeOf(object2);
  }
  function fallbackValue(element) {
    console.warn("fallback value for", element);
    return null;
  }
  return fallbackValue;
}
var html$1 = freeze(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]);
var svg$1 = freeze(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]);
var svgFilters = freeze(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]);
var svgDisallowed = freeze(["animate", "color-profile", "cursor", "discard", "fedropshadow", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]);
var mathMl$1 = freeze(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover"]);
var mathMlDisallowed = freeze(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]);
var text = freeze(["#text"]);
var html2 = freeze(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "xmlns", "slot"]);
var svg2 = freeze(["accent-height", "accumulate", "additive", "alignment-baseline", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]);
var mathMl = freeze(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]);
var xml = freeze(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]);
var MUSTACHE_EXPR = seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm);
var ERB_EXPR = seal(/<%[\w\W]*|[\w\W]*%>/gm);
var DATA_ATTR = seal(/^data-[\-\w.\u00B7-\uFFFF]/);
var ARIA_ATTR = seal(/^aria-[\-\w]+$/);
var IS_ALLOWED_URI = seal(
  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i
);
var IS_SCRIPT_OR_DATA = seal(/^(?:\w+script|data):/i);
var ATTR_WHITESPACE = seal(
  /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g
);
var DOCTYPE_NAME = seal(/^html$/i);
var getGlobal = function getGlobal2() {
  return typeof window === "undefined" ? null : window;
};
var _createTrustedTypesPolicy = function _createTrustedTypesPolicy2(trustedTypes, document2) {
  if (_typeof(trustedTypes) !== "object" || typeof trustedTypes.createPolicy !== "function") {
    return null;
  }
  var suffix = null;
  var ATTR_NAME = "data-tt-policy-suffix";
  if (document2.currentScript && document2.currentScript.hasAttribute(ATTR_NAME)) {
    suffix = document2.currentScript.getAttribute(ATTR_NAME);
  }
  var policyName = "dompurify" + (suffix ? "#" + suffix : "");
  try {
    return trustedTypes.createPolicy(policyName, {
      createHTML: function createHTML(html4) {
        return html4;
      },
      createScriptURL: function createScriptURL(scriptUrl) {
        return scriptUrl;
      }
    });
  } catch (_2) {
    console.warn("TrustedTypes policy " + policyName + " could not be created.");
    return null;
  }
};
function createDOMPurify() {
  var window2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : getGlobal();
  var DOMPurify = function DOMPurify2(root7) {
    return createDOMPurify(root7);
  };
  DOMPurify.version = "2.4.0";
  DOMPurify.removed = [];
  if (!window2 || !window2.document || window2.document.nodeType !== 9) {
    DOMPurify.isSupported = false;
    return DOMPurify;
  }
  var originalDocument = window2.document;
  var document2 = window2.document;
  var DocumentFragment = window2.DocumentFragment, HTMLTemplateElement = window2.HTMLTemplateElement, Node4 = window2.Node, Element = window2.Element, NodeFilter = window2.NodeFilter, _window$NamedNodeMap = window2.NamedNodeMap, NamedNodeMap = _window$NamedNodeMap === void 0 ? window2.NamedNodeMap || window2.MozNamedAttrMap : _window$NamedNodeMap, HTMLFormElement = window2.HTMLFormElement, DOMParser2 = window2.DOMParser, trustedTypes = window2.trustedTypes;
  var ElementPrototype = Element.prototype;
  var cloneNode = lookupGetter(ElementPrototype, "cloneNode");
  var getNextSibling = lookupGetter(ElementPrototype, "nextSibling");
  var getChildNodes = lookupGetter(ElementPrototype, "childNodes");
  var getParentNode = lookupGetter(ElementPrototype, "parentNode");
  if (typeof HTMLTemplateElement === "function") {
    var template = document2.createElement("template");
    if (template.content && template.content.ownerDocument) {
      document2 = template.content.ownerDocument;
    }
  }
  var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);
  var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML("") : "";
  var _document = document2, implementation = _document.implementation, createNodeIterator = _document.createNodeIterator, createDocumentFragment = _document.createDocumentFragment, getElementsByTagName = _document.getElementsByTagName;
  var importNode = originalDocument.importNode;
  var documentMode = {};
  try {
    documentMode = clone(document2).documentMode ? document2.documentMode : {};
  } catch (_2) {
  }
  var hooks = {};
  DOMPurify.isSupported = typeof getParentNode === "function" && implementation && typeof implementation.createHTMLDocument !== "undefined" && documentMode !== 9;
  var MUSTACHE_EXPR$1 = MUSTACHE_EXPR, ERB_EXPR$1 = ERB_EXPR, DATA_ATTR$1 = DATA_ATTR, ARIA_ATTR$1 = ARIA_ATTR, IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA, ATTR_WHITESPACE$1 = ATTR_WHITESPACE;
  var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;
  var ALLOWED_TAGS = null;
  var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));
  var ALLOWED_ATTR = null;
  var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html2), _toConsumableArray(svg2), _toConsumableArray(mathMl), _toConsumableArray(xml)));
  var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {
    tagNameCheck: {
      writable: true,
      configurable: false,
      enumerable: true,
      value: null
    },
    attributeNameCheck: {
      writable: true,
      configurable: false,
      enumerable: true,
      value: null
    },
    allowCustomizedBuiltInElements: {
      writable: true,
      configurable: false,
      enumerable: true,
      value: false
    }
  }));
  var FORBID_TAGS = null;
  var FORBID_ATTR = null;
  var ALLOW_ARIA_ATTR = true;
  var ALLOW_DATA_ATTR = true;
  var ALLOW_UNKNOWN_PROTOCOLS = false;
  var SAFE_FOR_TEMPLATES = false;
  var WHOLE_DOCUMENT = false;
  var SET_CONFIG = false;
  var FORCE_BODY = false;
  var RETURN_DOM = false;
  var RETURN_DOM_FRAGMENT = false;
  var RETURN_TRUSTED_TYPE = false;
  var SANITIZE_DOM = true;
  var SANITIZE_NAMED_PROPS = false;
  var SANITIZE_NAMED_PROPS_PREFIX = "user-content-";
  var KEEP_CONTENT = true;
  var IN_PLACE = false;
  var USE_PROFILES = {};
  var FORBID_CONTENTS = null;
  var DEFAULT_FORBID_CONTENTS = addToSet({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]);
  var DATA_URI_TAGS = null;
  var DEFAULT_DATA_URI_TAGS = addToSet({}, ["audio", "video", "img", "source", "image", "track"]);
  var URI_SAFE_ATTRIBUTES = null;
  var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]);
  var MATHML_NAMESPACE = "http://www.w3.org/1998/Math/MathML";
  var SVG_NAMESPACE = "http://www.w3.org/2000/svg";
  var HTML_NAMESPACE = "http://www.w3.org/1999/xhtml";
  var NAMESPACE = HTML_NAMESPACE;
  var IS_EMPTY_INPUT = false;
  var PARSER_MEDIA_TYPE;
  var SUPPORTED_PARSER_MEDIA_TYPES = ["application/xhtml+xml", "text/html"];
  var DEFAULT_PARSER_MEDIA_TYPE = "text/html";
  var transformCaseFunc;
  var CONFIG = null;
  var formElement = document2.createElement("form");
  var isRegexOrFunction = function isRegexOrFunction2(testValue) {
    return testValue instanceof RegExp || testValue instanceof Function;
  };
  var _parseConfig = function _parseConfig2(cfg) {
    if (CONFIG && CONFIG === cfg) {
      return;
    }
    if (!cfg || _typeof(cfg) !== "object") {
      cfg = {};
    }
    cfg = clone(cfg);
    PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;
    transformCaseFunc = PARSER_MEDIA_TYPE === "application/xhtml+xml" ? function(x7) {
      return x7;
    } : stringToLowerCase;
    ALLOWED_TAGS = "ALLOWED_TAGS" in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;
    ALLOWED_ATTR = "ALLOWED_ATTR" in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;
    URI_SAFE_ATTRIBUTES = "ADD_URI_SAFE_ATTR" in cfg ? addToSet(
      clone(DEFAULT_URI_SAFE_ATTRIBUTES),
      cfg.ADD_URI_SAFE_ATTR,
      transformCaseFunc
    ) : DEFAULT_URI_SAFE_ATTRIBUTES;
    DATA_URI_TAGS = "ADD_DATA_URI_TAGS" in cfg ? addToSet(
      clone(DEFAULT_DATA_URI_TAGS),
      cfg.ADD_DATA_URI_TAGS,
      transformCaseFunc
    ) : DEFAULT_DATA_URI_TAGS;
    FORBID_CONTENTS = "FORBID_CONTENTS" in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;
    FORBID_TAGS = "FORBID_TAGS" in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};
    FORBID_ATTR = "FORBID_ATTR" in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};
    USE_PROFILES = "USE_PROFILES" in cfg ? cfg.USE_PROFILES : false;
    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;
    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;
    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;
    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;
    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;
    RETURN_DOM = cfg.RETURN_DOM || false;
    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;
    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;
    FORCE_BODY = cfg.FORCE_BODY || false;
    SANITIZE_DOM = cfg.SANITIZE_DOM !== false;
    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false;
    KEEP_CONTENT = cfg.KEEP_CONTENT !== false;
    IN_PLACE = cfg.IN_PLACE || false;
    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;
    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;
    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {
      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;
    }
    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {
      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;
    }
    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === "boolean") {
      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;
    }
    if (SAFE_FOR_TEMPLATES) {
      ALLOW_DATA_ATTR = false;
    }
    if (RETURN_DOM_FRAGMENT) {
      RETURN_DOM = true;
    }
    if (USE_PROFILES) {
      ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));
      ALLOWED_ATTR = [];
      if (USE_PROFILES.html === true) {
        addToSet(ALLOWED_TAGS, html$1);
        addToSet(ALLOWED_ATTR, html2);
      }
      if (USE_PROFILES.svg === true) {
        addToSet(ALLOWED_TAGS, svg$1);
        addToSet(ALLOWED_ATTR, svg2);
        addToSet(ALLOWED_ATTR, xml);
      }
      if (USE_PROFILES.svgFilters === true) {
        addToSet(ALLOWED_TAGS, svgFilters);
        addToSet(ALLOWED_ATTR, svg2);
        addToSet(ALLOWED_ATTR, xml);
      }
      if (USE_PROFILES.mathMl === true) {
        addToSet(ALLOWED_TAGS, mathMl$1);
        addToSet(ALLOWED_ATTR, mathMl);
        addToSet(ALLOWED_ATTR, xml);
      }
    }
    if (cfg.ADD_TAGS) {
      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {
        ALLOWED_TAGS = clone(ALLOWED_TAGS);
      }
      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);
    }
    if (cfg.ADD_ATTR) {
      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {
        ALLOWED_ATTR = clone(ALLOWED_ATTR);
      }
      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);
    }
    if (cfg.ADD_URI_SAFE_ATTR) {
      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);
    }
    if (cfg.FORBID_CONTENTS) {
      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {
        FORBID_CONTENTS = clone(FORBID_CONTENTS);
      }
      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);
    }
    if (KEEP_CONTENT) {
      ALLOWED_TAGS["#text"] = true;
    }
    if (WHOLE_DOCUMENT) {
      addToSet(ALLOWED_TAGS, ["html", "head", "body"]);
    }
    if (ALLOWED_TAGS.table) {
      addToSet(ALLOWED_TAGS, ["tbody"]);
      delete FORBID_TAGS.tbody;
    }
    if (freeze) {
      freeze(cfg);
    }
    CONFIG = cfg;
  };
  var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ["mi", "mo", "mn", "ms", "mtext"]);
  var HTML_INTEGRATION_POINTS = addToSet({}, ["foreignobject", "desc", "title", "annotation-xml"]);
  var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ["title", "style", "font", "a", "script"]);
  var ALL_SVG_TAGS = addToSet({}, svg$1);
  addToSet(ALL_SVG_TAGS, svgFilters);
  addToSet(ALL_SVG_TAGS, svgDisallowed);
  var ALL_MATHML_TAGS = addToSet({}, mathMl$1);
  addToSet(ALL_MATHML_TAGS, mathMlDisallowed);
  var _checkValidNamespace = function _checkValidNamespace2(element) {
    var parent = getParentNode(element);
    if (!parent || !parent.tagName) {
      parent = {
        namespaceURI: HTML_NAMESPACE,
        tagName: "template"
      };
    }
    var tagName = stringToLowerCase(element.tagName);
    var parentTagName = stringToLowerCase(parent.tagName);
    if (element.namespaceURI === SVG_NAMESPACE) {
      if (parent.namespaceURI === HTML_NAMESPACE) {
        return tagName === "svg";
      }
      if (parent.namespaceURI === MATHML_NAMESPACE) {
        return tagName === "svg" && (parentTagName === "annotation-xml" || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);
      }
      return Boolean(ALL_SVG_TAGS[tagName]);
    }
    if (element.namespaceURI === MATHML_NAMESPACE) {
      if (parent.namespaceURI === HTML_NAMESPACE) {
        return tagName === "math";
      }
      if (parent.namespaceURI === SVG_NAMESPACE) {
        return tagName === "math" && HTML_INTEGRATION_POINTS[parentTagName];
      }
      return Boolean(ALL_MATHML_TAGS[tagName]);
    }
    if (element.namespaceURI === HTML_NAMESPACE) {
      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {
        return false;
      }
      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {
        return false;
      }
      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);
    }
    return false;
  };
  var _forceRemove = function _forceRemove2(node2) {
    arrayPush(DOMPurify.removed, {
      element: node2
    });
    try {
      node2.parentNode.removeChild(node2);
    } catch (_2) {
      try {
        node2.outerHTML = emptyHTML;
      } catch (_3) {
        node2.remove();
      }
    }
  };
  var _removeAttribute = function _removeAttribute2(name2, node2) {
    try {
      arrayPush(DOMPurify.removed, {
        attribute: node2.getAttributeNode(name2),
        from: node2
      });
    } catch (_2) {
      arrayPush(DOMPurify.removed, {
        attribute: null,
        from: node2
      });
    }
    node2.removeAttribute(name2);
    if (name2 === "is" && !ALLOWED_ATTR[name2]) {
      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {
        try {
          _forceRemove(node2);
        } catch (_2) {
        }
      } else {
        try {
          node2.setAttribute(name2, "");
        } catch (_2) {
        }
      }
    }
  };
  var _initDocument = function _initDocument2(dirty) {
    var doc;
    var leadingWhitespace;
    if (FORCE_BODY) {
      dirty = "<remove></remove>" + dirty;
    } else {
      var matches = stringMatch(dirty, /^[\r\n\t ]+/);
      leadingWhitespace = matches && matches[0];
    }
    if (PARSER_MEDIA_TYPE === "application/xhtml+xml") {
      dirty = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + dirty + "</body></html>";
    }
    var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;
    if (NAMESPACE === HTML_NAMESPACE) {
      try {
        doc = new DOMParser2().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);
      } catch (_2) {
      }
    }
    if (!doc || !doc.documentElement) {
      doc = implementation.createDocument(NAMESPACE, "template", null);
      try {
        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? "" : dirtyPayload;
      } catch (_2) {
      }
    }
    var body = doc.body || doc.documentElement;
    if (dirty && leadingWhitespace) {
      body.insertBefore(document2.createTextNode(leadingWhitespace), body.childNodes[0] || null);
    }
    if (NAMESPACE === HTML_NAMESPACE) {
      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? "html" : "body")[0];
    }
    return WHOLE_DOCUMENT ? doc.documentElement : body;
  };
  var _createIterator = function _createIterator2(root7) {
    return createNodeIterator.call(
      root7.ownerDocument || root7,
      root7,
      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT,
      null,
      false
    );
  };
  var _isClobbered = function _isClobbered2(elm) {
    return elm instanceof HTMLFormElement && (typeof elm.nodeName !== "string" || typeof elm.textContent !== "string" || typeof elm.removeChild !== "function" || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== "function" || typeof elm.setAttribute !== "function" || typeof elm.namespaceURI !== "string" || typeof elm.insertBefore !== "function");
  };
  var _isNode = function _isNode2(object2) {
    return _typeof(Node4) === "object" ? object2 instanceof Node4 : object2 && _typeof(object2) === "object" && typeof object2.nodeType === "number" && typeof object2.nodeName === "string";
  };
  var _executeHook = function _executeHook2(entryPoint, currentNode, data) {
    if (!hooks[entryPoint]) {
      return;
    }
    arrayForEach(hooks[entryPoint], function(hook) {
      hook.call(DOMPurify, currentNode, data, CONFIG);
    });
  };
  var _sanitizeElements = function _sanitizeElements2(currentNode) {
    var content;
    _executeHook("beforeSanitizeElements", currentNode, null);
    if (_isClobbered(currentNode)) {
      _forceRemove(currentNode);
      return true;
    }
    if (regExpTest(/[\u0080-\uFFFF]/, currentNode.nodeName)) {
      _forceRemove(currentNode);
      return true;
    }
    var tagName = transformCaseFunc(currentNode.nodeName);
    _executeHook("uponSanitizeElement", currentNode, {
      tagName,
      allowedTags: ALLOWED_TAGS
    });
    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\w]/g, currentNode.innerHTML) && regExpTest(/<[/\w]/g, currentNode.textContent)) {
      _forceRemove(currentNode);
      return true;
    }
    if (tagName === "select" && regExpTest(/<template/i, currentNode.innerHTML)) {
      _forceRemove(currentNode);
      return true;
    }
    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {
      if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {
        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))
          return false;
        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))
          return false;
      }
      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {
        var parentNode = getParentNode(currentNode) || currentNode.parentNode;
        var childNodes = getChildNodes(currentNode) || currentNode.childNodes;
        if (childNodes && parentNode) {
          var childCount = childNodes.length;
          for (var i = childCount - 1; i >= 0; --i) {
            parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));
          }
        }
      }
      _forceRemove(currentNode);
      return true;
    }
    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {
      _forceRemove(currentNode);
      return true;
    }
    if ((tagName === "noscript" || tagName === "noembed") && regExpTest(/<\/no(script|embed)/i, currentNode.innerHTML)) {
      _forceRemove(currentNode);
      return true;
    }
    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {
      content = currentNode.textContent;
      content = stringReplace(content, MUSTACHE_EXPR$1, " ");
      content = stringReplace(content, ERB_EXPR$1, " ");
      if (currentNode.textContent !== content) {
        arrayPush(DOMPurify.removed, {
          element: currentNode.cloneNode()
        });
        currentNode.textContent = content;
      }
    }
    _executeHook("afterSanitizeElements", currentNode, null);
    return false;
  };
  var _isValidAttribute = function _isValidAttribute2(lcTag, lcName, value) {
    if (SANITIZE_DOM && (lcName === "id" || lcName === "name") && (value in document2 || value in formElement)) {
      return false;
    }
    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName))
      ;
    else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName))
      ;
    else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {
      if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === "is" && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)))
        ;
      else {
        return false;
      }
    } else if (URI_SAFE_ATTRIBUTES[lcName])
      ;
    else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, "")))
      ;
    else if ((lcName === "src" || lcName === "xlink:href" || lcName === "href") && lcTag !== "script" && stringIndexOf(value, "data:") === 0 && DATA_URI_TAGS[lcTag])
      ;
    else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, "")))
      ;
    else if (!value)
      ;
    else {
      return false;
    }
    return true;
  };
  var _basicCustomElementTest = function _basicCustomElementTest2(tagName) {
    return tagName.indexOf("-") > 0;
  };
  var _sanitizeAttributes = function _sanitizeAttributes2(currentNode) {
    var attr;
    var value;
    var lcName;
    var l;
    _executeHook("beforeSanitizeAttributes", currentNode, null);
    var attributes = currentNode.attributes;
    if (!attributes) {
      return;
    }
    var hookEvent = {
      attrName: "",
      attrValue: "",
      keepAttr: true,
      allowedAttributes: ALLOWED_ATTR
    };
    l = attributes.length;
    while (l--) {
      attr = attributes[l];
      var _attr = attr, name2 = _attr.name, namespaceURI = _attr.namespaceURI;
      value = name2 === "value" ? attr.value : stringTrim(attr.value);
      lcName = transformCaseFunc(name2);
      hookEvent.attrName = lcName;
      hookEvent.attrValue = value;
      hookEvent.keepAttr = true;
      hookEvent.forceKeepAttr = void 0;
      _executeHook("uponSanitizeAttribute", currentNode, hookEvent);
      value = hookEvent.attrValue;
      if (hookEvent.forceKeepAttr) {
        continue;
      }
      _removeAttribute(name2, currentNode);
      if (!hookEvent.keepAttr) {
        continue;
      }
      if (regExpTest(/\/>/i, value)) {
        _removeAttribute(name2, currentNode);
        continue;
      }
      if (SAFE_FOR_TEMPLATES) {
        value = stringReplace(value, MUSTACHE_EXPR$1, " ");
        value = stringReplace(value, ERB_EXPR$1, " ");
      }
      var lcTag = transformCaseFunc(currentNode.nodeName);
      if (!_isValidAttribute(lcTag, lcName, value)) {
        continue;
      }
      if (SANITIZE_NAMED_PROPS && (lcName === "id" || lcName === "name")) {
        _removeAttribute(name2, currentNode);
        value = SANITIZE_NAMED_PROPS_PREFIX + value;
      }
      if (trustedTypesPolicy && _typeof(trustedTypes) === "object" && typeof trustedTypes.getAttributeType === "function") {
        if (namespaceURI)
          ;
        else {
          switch (trustedTypes.getAttributeType(lcTag, lcName)) {
            case "TrustedHTML":
              value = trustedTypesPolicy.createHTML(value);
              break;
            case "TrustedScriptURL":
              value = trustedTypesPolicy.createScriptURL(value);
              break;
          }
        }
      }
      try {
        if (namespaceURI) {
          currentNode.setAttributeNS(namespaceURI, name2, value);
        } else {
          currentNode.setAttribute(name2, value);
        }
        arrayPop(DOMPurify.removed);
      } catch (_2) {
      }
    }
    _executeHook("afterSanitizeAttributes", currentNode, null);
  };
  var _sanitizeShadowDOM = function _sanitizeShadowDOM2(fragment) {
    var shadowNode;
    var shadowIterator = _createIterator(fragment);
    _executeHook("beforeSanitizeShadowDOM", fragment, null);
    while (shadowNode = shadowIterator.nextNode()) {
      _executeHook("uponSanitizeShadowNode", shadowNode, null);
      if (_sanitizeElements(shadowNode)) {
        continue;
      }
      if (shadowNode.content instanceof DocumentFragment) {
        _sanitizeShadowDOM2(shadowNode.content);
      }
      _sanitizeAttributes(shadowNode);
    }
    _executeHook("afterSanitizeShadowDOM", fragment, null);
  };
  DOMPurify.sanitize = function(dirty) {
    var cfg = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    var body;
    var importedNode;
    var currentNode;
    var oldNode;
    var returnNode;
    IS_EMPTY_INPUT = !dirty;
    if (IS_EMPTY_INPUT) {
      dirty = "<!-->";
    }
    if (typeof dirty !== "string" && !_isNode(dirty)) {
      if (typeof dirty.toString !== "function") {
        throw typeErrorCreate("toString is not a function");
      } else {
        dirty = dirty.toString();
        if (typeof dirty !== "string") {
          throw typeErrorCreate("dirty is not a string, aborting");
        }
      }
    }
    if (!DOMPurify.isSupported) {
      if (_typeof(window2.toStaticHTML) === "object" || typeof window2.toStaticHTML === "function") {
        if (typeof dirty === "string") {
          return window2.toStaticHTML(dirty);
        }
        if (_isNode(dirty)) {
          return window2.toStaticHTML(dirty.outerHTML);
        }
      }
      return dirty;
    }
    if (!SET_CONFIG) {
      _parseConfig(cfg);
    }
    DOMPurify.removed = [];
    if (typeof dirty === "string") {
      IN_PLACE = false;
    }
    if (IN_PLACE) {
      if (dirty.nodeName) {
        var tagName = transformCaseFunc(dirty.nodeName);
        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {
          throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place");
        }
      }
    } else if (dirty instanceof Node4) {
      body = _initDocument("<!---->");
      importedNode = body.ownerDocument.importNode(dirty, true);
      if (importedNode.nodeType === 1 && importedNode.nodeName === "BODY") {
        body = importedNode;
      } else if (importedNode.nodeName === "HTML") {
        body = importedNode;
      } else {
        body.appendChild(importedNode);
      }
    } else {
      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf("<") === -1) {
        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;
      }
      body = _initDocument(dirty);
      if (!body) {
        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : "";
      }
    }
    if (body && FORCE_BODY) {
      _forceRemove(body.firstChild);
    }
    var nodeIterator = _createIterator(IN_PLACE ? dirty : body);
    while (currentNode = nodeIterator.nextNode()) {
      if (currentNode.nodeType === 3 && currentNode === oldNode) {
        continue;
      }
      if (_sanitizeElements(currentNode)) {
        continue;
      }
      if (currentNode.content instanceof DocumentFragment) {
        _sanitizeShadowDOM(currentNode.content);
      }
      _sanitizeAttributes(currentNode);
      oldNode = currentNode;
    }
    oldNode = null;
    if (IN_PLACE) {
      return dirty;
    }
    if (RETURN_DOM) {
      if (RETURN_DOM_FRAGMENT) {
        returnNode = createDocumentFragment.call(body.ownerDocument);
        while (body.firstChild) {
          returnNode.appendChild(body.firstChild);
        }
      } else {
        returnNode = body;
      }
      if (ALLOWED_ATTR.shadowroot) {
        returnNode = importNode.call(originalDocument, returnNode, true);
      }
      return returnNode;
    }
    var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;
    if (WHOLE_DOCUMENT && ALLOWED_TAGS["!doctype"] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {
      serializedHTML = "<!DOCTYPE " + body.ownerDocument.doctype.name + ">\n" + serializedHTML;
    }
    if (SAFE_FOR_TEMPLATES) {
      serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, " ");
      serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, " ");
    }
    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;
  };
  DOMPurify.setConfig = function(cfg) {
    _parseConfig(cfg);
    SET_CONFIG = true;
  };
  DOMPurify.clearConfig = function() {
    CONFIG = null;
    SET_CONFIG = false;
  };
  DOMPurify.isValidAttribute = function(tag, attr, value) {
    if (!CONFIG) {
      _parseConfig({});
    }
    var lcTag = transformCaseFunc(tag);
    var lcName = transformCaseFunc(attr);
    return _isValidAttribute(lcTag, lcName, value);
  };
  DOMPurify.addHook = function(entryPoint, hookFunction) {
    if (typeof hookFunction !== "function") {
      return;
    }
    hooks[entryPoint] = hooks[entryPoint] || [];
    arrayPush(hooks[entryPoint], hookFunction);
  };
  DOMPurify.removeHook = function(entryPoint) {
    if (hooks[entryPoint]) {
      return arrayPop(hooks[entryPoint]);
    }
  };
  DOMPurify.removeHooks = function(entryPoint) {
    if (hooks[entryPoint]) {
      hooks[entryPoint] = [];
    }
  };
  DOMPurify.removeAllHooks = function() {
    hooks = {};
  };
  return DOMPurify;
}
var purify = createDOMPurify();

// node_modules/khroma/dist/utils/channel.js
var Channel = {
  min: {
    r: 0,
    g: 0,
    b: 0,
    s: 0,
    l: 0,
    a: 0
  },
  max: {
    r: 255,
    g: 255,
    b: 255,
    h: 360,
    s: 100,
    l: 100,
    a: 1
  },
  clamp: {
    r: (r) => r >= 255 ? 255 : r < 0 ? 0 : r,
    g: (g) => g >= 255 ? 255 : g < 0 ? 0 : g,
    b: (b) => b >= 255 ? 255 : b < 0 ? 0 : b,
    h: (h) => h % 360,
    s: (s3) => s3 >= 100 ? 100 : s3 < 0 ? 0 : s3,
    l: (l) => l >= 100 ? 100 : l < 0 ? 0 : l,
    a: (a3) => a3 >= 1 ? 1 : a3 < 0 ? 0 : a3
  },
  toLinear: (c7) => {
    const n = c7 / 255;
    return c7 > 0.03928 ? Math.pow((n + 0.055) / 1.055, 2.4) : n / 12.92;
  },
  hue2rgb: (p, q, t) => {
    if (t < 0)
      t += 1;
    if (t > 1)
      t -= 1;
    if (t < 1 / 6)
      return p + (q - p) * 6 * t;
    if (t < 1 / 2)
      return q;
    if (t < 2 / 3)
      return p + (q - p) * (2 / 3 - t) * 6;
    return p;
  },
  hsl2rgb: ({ h, s: s3, l }, channel) => {
    if (!s3)
      return l * 2.55;
    h /= 360;
    s3 /= 100;
    l /= 100;
    const q = l < 0.5 ? l * (1 + s3) : l + s3 - l * s3;
    const p = 2 * l - q;
    switch (channel) {
      case "r":
        return Channel.hue2rgb(p, q, h + 1 / 3) * 255;
      case "g":
        return Channel.hue2rgb(p, q, h) * 255;
      case "b":
        return Channel.hue2rgb(p, q, h - 1 / 3) * 255;
    }
  },
  rgb2hsl: ({ r, g, b }, channel) => {
    r /= 255;
    g /= 255;
    b /= 255;
    const max10 = Math.max(r, g, b);
    const min8 = Math.min(r, g, b);
    const l = (max10 + min8) / 2;
    if (channel === "l")
      return l * 100;
    if (max10 === min8)
      return 0;
    const d = max10 - min8;
    const s3 = l > 0.5 ? d / (2 - max10 - min8) : d / (max10 + min8);
    if (channel === "s")
      return s3 * 100;
    switch (max10) {
      case r:
        return ((g - b) / d + (g < b ? 6 : 0)) * 60;
      case g:
        return ((b - r) / d + 2) * 60;
      case b:
        return ((r - g) / d + 4) * 60;
      default:
        return -1;
    }
  }
};
var channel_default = Channel;

// node_modules/khroma/dist/utils/lang.js
var Lang = {
  clamp: (number10, lower5, upper) => {
    if (lower5 > upper)
      return Math.min(lower5, Math.max(upper, number10));
    return Math.min(upper, Math.max(lower5, number10));
  },
  round: (number10) => {
    return Math.round(number10 * 1e10) / 1e10;
  }
};
var lang_default = Lang;

// node_modules/khroma/dist/utils/unit.js
var Unit = {
  dec2hex: (dec) => {
    const hex7 = Math.round(dec).toString(16);
    return hex7.length > 1 ? hex7 : `0${hex7}`;
  }
};
var unit_default = Unit;

// node_modules/khroma/dist/utils/index.js
var Utils = {
  channel: channel_default,
  lang: lang_default,
  unit: unit_default
};
var utils_default = Utils;

// node_modules/khroma/dist/constants.js
var DEC2HEX = {};
for (let i = 0; i <= 255; i++)
  DEC2HEX[i] = utils_default.unit.dec2hex(i);
var TYPE = {
  ALL: 0,
  RGB: 1,
  HSL: 2
};

// node_modules/khroma/dist/channels/type.js
var Type = class {
  constructor() {
    this.type = TYPE.ALL;
  }
  get() {
    return this.type;
  }
  set(type4) {
    if (this.type && this.type !== type4)
      throw new Error("Cannot change both RGB and HSL channels at the same time");
    this.type = type4;
  }
  reset() {
    this.type = TYPE.ALL;
  }
  is(type4) {
    return this.type === type4;
  }
};
var type_default = Type;

// node_modules/khroma/dist/channels/index.js
var Channels = class {
  constructor(data, color7) {
    this.color = color7;
    this.changed = false;
    this.data = data;
    this.type = new type_default();
  }
  set(data, color7) {
    this.color = color7;
    this.changed = false;
    this.data = data;
    this.type.type = TYPE.ALL;
    return this;
  }
  _ensureHSL() {
    const data = this.data;
    const { h, s: s3, l } = data;
    if (h === void 0)
      data.h = utils_default.channel.rgb2hsl(data, "h");
    if (s3 === void 0)
      data.s = utils_default.channel.rgb2hsl(data, "s");
    if (l === void 0)
      data.l = utils_default.channel.rgb2hsl(data, "l");
  }
  _ensureRGB() {
    const data = this.data;
    const { r, g, b } = data;
    if (r === void 0)
      data.r = utils_default.channel.hsl2rgb(data, "r");
    if (g === void 0)
      data.g = utils_default.channel.hsl2rgb(data, "g");
    if (b === void 0)
      data.b = utils_default.channel.hsl2rgb(data, "b");
  }
  get r() {
    const data = this.data;
    const r = data.r;
    if (!this.type.is(TYPE.HSL) && r !== void 0)
      return r;
    this._ensureHSL();
    return utils_default.channel.hsl2rgb(data, "r");
  }
  get g() {
    const data = this.data;
    const g = data.g;
    if (!this.type.is(TYPE.HSL) && g !== void 0)
      return g;
    this._ensureHSL();
    return utils_default.channel.hsl2rgb(data, "g");
  }
  get b() {
    const data = this.data;
    const b = data.b;
    if (!this.type.is(TYPE.HSL) && b !== void 0)
      return b;
    this._ensureHSL();
    return utils_default.channel.hsl2rgb(data, "b");
  }
  get h() {
    const data = this.data;
    const h = data.h;
    if (!this.type.is(TYPE.RGB) && h !== void 0)
      return h;
    this._ensureRGB();
    return utils_default.channel.rgb2hsl(data, "h");
  }
  get s() {
    const data = this.data;
    const s3 = data.s;
    if (!this.type.is(TYPE.RGB) && s3 !== void 0)
      return s3;
    this._ensureRGB();
    return utils_default.channel.rgb2hsl(data, "s");
  }
  get l() {
    const data = this.data;
    const l = data.l;
    if (!this.type.is(TYPE.RGB) && l !== void 0)
      return l;
    this._ensureRGB();
    return utils_default.channel.rgb2hsl(data, "l");
  }
  get a() {
    return this.data.a;
  }
  set r(r) {
    this.type.set(TYPE.RGB);
    this.changed = true;
    this.data.r = r;
  }
  set g(g) {
    this.type.set(TYPE.RGB);
    this.changed = true;
    this.data.g = g;
  }
  set b(b) {
    this.type.set(TYPE.RGB);
    this.changed = true;
    this.data.b = b;
  }
  set h(h) {
    this.type.set(TYPE.HSL);
    this.changed = true;
    this.data.h = h;
  }
  set s(s3) {
    this.type.set(TYPE.HSL);
    this.changed = true;
    this.data.s = s3;
  }
  set l(l) {
    this.type.set(TYPE.HSL);
    this.changed = true;
    this.data.l = l;
  }
  set a(a3) {
    this.changed = true;
    this.data.a = a3;
  }
};
var channels_default = Channels;

// node_modules/khroma/dist/channels/reusable.js
var channels = new channels_default({ r: 0, g: 0, b: 0, a: 0 }, "transparent");
var reusable_default = channels;

// node_modules/khroma/dist/color/hex.js
var Hex = {
  re: /^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,
  parse: (color7) => {
    if (color7.charCodeAt(0) !== 35)
      return;
    const match2 = color7.match(Hex.re);
    if (!match2)
      return;
    const hex7 = match2[1];
    const dec = parseInt(hex7, 16);
    const length3 = hex7.length;
    const hasAlpha = length3 % 4 === 0;
    const isFullLength = length3 > 4;
    const multiplier = isFullLength ? 1 : 17;
    const bits = isFullLength ? 8 : 4;
    const bitsOffset = hasAlpha ? 0 : -1;
    const mask = isFullLength ? 255 : 15;
    return reusable_default.set({
      r: (dec >> bits * (bitsOffset + 3) & mask) * multiplier,
      g: (dec >> bits * (bitsOffset + 2) & mask) * multiplier,
      b: (dec >> bits * (bitsOffset + 1) & mask) * multiplier,
      a: hasAlpha ? (dec & mask) * multiplier / 255 : 1
    }, color7);
  },
  stringify: (channels2) => {
    const { r, g, b, a: a3 } = channels2;
    if (a3 < 1) {
      return `#${DEC2HEX[Math.round(r)]}${DEC2HEX[Math.round(g)]}${DEC2HEX[Math.round(b)]}${DEC2HEX[Math.round(a3 * 255)]}`;
    } else {
      return `#${DEC2HEX[Math.round(r)]}${DEC2HEX[Math.round(g)]}${DEC2HEX[Math.round(b)]}`;
    }
  }
};
var hex_default = Hex;

// node_modules/khroma/dist/color/hsl.js
var HSL = {
  re: /^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,
  hueRe: /^(.+?)(deg|grad|rad|turn)$/i,
  _hue2deg: (hue7) => {
    const match2 = hue7.match(HSL.hueRe);
    if (match2) {
      const [, number10, unit3] = match2;
      switch (unit3) {
        case "grad":
          return utils_default.channel.clamp.h(parseFloat(number10) * 0.9);
        case "rad":
          return utils_default.channel.clamp.h(parseFloat(number10) * 180 / Math.PI);
        case "turn":
          return utils_default.channel.clamp.h(parseFloat(number10) * 360);
      }
    }
    return utils_default.channel.clamp.h(parseFloat(hue7));
  },
  parse: (color7) => {
    const charCode = color7.charCodeAt(0);
    if (charCode !== 104 && charCode !== 72)
      return;
    const match2 = color7.match(HSL.re);
    if (!match2)
      return;
    const [, h, s3, l, a3, isAlphaPercentage] = match2;
    return reusable_default.set({
      h: HSL._hue2deg(h),
      s: utils_default.channel.clamp.s(parseFloat(s3)),
      l: utils_default.channel.clamp.l(parseFloat(l)),
      a: a3 ? utils_default.channel.clamp.a(isAlphaPercentage ? parseFloat(a3) / 100 : parseFloat(a3)) : 1
    }, color7);
  },
  stringify: (channels2) => {
    const { h, s: s3, l, a: a3 } = channels2;
    if (a3 < 1) {
      return `hsla(${utils_default.lang.round(h)}, ${utils_default.lang.round(s3)}%, ${utils_default.lang.round(l)}%, ${a3})`;
    } else {
      return `hsl(${utils_default.lang.round(h)}, ${utils_default.lang.round(s3)}%, ${utils_default.lang.round(l)}%)`;
    }
  }
};
var hsl_default6 = HSL;

// node_modules/khroma/dist/color/keyword.js
var Keyword = {
  colors: {
    aliceblue: "#f0f8ff",
    antiquewhite: "#faebd7",
    aqua: "#00ffff",
    aquamarine: "#7fffd4",
    azure: "#f0ffff",
    beige: "#f5f5dc",
    bisque: "#ffe4c4",
    black: "#000000",
    blanchedalmond: "#ffebcd",
    blue: "#0000ff",
    blueviolet: "#8a2be2",
    brown: "#a52a2a",
    burlywood: "#deb887",
    cadetblue: "#5f9ea0",
    chartreuse: "#7fff00",
    chocolate: "#d2691e",
    coral: "#ff7f50",
    cornflowerblue: "#6495ed",
    cornsilk: "#fff8dc",
    crimson: "#dc143c",
    cyanaqua: "#00ffff",
    darkblue: "#00008b",
    darkcyan: "#008b8b",
    darkgoldenrod: "#b8860b",
    darkgray: "#a9a9a9",
    darkgreen: "#006400",
    darkgrey: "#a9a9a9",
    darkkhaki: "#bdb76b",
    darkmagenta: "#8b008b",
    darkolivegreen: "#556b2f",
    darkorange: "#ff8c00",
    darkorchid: "#9932cc",
    darkred: "#8b0000",
    darksalmon: "#e9967a",
    darkseagreen: "#8fbc8f",
    darkslateblue: "#483d8b",
    darkslategray: "#2f4f4f",
    darkslategrey: "#2f4f4f",
    darkturquoise: "#00ced1",
    darkviolet: "#9400d3",
    deeppink: "#ff1493",
    deepskyblue: "#00bfff",
    dimgray: "#696969",
    dimgrey: "#696969",
    dodgerblue: "#1e90ff",
    firebrick: "#b22222",
    floralwhite: "#fffaf0",
    forestgreen: "#228b22",
    fuchsia: "#ff00ff",
    gainsboro: "#dcdcdc",
    ghostwhite: "#f8f8ff",
    gold: "#ffd700",
    goldenrod: "#daa520",
    gray: "#808080",
    green: "#008000",
    greenyellow: "#adff2f",
    grey: "#808080",
    honeydew: "#f0fff0",
    hotpink: "#ff69b4",
    indianred: "#cd5c5c",
    indigo: "#4b0082",
    ivory: "#fffff0",
    khaki: "#f0e68c",
    lavender: "#e6e6fa",
    lavenderblush: "#fff0f5",
    lawngreen: "#7cfc00",
    lemonchiffon: "#fffacd",
    lightblue: "#add8e6",
    lightcoral: "#f08080",
    lightcyan: "#e0ffff",
    lightgoldenrodyellow: "#fafad2",
    lightgray: "#d3d3d3",
    lightgreen: "#90ee90",
    lightgrey: "#d3d3d3",
    lightpink: "#ffb6c1",
    lightsalmon: "#ffa07a",
    lightseagreen: "#20b2aa",
    lightskyblue: "#87cefa",
    lightslategray: "#778899",
    lightslategrey: "#778899",
    lightsteelblue: "#b0c4de",
    lightyellow: "#ffffe0",
    lime: "#00ff00",
    limegreen: "#32cd32",
    linen: "#faf0e6",
    magenta: "#ff00ff",
    maroon: "#800000",
    mediumaquamarine: "#66cdaa",
    mediumblue: "#0000cd",
    mediumorchid: "#ba55d3",
    mediumpurple: "#9370db",
    mediumseagreen: "#3cb371",
    mediumslateblue: "#7b68ee",
    mediumspringgreen: "#00fa9a",
    mediumturquoise: "#48d1cc",
    mediumvioletred: "#c71585",
    midnightblue: "#191970",
    mintcream: "#f5fffa",
    mistyrose: "#ffe4e1",
    moccasin: "#ffe4b5",
    navajowhite: "#ffdead",
    navy: "#000080",
    oldlace: "#fdf5e6",
    olive: "#808000",
    olivedrab: "#6b8e23",
    orange: "#ffa500",
    orangered: "#ff4500",
    orchid: "#da70d6",
    palegoldenrod: "#eee8aa",
    palegreen: "#98fb98",
    paleturquoise: "#afeeee",
    palevioletred: "#db7093",
    papayawhip: "#ffefd5",
    peachpuff: "#ffdab9",
    peru: "#cd853f",
    pink: "#ffc0cb",
    plum: "#dda0dd",
    powderblue: "#b0e0e6",
    purple: "#800080",
    rebeccapurple: "#663399",
    red: "#ff0000",
    rosybrown: "#bc8f8f",
    royalblue: "#4169e1",
    saddlebrown: "#8b4513",
    salmon: "#fa8072",
    sandybrown: "#f4a460",
    seagreen: "#2e8b57",
    seashell: "#fff5ee",
    sienna: "#a0522d",
    silver: "#c0c0c0",
    skyblue: "#87ceeb",
    slateblue: "#6a5acd",
    slategray: "#708090",
    slategrey: "#708090",
    snow: "#fffafa",
    springgreen: "#00ff7f",
    tan: "#d2b48c",
    teal: "#008080",
    thistle: "#d8bfd8",
    transparent: "#00000000",
    turquoise: "#40e0d0",
    violet: "#ee82ee",
    wheat: "#f5deb3",
    white: "#ffffff",
    whitesmoke: "#f5f5f5",
    yellow: "#ffff00",
    yellowgreen: "#9acd32"
  },
  parse: (color7) => {
    color7 = color7.toLowerCase();
    const hex7 = Keyword.colors[color7];
    if (!hex7)
      return;
    return hex_default.parse(hex7);
  },
  stringify: (channels2) => {
    const hex7 = hex_default.stringify(channels2);
    for (const name2 in Keyword.colors) {
      if (Keyword.colors[name2] === hex7)
        return name2;
    }
    return;
  }
};
var keyword_default = Keyword;

// node_modules/khroma/dist/color/rgb.js
var RGB = {
  re: /^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,
  parse: (color7) => {
    const charCode = color7.charCodeAt(0);
    if (charCode !== 114 && charCode !== 82)
      return;
    const match2 = color7.match(RGB.re);
    if (!match2)
      return;
    const [, r, isRedPercentage, g, isGreenPercentage, b, isBluePercentage, a3, isAlphaPercentage] = match2;
    return reusable_default.set({
      r: utils_default.channel.clamp.r(isRedPercentage ? parseFloat(r) * 2.55 : parseFloat(r)),
      g: utils_default.channel.clamp.g(isGreenPercentage ? parseFloat(g) * 2.55 : parseFloat(g)),
      b: utils_default.channel.clamp.b(isBluePercentage ? parseFloat(b) * 2.55 : parseFloat(b)),
      a: a3 ? utils_default.channel.clamp.a(isAlphaPercentage ? parseFloat(a3) / 100 : parseFloat(a3)) : 1
    }, color7);
  },
  stringify: (channels2) => {
    const { r, g, b, a: a3 } = channels2;
    if (a3 < 1) {
      return `rgba(${utils_default.lang.round(r)}, ${utils_default.lang.round(g)}, ${utils_default.lang.round(b)}, ${utils_default.lang.round(a3)})`;
    } else {
      return `rgb(${utils_default.lang.round(r)}, ${utils_default.lang.round(g)}, ${utils_default.lang.round(b)})`;
    }
  }
};
var rgb_default6 = RGB;

// node_modules/khroma/dist/color/index.js
var Color6 = {
  format: {
    keyword: keyword_default,
    hex: hex_default,
    rgb: rgb_default6,
    rgba: rgb_default6,
    hsl: hsl_default6,
    hsla: hsl_default6
  },
  parse: (color7) => {
    if (typeof color7 !== "string")
      return color7;
    const channels2 = hex_default.parse(color7) || rgb_default6.parse(color7) || hsl_default6.parse(color7) || keyword_default.parse(color7);
    if (channels2)
      return channels2;
    throw new Error(`Unsupported color format: "${color7}"`);
  },
  stringify: (channels2) => {
    if (!channels2.changed && channels2.color)
      return channels2.color;
    if (channels2.type.is(TYPE.HSL) || channels2.data.r === void 0) {
      return hsl_default6.stringify(channels2);
    } else if (channels2.a < 1 || !Number.isInteger(channels2.r) || !Number.isInteger(channels2.g) || !Number.isInteger(channels2.b)) {
      return rgb_default6.stringify(channels2);
    } else {
      return hex_default.stringify(channels2);
    }
  }
};
var color_default = Color6;

// node_modules/khroma/dist/methods/change.js
var change = (color7, channels2) => {
  const ch = color_default.parse(color7);
  for (const c7 in channels2) {
    ch[c7] = utils_default.channel.clamp[c7](channels2[c7]);
  }
  return color_default.stringify(ch);
};
var change_default = change;

// node_modules/khroma/dist/methods/rgba.js
var rgba6 = (r, g, b = 0, a3 = 1) => {
  if (typeof r !== "number")
    return change_default(r, { a: g });
  const channels2 = reusable_default.set({
    r: utils_default.channel.clamp.r(r),
    g: utils_default.channel.clamp.g(g),
    b: utils_default.channel.clamp.b(b),
    a: utils_default.channel.clamp.a(a3)
  });
  return color_default.stringify(channels2);
};
var rgba_default = rgba6;

// node_modules/khroma/dist/methods/adjust_channel.js
var adjustChannel = (color7, channel, amount) => {
  const channels2 = color_default.parse(color7);
  const amountCurrent = channels2[channel];
  const amountNext = utils_default.channel.clamp[channel](amountCurrent + amount);
  if (amountCurrent !== amountNext)
    channels2[channel] = amountNext;
  return color_default.stringify(channels2);
};
var adjust_channel_default = adjustChannel;

// node_modules/khroma/dist/methods/lighten.js
var lighten = (color7, amount) => {
  return adjust_channel_default(color7, "l", amount);
};
var lighten_default = lighten;

// node_modules/khroma/dist/methods/darken.js
var darken = (color7, amount) => {
  return adjust_channel_default(color7, "l", -amount);
};
var darken_default = darken;

// node_modules/khroma/dist/methods/adjust.js
var adjust = (color7, channels2) => {
  const ch = color_default.parse(color7);
  const changes = {};
  for (const c7 in channels2) {
    if (!channels2[c7])
      continue;
    changes[c7] = ch[c7] + channels2[c7];
  }
  return change_default(color7, changes);
};
var adjust_default = adjust;

// node_modules/khroma/dist/methods/mix.js
var mix = (color1, color22, weight = 50) => {
  const { r: r1, g: g1, b: b15, a: a1 } = color_default.parse(color1);
  const { r: r2, g: g2, b: b25, a: a22 } = color_default.parse(color22);
  const weightScale = weight / 100;
  const weightNormalized = weightScale * 2 - 1;
  const alphaDelta = a1 - a22;
  const weight1combined = weightNormalized * alphaDelta === -1 ? weightNormalized : (weightNormalized + alphaDelta) / (1 + weightNormalized * alphaDelta);
  const weight1 = (weight1combined + 1) / 2;
  const weight2 = 1 - weight1;
  const r = r1 * weight1 + r2 * weight2;
  const g = g1 * weight1 + g2 * weight2;
  const b = b15 * weight1 + b25 * weight2;
  const a3 = a1 * weightScale + a22 * (1 - weightScale);
  return rgba_default(r, g, b, a3);
};
var mix_default = mix;

// node_modules/khroma/dist/methods/invert.js
var invert = (color7, weight = 100) => {
  const inverse = color_default.parse(color7);
  inverse.r = 255 - inverse.r;
  inverse.g = 255 - inverse.g;
  inverse.b = 255 - inverse.b;
  return mix_default(inverse, color7, weight);
};
var invert_default = invert;

// node_modules/stylis/src/Enum.js
var COMMENT = "comm";
var RULESET = "rule";
var DECLARATION = "decl";
var IMPORT = "@import";
var KEYFRAMES = "@keyframes";

// node_modules/stylis/src/Utility.js
var abs5 = Math.abs;
var from = String.fromCharCode;
function trim(value) {
  return value.trim();
}
function replace(value, pattern, replacement) {
  return value.replace(pattern, replacement);
}
function indexof(value, search) {
  return value.indexOf(search);
}
function charat(value, index6) {
  return value.charCodeAt(index6) | 0;
}
function substr(value, begin, end2) {
  return value.slice(begin, end2);
}
function strlen(value) {
  return value.length;
}
function sizeof(value) {
  return value.length;
}
function append(value, array12) {
  return array12.push(value), value;
}

// node_modules/stylis/src/Tokenizer.js
var line = 1;
var column = 1;
var length = 0;
var position = 0;
var character = 0;
var characters = "";
function node(value, root7, parent, type4, props, children4, length3) {
  return { value, root: root7, parent, type: type4, props, children: children4, line, column, length: length3, return: "" };
}
function char() {
  return character;
}
function prev() {
  character = position > 0 ? charat(characters, --position) : 0;
  if (column--, character === 10)
    column = 1, line--;
  return character;
}
function next() {
  character = position < length ? charat(characters, position++) : 0;
  if (column++, character === 10)
    column = 1, line++;
  return character;
}
function peek() {
  return charat(characters, position);
}
function caret() {
  return position;
}
function slice8(begin, end2) {
  return substr(characters, begin, end2);
}
function token(type4) {
  switch (type4) {
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    case 59:
    case 123:
    case 125:
      return 4;
    case 58:
      return 3;
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function alloc(value) {
  return line = column = 1, length = strlen(characters = value), position = 0, [];
}
function dealloc(value) {
  return characters = "", value;
}
function delimit(type4) {
  return trim(slice8(position - 1, delimiter(type4 === 91 ? type4 + 2 : type4 === 40 ? type4 + 1 : type4)));
}
function whitespace(type4) {
  while (character = peek())
    if (character < 33)
      next();
    else
      break;
  return token(type4) > 2 || token(character) > 3 ? "" : " ";
}
function escaping(index6, count7) {
  while (--count7 && next())
    if (character < 48 || character > 102 || character > 57 && character < 65 || character > 70 && character < 97)
      break;
  return slice8(index6, caret() + (count7 < 6 && peek() == 32 && next() == 32));
}
function delimiter(type4) {
  while (next())
    switch (character) {
      case type4:
        return position;
      case 34:
      case 39:
        if (type4 !== 34 && type4 !== 39)
          delimiter(character);
        break;
      case 40:
        if (type4 === 41)
          delimiter(type4);
        break;
      case 92:
        next();
        break;
    }
  return position;
}
function commenter(type4, index6) {
  while (next())
    if (type4 + character === 47 + 10)
      break;
    else if (type4 + character === 42 + 42 && peek() === 47)
      break;
  return "/*" + slice8(index6, position - 1) + "*" + from(type4 === 47 ? type4 : next());
}
function identifier(index6) {
  while (!token(peek()))
    next();
  return slice8(index6, position);
}

// node_modules/stylis/src/Parser.js
function compile(value) {
  return dealloc(parse("", null, null, null, [""], value = alloc(value), 0, [0], value));
}
function parse(value, root7, parent, rule, rules, rulesets, pseudo, points, declarations) {
  var index6 = 0;
  var offset = 0;
  var length3 = pseudo;
  var atrule = 0;
  var property = 0;
  var previous = 0;
  var variable = 1;
  var scanning = 1;
  var ampersand = 1;
  var character2 = 0;
  var type4 = "";
  var props = rules;
  var children4 = rulesets;
  var reference = rule;
  var characters2 = type4;
  while (scanning)
    switch (previous = character2, character2 = next()) {
      case 40:
        if (previous != 108 && charat(characters2, length3 - 1) == 58) {
          if (indexof(characters2 += replace(delimit(character2), "&", "&\f"), "&\f") != -1)
            ampersand = -1;
          break;
        }
      case 34:
      case 39:
      case 91:
        characters2 += delimit(character2);
        break;
      case 9:
      case 10:
      case 13:
      case 32:
        characters2 += whitespace(previous);
        break;
      case 92:
        characters2 += escaping(caret() - 1, 7);
        continue;
      case 47:
        switch (peek()) {
          case 42:
          case 47:
            append(comment(commenter(next(), caret()), root7, parent), declarations);
            break;
          default:
            characters2 += "/";
        }
        break;
      case 123 * variable:
        points[index6++] = strlen(characters2) * ampersand;
      case 125 * variable:
      case 59:
      case 0:
        switch (character2) {
          case 0:
          case 125:
            scanning = 0;
          case 59 + offset:
            if (property > 0 && strlen(characters2) - length3)
              append(property > 32 ? declaration(characters2 + ";", rule, parent, length3 - 1) : declaration(replace(characters2, " ", "") + ";", rule, parent, length3 - 2), declarations);
            break;
          case 59:
            characters2 += ";";
          default:
            append(reference = ruleset(characters2, root7, parent, index6, offset, rules, points, type4, props = [], children4 = [], length3), rulesets);
            if (character2 === 123)
              if (offset === 0)
                parse(characters2, root7, reference, reference, props, rulesets, length3, points, children4);
              else
                switch (atrule === 99 && charat(characters2, 3) === 110 ? 100 : atrule) {
                  case 100:
                  case 109:
                  case 115:
                    parse(value, reference, reference, rule && append(ruleset(value, reference, reference, 0, 0, rules, points, type4, rules, props = [], length3), children4), rules, children4, length3, points, rule ? props : children4);
                    break;
                  default:
                    parse(characters2, reference, reference, reference, [""], children4, 0, points, children4);
                }
        }
        index6 = offset = property = 0, variable = ampersand = 1, type4 = characters2 = "", length3 = pseudo;
        break;
      case 58:
        length3 = 1 + strlen(characters2), property = previous;
      default:
        if (variable < 1) {
          if (character2 == 123)
            --variable;
          else if (character2 == 125 && variable++ == 0 && prev() == 125)
            continue;
        }
        switch (characters2 += from(character2), character2 * variable) {
          case 38:
            ampersand = offset > 0 ? 1 : (characters2 += "\f", -1);
            break;
          case 44:
            points[index6++] = (strlen(characters2) - 1) * ampersand, ampersand = 1;
            break;
          case 64:
            if (peek() === 45)
              characters2 += delimit(next());
            atrule = peek(), offset = length3 = strlen(type4 = characters2 += identifier(caret())), character2++;
            break;
          case 45:
            if (previous === 45 && strlen(characters2) == 2)
              variable = 0;
        }
    }
  return rulesets;
}
function ruleset(value, root7, parent, index6, offset, rules, points, type4, props, children4, length3) {
  var post = offset - 1;
  var rule = offset === 0 ? rules : [""];
  var size = sizeof(rule);
  for (var i = 0, j = 0, k3 = 0; i < index6; ++i)
    for (var x7 = 0, y7 = substr(value, post + 1, post = abs5(j = points[i])), z = value; x7 < size; ++x7)
      if (z = trim(j > 0 ? rule[x7] + " " + y7 : replace(y7, /&\f/g, rule[x7])))
        props[k3++] = z;
  return node(value, root7, parent, offset === 0 ? RULESET : type4, props, children4, length3);
}
function comment(value, root7, parent) {
  return node(value, root7, parent, COMMENT, from(char()), substr(value, 2, -2), 0);
}
function declaration(value, root7, parent, length3) {
  return node(value, root7, parent, DECLARATION, substr(value, 0, length3), substr(value, length3 + 1, -1), length3);
}

// node_modules/stylis/src/Serializer.js
function serialize(children4, callback) {
  var output = "";
  var length3 = sizeof(children4);
  for (var i = 0; i < length3; i++)
    output += callback(children4[i], i, children4, callback) || "";
  return output;
}
function stringify(element, index6, children4, callback) {
  switch (element.type) {
    case IMPORT:
    case DECLARATION:
      return element.return = element.return || element.value;
    case COMMENT:
      return "";
    case KEYFRAMES:
      return element.return = element.value + "{" + serialize(element.children, callback) + "}";
    case RULESET:
      element.value = element.props.join(",");
  }
  return strlen(children4 = serialize(element.children, callback)) ? element.return = element.value + "{" + children4 + "}" : "";
}

// node_modules/mermaid/dist/mermaid.core.mjs
var import_dagre = __toESM(require_dagre(), 1);
var import_graphlib = __toESM(require_graphlib(), 1);

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/regex.js
var regex_default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;

// node_modules/uuid/dist/esm-browser/validate.js
function validate(uuid) {
  return typeof uuid === "string" && regex_default.test(uuid);
}
var validate_default = validate;

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (let i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
function unsafeStringify(arr, offset = 0) {
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}

// node_modules/uuid/dist/esm-browser/parse.js
function parse2(uuid) {
  if (!validate_default(uuid)) {
    throw TypeError("Invalid UUID");
  }
  let v2;
  const arr = new Uint8Array(16);
  arr[0] = (v2 = parseInt(uuid.slice(0, 8), 16)) >>> 24;
  arr[1] = v2 >>> 16 & 255;
  arr[2] = v2 >>> 8 & 255;
  arr[3] = v2 & 255;
  arr[4] = (v2 = parseInt(uuid.slice(9, 13), 16)) >>> 8;
  arr[5] = v2 & 255;
  arr[6] = (v2 = parseInt(uuid.slice(14, 18), 16)) >>> 8;
  arr[7] = v2 & 255;
  arr[8] = (v2 = parseInt(uuid.slice(19, 23), 16)) >>> 8;
  arr[9] = v2 & 255;
  arr[10] = (v2 = parseInt(uuid.slice(24, 36), 16)) / 1099511627776 & 255;
  arr[11] = v2 / 4294967296 & 255;
  arr[12] = v2 >>> 24 & 255;
  arr[13] = v2 >>> 16 & 255;
  arr[14] = v2 >>> 8 & 255;
  arr[15] = v2 & 255;
  return arr;
}
var parse_default = parse2;

// node_modules/uuid/dist/esm-browser/v35.js
function stringToBytes(str) {
  str = unescape(encodeURIComponent(str));
  const bytes = [];
  for (let i = 0; i < str.length; ++i) {
    bytes.push(str.charCodeAt(i));
  }
  return bytes;
}
var DNS = "6ba7b810-9dad-11d1-80b4-00c04fd430c8";
var URL = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";
function v35(name2, version3, hashfunc) {
  function generateUUID(value, namespace, buf, offset) {
    var _namespace;
    if (typeof value === "string") {
      value = stringToBytes(value);
    }
    if (typeof namespace === "string") {
      namespace = parse_default(namespace);
    }
    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {
      throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
    }
    let bytes = new Uint8Array(16 + value.length);
    bytes.set(namespace);
    bytes.set(value, namespace.length);
    bytes = hashfunc(bytes);
    bytes[6] = bytes[6] & 15 | version3;
    bytes[8] = bytes[8] & 63 | 128;
    if (buf) {
      offset = offset || 0;
      for (let i = 0; i < 16; ++i) {
        buf[offset + i] = bytes[i];
      }
      return buf;
    }
    return unsafeStringify(bytes);
  }
  try {
    generateUUID.name = name2;
  } catch (err) {
  }
  generateUUID.DNS = DNS;
  generateUUID.URL = URL;
  return generateUUID;
}

// node_modules/uuid/dist/esm-browser/md5.js
function md5(bytes) {
  if (typeof bytes === "string") {
    const msg = unescape(encodeURIComponent(bytes));
    bytes = new Uint8Array(msg.length);
    for (let i = 0; i < msg.length; ++i) {
      bytes[i] = msg.charCodeAt(i);
    }
  }
  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));
}
function md5ToHexEncodedArray(input) {
  const output = [];
  const length32 = input.length * 32;
  const hexTab = "0123456789abcdef";
  for (let i = 0; i < length32; i += 8) {
    const x7 = input[i >> 5] >>> i % 32 & 255;
    const hex7 = parseInt(hexTab.charAt(x7 >>> 4 & 15) + hexTab.charAt(x7 & 15), 16);
    output.push(hex7);
  }
  return output;
}
function getOutputLength(inputLength8) {
  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;
}
function wordsToMd5(x7, len) {
  x7[len >> 5] |= 128 << len % 32;
  x7[getOutputLength(len) - 1] = len;
  let a3 = 1732584193;
  let b = -271733879;
  let c7 = -1732584194;
  let d = 271733878;
  for (let i = 0; i < x7.length; i += 16) {
    const olda = a3;
    const oldb = b;
    const oldc = c7;
    const oldd = d;
    a3 = md5ff(a3, b, c7, d, x7[i], 7, -680876936);
    d = md5ff(d, a3, b, c7, x7[i + 1], 12, -389564586);
    c7 = md5ff(c7, d, a3, b, x7[i + 2], 17, 606105819);
    b = md5ff(b, c7, d, a3, x7[i + 3], 22, -1044525330);
    a3 = md5ff(a3, b, c7, d, x7[i + 4], 7, -176418897);
    d = md5ff(d, a3, b, c7, x7[i + 5], 12, 1200080426);
    c7 = md5ff(c7, d, a3, b, x7[i + 6], 17, -1473231341);
    b = md5ff(b, c7, d, a3, x7[i + 7], 22, -45705983);
    a3 = md5ff(a3, b, c7, d, x7[i + 8], 7, 1770035416);
    d = md5ff(d, a3, b, c7, x7[i + 9], 12, -1958414417);
    c7 = md5ff(c7, d, a3, b, x7[i + 10], 17, -42063);
    b = md5ff(b, c7, d, a3, x7[i + 11], 22, -1990404162);
    a3 = md5ff(a3, b, c7, d, x7[i + 12], 7, 1804603682);
    d = md5ff(d, a3, b, c7, x7[i + 13], 12, -40341101);
    c7 = md5ff(c7, d, a3, b, x7[i + 14], 17, -1502002290);
    b = md5ff(b, c7, d, a3, x7[i + 15], 22, 1236535329);
    a3 = md5gg(a3, b, c7, d, x7[i + 1], 5, -165796510);
    d = md5gg(d, a3, b, c7, x7[i + 6], 9, -1069501632);
    c7 = md5gg(c7, d, a3, b, x7[i + 11], 14, 643717713);
    b = md5gg(b, c7, d, a3, x7[i], 20, -373897302);
    a3 = md5gg(a3, b, c7, d, x7[i + 5], 5, -701558691);
    d = md5gg(d, a3, b, c7, x7[i + 10], 9, 38016083);
    c7 = md5gg(c7, d, a3, b, x7[i + 15], 14, -660478335);
    b = md5gg(b, c7, d, a3, x7[i + 4], 20, -405537848);
    a3 = md5gg(a3, b, c7, d, x7[i + 9], 5, 568446438);
    d = md5gg(d, a3, b, c7, x7[i + 14], 9, -1019803690);
    c7 = md5gg(c7, d, a3, b, x7[i + 3], 14, -187363961);
    b = md5gg(b, c7, d, a3, x7[i + 8], 20, 1163531501);
    a3 = md5gg(a3, b, c7, d, x7[i + 13], 5, -1444681467);
    d = md5gg(d, a3, b, c7, x7[i + 2], 9, -51403784);
    c7 = md5gg(c7, d, a3, b, x7[i + 7], 14, 1735328473);
    b = md5gg(b, c7, d, a3, x7[i + 12], 20, -1926607734);
    a3 = md5hh(a3, b, c7, d, x7[i + 5], 4, -378558);
    d = md5hh(d, a3, b, c7, x7[i + 8], 11, -2022574463);
    c7 = md5hh(c7, d, a3, b, x7[i + 11], 16, 1839030562);
    b = md5hh(b, c7, d, a3, x7[i + 14], 23, -35309556);
    a3 = md5hh(a3, b, c7, d, x7[i + 1], 4, -1530992060);
    d = md5hh(d, a3, b, c7, x7[i + 4], 11, 1272893353);
    c7 = md5hh(c7, d, a3, b, x7[i + 7], 16, -155497632);
    b = md5hh(b, c7, d, a3, x7[i + 10], 23, -1094730640);
    a3 = md5hh(a3, b, c7, d, x7[i + 13], 4, 681279174);
    d = md5hh(d, a3, b, c7, x7[i], 11, -358537222);
    c7 = md5hh(c7, d, a3, b, x7[i + 3], 16, -722521979);
    b = md5hh(b, c7, d, a3, x7[i + 6], 23, 76029189);
    a3 = md5hh(a3, b, c7, d, x7[i + 9], 4, -640364487);
    d = md5hh(d, a3, b, c7, x7[i + 12], 11, -421815835);
    c7 = md5hh(c7, d, a3, b, x7[i + 15], 16, 530742520);
    b = md5hh(b, c7, d, a3, x7[i + 2], 23, -995338651);
    a3 = md5ii(a3, b, c7, d, x7[i], 6, -198630844);
    d = md5ii(d, a3, b, c7, x7[i + 7], 10, 1126891415);
    c7 = md5ii(c7, d, a3, b, x7[i + 14], 15, -1416354905);
    b = md5ii(b, c7, d, a3, x7[i + 5], 21, -57434055);
    a3 = md5ii(a3, b, c7, d, x7[i + 12], 6, 1700485571);
    d = md5ii(d, a3, b, c7, x7[i + 3], 10, -1894986606);
    c7 = md5ii(c7, d, a3, b, x7[i + 10], 15, -1051523);
    b = md5ii(b, c7, d, a3, x7[i + 1], 21, -2054922799);
    a3 = md5ii(a3, b, c7, d, x7[i + 8], 6, 1873313359);
    d = md5ii(d, a3, b, c7, x7[i + 15], 10, -30611744);
    c7 = md5ii(c7, d, a3, b, x7[i + 6], 15, -1560198380);
    b = md5ii(b, c7, d, a3, x7[i + 13], 21, 1309151649);
    a3 = md5ii(a3, b, c7, d, x7[i + 4], 6, -145523070);
    d = md5ii(d, a3, b, c7, x7[i + 11], 10, -1120210379);
    c7 = md5ii(c7, d, a3, b, x7[i + 2], 15, 718787259);
    b = md5ii(b, c7, d, a3, x7[i + 9], 21, -343485551);
    a3 = safeAdd(a3, olda);
    b = safeAdd(b, oldb);
    c7 = safeAdd(c7, oldc);
    d = safeAdd(d, oldd);
  }
  return [a3, b, c7, d];
}
function bytesToWords(input) {
  if (input.length === 0) {
    return [];
  }
  const length8 = input.length * 8;
  const output = new Uint32Array(getOutputLength(length8));
  for (let i = 0; i < length8; i += 8) {
    output[i >> 5] |= (input[i / 8] & 255) << i % 32;
  }
  return output;
}
function safeAdd(x7, y7) {
  const lsw = (x7 & 65535) + (y7 & 65535);
  const msw = (x7 >> 16) + (y7 >> 16) + (lsw >> 16);
  return msw << 16 | lsw & 65535;
}
function bitRotateLeft(num, cnt2) {
  return num << cnt2 | num >>> 32 - cnt2;
}
function md5cmn(q, a3, b, x7, s3, t) {
  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a3, q), safeAdd(x7, t)), s3), b);
}
function md5ff(a3, b, c7, d, x7, s3, t) {
  return md5cmn(b & c7 | ~b & d, a3, b, x7, s3, t);
}
function md5gg(a3, b, c7, d, x7, s3, t) {
  return md5cmn(b & d | c7 & ~d, a3, b, x7, s3, t);
}
function md5hh(a3, b, c7, d, x7, s3, t) {
  return md5cmn(b ^ c7 ^ d, a3, b, x7, s3, t);
}
function md5ii(a3, b, c7, d, x7, s3, t) {
  return md5cmn(c7 ^ (b | ~d), a3, b, x7, s3, t);
}
var md5_default = md5;

// node_modules/uuid/dist/esm-browser/v3.js
var v3 = v35("v3", 48, md5_default);

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options2, buf, offset) {
  if (native_default.randomUUID && !buf && !options2) {
    return native_default.randomUUID();
  }
  options2 = options2 || {};
  const rnds = options2.random || (options2.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (let i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// node_modules/uuid/dist/esm-browser/sha1.js
function f(s3, x7, y7, z) {
  switch (s3) {
    case 0:
      return x7 & y7 ^ ~x7 & z;
    case 1:
      return x7 ^ y7 ^ z;
    case 2:
      return x7 & y7 ^ x7 & z ^ y7 & z;
    case 3:
      return x7 ^ y7 ^ z;
  }
}
function ROTL(x7, n) {
  return x7 << n | x7 >>> 32 - n;
}
function sha1(bytes) {
  const K7 = [1518500249, 1859775393, 2400959708, 3395469782];
  const H = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
  if (typeof bytes === "string") {
    const msg = unescape(encodeURIComponent(bytes));
    bytes = [];
    for (let i = 0; i < msg.length; ++i) {
      bytes.push(msg.charCodeAt(i));
    }
  } else if (!Array.isArray(bytes)) {
    bytes = Array.prototype.slice.call(bytes);
  }
  bytes.push(128);
  const l = bytes.length / 4 + 2;
  const N = Math.ceil(l / 16);
  const M3 = new Array(N);
  for (let i = 0; i < N; ++i) {
    const arr = new Uint32Array(16);
    for (let j = 0; j < 16; ++j) {
      arr[j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];
    }
    M3[i] = arr;
  }
  M3[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);
  M3[N - 1][14] = Math.floor(M3[N - 1][14]);
  M3[N - 1][15] = (bytes.length - 1) * 8 & 4294967295;
  for (let i = 0; i < N; ++i) {
    const W = new Uint32Array(80);
    for (let t = 0; t < 16; ++t) {
      W[t] = M3[i][t];
    }
    for (let t = 16; t < 80; ++t) {
      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);
    }
    let a3 = H[0];
    let b = H[1];
    let c7 = H[2];
    let d = H[3];
    let e = H[4];
    for (let t = 0; t < 80; ++t) {
      const s3 = Math.floor(t / 20);
      const T = ROTL(a3, 5) + f(s3, b, c7, d) + e + K7[s3] + W[t] >>> 0;
      e = d;
      d = c7;
      c7 = ROTL(b, 30) >>> 0;
      b = a3;
      a3 = T;
    }
    H[0] = H[0] + a3 >>> 0;
    H[1] = H[1] + b >>> 0;
    H[2] = H[2] + c7 >>> 0;
    H[3] = H[3] + d >>> 0;
    H[4] = H[4] + e >>> 0;
  }
  return [H[0] >> 24 & 255, H[0] >> 16 & 255, H[0] >> 8 & 255, H[0] & 255, H[1] >> 24 & 255, H[1] >> 16 & 255, H[1] >> 8 & 255, H[1] & 255, H[2] >> 24 & 255, H[2] >> 16 & 255, H[2] >> 8 & 255, H[2] & 255, H[3] >> 24 & 255, H[3] >> 16 & 255, H[3] >> 8 & 255, H[3] & 255, H[4] >> 24 & 255, H[4] >> 16 & 255, H[4] >> 8 & 255, H[4] & 255];
}
var sha1_default = sha1;

// node_modules/uuid/dist/esm-browser/v5.js
var v5 = v35("v5", 80, sha1_default);

// node_modules/mermaid/dist/mermaid.core.mjs
var import_dagre_d3 = __toESM(require_dagre_d3(), 1);
var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
var LEVELS = {
  trace: 0,
  debug: 1,
  info: 2,
  warn: 3,
  error: 4,
  fatal: 5
};
var log$1 = {
  trace: (..._args) => {
  },
  debug: (..._args) => {
  },
  info: (..._args) => {
  },
  warn: (..._args) => {
  },
  error: (..._args) => {
  },
  fatal: (..._args) => {
  }
};
var setLogLevel$1 = function(level = "fatal") {
  let numericLevel = LEVELS.fatal;
  if (typeof level === "string") {
    level = level.toLowerCase();
    if (level in LEVELS) {
      numericLevel = LEVELS[level];
    }
  } else if (typeof level === "number") {
    numericLevel = level;
  }
  log$1.trace = () => {
  };
  log$1.debug = () => {
  };
  log$1.info = () => {
  };
  log$1.warn = () => {
  };
  log$1.error = () => {
  };
  log$1.fatal = () => {
  };
  if (numericLevel <= LEVELS.fatal) {
    log$1.fatal = console.error ? console.error.bind(console, format4("FATAL"), "color: orange") : console.log.bind(console, "\x1B[35m", format4("FATAL"));
  }
  if (numericLevel <= LEVELS.error) {
    log$1.error = console.error ? console.error.bind(console, format4("ERROR"), "color: orange") : console.log.bind(console, "\x1B[31m", format4("ERROR"));
  }
  if (numericLevel <= LEVELS.warn) {
    log$1.warn = console.warn ? console.warn.bind(console, format4("WARN"), "color: orange") : console.log.bind(console, `\x1B[33m`, format4("WARN"));
  }
  if (numericLevel <= LEVELS.info) {
    log$1.info = console.info ? console.info.bind(console, format4("INFO"), "color: lightblue") : console.log.bind(console, "\x1B[34m", format4("INFO"));
  }
  if (numericLevel <= LEVELS.debug) {
    log$1.debug = console.debug ? console.debug.bind(console, format4("DEBUG"), "color: lightgreen") : console.log.bind(console, "\x1B[32m", format4("DEBUG"));
  }
  if (numericLevel <= LEVELS.trace) {
    log$1.trace = console.debug ? console.debug.bind(console, format4("TRACE"), "color: lightgreen") : console.log.bind(console, "\x1B[32m", format4("TRACE"));
  }
};
var format4 = (level) => {
  const time2 = (0, import_moment_mini.default)().format("ss.SSS");
  return `%c${time2} : ${level} : `;
};
var getRows = (s3) => {
  if (!s3)
    return [""];
  const str = breakToPlaceholder(s3).replace(/\\n/g, "#br#");
  return str.split("#br#");
};
var removeScript = (txt) => {
  return purify.sanitize(txt);
};
var sanitizeMore = (text2, config2) => {
  var _a;
  if (((_a = config2.flowchart) == null ? void 0 : _a.htmlLabels) !== false) {
    const level = config2.securityLevel;
    if (level === "antiscript" || level === "strict") {
      text2 = removeScript(text2);
    } else if (level !== "loose") {
      text2 = breakToPlaceholder(text2);
      text2 = text2.replace(/</g, "&lt;").replace(/>/g, "&gt;");
      text2 = text2.replace(/=/g, "&equals;");
      text2 = placeholderToBreak(text2);
    }
  }
  return text2;
};
var sanitizeText$5 = (text2, config2) => {
  if (!text2)
    return text2;
  if (config2.dompurifyConfig) {
    text2 = purify.sanitize(sanitizeMore(text2, config2), config2.dompurifyConfig).toString();
  } else {
    text2 = purify.sanitize(sanitizeMore(text2, config2));
  }
  return text2;
};
var sanitizeTextOrArray = (a3, config2) => {
  if (typeof a3 === "string")
    return sanitizeText$5(a3, config2);
  return a3.flat().map((x7) => sanitizeText$5(x7, config2));
};
var lineBreakRegex = /<br\s*\/?>/gi;
var hasBreaks = (text2) => {
  return lineBreakRegex.test(text2);
};
var splitBreaks = (text2) => {
  return text2.split(lineBreakRegex);
};
var placeholderToBreak = (s3) => {
  return s3.replace(/#br#/g, "<br/>");
};
var breakToPlaceholder = (s3) => {
  return s3.replace(lineBreakRegex, "#br#");
};
var getUrl = (useAbsolute) => {
  let url = "";
  if (useAbsolute) {
    url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
    url = url.replaceAll(/\(/g, "\\(");
    url = url.replaceAll(/\)/g, "\\)");
  }
  return url;
};
var evaluate = (val) => val === false || ["false", "null", "0"].includes(String(val).trim().toLowerCase()) ? false : true;
var parseGenericTypes = function(text2) {
  let cleanedText = text2;
  if (text2.indexOf("~") !== -1) {
    cleanedText = cleanedText.replace(/~([^~].*)/, "<$1");
    cleanedText = cleanedText.replace(/~([^~]*)$/, ">$1");
    return parseGenericTypes(cleanedText);
  } else {
    return cleanedText;
  }
};
var common = {
  getRows,
  sanitizeText: sanitizeText$5,
  sanitizeTextOrArray,
  hasBreaks,
  splitBreaks,
  lineBreakRegex,
  removeScript,
  getUrl,
  evaluate
};
var mkBorder = (col, darkMode) => darkMode ? adjust_default(col, { s: -40, l: 10 }) : adjust_default(col, { s: -40, l: -10 });
var oldAttributeBackgroundColorOdd = "#ffffff";
var oldAttributeBackgroundColorEven = "#f2f2f2";
var Theme$4 = class {
  constructor() {
    this.background = "#f4f4f4";
    this.darkMode = false;
    this.primaryColor = "#fff4dd";
    this.noteBkgColor = "#fff5ad";
    this.noteTextColor = "#333";
    this.THEME_COLOR_LIMIT = 12;
    this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
    this.fontSize = "16px";
  }
  updateColors() {
    this.primaryTextColor = this.primaryTextColor || (this.darkMode ? "#eee" : "#333");
    this.secondaryColor = this.secondaryColor || adjust_default(this.primaryColor, { h: -120 });
    this.tertiaryColor = this.tertiaryColor || adjust_default(this.primaryColor, { h: 180, l: 5 });
    this.primaryBorderColor = this.primaryBorderColor || mkBorder(this.primaryColor, this.darkMode);
    this.secondaryBorderColor = this.secondaryBorderColor || mkBorder(this.secondaryColor, this.darkMode);
    this.tertiaryBorderColor = this.tertiaryBorderColor || mkBorder(this.tertiaryColor, this.darkMode);
    this.noteBorderColor = this.noteBorderColor || mkBorder(this.noteBkgColor, this.darkMode);
    this.noteBkgColor = this.noteBkgColor || "#fff5ad";
    this.noteTextColor = this.noteTextColor || "#333";
    this.secondaryTextColor = this.secondaryTextColor || invert_default(this.secondaryColor);
    this.tertiaryTextColor = this.tertiaryTextColor || invert_default(this.tertiaryColor);
    this.lineColor = this.lineColor || invert_default(this.background);
    this.textColor = this.textColor || this.primaryTextColor;
    this.nodeBkg = this.nodeBkg || this.primaryColor;
    this.mainBkg = this.mainBkg || this.primaryColor;
    this.nodeBorder = this.nodeBorder || this.primaryBorderColor;
    this.clusterBkg = this.clusterBkg || this.tertiaryColor;
    this.clusterBorder = this.clusterBorder || this.tertiaryBorderColor;
    this.defaultLinkColor = this.defaultLinkColor || this.lineColor;
    this.titleColor = this.titleColor || this.tertiaryTextColor;
    this.edgeLabelBackground = this.edgeLabelBackground || (this.darkMode ? darken_default(this.secondaryColor, 30) : this.secondaryColor);
    this.nodeTextColor = this.nodeTextColor || this.primaryTextColor;
    this.actorBorder = this.actorBorder || this.primaryBorderColor;
    this.actorBkg = this.actorBkg || this.mainBkg;
    this.actorTextColor = this.actorTextColor || this.primaryTextColor;
    this.actorLineColor = this.actorLineColor || "grey";
    this.labelBoxBkgColor = this.labelBoxBkgColor || this.actorBkg;
    this.signalColor = this.signalColor || this.textColor;
    this.signalTextColor = this.signalTextColor || this.textColor;
    this.labelBoxBorderColor = this.labelBoxBorderColor || this.actorBorder;
    this.labelTextColor = this.labelTextColor || this.actorTextColor;
    this.loopTextColor = this.loopTextColor || this.actorTextColor;
    this.activationBorderColor = this.activationBorderColor || darken_default(this.secondaryColor, 10);
    this.activationBkgColor = this.activationBkgColor || this.secondaryColor;
    this.sequenceNumberColor = this.sequenceNumberColor || invert_default(this.lineColor);
    this.sectionBkgColor = this.sectionBkgColor || this.tertiaryColor;
    this.altSectionBkgColor = this.altSectionBkgColor || "white";
    this.sectionBkgColor = this.sectionBkgColor || this.secondaryColor;
    this.sectionBkgColor2 = this.sectionBkgColor2 || this.primaryColor;
    this.excludeBkgColor = this.excludeBkgColor || "#eeeeee";
    this.taskBorderColor = this.taskBorderColor || this.primaryBorderColor;
    this.taskBkgColor = this.taskBkgColor || this.primaryColor;
    this.activeTaskBorderColor = this.activeTaskBorderColor || this.primaryColor;
    this.activeTaskBkgColor = this.activeTaskBkgColor || lighten_default(this.primaryColor, 23);
    this.gridColor = this.gridColor || "lightgrey";
    this.doneTaskBkgColor = this.doneTaskBkgColor || "lightgrey";
    this.doneTaskBorderColor = this.doneTaskBorderColor || "grey";
    this.critBorderColor = this.critBorderColor || "#ff8888";
    this.critBkgColor = this.critBkgColor || "red";
    this.todayLineColor = this.todayLineColor || "red";
    this.taskTextColor = this.taskTextColor || this.textColor;
    this.taskTextOutsideColor = this.taskTextOutsideColor || this.textColor;
    this.taskTextLightColor = this.taskTextLightColor || this.textColor;
    this.taskTextColor = this.taskTextColor || this.primaryTextColor;
    this.taskTextDarkColor = this.taskTextDarkColor || this.textColor;
    this.taskTextClickableColor = this.taskTextClickableColor || "#003163";
    this.personBorder = this.personBorder || this.primaryBorderColor;
    this.personBkg = this.personBkg || this.mainBkg;
    this.transitionColor = this.transitionColor || this.lineColor;
    this.transitionLabelColor = this.transitionLabelColor || this.textColor;
    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
    this.stateBkg = this.stateBkg || this.mainBkg;
    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
    this.altBackground = this.altBackground || this.tertiaryColor;
    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
    this.compositeBorder = this.compositeBorder || this.nodeBorder;
    this.innerEndBackground = this.nodeBorder;
    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
    this.transitionColor = this.transitionColor || this.lineColor;
    this.specialStateColor = this.lineColor;
    this.cScale0 = this.cScale0 || this.primaryColor;
    this.cScale1 = this.cScale1 || this.secondaryColor;
    this.cScale2 = this.cScale2 || this.tertiaryColor;
    this.cScale3 = this.cScale3 || adjust_default(this.primaryColor, { h: 30 });
    this.cScale4 = this.cScale4 || adjust_default(this.primaryColor, { h: 60 });
    this.cScale5 = this.cScale5 || adjust_default(this.primaryColor, { h: 90 });
    this.cScale6 = this.cScale6 || adjust_default(this.primaryColor, { h: 120 });
    this.cScale7 = this.cScale7 || adjust_default(this.primaryColor, { h: 150 });
    this.cScale8 = this.cScale8 || adjust_default(this.primaryColor, { h: 210, l: 150 });
    this.cScale9 = this.cScale9 || adjust_default(this.primaryColor, { h: 270 });
    this.cScale10 = this.cScale10 || adjust_default(this.primaryColor, { h: 300 });
    this.cScale11 = this.cScale11 || adjust_default(this.primaryColor, { h: 330 });
    if (this.darkMode) {
      for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
        this["cScale" + i] = darken_default(this["cScale" + i], 75);
      }
    } else {
      for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
        this["cScale" + i] = darken_default(this["cScale" + i], 25);
      }
    }
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScaleInv" + i] = this["cScaleInv" + i] || invert_default(this["cScale" + i]);
    }
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      if (this.darkMode) {
        this["cScalePeer" + i] = this["cScalePeer" + i] || lighten_default(this["cScale" + i], 10);
      } else {
        this["cScalePeer" + i] = this["cScalePeer" + i] || darken_default(this["cScale" + i], 10);
      }
    }
    this.scaleLabelColor = this.scaleLabelColor || this.labelTextColor;
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.scaleLabelColor;
    }
    this.classText = this.classText || this.textColor;
    this.fillType0 = this.fillType0 || this.primaryColor;
    this.fillType1 = this.fillType1 || this.secondaryColor;
    this.fillType2 = this.fillType2 || adjust_default(this.primaryColor, { h: 64 });
    this.fillType3 = this.fillType3 || adjust_default(this.secondaryColor, { h: 64 });
    this.fillType4 = this.fillType4 || adjust_default(this.primaryColor, { h: -64 });
    this.fillType5 = this.fillType5 || adjust_default(this.secondaryColor, { h: -64 });
    this.fillType6 = this.fillType6 || adjust_default(this.primaryColor, { h: 128 });
    this.fillType7 = this.fillType7 || adjust_default(this.secondaryColor, { h: 128 });
    this.pie1 = this.pie1 || this.primaryColor;
    this.pie2 = this.pie2 || this.secondaryColor;
    this.pie3 = this.pie3 || this.tertiaryColor;
    this.pie4 = this.pie4 || adjust_default(this.primaryColor, { l: -10 });
    this.pie5 = this.pie5 || adjust_default(this.secondaryColor, { l: -10 });
    this.pie6 = this.pie6 || adjust_default(this.tertiaryColor, { l: -10 });
    this.pie7 = this.pie7 || adjust_default(this.primaryColor, { h: 60, l: -10 });
    this.pie8 = this.pie8 || adjust_default(this.primaryColor, { h: -60, l: -10 });
    this.pie9 = this.pie9 || adjust_default(this.primaryColor, { h: 120, l: 0 });
    this.pie10 = this.pie10 || adjust_default(this.primaryColor, { h: 60, l: -20 });
    this.pie11 = this.pie11 || adjust_default(this.primaryColor, { h: -60, l: -20 });
    this.pie12 = this.pie12 || adjust_default(this.primaryColor, { h: 120, l: -10 });
    this.pieTitleTextSize = this.pieTitleTextSize || "25px";
    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
    this.pieSectionTextSize = this.pieSectionTextSize || "17px";
    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
    this.pieLegendTextSize = this.pieLegendTextSize || "17px";
    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
    this.pieStrokeColor = this.pieStrokeColor || "black";
    this.pieStrokeWidth = this.pieStrokeWidth || "2px";
    this.pieOpacity = this.pieOpacity || "0.7";
    this.requirementBackground = this.requirementBackground || this.primaryColor;
    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
    this.relationColor = this.relationColor || this.lineColor;
    this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? darken_default(this.secondaryColor, 30) : this.secondaryColor);
    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
    this.git0 = this.git0 || this.primaryColor;
    this.git1 = this.git1 || this.secondaryColor;
    this.git2 = this.git2 || this.tertiaryColor;
    this.git3 = this.git3 || adjust_default(this.primaryColor, { h: -30 });
    this.git4 = this.git4 || adjust_default(this.primaryColor, { h: -60 });
    this.git5 = this.git5 || adjust_default(this.primaryColor, { h: -90 });
    this.git6 = this.git6 || adjust_default(this.primaryColor, { h: 60 });
    this.git7 = this.git7 || adjust_default(this.primaryColor, { h: 120 });
    if (this.darkMode) {
      this.git0 = lighten_default(this.git0, 25);
      this.git1 = lighten_default(this.git1, 25);
      this.git2 = lighten_default(this.git2, 25);
      this.git3 = lighten_default(this.git3, 25);
      this.git4 = lighten_default(this.git4, 25);
      this.git5 = lighten_default(this.git5, 25);
      this.git6 = lighten_default(this.git6, 25);
      this.git7 = lighten_default(this.git7, 25);
    } else {
      this.git0 = darken_default(this.git0, 25);
      this.git1 = darken_default(this.git1, 25);
      this.git2 = darken_default(this.git2, 25);
      this.git3 = darken_default(this.git3, 25);
      this.git4 = darken_default(this.git4, 25);
      this.git5 = darken_default(this.git5, 25);
      this.git6 = darken_default(this.git6, 25);
      this.git7 = darken_default(this.git7, 25);
    }
    this.gitInv0 = this.gitInv0 || invert_default(this.git0);
    this.gitInv1 = this.gitInv1 || invert_default(this.git1);
    this.gitInv2 = this.gitInv2 || invert_default(this.git2);
    this.gitInv3 = this.gitInv3 || invert_default(this.git3);
    this.gitInv4 = this.gitInv4 || invert_default(this.git4);
    this.gitInv5 = this.gitInv5 || invert_default(this.git5);
    this.gitInv6 = this.gitInv6 || invert_default(this.git6);
    this.gitInv7 = this.gitInv7 || invert_default(this.git7);
    this.branchLabelColor = this.branchLabelColor || (this.darkMode ? "black" : this.labelTextColor);
    this.gitBranchLabel0 = this.gitBranchLabel0 || this.branchLabelColor;
    this.gitBranchLabel1 = this.gitBranchLabel1 || this.branchLabelColor;
    this.gitBranchLabel2 = this.gitBranchLabel2 || this.branchLabelColor;
    this.gitBranchLabel3 = this.gitBranchLabel3 || this.branchLabelColor;
    this.gitBranchLabel4 = this.gitBranchLabel4 || this.branchLabelColor;
    this.gitBranchLabel5 = this.gitBranchLabel5 || this.branchLabelColor;
    this.gitBranchLabel6 = this.gitBranchLabel6 || this.branchLabelColor;
    this.gitBranchLabel7 = this.gitBranchLabel7 || this.branchLabelColor;
    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
    this.tagLabelFontSize = this.tagLabelFontSize || "10px";
    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
    this.commitLabelFontSize = this.commitLabelFontSize || "10px";
    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;
    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;
  }
  calculate(overrides) {
    if (typeof overrides !== "object") {
      this.updateColors();
      return;
    }
    const keys = Object.keys(overrides);
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
    this.updateColors();
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
  }
};
var getThemeVariables$4 = (userOverrides) => {
  const theme2 = new Theme$4();
  theme2.calculate(userOverrides);
  return theme2;
};
var Theme$3 = class {
  constructor() {
    this.background = "#333";
    this.primaryColor = "#1f2020";
    this.secondaryColor = lighten_default(this.primaryColor, 16);
    this.tertiaryColor = adjust_default(this.primaryColor, { h: -160 });
    this.primaryBorderColor = invert_default(this.background);
    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);
    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);
    this.primaryTextColor = invert_default(this.primaryColor);
    this.secondaryTextColor = invert_default(this.secondaryColor);
    this.tertiaryTextColor = invert_default(this.tertiaryColor);
    this.lineColor = invert_default(this.background);
    this.textColor = invert_default(this.background);
    this.mainBkg = "#1f2020";
    this.secondBkg = "calculated";
    this.mainContrastColor = "lightgrey";
    this.darkTextColor = lighten_default(invert_default("#323D47"), 10);
    this.lineColor = "calculated";
    this.border1 = "#81B1DB";
    this.border2 = rgba_default(255, 255, 255, 0.25);
    this.arrowheadColor = "calculated";
    this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
    this.fontSize = "16px";
    this.labelBackground = "#181818";
    this.textColor = "#ccc";
    this.THEME_COLOR_LIMIT = 12;
    this.nodeBkg = "calculated";
    this.nodeBorder = "calculated";
    this.clusterBkg = "calculated";
    this.clusterBorder = "calculated";
    this.defaultLinkColor = "calculated";
    this.titleColor = "#F9FFFE";
    this.edgeLabelBackground = "calculated";
    this.actorBorder = "calculated";
    this.actorBkg = "calculated";
    this.actorTextColor = "calculated";
    this.actorLineColor = "calculated";
    this.signalColor = "calculated";
    this.signalTextColor = "calculated";
    this.labelBoxBkgColor = "calculated";
    this.labelBoxBorderColor = "calculated";
    this.labelTextColor = "calculated";
    this.loopTextColor = "calculated";
    this.noteBorderColor = "calculated";
    this.noteBkgColor = "#fff5ad";
    this.noteTextColor = "calculated";
    this.activationBorderColor = "calculated";
    this.activationBkgColor = "calculated";
    this.sequenceNumberColor = "black";
    this.sectionBkgColor = darken_default("#EAE8D9", 30);
    this.altSectionBkgColor = "calculated";
    this.sectionBkgColor2 = "#EAE8D9";
    this.taskBorderColor = rgba_default(255, 255, 255, 70);
    this.taskBkgColor = "calculated";
    this.taskTextColor = "calculated";
    this.taskTextLightColor = "calculated";
    this.taskTextOutsideColor = "calculated";
    this.taskTextClickableColor = "#003163";
    this.activeTaskBorderColor = rgba_default(255, 255, 255, 50);
    this.activeTaskBkgColor = "#81B1DB";
    this.gridColor = "calculated";
    this.doneTaskBkgColor = "calculated";
    this.doneTaskBorderColor = "grey";
    this.critBorderColor = "#E83737";
    this.critBkgColor = "#E83737";
    this.taskTextDarkColor = "calculated";
    this.todayLineColor = "#DB5757";
    this.personBorder = "calculated";
    this.personBkg = "calculated";
    this.labelColor = "calculated";
    this.errorBkgColor = "#a44141";
    this.errorTextColor = "#ddd";
  }
  updateColors() {
    this.secondBkg = lighten_default(this.mainBkg, 16);
    this.lineColor = this.mainContrastColor;
    this.arrowheadColor = this.mainContrastColor;
    this.nodeBkg = this.mainBkg;
    this.nodeBorder = this.border1;
    this.clusterBkg = this.secondBkg;
    this.clusterBorder = this.border2;
    this.defaultLinkColor = this.lineColor;
    this.edgeLabelBackground = lighten_default(this.labelBackground, 25);
    this.actorBorder = this.border1;
    this.actorBkg = this.mainBkg;
    this.actorTextColor = this.mainContrastColor;
    this.actorLineColor = this.mainContrastColor;
    this.signalColor = this.mainContrastColor;
    this.signalTextColor = this.mainContrastColor;
    this.labelBoxBkgColor = this.actorBkg;
    this.labelBoxBorderColor = this.actorBorder;
    this.labelTextColor = this.mainContrastColor;
    this.loopTextColor = this.mainContrastColor;
    this.noteBorderColor = this.secondaryBorderColor;
    this.noteBkgColor = this.secondBkg;
    this.noteTextColor = this.secondaryTextColor;
    this.activationBorderColor = this.border1;
    this.activationBkgColor = this.secondBkg;
    this.altSectionBkgColor = this.background;
    this.taskBkgColor = lighten_default(this.mainBkg, 23);
    this.taskTextColor = this.darkTextColor;
    this.taskTextLightColor = this.mainContrastColor;
    this.taskTextOutsideColor = this.taskTextLightColor;
    this.gridColor = this.mainContrastColor;
    this.doneTaskBkgColor = this.mainContrastColor;
    this.taskTextDarkColor = this.darkTextColor;
    this.transitionColor = this.transitionColor || this.lineColor;
    this.transitionLabelColor = this.transitionLabelColor || this.textColor;
    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
    this.stateBkg = this.stateBkg || this.mainBkg;
    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
    this.altBackground = this.altBackground || "#555";
    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
    this.compositeBorder = this.compositeBorder || this.nodeBorder;
    this.innerEndBackground = this.primaryBorderColor;
    this.specialStateColor = "#f4f4f4";
    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
    this.fillType0 = this.primaryColor;
    this.fillType1 = this.secondaryColor;
    this.fillType2 = adjust_default(this.primaryColor, { h: 64 });
    this.fillType3 = adjust_default(this.secondaryColor, { h: 64 });
    this.fillType4 = adjust_default(this.primaryColor, { h: -64 });
    this.fillType5 = adjust_default(this.secondaryColor, { h: -64 });
    this.fillType6 = adjust_default(this.primaryColor, { h: 128 });
    this.fillType7 = adjust_default(this.secondaryColor, { h: 128 });
    this.cScale1 = this.cScale1 || "#0b0000";
    this.cScale2 = this.cScale2 || "#4d1037";
    this.cScale3 = this.cScale3 || "#3f5258";
    this.cScale4 = this.cScale4 || "#4f2f1b";
    this.cScale5 = this.cScale5 || "#6e0a0a";
    this.cScale6 = this.cScale6 || "#3b0048";
    this.cScale7 = this.cScale7 || "#995a01";
    this.cScale8 = this.cScale8 || "#154706";
    this.cScale9 = this.cScale9 || "#161722";
    this.cScale10 = this.cScale10 || "#00296f";
    this.cScale11 = this.cScale11 || "#01629c";
    this.cScale12 = this.cScale12 || "#010029";
    this.cScale0 = this.cScale0 || this.primaryColor;
    this.cScale1 = this.cScale1 || this.secondaryColor;
    this.cScale2 = this.cScale2 || this.tertiaryColor;
    this.cScale3 = this.cScale3 || adjust_default(this.primaryColor, { h: 30 });
    this.cScale4 = this.cScale4 || adjust_default(this.primaryColor, { h: 60 });
    this.cScale5 = this.cScale5 || adjust_default(this.primaryColor, { h: 90 });
    this.cScale6 = this.cScale6 || adjust_default(this.primaryColor, { h: 120 });
    this.cScale7 = this.cScale7 || adjust_default(this.primaryColor, { h: 150 });
    this.cScale8 = this.cScale8 || adjust_default(this.primaryColor, { h: 210 });
    this.cScale9 = this.cScale9 || adjust_default(this.primaryColor, { h: 270 });
    this.cScale10 = this.cScale10 || adjust_default(this.primaryColor, { h: 300 });
    this.cScale11 = this.cScale11 || adjust_default(this.primaryColor, { h: 330 });
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScaleInv" + i] = this["cScaleInv" + i] || invert_default(this["cScale" + i]);
    }
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScalePeer" + i] = this["cScalePeer" + i] || lighten_default(this["cScale" + i], 10);
    }
    this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? "black" : this.labelTextColor);
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.scaleLabelColor;
    }
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["pie" + i] = this["cScale" + i];
    }
    this.pieTitleTextSize = this.pieTitleTextSize || "25px";
    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
    this.pieSectionTextSize = this.pieSectionTextSize || "17px";
    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
    this.pieLegendTextSize = this.pieLegendTextSize || "17px";
    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
    this.pieStrokeColor = this.pieStrokeColor || "black";
    this.pieStrokeWidth = this.pieStrokeWidth || "2px";
    this.pieOpacity = this.pieOpacity || "0.7";
    this.classText = this.primaryTextColor;
    this.requirementBackground = this.requirementBackground || this.primaryColor;
    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
    this.relationColor = this.relationColor || this.lineColor;
    this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? darken_default(this.secondaryColor, 30) : this.secondaryColor);
    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
    this.git0 = lighten_default(this.secondaryColor, 20);
    this.git1 = lighten_default(this.pie2 || this.secondaryColor, 20);
    this.git2 = lighten_default(this.pie3 || this.tertiaryColor, 20);
    this.git3 = lighten_default(this.pie4 || adjust_default(this.primaryColor, { h: -30 }), 20);
    this.git4 = lighten_default(this.pie5 || adjust_default(this.primaryColor, { h: -60 }), 20);
    this.git5 = lighten_default(this.pie6 || adjust_default(this.primaryColor, { h: -90 }), 10);
    this.git6 = lighten_default(this.pie7 || adjust_default(this.primaryColor, { h: 60 }), 10);
    this.git7 = lighten_default(this.pie8 || adjust_default(this.primaryColor, { h: 120 }), 20);
    this.gitInv0 = this.gitInv0 || invert_default(this.git0);
    this.gitInv1 = this.gitInv1 || invert_default(this.git1);
    this.gitInv2 = this.gitInv2 || invert_default(this.git2);
    this.gitInv3 = this.gitInv3 || invert_default(this.git3);
    this.gitInv4 = this.gitInv4 || invert_default(this.git4);
    this.gitInv5 = this.gitInv5 || invert_default(this.git5);
    this.gitInv6 = this.gitInv6 || invert_default(this.git6);
    this.gitInv7 = this.gitInv7 || invert_default(this.git7);
    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
    this.tagLabelFontSize = this.tagLabelFontSize || "10px";
    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
    this.commitLabelFontSize = this.commitLabelFontSize || "10px";
    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || lighten_default(this.background, 12);
    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || lighten_default(this.background, 2);
  }
  calculate(overrides) {
    if (typeof overrides !== "object") {
      this.updateColors();
      return;
    }
    const keys = Object.keys(overrides);
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
    this.updateColors();
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
  }
};
var getThemeVariables$3 = (userOverrides) => {
  const theme2 = new Theme$3();
  theme2.calculate(userOverrides);
  return theme2;
};
var Theme$2 = class {
  constructor() {
    this.background = "#f4f4f4";
    this.primaryColor = "#ECECFF";
    this.secondaryColor = adjust_default(this.primaryColor, { h: 120 });
    this.secondaryColor = "#ffffde";
    this.tertiaryColor = adjust_default(this.primaryColor, { h: -160 });
    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);
    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);
    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);
    this.primaryTextColor = invert_default(this.primaryColor);
    this.secondaryTextColor = invert_default(this.secondaryColor);
    this.tertiaryTextColor = invert_default(this.tertiaryColor);
    this.lineColor = invert_default(this.background);
    this.textColor = invert_default(this.background);
    this.background = "white";
    this.mainBkg = "#ECECFF";
    this.secondBkg = "#ffffde";
    this.lineColor = "#333333";
    this.border1 = "#9370DB";
    this.border2 = "#aaaa33";
    this.arrowheadColor = "#333333";
    this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
    this.fontSize = "16px";
    this.labelBackground = "#e8e8e8";
    this.textColor = "#333";
    this.THEME_COLOR_LIMIT = 12;
    this.nodeBkg = "calculated";
    this.nodeBorder = "calculated";
    this.clusterBkg = "calculated";
    this.clusterBorder = "calculated";
    this.defaultLinkColor = "calculated";
    this.titleColor = "calculated";
    this.edgeLabelBackground = "calculated";
    this.actorBorder = "calculated";
    this.actorBkg = "calculated";
    this.actorTextColor = "black";
    this.actorLineColor = "grey";
    this.signalColor = "calculated";
    this.signalTextColor = "calculated";
    this.labelBoxBkgColor = "calculated";
    this.labelBoxBorderColor = "calculated";
    this.labelTextColor = "calculated";
    this.loopTextColor = "calculated";
    this.noteBorderColor = "calculated";
    this.noteBkgColor = "#fff5ad";
    this.noteTextColor = "calculated";
    this.activationBorderColor = "#666";
    this.activationBkgColor = "#f4f4f4";
    this.sequenceNumberColor = "white";
    this.sectionBkgColor = "calculated";
    this.altSectionBkgColor = "calculated";
    this.sectionBkgColor2 = "calculated";
    this.excludeBkgColor = "#eeeeee";
    this.taskBorderColor = "calculated";
    this.taskBkgColor = "calculated";
    this.taskTextLightColor = "calculated";
    this.taskTextColor = this.taskTextLightColor;
    this.taskTextDarkColor = "calculated";
    this.taskTextOutsideColor = this.taskTextDarkColor;
    this.taskTextClickableColor = "calculated";
    this.activeTaskBorderColor = "calculated";
    this.activeTaskBkgColor = "calculated";
    this.gridColor = "calculated";
    this.doneTaskBkgColor = "calculated";
    this.doneTaskBorderColor = "calculated";
    this.critBorderColor = "calculated";
    this.critBkgColor = "calculated";
    this.todayLineColor = "calculated";
    this.sectionBkgColor = rgba_default(102, 102, 255, 0.49);
    this.altSectionBkgColor = "white";
    this.sectionBkgColor2 = "#fff400";
    this.taskBorderColor = "#534fbc";
    this.taskBkgColor = "#8a90dd";
    this.taskTextLightColor = "white";
    this.taskTextColor = "calculated";
    this.taskTextDarkColor = "black";
    this.taskTextOutsideColor = "calculated";
    this.taskTextClickableColor = "#003163";
    this.activeTaskBorderColor = "#534fbc";
    this.activeTaskBkgColor = "#bfc7ff";
    this.gridColor = "lightgrey";
    this.doneTaskBkgColor = "lightgrey";
    this.doneTaskBorderColor = "grey";
    this.critBorderColor = "#ff8888";
    this.critBkgColor = "red";
    this.todayLineColor = "red";
    this.personBorder = "calculated";
    this.personBkg = "calculated";
    this.labelColor = "black";
    this.errorBkgColor = "#552222";
    this.errorTextColor = "#552222";
    this.updateColors();
  }
  updateColors() {
    this.cScale0 = this.cScale0 || this.primaryColor;
    this.cScale1 = this.cScale1 || this.secondaryColor;
    this.cScale2 = this.cScale2 || this.tertiaryColor;
    this.cScale3 = this.cScale3 || adjust_default(this.primaryColor, { h: 30 });
    this.cScale4 = this.cScale4 || adjust_default(this.primaryColor, { h: 60 });
    this.cScale5 = this.cScale5 || adjust_default(this.primaryColor, { h: 90 });
    this.cScale6 = this.cScale6 || adjust_default(this.primaryColor, { h: 120 });
    this.cScale7 = this.cScale7 || adjust_default(this.primaryColor, { h: 150 });
    this.cScale8 = this.cScale8 || adjust_default(this.primaryColor, { h: 210 });
    this.cScale9 = this.cScale9 || adjust_default(this.primaryColor, { h: 270 });
    this.cScale10 = this.cScale10 || adjust_default(this.primaryColor, { h: 300 });
    this.cScale11 = this.cScale11 || adjust_default(this.primaryColor, { h: 330 });
    this["cScalePeer" + 1] = this["cScalePeer" + 1] || darken_default(this.secondaryColor, 45);
    this["cScalePeer" + 2] = this["cScalePeer" + 2] || darken_default(this.tertiaryColor, 40);
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScale" + i] = darken_default(this["cScale" + i], 10);
      this["cScalePeer" + i] = this["cScalePeer" + i] || darken_default(this["cScale" + i], 25);
    }
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScaleInv" + i] = this["cScaleInv" + i] || adjust_default(this["cScale" + i], { h: 180 });
    }
    this.scaleLabelColor = this.scaleLabelColor !== "calculated" && this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor;
    if (this.labelTextColor !== "calculated") {
      this.cScaleLabel0 = this.cScaleLabel0 || invert_default(this.labelTextColor);
      this.cScaleLabel3 = this.cScaleLabel3 || invert_default(this.labelTextColor);
      for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
        this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.labelTextColor;
      }
    }
    this.nodeBkg = this.mainBkg;
    this.nodeBorder = this.border1;
    this.clusterBkg = this.secondBkg;
    this.clusterBorder = this.border2;
    this.defaultLinkColor = this.lineColor;
    this.titleColor = this.textColor;
    this.edgeLabelBackground = this.labelBackground;
    this.actorBorder = lighten_default(this.border1, 23);
    this.actorBkg = this.mainBkg;
    this.labelBoxBkgColor = this.actorBkg;
    this.signalColor = this.textColor;
    this.signalTextColor = this.textColor;
    this.labelBoxBorderColor = this.actorBorder;
    this.labelTextColor = this.actorTextColor;
    this.loopTextColor = this.actorTextColor;
    this.noteBorderColor = this.border2;
    this.noteTextColor = this.actorTextColor;
    this.taskTextColor = this.taskTextLightColor;
    this.taskTextOutsideColor = this.taskTextDarkColor;
    this.transitionColor = this.transitionColor || this.lineColor;
    this.transitionLabelColor = this.transitionLabelColor || this.textColor;
    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
    this.stateBkg = this.stateBkg || this.mainBkg;
    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
    this.altBackground = this.altBackground || "#f0f0f0";
    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
    this.compositeBorder = this.compositeBorder || this.nodeBorder;
    this.innerEndBackground = this.nodeBorder;
    this.specialStateColor = this.lineColor;
    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
    this.transitionColor = this.transitionColor || this.lineColor;
    this.classText = this.primaryTextColor;
    this.fillType0 = this.primaryColor;
    this.fillType1 = this.secondaryColor;
    this.fillType2 = adjust_default(this.primaryColor, { h: 64 });
    this.fillType3 = adjust_default(this.secondaryColor, { h: 64 });
    this.fillType4 = adjust_default(this.primaryColor, { h: -64 });
    this.fillType5 = adjust_default(this.secondaryColor, { h: -64 });
    this.fillType6 = adjust_default(this.primaryColor, { h: 128 });
    this.fillType7 = adjust_default(this.secondaryColor, { h: 128 });
    this.pie1 = this.pie1 || this.primaryColor;
    this.pie2 = this.pie2 || this.secondaryColor;
    this.pie3 = this.pie3 || adjust_default(this.tertiaryColor, { l: -40 });
    this.pie4 = this.pie4 || adjust_default(this.primaryColor, { l: -10 });
    this.pie5 = this.pie5 || adjust_default(this.secondaryColor, { l: -30 });
    this.pie6 = this.pie6 || adjust_default(this.tertiaryColor, { l: -20 });
    this.pie7 = this.pie7 || adjust_default(this.primaryColor, { h: 60, l: -20 });
    this.pie8 = this.pie8 || adjust_default(this.primaryColor, { h: -60, l: -40 });
    this.pie9 = this.pie9 || adjust_default(this.primaryColor, { h: 120, l: -40 });
    this.pie10 = this.pie10 || adjust_default(this.primaryColor, { h: 60, l: -40 });
    this.pie11 = this.pie11 || adjust_default(this.primaryColor, { h: -90, l: -40 });
    this.pie12 = this.pie12 || adjust_default(this.primaryColor, { h: 120, l: -30 });
    this.pieTitleTextSize = this.pieTitleTextSize || "25px";
    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
    this.pieSectionTextSize = this.pieSectionTextSize || "17px";
    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
    this.pieLegendTextSize = this.pieLegendTextSize || "17px";
    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
    this.pieStrokeColor = this.pieStrokeColor || "black";
    this.pieStrokeWidth = this.pieStrokeWidth || "2px";
    this.pieOpacity = this.pieOpacity || "0.7";
    this.requirementBackground = this.requirementBackground || this.primaryColor;
    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
    this.relationColor = this.relationColor || this.lineColor;
    this.relationLabelBackground = this.relationLabelBackground || this.labelBackground;
    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
    this.git0 = this.git0 || this.primaryColor;
    this.git1 = this.git1 || this.secondaryColor;
    this.git2 = this.git2 || this.tertiaryColor;
    this.git3 = this.git3 || adjust_default(this.primaryColor, { h: -30 });
    this.git4 = this.git4 || adjust_default(this.primaryColor, { h: -60 });
    this.git5 = this.git5 || adjust_default(this.primaryColor, { h: -90 });
    this.git6 = this.git6 || adjust_default(this.primaryColor, { h: 60 });
    this.git7 = this.git7 || adjust_default(this.primaryColor, { h: 120 });
    if (this.darkMode) {
      this.git0 = lighten_default(this.git0, 25);
      this.git1 = lighten_default(this.git1, 25);
      this.git2 = lighten_default(this.git2, 25);
      this.git3 = lighten_default(this.git3, 25);
      this.git4 = lighten_default(this.git4, 25);
      this.git5 = lighten_default(this.git5, 25);
      this.git6 = lighten_default(this.git6, 25);
      this.git7 = lighten_default(this.git7, 25);
    } else {
      this.git0 = darken_default(this.git0, 25);
      this.git1 = darken_default(this.git1, 25);
      this.git2 = darken_default(this.git2, 25);
      this.git3 = darken_default(this.git3, 25);
      this.git4 = darken_default(this.git4, 25);
      this.git5 = darken_default(this.git5, 25);
      this.git6 = darken_default(this.git6, 25);
      this.git7 = darken_default(this.git7, 25);
    }
    this.gitInv0 = this.gitInv0 || darken_default(invert_default(this.git0), 25);
    this.gitInv1 = this.gitInv1 || invert_default(this.git1);
    this.gitInv2 = this.gitInv2 || invert_default(this.git2);
    this.gitInv3 = this.gitInv3 || invert_default(this.git3);
    this.gitInv4 = this.gitInv4 || invert_default(this.git4);
    this.gitInv5 = this.gitInv5 || invert_default(this.git5);
    this.gitInv6 = this.gitInv6 || invert_default(this.git6);
    this.gitInv7 = this.gitInv7 || invert_default(this.git7);
    this.gitBranchLabel0 = this.gitBranchLabel0 || invert_default(this.labelTextColor);
    this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor;
    this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor;
    this.gitBranchLabel3 = this.gitBranchLabel3 || invert_default(this.labelTextColor);
    this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor;
    this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor;
    this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor;
    this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor;
    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
    this.tagLabelFontSize = this.tagLabelFontSize || "10px";
    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
    this.commitLabelFontSize = this.commitLabelFontSize || "10px";
    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;
    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;
  }
  calculate(overrides) {
    if (typeof overrides !== "object") {
      this.updateColors();
      return;
    }
    const keys = Object.keys(overrides);
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
    this.updateColors();
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
  }
};
var getThemeVariables$2 = (userOverrides) => {
  const theme2 = new Theme$2();
  theme2.calculate(userOverrides);
  return theme2;
};
var Theme$1 = class {
  constructor() {
    this.background = "#f4f4f4";
    this.primaryColor = "#cde498";
    this.secondaryColor = "#cdffb2";
    this.background = "white";
    this.mainBkg = "#cde498";
    this.secondBkg = "#cdffb2";
    this.lineColor = "green";
    this.border1 = "#13540c";
    this.border2 = "#6eaa49";
    this.arrowheadColor = "green";
    this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
    this.fontSize = "16px";
    this.tertiaryColor = lighten_default("#cde498", 10);
    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);
    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);
    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);
    this.primaryTextColor = invert_default(this.primaryColor);
    this.secondaryTextColor = invert_default(this.secondaryColor);
    this.tertiaryTextColor = invert_default(this.primaryColor);
    this.lineColor = invert_default(this.background);
    this.textColor = invert_default(this.background);
    this.THEME_COLOR_LIMIT = 12;
    this.nodeBkg = "calculated";
    this.nodeBorder = "calculated";
    this.clusterBkg = "calculated";
    this.clusterBorder = "calculated";
    this.defaultLinkColor = "calculated";
    this.titleColor = "#333";
    this.edgeLabelBackground = "#e8e8e8";
    this.actorBorder = "calculated";
    this.actorBkg = "calculated";
    this.actorTextColor = "black";
    this.actorLineColor = "grey";
    this.signalColor = "#333";
    this.signalTextColor = "#333";
    this.labelBoxBkgColor = "calculated";
    this.labelBoxBorderColor = "#326932";
    this.labelTextColor = "calculated";
    this.loopTextColor = "calculated";
    this.noteBorderColor = "calculated";
    this.noteBkgColor = "#fff5ad";
    this.noteTextColor = "calculated";
    this.activationBorderColor = "#666";
    this.activationBkgColor = "#f4f4f4";
    this.sequenceNumberColor = "white";
    this.sectionBkgColor = "#6eaa49";
    this.altSectionBkgColor = "white";
    this.sectionBkgColor2 = "#6eaa49";
    this.excludeBkgColor = "#eeeeee";
    this.taskBorderColor = "calculated";
    this.taskBkgColor = "#487e3a";
    this.taskTextLightColor = "white";
    this.taskTextColor = "calculated";
    this.taskTextDarkColor = "black";
    this.taskTextOutsideColor = "calculated";
    this.taskTextClickableColor = "#003163";
    this.activeTaskBorderColor = "calculated";
    this.activeTaskBkgColor = "calculated";
    this.gridColor = "lightgrey";
    this.doneTaskBkgColor = "lightgrey";
    this.doneTaskBorderColor = "grey";
    this.critBorderColor = "#ff8888";
    this.critBkgColor = "red";
    this.todayLineColor = "red";
    this.personBorder = "calculated";
    this.personBkg = "calculated";
    this.labelColor = "black";
    this.errorBkgColor = "#552222";
    this.errorTextColor = "#552222";
  }
  updateColors() {
    this.cScale0 = this.cScale0 || this.primaryColor;
    this.cScale1 = this.cScale1 || this.secondaryColor;
    this.cScale2 = this.cScale2 || this.tertiaryColor;
    this.cScale3 = this.cScale3 || adjust_default(this.primaryColor, { h: 30 });
    this.cScale4 = this.cScale4 || adjust_default(this.primaryColor, { h: 60 });
    this.cScale5 = this.cScale5 || adjust_default(this.primaryColor, { h: 90 });
    this.cScale6 = this.cScale6 || adjust_default(this.primaryColor, { h: 120 });
    this.cScale7 = this.cScale7 || adjust_default(this.primaryColor, { h: 150 });
    this.cScale8 = this.cScale8 || adjust_default(this.primaryColor, { h: 210 });
    this.cScale9 = this.cScale9 || adjust_default(this.primaryColor, { h: 270 });
    this.cScale10 = this.cScale10 || adjust_default(this.primaryColor, { h: 300 });
    this.cScale11 = this.cScale11 || adjust_default(this.primaryColor, { h: 330 });
    this["cScalePeer" + 1] = this["cScalePeer" + 1] || darken_default(this.secondaryColor, 45);
    this["cScalePeer" + 2] = this["cScalePeer" + 2] || darken_default(this.tertiaryColor, 40);
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScale" + i] = darken_default(this["cScale" + i], 10);
      this["cScalePeer" + i] = this["cScalePeer" + i] || darken_default(this["cScale" + i], 25);
    }
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScaleInv" + i] = this["cScaleInv" + i] || adjust_default(this["cScale" + i], { h: 180 });
    }
    this.scaleLabelColor = this.scaleLabelColor !== "calculated" && this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor;
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.scaleLabelColor;
    }
    this.nodeBkg = this.mainBkg;
    this.nodeBorder = this.border1;
    this.clusterBkg = this.secondBkg;
    this.clusterBorder = this.border2;
    this.defaultLinkColor = this.lineColor;
    this.actorBorder = darken_default(this.mainBkg, 20);
    this.actorBkg = this.mainBkg;
    this.labelBoxBkgColor = this.actorBkg;
    this.labelTextColor = this.actorTextColor;
    this.loopTextColor = this.actorTextColor;
    this.noteBorderColor = this.border2;
    this.noteTextColor = this.actorTextColor;
    this.taskBorderColor = this.border1;
    this.taskTextColor = this.taskTextLightColor;
    this.taskTextOutsideColor = this.taskTextDarkColor;
    this.activeTaskBorderColor = this.taskBorderColor;
    this.activeTaskBkgColor = this.mainBkg;
    this.transitionColor = this.transitionColor || this.lineColor;
    this.transitionLabelColor = this.transitionLabelColor || this.textColor;
    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
    this.stateBkg = this.stateBkg || this.mainBkg;
    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
    this.altBackground = this.altBackground || "#f0f0f0";
    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
    this.compositeBorder = this.compositeBorder || this.nodeBorder;
    this.innerEndBackground = this.primaryBorderColor;
    this.specialStateColor = this.lineColor;
    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
    this.transitionColor = this.transitionColor || this.lineColor;
    this.classText = this.primaryTextColor;
    this.fillType0 = this.primaryColor;
    this.fillType1 = this.secondaryColor;
    this.fillType2 = adjust_default(this.primaryColor, { h: 64 });
    this.fillType3 = adjust_default(this.secondaryColor, { h: 64 });
    this.fillType4 = adjust_default(this.primaryColor, { h: -64 });
    this.fillType5 = adjust_default(this.secondaryColor, { h: -64 });
    this.fillType6 = adjust_default(this.primaryColor, { h: 128 });
    this.fillType7 = adjust_default(this.secondaryColor, { h: 128 });
    this.pie1 = this.pie1 || this.primaryColor;
    this.pie2 = this.pie2 || this.secondaryColor;
    this.pie3 = this.pie3 || this.tertiaryColor;
    this.pie4 = this.pie4 || adjust_default(this.primaryColor, { l: -30 });
    this.pie5 = this.pie5 || adjust_default(this.secondaryColor, { l: -30 });
    this.pie6 = this.pie6 || adjust_default(this.tertiaryColor, { h: 40, l: -40 });
    this.pie7 = this.pie7 || adjust_default(this.primaryColor, { h: 60, l: -10 });
    this.pie8 = this.pie8 || adjust_default(this.primaryColor, { h: -60, l: -10 });
    this.pie9 = this.pie9 || adjust_default(this.primaryColor, { h: 120, l: 0 });
    this.pie10 = this.pie10 || adjust_default(this.primaryColor, { h: 60, l: -50 });
    this.pie11 = this.pie11 || adjust_default(this.primaryColor, { h: -60, l: -50 });
    this.pie12 = this.pie12 || adjust_default(this.primaryColor, { h: 120, l: -50 });
    this.pieTitleTextSize = this.pieTitleTextSize || "25px";
    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
    this.pieSectionTextSize = this.pieSectionTextSize || "17px";
    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
    this.pieLegendTextSize = this.pieLegendTextSize || "17px";
    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
    this.pieStrokeColor = this.pieStrokeColor || "black";
    this.pieStrokeWidth = this.pieStrokeWidth || "2px";
    this.pieOpacity = this.pieOpacity || "0.7";
    this.requirementBackground = this.requirementBackground || this.primaryColor;
    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
    this.relationColor = this.relationColor || this.lineColor;
    this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;
    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
    this.git0 = this.git0 || this.primaryColor;
    this.git1 = this.git1 || this.secondaryColor;
    this.git2 = this.git2 || this.tertiaryColor;
    this.git3 = this.git3 || adjust_default(this.primaryColor, { h: -30 });
    this.git4 = this.git4 || adjust_default(this.primaryColor, { h: -60 });
    this.git5 = this.git5 || adjust_default(this.primaryColor, { h: -90 });
    this.git6 = this.git6 || adjust_default(this.primaryColor, { h: 60 });
    this.git7 = this.git7 || adjust_default(this.primaryColor, { h: 120 });
    if (this.darkMode) {
      this.git0 = lighten_default(this.git0, 25);
      this.git1 = lighten_default(this.git1, 25);
      this.git2 = lighten_default(this.git2, 25);
      this.git3 = lighten_default(this.git3, 25);
      this.git4 = lighten_default(this.git4, 25);
      this.git5 = lighten_default(this.git5, 25);
      this.git6 = lighten_default(this.git6, 25);
      this.git7 = lighten_default(this.git7, 25);
    } else {
      this.git0 = darken_default(this.git0, 25);
      this.git1 = darken_default(this.git1, 25);
      this.git2 = darken_default(this.git2, 25);
      this.git3 = darken_default(this.git3, 25);
      this.git4 = darken_default(this.git4, 25);
      this.git5 = darken_default(this.git5, 25);
      this.git6 = darken_default(this.git6, 25);
      this.git7 = darken_default(this.git7, 25);
    }
    this.gitInv0 = this.gitInv0 || invert_default(this.git0);
    this.gitInv1 = this.gitInv1 || invert_default(this.git1);
    this.gitInv2 = this.gitInv2 || invert_default(this.git2);
    this.gitInv3 = this.gitInv3 || invert_default(this.git3);
    this.gitInv4 = this.gitInv4 || invert_default(this.git4);
    this.gitInv5 = this.gitInv5 || invert_default(this.git5);
    this.gitInv6 = this.gitInv6 || invert_default(this.git6);
    this.gitInv7 = this.gitInv7 || invert_default(this.git7);
    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
    this.tagLabelFontSize = this.tagLabelFontSize || "10px";
    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
    this.commitLabelFontSize = this.commitLabelFontSize || "10px";
    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;
    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;
  }
  calculate(overrides) {
    if (typeof overrides !== "object") {
      this.updateColors();
      return;
    }
    const keys = Object.keys(overrides);
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
    this.updateColors();
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
  }
};
var getThemeVariables$1 = (userOverrides) => {
  const theme2 = new Theme$1();
  theme2.calculate(userOverrides);
  return theme2;
};
var Theme = class {
  constructor() {
    this.primaryColor = "#eee";
    this.contrast = "#707070";
    this.secondaryColor = lighten_default(this.contrast, 55);
    this.background = "#ffffff";
    this.tertiaryColor = adjust_default(this.primaryColor, { h: -160 });
    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);
    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);
    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);
    this.primaryTextColor = invert_default(this.primaryColor);
    this.secondaryTextColor = invert_default(this.secondaryColor);
    this.tertiaryTextColor = invert_default(this.tertiaryColor);
    this.lineColor = invert_default(this.background);
    this.textColor = invert_default(this.background);
    this.mainBkg = "#eee";
    this.secondBkg = "calculated";
    this.lineColor = "#666";
    this.border1 = "#999";
    this.border2 = "calculated";
    this.note = "#ffa";
    this.text = "#333";
    this.critical = "#d42";
    this.done = "#bbb";
    this.arrowheadColor = "#333333";
    this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
    this.fontSize = "16px";
    this.THEME_COLOR_LIMIT = 12;
    this.nodeBkg = "calculated";
    this.nodeBorder = "calculated";
    this.clusterBkg = "calculated";
    this.clusterBorder = "calculated";
    this.defaultLinkColor = "calculated";
    this.titleColor = "calculated";
    this.edgeLabelBackground = "white";
    this.actorBorder = "calculated";
    this.actorBkg = "calculated";
    this.actorTextColor = "calculated";
    this.actorLineColor = "calculated";
    this.signalColor = "calculated";
    this.signalTextColor = "calculated";
    this.labelBoxBkgColor = "calculated";
    this.labelBoxBorderColor = "calculated";
    this.labelTextColor = "calculated";
    this.loopTextColor = "calculated";
    this.noteBorderColor = "calculated";
    this.noteBkgColor = "calculated";
    this.noteTextColor = "calculated";
    this.activationBorderColor = "#666";
    this.activationBkgColor = "#f4f4f4";
    this.sequenceNumberColor = "white";
    this.sectionBkgColor = "calculated";
    this.altSectionBkgColor = "white";
    this.sectionBkgColor2 = "calculated";
    this.excludeBkgColor = "#eeeeee";
    this.taskBorderColor = "calculated";
    this.taskBkgColor = "calculated";
    this.taskTextLightColor = "white";
    this.taskTextColor = "calculated";
    this.taskTextDarkColor = "calculated";
    this.taskTextOutsideColor = "calculated";
    this.taskTextClickableColor = "#003163";
    this.activeTaskBorderColor = "calculated";
    this.activeTaskBkgColor = "calculated";
    this.gridColor = "calculated";
    this.doneTaskBkgColor = "calculated";
    this.doneTaskBorderColor = "calculated";
    this.critBkgColor = "calculated";
    this.critBorderColor = "calculated";
    this.todayLineColor = "calculated";
    this.personBorder = "calculated";
    this.personBkg = "calculated";
    this.labelColor = "black";
    this.errorBkgColor = "#552222";
    this.errorTextColor = "#552222";
  }
  updateColors() {
    this.secondBkg = lighten_default(this.contrast, 55);
    this.border2 = this.contrast;
    this.cScale0 = this.cScale0 || "#555";
    this.cScale1 = this.cScale1 || "#F4F4F4";
    this.cScale2 = this.cScale2 || "#555";
    this.cScale3 = this.cScale3 || "#BBB";
    this.cScale4 = this.cScale4 || "#777";
    this.cScale5 = this.cScale5 || "#999";
    this.cScale6 = this.cScale6 || "#DDD";
    this.cScale7 = this.cScale7 || "#FFF";
    this.cScale8 = this.cScale8 || "#DDD";
    this.cScale9 = this.cScale9 || "#BBB";
    this.cScale10 = this.cScale10 || "#999";
    this.cScale11 = this.cScale11 || "#777";
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScaleInv" + i] = this["cScaleInv" + i] || invert_default(this["cScale" + i]);
    }
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      if (this.darkMode) {
        this["cScalePeer" + i] = this["cScalePeer" + i] || lighten_default(this["cScale" + i], 10);
      } else {
        this["cScalePeer" + i] = this["cScalePeer" + i] || darken_default(this["cScale" + i], 10);
      }
    }
    this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? "black" : this.labelTextColor);
    this["cScaleLabel0"] = this["cScaleLabel0"] || this.cScale1;
    this["cScaleLabel2"] = this["cScaleLabel2"] || this.cScale1;
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.scaleLabelColor;
    }
    this.nodeBkg = this.mainBkg;
    this.nodeBorder = this.border1;
    this.clusterBkg = this.secondBkg;
    this.clusterBorder = this.border2;
    this.defaultLinkColor = this.lineColor;
    this.titleColor = this.text;
    this.actorBorder = lighten_default(this.border1, 23);
    this.actorBkg = this.mainBkg;
    this.actorTextColor = this.text;
    this.actorLineColor = this.lineColor;
    this.signalColor = this.text;
    this.signalTextColor = this.text;
    this.labelBoxBkgColor = this.actorBkg;
    this.labelBoxBorderColor = this.actorBorder;
    this.labelTextColor = this.text;
    this.loopTextColor = this.text;
    this.noteBorderColor = "#999";
    this.noteBkgColor = "#666";
    this.noteTextColor = "#fff";
    this.sectionBkgColor = lighten_default(this.contrast, 30);
    this.sectionBkgColor2 = lighten_default(this.contrast, 30);
    this.taskBorderColor = darken_default(this.contrast, 10);
    this.taskBkgColor = this.contrast;
    this.taskTextColor = this.taskTextLightColor;
    this.taskTextDarkColor = this.text;
    this.taskTextOutsideColor = this.taskTextDarkColor;
    this.activeTaskBorderColor = this.taskBorderColor;
    this.activeTaskBkgColor = this.mainBkg;
    this.gridColor = lighten_default(this.border1, 30);
    this.doneTaskBkgColor = this.done;
    this.doneTaskBorderColor = this.lineColor;
    this.critBkgColor = this.critical;
    this.critBorderColor = darken_default(this.critBkgColor, 10);
    this.todayLineColor = this.critBkgColor;
    this.transitionColor = this.transitionColor || "#000";
    this.transitionLabelColor = this.transitionLabelColor || this.textColor;
    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
    this.stateBkg = this.stateBkg || this.mainBkg;
    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
    this.altBackground = this.altBackground || "#f4f4f4";
    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
    this.stateBorder = this.stateBorder || "#000";
    this.innerEndBackground = this.primaryBorderColor;
    this.specialStateColor = "#222";
    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
    this.classText = this.primaryTextColor;
    this.fillType0 = this.primaryColor;
    this.fillType1 = this.secondaryColor;
    this.fillType2 = adjust_default(this.primaryColor, { h: 64 });
    this.fillType3 = adjust_default(this.secondaryColor, { h: 64 });
    this.fillType4 = adjust_default(this.primaryColor, { h: -64 });
    this.fillType5 = adjust_default(this.secondaryColor, { h: -64 });
    this.fillType6 = adjust_default(this.primaryColor, { h: 128 });
    this.fillType7 = adjust_default(this.secondaryColor, { h: 128 });
    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {
      this["pie" + i] = this["cScale" + i];
    }
    this.pie12 = this.pie0;
    this.pieTitleTextSize = this.pieTitleTextSize || "25px";
    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
    this.pieSectionTextSize = this.pieSectionTextSize || "17px";
    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
    this.pieLegendTextSize = this.pieLegendTextSize || "17px";
    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
    this.pieStrokeColor = this.pieStrokeColor || "black";
    this.pieStrokeWidth = this.pieStrokeWidth || "2px";
    this.pieOpacity = this.pieOpacity || "0.7";
    this.requirementBackground = this.requirementBackground || this.primaryColor;
    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
    this.relationColor = this.relationColor || this.lineColor;
    this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;
    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
    this.git0 = darken_default(this.pie1, 25) || this.primaryColor;
    this.git1 = this.pie2 || this.secondaryColor;
    this.git2 = this.pie3 || this.tertiaryColor;
    this.git3 = this.pie4 || adjust_default(this.primaryColor, { h: -30 });
    this.git4 = this.pie5 || adjust_default(this.primaryColor, { h: -60 });
    this.git5 = this.pie6 || adjust_default(this.primaryColor, { h: -90 });
    this.git6 = this.pie7 || adjust_default(this.primaryColor, { h: 60 });
    this.git7 = this.pie8 || adjust_default(this.primaryColor, { h: 120 });
    this.gitInv0 = this.gitInv0 || invert_default(this.git0);
    this.gitInv1 = this.gitInv1 || invert_default(this.git1);
    this.gitInv2 = this.gitInv2 || invert_default(this.git2);
    this.gitInv3 = this.gitInv3 || invert_default(this.git3);
    this.gitInv4 = this.gitInv4 || invert_default(this.git4);
    this.gitInv5 = this.gitInv5 || invert_default(this.git5);
    this.gitInv6 = this.gitInv6 || invert_default(this.git6);
    this.gitInv7 = this.gitInv7 || invert_default(this.git7);
    this.branchLabelColor = this.branchLabelColor || this.labelTextColor;
    this.gitBranchLabel0 = this.branchLabelColor;
    this.gitBranchLabel1 = "white";
    this.gitBranchLabel2 = this.branchLabelColor;
    this.gitBranchLabel3 = "white";
    this.gitBranchLabel4 = this.branchLabelColor;
    this.gitBranchLabel5 = this.branchLabelColor;
    this.gitBranchLabel6 = this.branchLabelColor;
    this.gitBranchLabel7 = this.branchLabelColor;
    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
    this.tagLabelFontSize = this.tagLabelFontSize || "10px";
    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
    this.commitLabelFontSize = this.commitLabelFontSize || "10px";
    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;
    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;
  }
  calculate(overrides) {
    if (typeof overrides !== "object") {
      this.updateColors();
      return;
    }
    const keys = Object.keys(overrides);
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
    this.updateColors();
    keys.forEach((k3) => {
      this[k3] = overrides[k3];
    });
  }
};
var getThemeVariables = (userOverrides) => {
  const theme2 = new Theme();
  theme2.calculate(userOverrides);
  return theme2;
};
var theme = {
  base: {
    getThemeVariables: getThemeVariables$4
  },
  dark: {
    getThemeVariables: getThemeVariables$3
  },
  default: {
    getThemeVariables: getThemeVariables$2
  },
  forest: {
    getThemeVariables: getThemeVariables$1
  },
  neutral: {
    getThemeVariables
  }
};
var config$1 = {
  theme: "default",
  themeVariables: theme["default"].getThemeVariables(),
  themeCSS: void 0,
  maxTextSize: 5e4,
  darkMode: false,
  fontFamily: '"trebuchet ms", verdana, arial, sans-serif;',
  logLevel: 5,
  securityLevel: "strict",
  startOnLoad: true,
  arrowMarkerAbsolute: false,
  secure: ["secure", "securityLevel", "startOnLoad", "maxTextSize"],
  lazyLoadedDiagrams: [],
  deterministicIds: false,
  deterministicIDSeed: void 0,
  flowchart: {
    diagramPadding: 8,
    htmlLabels: true,
    nodeSpacing: 50,
    rankSpacing: 50,
    curve: "basis",
    padding: 15,
    useMaxWidth: true,
    defaultRenderer: "dagre-wrapper"
  },
  sequence: {
    hideUnusedParticipants: false,
    activationWidth: 10,
    diagramMarginX: 50,
    diagramMarginY: 10,
    actorMargin: 50,
    width: 150,
    height: 65,
    boxMargin: 10,
    boxTextMargin: 5,
    noteMargin: 10,
    messageMargin: 35,
    messageAlign: "center",
    mirrorActors: true,
    forceMenus: false,
    bottomMarginAdj: 1,
    useMaxWidth: true,
    rightAngles: false,
    showSequenceNumbers: false,
    actorFontSize: 14,
    actorFontFamily: '"Open Sans", sans-serif',
    actorFontWeight: 400,
    noteFontSize: 14,
    noteFontFamily: '"trebuchet ms", verdana, arial, sans-serif',
    noteFontWeight: 400,
    noteAlign: "center",
    messageFontSize: 16,
    messageFontFamily: '"trebuchet ms", verdana, arial, sans-serif',
    messageFontWeight: 400,
    wrap: false,
    wrapPadding: 10,
    labelBoxWidth: 50,
    labelBoxHeight: 20,
    messageFont: function() {
      return {
        fontFamily: this.messageFontFamily,
        fontSize: this.messageFontSize,
        fontWeight: this.messageFontWeight
      };
    },
    noteFont: function() {
      return {
        fontFamily: this.noteFontFamily,
        fontSize: this.noteFontSize,
        fontWeight: this.noteFontWeight
      };
    },
    actorFont: function() {
      return {
        fontFamily: this.actorFontFamily,
        fontSize: this.actorFontSize,
        fontWeight: this.actorFontWeight
      };
    }
  },
  gantt: {
    titleTopMargin: 25,
    barHeight: 20,
    barGap: 4,
    topPadding: 50,
    rightPadding: 75,
    leftPadding: 75,
    gridLineStartPadding: 35,
    fontSize: 11,
    sectionFontSize: 11,
    numberSectionStyles: 4,
    axisFormat: "%Y-%m-%d",
    useMaxWidth: true,
    topAxis: false,
    useWidth: void 0
  },
  journey: {
    diagramMarginX: 50,
    diagramMarginY: 10,
    leftMargin: 150,
    width: 150,
    height: 50,
    boxMargin: 10,
    boxTextMargin: 5,
    noteMargin: 10,
    messageMargin: 35,
    messageAlign: "center",
    bottomMarginAdj: 1,
    useMaxWidth: true,
    rightAngles: false,
    taskFontSize: 14,
    taskFontFamily: '"Open Sans", sans-serif',
    taskMargin: 50,
    activationWidth: 10,
    textPlacement: "fo",
    actorColours: ["#8FBC8F", "#7CFC00", "#00FFFF", "#20B2AA", "#B0E0E6", "#FFFFE0"],
    sectionFills: ["#191970", "#8B008B", "#4B0082", "#2F4F4F", "#800000", "#8B4513", "#00008B"],
    sectionColours: ["#fff"]
  },
  class: {
    arrowMarkerAbsolute: false,
    dividerMargin: 10,
    padding: 5,
    textHeight: 10,
    useMaxWidth: true,
    defaultRenderer: "dagre-wrapper"
  },
  state: {
    dividerMargin: 10,
    sizeUnit: 5,
    padding: 8,
    textHeight: 10,
    titleShift: -15,
    noteMargin: 10,
    forkWidth: 70,
    forkHeight: 7,
    miniPadding: 2,
    fontSizeFactor: 5.02,
    fontSize: 24,
    labelHeight: 16,
    edgeLengthFactor: "20",
    compositTitleSize: 35,
    radius: 5,
    useMaxWidth: true,
    defaultRenderer: "dagre-wrapper"
  },
  er: {
    diagramPadding: 20,
    layoutDirection: "TB",
    minEntityWidth: 100,
    minEntityHeight: 75,
    entityPadding: 15,
    stroke: "gray",
    fill: "honeydew",
    fontSize: 12,
    useMaxWidth: true
  },
  pie: {
    useWidth: void 0,
    useMaxWidth: true
  },
  requirement: {
    useWidth: void 0,
    useMaxWidth: true,
    rect_fill: "#f9f9f9",
    text_color: "#333",
    rect_border_size: "0.5px",
    rect_border_color: "#bbb",
    rect_min_width: 200,
    rect_min_height: 200,
    fontSize: 14,
    rect_padding: 10,
    line_height: 20
  },
  gitGraph: {
    diagramPadding: 8,
    nodeLabel: {
      width: 75,
      height: 100,
      x: -25,
      y: 0
    },
    mainBranchName: "main",
    mainBranchOrder: 0,
    showCommitLabel: true,
    showBranches: true,
    rotateCommitLabel: true
  },
  c4: {
    useWidth: void 0,
    diagramMarginX: 50,
    diagramMarginY: 10,
    c4ShapeMargin: 50,
    c4ShapePadding: 20,
    width: 216,
    height: 60,
    boxMargin: 10,
    useMaxWidth: true,
    c4ShapeInRow: 4,
    nextLinePaddingX: 0,
    c4BoundaryInRow: 2,
    personFontSize: 14,
    personFontFamily: '"Open Sans", sans-serif',
    personFontWeight: "normal",
    external_personFontSize: 14,
    external_personFontFamily: '"Open Sans", sans-serif',
    external_personFontWeight: "normal",
    systemFontSize: 14,
    systemFontFamily: '"Open Sans", sans-serif',
    systemFontWeight: "normal",
    external_systemFontSize: 14,
    external_systemFontFamily: '"Open Sans", sans-serif',
    external_systemFontWeight: "normal",
    system_dbFontSize: 14,
    system_dbFontFamily: '"Open Sans", sans-serif',
    system_dbFontWeight: "normal",
    external_system_dbFontSize: 14,
    external_system_dbFontFamily: '"Open Sans", sans-serif',
    external_system_dbFontWeight: "normal",
    system_queueFontSize: 14,
    system_queueFontFamily: '"Open Sans", sans-serif',
    system_queueFontWeight: "normal",
    external_system_queueFontSize: 14,
    external_system_queueFontFamily: '"Open Sans", sans-serif',
    external_system_queueFontWeight: "normal",
    boundaryFontSize: 14,
    boundaryFontFamily: '"Open Sans", sans-serif',
    boundaryFontWeight: "normal",
    messageFontSize: 12,
    messageFontFamily: '"Open Sans", sans-serif',
    messageFontWeight: "normal",
    containerFontSize: 14,
    containerFontFamily: '"Open Sans", sans-serif',
    containerFontWeight: "normal",
    external_containerFontSize: 14,
    external_containerFontFamily: '"Open Sans", sans-serif',
    external_containerFontWeight: "normal",
    container_dbFontSize: 14,
    container_dbFontFamily: '"Open Sans", sans-serif',
    container_dbFontWeight: "normal",
    external_container_dbFontSize: 14,
    external_container_dbFontFamily: '"Open Sans", sans-serif',
    external_container_dbFontWeight: "normal",
    container_queueFontSize: 14,
    container_queueFontFamily: '"Open Sans", sans-serif',
    container_queueFontWeight: "normal",
    external_container_queueFontSize: 14,
    external_container_queueFontFamily: '"Open Sans", sans-serif',
    external_container_queueFontWeight: "normal",
    componentFontSize: 14,
    componentFontFamily: '"Open Sans", sans-serif',
    componentFontWeight: "normal",
    external_componentFontSize: 14,
    external_componentFontFamily: '"Open Sans", sans-serif',
    external_componentFontWeight: "normal",
    component_dbFontSize: 14,
    component_dbFontFamily: '"Open Sans", sans-serif',
    component_dbFontWeight: "normal",
    external_component_dbFontSize: 14,
    external_component_dbFontFamily: '"Open Sans", sans-serif',
    external_component_dbFontWeight: "normal",
    component_queueFontSize: 14,
    component_queueFontFamily: '"Open Sans", sans-serif',
    component_queueFontWeight: "normal",
    external_component_queueFontSize: 14,
    external_component_queueFontFamily: '"Open Sans", sans-serif',
    external_component_queueFontWeight: "normal",
    wrap: true,
    wrapPadding: 10,
    personFont: function() {
      return {
        fontFamily: this.personFontFamily,
        fontSize: this.personFontSize,
        fontWeight: this.personFontWeight
      };
    },
    external_personFont: function() {
      return {
        fontFamily: this.external_personFontFamily,
        fontSize: this.external_personFontSize,
        fontWeight: this.external_personFontWeight
      };
    },
    systemFont: function() {
      return {
        fontFamily: this.systemFontFamily,
        fontSize: this.systemFontSize,
        fontWeight: this.systemFontWeight
      };
    },
    external_systemFont: function() {
      return {
        fontFamily: this.external_systemFontFamily,
        fontSize: this.external_systemFontSize,
        fontWeight: this.external_systemFontWeight
      };
    },
    system_dbFont: function() {
      return {
        fontFamily: this.system_dbFontFamily,
        fontSize: this.system_dbFontSize,
        fontWeight: this.system_dbFontWeight
      };
    },
    external_system_dbFont: function() {
      return {
        fontFamily: this.external_system_dbFontFamily,
        fontSize: this.external_system_dbFontSize,
        fontWeight: this.external_system_dbFontWeight
      };
    },
    system_queueFont: function() {
      return {
        fontFamily: this.system_queueFontFamily,
        fontSize: this.system_queueFontSize,
        fontWeight: this.system_queueFontWeight
      };
    },
    external_system_queueFont: function() {
      return {
        fontFamily: this.external_system_queueFontFamily,
        fontSize: this.external_system_queueFontSize,
        fontWeight: this.external_system_queueFontWeight
      };
    },
    containerFont: function() {
      return {
        fontFamily: this.containerFontFamily,
        fontSize: this.containerFontSize,
        fontWeight: this.containerFontWeight
      };
    },
    external_containerFont: function() {
      return {
        fontFamily: this.external_containerFontFamily,
        fontSize: this.external_containerFontSize,
        fontWeight: this.external_containerFontWeight
      };
    },
    container_dbFont: function() {
      return {
        fontFamily: this.container_dbFontFamily,
        fontSize: this.container_dbFontSize,
        fontWeight: this.container_dbFontWeight
      };
    },
    external_container_dbFont: function() {
      return {
        fontFamily: this.external_container_dbFontFamily,
        fontSize: this.external_container_dbFontSize,
        fontWeight: this.external_container_dbFontWeight
      };
    },
    container_queueFont: function() {
      return {
        fontFamily: this.container_queueFontFamily,
        fontSize: this.container_queueFontSize,
        fontWeight: this.container_queueFontWeight
      };
    },
    external_container_queueFont: function() {
      return {
        fontFamily: this.external_container_queueFontFamily,
        fontSize: this.external_container_queueFontSize,
        fontWeight: this.external_container_queueFontWeight
      };
    },
    componentFont: function() {
      return {
        fontFamily: this.componentFontFamily,
        fontSize: this.componentFontSize,
        fontWeight: this.componentFontWeight
      };
    },
    external_componentFont: function() {
      return {
        fontFamily: this.external_componentFontFamily,
        fontSize: this.external_componentFontSize,
        fontWeight: this.external_componentFontWeight
      };
    },
    component_dbFont: function() {
      return {
        fontFamily: this.component_dbFontFamily,
        fontSize: this.component_dbFontSize,
        fontWeight: this.component_dbFontWeight
      };
    },
    external_component_dbFont: function() {
      return {
        fontFamily: this.external_component_dbFontFamily,
        fontSize: this.external_component_dbFontSize,
        fontWeight: this.external_component_dbFontWeight
      };
    },
    component_queueFont: function() {
      return {
        fontFamily: this.component_queueFontFamily,
        fontSize: this.component_queueFontSize,
        fontWeight: this.component_queueFontWeight
      };
    },
    external_component_queueFont: function() {
      return {
        fontFamily: this.external_component_queueFontFamily,
        fontSize: this.external_component_queueFontSize,
        fontWeight: this.external_component_queueFontWeight
      };
    },
    boundaryFont: function() {
      return {
        fontFamily: this.boundaryFontFamily,
        fontSize: this.boundaryFontSize,
        fontWeight: this.boundaryFontWeight
      };
    },
    messageFont: function() {
      return {
        fontFamily: this.messageFontFamily,
        fontSize: this.messageFontSize,
        fontWeight: this.messageFontWeight
      };
    },
    person_bg_color: "#08427B",
    person_border_color: "#073B6F",
    external_person_bg_color: "#686868",
    external_person_border_color: "#8A8A8A",
    system_bg_color: "#1168BD",
    system_border_color: "#3C7FC0",
    system_db_bg_color: "#1168BD",
    system_db_border_color: "#3C7FC0",
    system_queue_bg_color: "#1168BD",
    system_queue_border_color: "#3C7FC0",
    external_system_bg_color: "#999999",
    external_system_border_color: "#8A8A8A",
    external_system_db_bg_color: "#999999",
    external_system_db_border_color: "#8A8A8A",
    external_system_queue_bg_color: "#999999",
    external_system_queue_border_color: "#8A8A8A",
    container_bg_color: "#438DD5",
    container_border_color: "#3C7FC0",
    container_db_bg_color: "#438DD5",
    container_db_border_color: "#3C7FC0",
    container_queue_bg_color: "#438DD5",
    container_queue_border_color: "#3C7FC0",
    external_container_bg_color: "#B3B3B3",
    external_container_border_color: "#A6A6A6",
    external_container_db_bg_color: "#B3B3B3",
    external_container_db_border_color: "#A6A6A6",
    external_container_queue_bg_color: "#B3B3B3",
    external_container_queue_border_color: "#A6A6A6",
    component_bg_color: "#85BBF0",
    component_border_color: "#78A8D8",
    component_db_bg_color: "#85BBF0",
    component_db_border_color: "#78A8D8",
    component_queue_bg_color: "#85BBF0",
    component_queue_border_color: "#78A8D8",
    external_component_bg_color: "#CCCCCC",
    external_component_border_color: "#BFBFBF",
    external_component_db_bg_color: "#CCCCCC",
    external_component_db_border_color: "#BFBFBF",
    external_component_queue_bg_color: "#CCCCCC",
    external_component_queue_border_color: "#BFBFBF"
  },
  mindmap: {
    useMaxWidth: true,
    padding: 10,
    maxNodeWidth: 200
  },
  fontSize: 16
};
if (config$1.class)
  config$1.class.arrowMarkerAbsolute = config$1.arrowMarkerAbsolute;
if (config$1.gitGraph)
  config$1.gitGraph.arrowMarkerAbsolute = config$1.arrowMarkerAbsolute;
var keyify = (obj, prefix3 = "") => Object.keys(obj).reduce((res, el) => {
  if (Array.isArray(obj[el])) {
    return res;
  } else if (typeof obj[el] === "object" && obj[el] !== null) {
    return [...res, prefix3 + el, ...keyify(obj[el], "")];
  }
  return [...res, prefix3 + el];
}, []);
var configKeys = keyify(config$1, "");
var directive$1 = /[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi;
var anyComment = /\s*%%.*\n/gm;
var detectors = {};
var detectType = function(text2, config2) {
  text2 = text2.replace(directive$1, "").replace(anyComment, "\n");
  for (const [key, { detector }] of Object.entries(detectors)) {
    const diagram = detector(text2, config2);
    if (diagram) {
      return key;
    }
  }
  throw new Error(`No diagram type detected for text: ${text2}`);
};
var addDetector = (key, detector, loader) => {
  if (detectors[key]) {
    throw new Error(`Detector with key ${key} already exists`);
  }
  detectors[key] = { detector, loader };
  log$1.debug(`Detector with key ${key} added${loader ? " with loader" : ""}`);
};
var getDiagramLoader = (key) => detectors[key].loader;
var assignWithDepth = function(dst, src, config2) {
  const { depth, clobber } = Object.assign({ depth: 2, clobber: false }, config2);
  if (Array.isArray(src) && !Array.isArray(dst)) {
    src.forEach((s3) => assignWithDepth(dst, s3, config2));
    return dst;
  } else if (Array.isArray(src) && Array.isArray(dst)) {
    src.forEach((s3) => {
      if (dst.indexOf(s3) === -1) {
        dst.push(s3);
      }
    });
    return dst;
  }
  if (typeof dst === "undefined" || depth <= 0) {
    if (dst !== void 0 && dst !== null && typeof dst === "object" && typeof src === "object") {
      return Object.assign(dst, src);
    } else {
      return src;
    }
  }
  if (typeof src !== "undefined" && typeof dst === "object" && typeof src === "object") {
    Object.keys(src).forEach((key) => {
      if (typeof src[key] === "object" && (dst[key] === void 0 || typeof dst[key] === "object")) {
        if (dst[key] === void 0) {
          dst[key] = Array.isArray(src[key]) ? [] : {};
        }
        dst[key] = assignWithDepth(dst[key], src[key], { depth: depth - 1, clobber });
      } else if (clobber || typeof dst[key] !== "object" && typeof src[key] !== "object") {
        dst[key] = src[key];
      }
    });
  }
  return dst;
};
var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
var freeGlobal$1 = typeof commonjsGlobal == "object" && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;
var _freeGlobal = freeGlobal$1;
var freeGlobal = _freeGlobal;
var freeSelf = typeof self == "object" && self && self.Object === Object && self;
var root$2 = freeGlobal || freeSelf || Function("return this")();
var _root = root$2;
var _Symbol;
var hasRequired_Symbol;
function require_Symbol2() {
  if (hasRequired_Symbol)
    return _Symbol;
  hasRequired_Symbol = 1;
  var root22 = _root;
  var Symbol22 = root22.Symbol;
  _Symbol = Symbol22;
  return _Symbol;
}
var _getRawTag;
var hasRequired_getRawTag;
function require_getRawTag2() {
  if (hasRequired_getRawTag)
    return _getRawTag;
  hasRequired_getRawTag = 1;
  var Symbol22 = require_Symbol2();
  var objectProto2 = Object.prototype;
  var hasOwnProperty22 = objectProto2.hasOwnProperty;
  var nativeObjectToString = objectProto2.toString;
  var symToStringTag = Symbol22 ? Symbol22.toStringTag : void 0;
  function getRawTag(value) {
    var isOwn = hasOwnProperty22.call(value, symToStringTag), tag = value[symToStringTag];
    try {
      value[symToStringTag] = void 0;
      var unmasked = true;
    } catch (e) {
    }
    var result = nativeObjectToString.call(value);
    if (unmasked) {
      if (isOwn) {
        value[symToStringTag] = tag;
      } else {
        delete value[symToStringTag];
      }
    }
    return result;
  }
  _getRawTag = getRawTag;
  return _getRawTag;
}
var _objectToString;
var hasRequired_objectToString;
function require_objectToString2() {
  if (hasRequired_objectToString)
    return _objectToString;
  hasRequired_objectToString = 1;
  var objectProto2 = Object.prototype;
  var nativeObjectToString = objectProto2.toString;
  function objectToString(value) {
    return nativeObjectToString.call(value);
  }
  _objectToString = objectToString;
  return _objectToString;
}
var _baseGetTag;
var hasRequired_baseGetTag;
function require_baseGetTag2() {
  if (hasRequired_baseGetTag)
    return _baseGetTag;
  hasRequired_baseGetTag = 1;
  var Symbol22 = require_Symbol2(), getRawTag = require_getRawTag2(), objectToString = require_objectToString2();
  var nullTag = "[object Null]", undefinedTag = "[object Undefined]";
  var symToStringTag = Symbol22 ? Symbol22.toStringTag : void 0;
  function baseGetTag(value) {
    if (value == null) {
      return value === void 0 ? undefinedTag : nullTag;
    }
    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);
  }
  _baseGetTag = baseGetTag;
  return _baseGetTag;
}
var isObject_1;
var hasRequiredIsObject;
function requireIsObject() {
  if (hasRequiredIsObject)
    return isObject_1;
  hasRequiredIsObject = 1;
  function isObject2(value) {
    var type22 = typeof value;
    return value != null && (type22 == "object" || type22 == "function");
  }
  isObject_1 = isObject2;
  return isObject_1;
}
var isFunction_1;
var hasRequiredIsFunction;
function requireIsFunction() {
  if (hasRequiredIsFunction)
    return isFunction_1;
  hasRequiredIsFunction = 1;
  var baseGetTag = require_baseGetTag2(), isObject2 = requireIsObject();
  var asyncTag = "[object AsyncFunction]", funcTag = "[object Function]", genTag = "[object GeneratorFunction]", proxyTag = "[object Proxy]";
  function isFunction2(value) {
    if (!isObject2(value)) {
      return false;
    }
    var tag = baseGetTag(value);
    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
  }
  isFunction_1 = isFunction2;
  return isFunction_1;
}
var root$1 = _root;
var coreJsData$1 = root$1["__core-js_shared__"];
var _coreJsData = coreJsData$1;
var coreJsData = _coreJsData;
var maskSrcKey = function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
  return uid ? "Symbol(src)_1." + uid : "";
}();
function isMasked$1(func) {
  return !!maskSrcKey && maskSrcKey in func;
}
var _isMasked = isMasked$1;
var funcProto$1 = Function.prototype;
var funcToString$1 = funcProto$1.toString;
function toSource$1(func) {
  if (func != null) {
    try {
      return funcToString$1.call(func);
    } catch (e) {
    }
    try {
      return func + "";
    } catch (e) {
    }
  }
  return "";
}
var _toSource = toSource$1;
var isFunction = requireIsFunction();
var isMasked = _isMasked;
var isObject = requireIsObject();
var toSource = _toSource;
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
var reIsHostCtor = /^\[object .+?Constructor\]$/;
var funcProto = Function.prototype;
var objectProto$2 = Object.prototype;
var funcToString = funcProto.toString;
var hasOwnProperty$2 = objectProto$2.hasOwnProperty;
var reIsNative = RegExp(
  "^" + funcToString.call(hasOwnProperty$2).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function baseIsNative$1(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}
var _baseIsNative = baseIsNative$1;
function getValue$1(object2, key) {
  return object2 == null ? void 0 : object2[key];
}
var _getValue = getValue$1;
var baseIsNative = _baseIsNative;
var getValue = _getValue;
function getNative$2(object2, key) {
  var value = getValue(object2, key);
  return baseIsNative(value) ? value : void 0;
}
var _getNative = getNative$2;
var getNative$1 = _getNative;
var nativeCreate$4 = getNative$1(Object, "create");
var _nativeCreate = nativeCreate$4;
var nativeCreate$3 = _nativeCreate;
function hashClear$1() {
  this.__data__ = nativeCreate$3 ? nativeCreate$3(null) : {};
  this.size = 0;
}
var _hashClear = hashClear$1;
function hashDelete$1(key) {
  var result = this.has(key) && delete this.__data__[key];
  this.size -= result ? 1 : 0;
  return result;
}
var _hashDelete = hashDelete$1;
var nativeCreate$2 = _nativeCreate;
var HASH_UNDEFINED$1 = "__lodash_hash_undefined__";
var objectProto$1 = Object.prototype;
var hasOwnProperty$1 = objectProto$1.hasOwnProperty;
function hashGet$1(key) {
  var data = this.__data__;
  if (nativeCreate$2) {
    var result = data[key];
    return result === HASH_UNDEFINED$1 ? void 0 : result;
  }
  return hasOwnProperty$1.call(data, key) ? data[key] : void 0;
}
var _hashGet = hashGet$1;
var nativeCreate$1 = _nativeCreate;
var objectProto = Object.prototype;
var hasOwnProperty2 = objectProto.hasOwnProperty;
function hashHas$1(key) {
  var data = this.__data__;
  return nativeCreate$1 ? data[key] !== void 0 : hasOwnProperty2.call(data, key);
}
var _hashHas = hashHas$1;
var nativeCreate = _nativeCreate;
var HASH_UNDEFINED = "__lodash_hash_undefined__";
function hashSet$1(key, value) {
  var data = this.__data__;
  this.size += this.has(key) ? 0 : 1;
  data[key] = nativeCreate && value === void 0 ? HASH_UNDEFINED : value;
  return this;
}
var _hashSet = hashSet$1;
var hashClear = _hashClear;
var hashDelete = _hashDelete;
var hashGet = _hashGet;
var hashHas = _hashHas;
var hashSet = _hashSet;
function Hash$1(entries) {
  var index6 = -1, length3 = entries == null ? 0 : entries.length;
  this.clear();
  while (++index6 < length3) {
    var entry = entries[index6];
    this.set(entry[0], entry[1]);
  }
}
Hash$1.prototype.clear = hashClear;
Hash$1.prototype["delete"] = hashDelete;
Hash$1.prototype.get = hashGet;
Hash$1.prototype.has = hashHas;
Hash$1.prototype.set = hashSet;
var _Hash = Hash$1;
function listCacheClear$1() {
  this.__data__ = [];
  this.size = 0;
}
var _listCacheClear = listCacheClear$1;
var eq_1;
var hasRequiredEq;
function requireEq() {
  if (hasRequiredEq)
    return eq_1;
  hasRequiredEq = 1;
  function eq2(value, other) {
    return value === other || value !== value && other !== other;
  }
  eq_1 = eq2;
  return eq_1;
}
var eq = requireEq();
function assocIndexOf$4(array12, key) {
  var length3 = array12.length;
  while (length3--) {
    if (eq(array12[length3][0], key)) {
      return length3;
    }
  }
  return -1;
}
var _assocIndexOf = assocIndexOf$4;
var assocIndexOf$3 = _assocIndexOf;
var arrayProto = Array.prototype;
var splice = arrayProto.splice;
function listCacheDelete$1(key) {
  var data = this.__data__, index6 = assocIndexOf$3(data, key);
  if (index6 < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index6 == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index6, 1);
  }
  --this.size;
  return true;
}
var _listCacheDelete = listCacheDelete$1;
var assocIndexOf$2 = _assocIndexOf;
function listCacheGet$1(key) {
  var data = this.__data__, index6 = assocIndexOf$2(data, key);
  return index6 < 0 ? void 0 : data[index6][1];
}
var _listCacheGet = listCacheGet$1;
var assocIndexOf$1 = _assocIndexOf;
function listCacheHas$1(key) {
  return assocIndexOf$1(this.__data__, key) > -1;
}
var _listCacheHas = listCacheHas$1;
var assocIndexOf = _assocIndexOf;
function listCacheSet$1(key, value) {
  var data = this.__data__, index6 = assocIndexOf(data, key);
  if (index6 < 0) {
    ++this.size;
    data.push([key, value]);
  } else {
    data[index6][1] = value;
  }
  return this;
}
var _listCacheSet = listCacheSet$1;
var listCacheClear = _listCacheClear;
var listCacheDelete = _listCacheDelete;
var listCacheGet = _listCacheGet;
var listCacheHas = _listCacheHas;
var listCacheSet = _listCacheSet;
function ListCache$1(entries) {
  var index6 = -1, length3 = entries == null ? 0 : entries.length;
  this.clear();
  while (++index6 < length3) {
    var entry = entries[index6];
    this.set(entry[0], entry[1]);
  }
}
ListCache$1.prototype.clear = listCacheClear;
ListCache$1.prototype["delete"] = listCacheDelete;
ListCache$1.prototype.get = listCacheGet;
ListCache$1.prototype.has = listCacheHas;
ListCache$1.prototype.set = listCacheSet;
var _ListCache = ListCache$1;
var getNative = _getNative;
var root6 = _root;
var Map$2 = getNative(root6, "Map");
var _Map = Map$2;
var Hash = _Hash;
var ListCache = _ListCache;
var Map$1 = _Map;
function mapCacheClear$1() {
  this.size = 0;
  this.__data__ = {
    "hash": new Hash(),
    "map": new (Map$1 || ListCache)(),
    "string": new Hash()
  };
}
var _mapCacheClear = mapCacheClear$1;
function isKeyable$1(value) {
  var type22 = typeof value;
  return type22 == "string" || type22 == "number" || type22 == "symbol" || type22 == "boolean" ? value !== "__proto__" : value === null;
}
var _isKeyable = isKeyable$1;
var isKeyable = _isKeyable;
function getMapData$4(map15, key) {
  var data = map15.__data__;
  return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
}
var _getMapData = getMapData$4;
var getMapData$3 = _getMapData;
function mapCacheDelete$1(key) {
  var result = getMapData$3(this, key)["delete"](key);
  this.size -= result ? 1 : 0;
  return result;
}
var _mapCacheDelete = mapCacheDelete$1;
var getMapData$2 = _getMapData;
function mapCacheGet$1(key) {
  return getMapData$2(this, key).get(key);
}
var _mapCacheGet = mapCacheGet$1;
var getMapData$1 = _getMapData;
function mapCacheHas$1(key) {
  return getMapData$1(this, key).has(key);
}
var _mapCacheHas = mapCacheHas$1;
var getMapData = _getMapData;
function mapCacheSet$1(key, value) {
  var data = getMapData(this, key), size = data.size;
  data.set(key, value);
  this.size += data.size == size ? 0 : 1;
  return this;
}
var _mapCacheSet = mapCacheSet$1;
var mapCacheClear = _mapCacheClear;
var mapCacheDelete = _mapCacheDelete;
var mapCacheGet = _mapCacheGet;
var mapCacheHas = _mapCacheHas;
var mapCacheSet = _mapCacheSet;
function MapCache$1(entries) {
  var index6 = -1, length3 = entries == null ? 0 : entries.length;
  this.clear();
  while (++index6 < length3) {
    var entry = entries[index6];
    this.set(entry[0], entry[1]);
  }
}
MapCache$1.prototype.clear = mapCacheClear;
MapCache$1.prototype["delete"] = mapCacheDelete;
MapCache$1.prototype.get = mapCacheGet;
MapCache$1.prototype.has = mapCacheHas;
MapCache$1.prototype.set = mapCacheSet;
var _MapCache = MapCache$1;
var MapCache = _MapCache;
var FUNC_ERROR_TEXT = "Expected a function";
function memoize(func, resolver) {
  if (typeof func != "function" || resolver != null && typeof resolver != "function") {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result) || cache;
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache)();
  return memoized;
}
memoize.Cache = MapCache;
var memoize_1 = memoize;
var d3CurveTypes = {
  curveBasis: basis_default5,
  curveBasisClosed: basisClosed_default5,
  curveBasisOpen: basisOpen_default,
  curveLinear: linear_default,
  curveLinearClosed: linearClosed_default,
  curveMonotoneX: monotoneX,
  curveMonotoneY: monotoneY,
  curveNatural: natural_default,
  curveStep: step_default,
  curveStepAfter: stepAfter,
  curveStepBefore: stepBefore
};
var directive = /[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi;
var directiveWithoutOpen = /\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi;
var detectInit = function(text2, config2) {
  const inits = detectDirective(text2, /(?:init\b)|(?:initialize\b)/);
  let results = {};
  if (Array.isArray(inits)) {
    const args = inits.map((init22) => init22.args);
    directiveSanitizer(args);
    results = assignWithDepth(results, [...args]);
  } else {
    results = inits.args;
  }
  if (results) {
    let type22 = detectType(text2, config2);
    ["config"].forEach((prop) => {
      if (typeof results[prop] !== "undefined") {
        if (type22 === "flowchart-v2") {
          type22 = "flowchart";
        }
        results[type22] = results[prop];
        delete results[prop];
      }
    });
  }
  return results;
};
var detectDirective = function(text2, type22 = null) {
  try {
    const commentWithoutDirectives = new RegExp(
      `[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,
      "ig"
    );
    text2 = text2.trim().replace(commentWithoutDirectives, "").replace(/'/gm, '"');
    log$1.debug(
      `Detecting diagram directive${type22 !== null ? " type:" + type22 : ""} based on the text:${text2}`
    );
    let match2;
    const result = [];
    while ((match2 = directive.exec(text2)) !== null) {
      if (match2.index === directive.lastIndex) {
        directive.lastIndex++;
      }
      if (match2 && !type22 || type22 && match2[1] && match2[1].match(type22) || type22 && match2[2] && match2[2].match(type22)) {
        const type222 = match2[1] ? match2[1] : match2[2];
        const args = match2[3] ? match2[3].trim() : match2[4] ? JSON.parse(match2[4].trim()) : null;
        result.push({ type: type222, args });
      }
    }
    if (result.length === 0) {
      result.push({ type: text2, args: null });
    }
    return result.length === 1 ? result[0] : result;
  } catch (error) {
    log$1.error(
      `ERROR: ${error.message} - Unable to parse directive
      ${type22 !== null ? " type:" + type22 : ""} based on the text:${text2}`
    );
    return { type: null, args: null };
  }
};
var isSubstringInArray = function(str, arr) {
  for (let i = 0; i < arr.length; i++) {
    if (arr[i].match(str))
      return i;
  }
  return -1;
};
var interpolateToCurve = (interpolate, defaultCurve) => {
  if (!interpolate) {
    return defaultCurve;
  }
  const curveName = `curve${interpolate.charAt(0).toUpperCase() + interpolate.slice(1)}`;
  return d3CurveTypes[curveName] || defaultCurve;
};
var formatUrl = (linkStr, config2) => {
  const url = linkStr.trim();
  if (url) {
    if (config2.securityLevel !== "loose") {
      return (0, import_sanitize_url.sanitizeUrl)(url);
    }
    return url;
  }
};
var runFunc = (functionName, ...params) => {
  const arrPaths = functionName.split(".");
  const len = arrPaths.length - 1;
  const fnName = arrPaths[len];
  let obj = window;
  for (let i = 0; i < len; i++) {
    obj = obj[arrPaths[i]];
    if (!obj)
      return;
  }
  obj[fnName](...params);
};
var distance = (p1, p2) => p1 && p2 ? Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2)) : 0;
var traverseEdge = (points) => {
  let prevPoint;
  let totalDistance2 = 0;
  points.forEach((point22) => {
    totalDistance2 += distance(point22, prevPoint);
    prevPoint = point22;
  });
  let remainingDistance = totalDistance2 / 2;
  let center3 = void 0;
  prevPoint = void 0;
  points.forEach((point22) => {
    if (prevPoint && !center3) {
      const vectorDistance = distance(point22, prevPoint);
      if (vectorDistance < remainingDistance) {
        remainingDistance -= vectorDistance;
      } else {
        const distanceRatio = remainingDistance / vectorDistance;
        if (distanceRatio <= 0)
          center3 = prevPoint;
        if (distanceRatio >= 1)
          center3 = { x: point22.x, y: point22.y };
        if (distanceRatio > 0 && distanceRatio < 1) {
          center3 = {
            x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point22.x,
            y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point22.y
          };
        }
      }
    }
    prevPoint = point22;
  });
  return center3;
};
var calcLabelPosition = (points) => {
  if (points.length === 1) {
    return points[0];
  }
  return traverseEdge(points);
};
var calcCardinalityPosition = (isRelationTypePresent, points, initialPosition) => {
  let prevPoint;
  log$1.info("our points", points);
  if (points[0] !== initialPosition) {
    points = points.reverse();
  }
  points.forEach((point22) => {
    totalDistance += distance(point22, prevPoint);
    prevPoint = point22;
  });
  const distanceToCardinalityPoint = 25;
  let remainingDistance = distanceToCardinalityPoint;
  let center3;
  prevPoint = void 0;
  points.forEach((point22) => {
    if (prevPoint && !center3) {
      const vectorDistance = distance(point22, prevPoint);
      if (vectorDistance < remainingDistance) {
        remainingDistance -= vectorDistance;
      } else {
        const distanceRatio = remainingDistance / vectorDistance;
        if (distanceRatio <= 0)
          center3 = prevPoint;
        if (distanceRatio >= 1)
          center3 = { x: point22.x, y: point22.y };
        if (distanceRatio > 0 && distanceRatio < 1) {
          center3 = {
            x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point22.x,
            y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point22.y
          };
        }
      }
    }
    prevPoint = point22;
  });
  const d = isRelationTypePresent ? 10 : 5;
  const angle2 = Math.atan2(points[0].y - center3.y, points[0].x - center3.x);
  const cardinalityPosition = { x: 0, y: 0 };
  cardinalityPosition.x = Math.sin(angle2) * d + (points[0].x + center3.x) / 2;
  cardinalityPosition.y = -Math.cos(angle2) * d + (points[0].y + center3.y) / 2;
  return cardinalityPosition;
};
var calcTerminalLabelPosition = (terminalMarkerSize, position2, _points) => {
  let points = JSON.parse(JSON.stringify(_points));
  let prevPoint;
  log$1.info("our points", points);
  if (position2 !== "start_left" && position2 !== "start_right") {
    points = points.reverse();
  }
  points.forEach((point22) => {
    prevPoint = point22;
  });
  const distanceToCardinalityPoint = 25 + terminalMarkerSize;
  let remainingDistance = distanceToCardinalityPoint;
  let center3;
  prevPoint = void 0;
  points.forEach((point22) => {
    if (prevPoint && !center3) {
      const vectorDistance = distance(point22, prevPoint);
      if (vectorDistance < remainingDistance) {
        remainingDistance -= vectorDistance;
      } else {
        const distanceRatio = remainingDistance / vectorDistance;
        if (distanceRatio <= 0)
          center3 = prevPoint;
        if (distanceRatio >= 1)
          center3 = { x: point22.x, y: point22.y };
        if (distanceRatio > 0 && distanceRatio < 1) {
          center3 = {
            x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point22.x,
            y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point22.y
          };
        }
      }
    }
    prevPoint = point22;
  });
  const d = 10 + terminalMarkerSize * 0.5;
  const angle2 = Math.atan2(points[0].y - center3.y, points[0].x - center3.x);
  const cardinalityPosition = { x: 0, y: 0 };
  cardinalityPosition.x = Math.sin(angle2) * d + (points[0].x + center3.x) / 2;
  cardinalityPosition.y = -Math.cos(angle2) * d + (points[0].y + center3.y) / 2;
  if (position2 === "start_left") {
    cardinalityPosition.x = Math.sin(angle2 + Math.PI) * d + (points[0].x + center3.x) / 2;
    cardinalityPosition.y = -Math.cos(angle2 + Math.PI) * d + (points[0].y + center3.y) / 2;
  }
  if (position2 === "end_right") {
    cardinalityPosition.x = Math.sin(angle2 - Math.PI) * d + (points[0].x + center3.x) / 2 - 5;
    cardinalityPosition.y = -Math.cos(angle2 - Math.PI) * d + (points[0].y + center3.y) / 2 - 5;
  }
  if (position2 === "end_left") {
    cardinalityPosition.x = Math.sin(angle2) * d + (points[0].x + center3.x) / 2 - 5;
    cardinalityPosition.y = -Math.cos(angle2) * d + (points[0].y + center3.y) / 2 - 5;
  }
  return cardinalityPosition;
};
var getStylesFromArray = (arr) => {
  let style = "";
  let labelStyle = "";
  for (let i = 0; i < arr.length; i++) {
    if (typeof arr[i] !== "undefined") {
      if (arr[i].startsWith("color:") || arr[i].startsWith("text-align:")) {
        labelStyle = labelStyle + arr[i] + ";";
      } else {
        style = style + arr[i] + ";";
      }
    }
  }
  return { style, labelStyle };
};
var cnt$1 = 0;
var generateId$1 = () => {
  cnt$1++;
  return "id-" + Math.random().toString(36).substr(2, 12) + "-" + cnt$1;
};
function makeid(length3) {
  let result = "";
  const characters2 = "0123456789abcdef";
  const charactersLength = characters2.length;
  for (let i = 0; i < length3; i++) {
    result += characters2.charAt(Math.floor(Math.random() * charactersLength));
  }
  return result;
}
var random = (options2) => {
  return makeid(options2.length);
};
var getTextObj$3 = function() {
  return {
    x: 0,
    y: 0,
    fill: void 0,
    anchor: "start",
    style: "#666",
    width: 100,
    height: 100,
    textMargin: 0,
    rx: 0,
    ry: 0,
    valign: void 0
  };
};
var drawSimpleText = function(elem, textData) {
  const nText = textData.text.replace(common.lineBreakRegex, " ");
  const textElem = elem.append("text");
  textElem.attr("x", textData.x);
  textElem.attr("y", textData.y);
  textElem.style("text-anchor", textData.anchor);
  textElem.style("font-family", textData.fontFamily);
  textElem.style("font-size", textData.fontSize);
  textElem.style("font-weight", textData.fontWeight);
  textElem.attr("fill", textData.fill);
  if (typeof textData.class !== "undefined") {
    textElem.attr("class", textData.class);
  }
  const span = textElem.append("tspan");
  span.attr("x", textData.x + textData.textMargin * 2);
  span.attr("fill", textData.fill);
  span.text(nText);
  return textElem;
};
var wrapLabel = memoize_1(
  (label, maxWidth, config2) => {
    if (!label) {
      return label;
    }
    config2 = Object.assign(
      { fontSize: 12, fontWeight: 400, fontFamily: "Arial", joinWith: "<br/>" },
      config2
    );
    if (common.lineBreakRegex.test(label)) {
      return label;
    }
    const words = label.split(" ");
    const completedLines = [];
    let nextLine = "";
    words.forEach((word, index6) => {
      const wordLength = calculateTextWidth(`${word} `, config2);
      const nextLineLength = calculateTextWidth(nextLine, config2);
      if (wordLength > maxWidth) {
        const { hyphenatedStrings, remainingWord } = breakString(word, maxWidth, "-", config2);
        completedLines.push(nextLine, ...hyphenatedStrings);
        nextLine = remainingWord;
      } else if (nextLineLength + wordLength >= maxWidth) {
        completedLines.push(nextLine);
        nextLine = word;
      } else {
        nextLine = [nextLine, word].filter(Boolean).join(" ");
      }
      const currentWord = index6 + 1;
      const isLastWord = currentWord === words.length;
      if (isLastWord) {
        completedLines.push(nextLine);
      }
    });
    return completedLines.filter((line2) => line2 !== "").join(config2.joinWith);
  },
  (label, maxWidth, config2) => `${label}${maxWidth}${config2.fontSize}${config2.fontWeight}${config2.fontFamily}${config2.joinWith}`
);
var breakString = memoize_1(
  (word, maxWidth, hyphenCharacter = "-", config2) => {
    config2 = Object.assign(
      { fontSize: 12, fontWeight: 400, fontFamily: "Arial", margin: 0 },
      config2
    );
    const characters2 = word.split("");
    const lines = [];
    let currentLine = "";
    characters2.forEach((character2, index6) => {
      const nextLine = `${currentLine}${character2}`;
      const lineWidth = calculateTextWidth(nextLine, config2);
      if (lineWidth >= maxWidth) {
        const currentCharacter = index6 + 1;
        const isLastLine = characters2.length === currentCharacter;
        const hyphenatedNextLine = `${nextLine}${hyphenCharacter}`;
        lines.push(isLastLine ? nextLine : hyphenatedNextLine);
        currentLine = "";
      } else {
        currentLine = nextLine;
      }
    });
    return { hyphenatedStrings: lines, remainingWord: currentLine };
  },
  (word, maxWidth, hyphenCharacter = "-", config2) => `${word}${maxWidth}${hyphenCharacter}${config2.fontSize}${config2.fontWeight}${config2.fontFamily}`
);
var calculateTextHeight = function(text2, config2) {
  config2 = Object.assign(
    { fontSize: 12, fontWeight: 400, fontFamily: "Arial", margin: 15 },
    config2
  );
  return calculateTextDimensions(text2, config2).height;
};
var calculateTextWidth = function(text2, config2) {
  config2 = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: "Arial" }, config2);
  return calculateTextDimensions(text2, config2).width;
};
var calculateTextDimensions = memoize_1(
  function(text2, config2) {
    config2 = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: "Arial" }, config2);
    const { fontSize, fontFamily, fontWeight } = config2;
    if (!text2) {
      return { width: 0, height: 0 };
    }
    const fontFamilies = ["sans-serif", fontFamily];
    const lines = text2.split(common.lineBreakRegex);
    const dims = [];
    const body = select_default5("body");
    if (!body.remove) {
      return { width: 0, height: 0, lineHeight: 0 };
    }
    const g = body.append("svg");
    for (const fontFamily2 of fontFamilies) {
      let cheight = 0;
      const dim = { width: 0, height: 0, lineHeight: 0 };
      for (const line2 of lines) {
        const textObj = getTextObj$3();
        textObj.text = line2;
        const textElem = drawSimpleText(g, textObj).style("font-size", fontSize).style("font-weight", fontWeight).style("font-family", fontFamily2);
        const bBox = (textElem._groups || textElem)[0][0].getBBox();
        dim.width = Math.round(Math.max(dim.width, bBox.width));
        cheight = Math.round(bBox.height);
        dim.height += cheight;
        dim.lineHeight = Math.round(Math.max(dim.lineHeight, cheight));
      }
      dims.push(dim);
    }
    g.remove();
    const index6 = isNaN(dims[1].height) || isNaN(dims[1].width) || isNaN(dims[1].lineHeight) || dims[0].height > dims[1].height && dims[0].width > dims[1].width && dims[0].lineHeight > dims[1].lineHeight ? 0 : 1;
    return dims[index6];
  },
  (text2, config2) => `${text2}${config2.fontSize}${config2.fontWeight}${config2.fontFamily}`
);
var initIdGenerator = class iterator {
  constructor(deterministic, seed) {
    this.deterministic = deterministic;
    this.seed = seed;
    this.count = seed ? seed.length : 0;
  }
  next() {
    if (!this.deterministic)
      return Date.now();
    return this.count++;
  }
};
var decoder;
var entityDecode = function(html4) {
  decoder = decoder || document.createElement("div");
  html4 = escape(html4).replace(/%26/g, "&").replace(/%23/g, "#").replace(/%3B/g, ";");
  decoder.innerHTML = html4;
  return unescape(decoder.textContent);
};
var directiveSanitizer = (args) => {
  log$1.debug("directiveSanitizer called with", args);
  if (typeof args === "object") {
    if (args.length) {
      args.forEach((arg) => directiveSanitizer(arg));
    } else {
      Object.keys(args).forEach((key) => {
        log$1.debug("Checking key", key);
        if (key.indexOf("__") === 0) {
          log$1.debug("sanitize deleting __ option", key);
          delete args[key];
        }
        if (key.indexOf("proto") >= 0) {
          log$1.debug("sanitize deleting proto option", key);
          delete args[key];
        }
        if (key.indexOf("constr") >= 0) {
          log$1.debug("sanitize deleting constr option", key);
          delete args[key];
        }
        if (key.indexOf("themeCSS") >= 0) {
          log$1.debug("sanitizing themeCss option");
          args[key] = sanitizeCss(args[key]);
        }
        if (key.indexOf("fontFamily") >= 0) {
          log$1.debug("sanitizing fontFamily option");
          args[key] = sanitizeCss(args[key]);
        }
        if (key.indexOf("altFontFamily") >= 0) {
          log$1.debug("sanitizing altFontFamily option");
          args[key] = sanitizeCss(args[key]);
        }
        if (configKeys.indexOf(key) < 0) {
          log$1.debug("sanitize deleting option", key);
          delete args[key];
        } else {
          if (typeof args[key] === "object") {
            log$1.debug("sanitize deleting object", key);
            directiveSanitizer(args[key]);
          }
        }
      });
    }
  }
  if (args.themeVariables) {
    const kArr = Object.keys(args.themeVariables);
    for (let i = 0; i < kArr.length; i++) {
      const k3 = kArr[i];
      const val = args.themeVariables[k3];
      if (val && val.match && !val.match(/^[a-zA-Z0-9#,";()%. ]+$/)) {
        args.themeVariables[k3] = "";
      }
    }
  }
  log$1.debug("After sanitization", args);
};
var sanitizeCss = (str) => {
  let startCnt2 = 0;
  let endCnt = 0;
  for (let i = 0; i < str.length; i++) {
    if (startCnt2 < endCnt) {
      return "{ /* ERROR: Unbalanced CSS */ }";
    }
    if (str[i] === "{") {
      startCnt2++;
    } else if (str[i] === "}") {
      endCnt++;
    }
  }
  if (startCnt2 !== endCnt) {
    return "{ /* ERROR: Unbalanced CSS */ }";
  }
  return str;
};
function isDetailedError(error) {
  return "str" in error;
}
function getErrorMessage(error) {
  if (error instanceof Error)
    return error.message;
  return String(error);
}
var utils = {
  assignWithDepth,
  wrapLabel,
  calculateTextHeight,
  calculateTextWidth,
  calculateTextDimensions,
  detectInit,
  detectDirective,
  isSubstringInArray,
  interpolateToCurve,
  calcLabelPosition,
  calcCardinalityPosition,
  calcTerminalLabelPosition,
  formatUrl,
  getStylesFromArray,
  generateId: generateId$1,
  random,
  runFunc,
  entityDecode,
  initIdGenerator,
  directiveSanitizer,
  sanitizeCss
};
var name = "mermaid";
var version$1 = "9.2.0";
var description$1 = "Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.";
var main = "./dist/mermaid.core.mjs";
var module = "./dist/mermaid.core.mjs";
var types = "./dist/mermaid.d.ts";
var type3 = "module";
var exports = {
  ".": {
    require: "./dist/mermaid.min.js",
    "import": "./dist/mermaid.core.mjs",
    types: "./dist/mermaid.d.ts"
  },
  "./*": "./*"
};
var keywords = [
  "diagram",
  "markdown",
  "flowchart",
  "sequence diagram",
  "gantt",
  "class diagram",
  "git graph"
];
var scripts = {
  clean: "rimraf dist",
  "build:code": "node .esbuild/esbuild.cjs",
  "build:types": "tsc -p ./tsconfig.json --emitDeclarationOnly",
  "build:watch": "yarn build:code --watch",
  "build:esbuild": 'concurrently "yarn build:code" "yarn build:types"',
  build: "yarn clean; yarn build:esbuild",
  dev: "node .esbuild/serve.cjs",
  "docs:build": "ts-node-esm src/docs.mts",
  "docs:verify": "yarn docs:build --verify",
  "todo-postbuild": "documentation build src/mermaidAPI.ts src/config.ts src/defaultConfig.ts --shallow -f md --markdown-toc false > src/docs/Setup.md && prettier --write src/docs/Setup.md",
  release: "yarn build",
  lint: "eslint --cache --ignore-path .gitignore . && yarn lint:jison && prettier --check .",
  "lint:fix": "eslint --fix --ignore-path .gitignore . && prettier --write .",
  "lint:jison": "ts-node-esm src/jison/lint.mts",
  cypress: "cypress run",
  "cypress:open": "cypress open",
  e2e: "start-server-and-test dev http://localhost:9000/ cypress",
  "todo-prepare": 'concurrently "husky install" "yarn build"',
  "pre-commit": "lint-staged"
};
var repository = {
  type: "git",
  url: "https://github.com/mermaid-js/mermaid"
};
var author = "Knut Sveidqvist";
var license = "MIT";
var standard = {
  ignore: [
    "**/parser/*.js",
    "dist/**/*.js",
    "cypress/**/*.js"
  ],
  globals: [
    "page"
  ]
};
var dependencies = {
  "@braintree/sanitize-url": "^6.0.0",
  d3: "^7.0.0",
  dagre: "^0.8.5",
  "dagre-d3": "^0.6.4",
  dompurify: "2.4.0",
  "fast-clone": "^1.5.13",
  graphlib: "^2.1.8",
  khroma: "^2.0.0",
  lodash: "^4.17.21",
  "moment-mini": "^2.24.0",
  "non-layered-tidy-tree-layout": "^2.0.2",
  stylis: "^4.1.2",
  uuid: "^9.0.0"
};
var devDependencies = {
  "@applitools/eyes-cypress": "^3.25.7",
  "@commitlint/cli": "^17.1.2",
  "@commitlint/config-conventional": "^17.0.0",
  "@types/d3": "^7.4.0",
  "@types/dompurify": "^2.3.4",
  "@types/eslint": "^8.4.6",
  "@types/express": "^4.17.13",
  "@types/jsdom": "^20.0.0",
  "@types/lodash": "^4.14.185",
  "@types/prettier": "^2.7.0",
  "@types/stylis": "^4.0.2",
  "@types/uuid": "^8.3.4",
  "@typescript-eslint/eslint-plugin": "^5.37.0",
  "@typescript-eslint/parser": "^5.37.0",
  concurrently: "^7.4.0",
  coveralls: "^3.1.1",
  cypress: "^10.0.0",
  "cypress-image-snapshot": "^4.0.1",
  documentation: "13.2.0",
  esbuild: "^0.15.8",
  eslint: "^8.23.1",
  "eslint-config-prettier": "^8.5.0",
  "eslint-plugin-cypress": "^2.12.1",
  "eslint-plugin-html": "^7.1.0",
  "eslint-plugin-jest": "^27.0.4",
  "eslint-plugin-jsdoc": "^39.3.6",
  "eslint-plugin-json": "^3.1.0",
  "eslint-plugin-markdown": "^3.0.0",
  express: "^4.18.1",
  globby: "^13.1.2",
  husky: "^8.0.0",
  "identity-obj-proxy": "^3.0.0",
  jison: "^0.4.18",
  "js-base64": "3.7.2",
  jsdom: "^20.0.0",
  "lint-staged": "^13.0.0",
  moment: "^2.23.0",
  "path-browserify": "^1.0.1",
  prettier: "^2.7.1",
  "prettier-plugin-jsdoc": "^0.4.2",
  remark: "^14.0.2",
  rimraf: "^3.0.2",
  "start-server-and-test": "^1.12.6",
  "ts-node": "^10.9.1",
  typescript: "^4.8.3",
  "unist-util-flatmap": "^1.0.0"
};
var resolutions = {
  d3: "^7.0.0"
};
var files = [
  "dist"
];
var sideEffects = [
  "**/*.css",
  "**/*.scss"
];
var pkg = {
  name,
  version: version$1,
  description: description$1,
  main,
  module,
  types,
  type: type3,
  exports,
  keywords,
  scripts,
  repository,
  author,
  license,
  standard,
  dependencies,
  devDependencies,
  resolutions,
  files,
  sideEffects
};
var defaultConfig = Object.freeze(config$1);
var siteConfig = assignWithDepth({}, defaultConfig);
var configFromInitialize;
var directives = [];
var currentConfig = assignWithDepth({}, defaultConfig);
var updateCurrentConfig = (siteCfg, _directives) => {
  let cfg = assignWithDepth({}, siteCfg);
  let sumOfDirectives = {};
  for (let i = 0; i < _directives.length; i++) {
    const d = _directives[i];
    sanitize(d);
    sumOfDirectives = assignWithDepth(sumOfDirectives, d);
  }
  cfg = assignWithDepth(cfg, sumOfDirectives);
  if (sumOfDirectives.theme && sumOfDirectives.theme in theme) {
    const tmpConfigFromInitialize = assignWithDepth({}, configFromInitialize);
    const themeVariables = assignWithDepth(
      tmpConfigFromInitialize.themeVariables || {},
      sumOfDirectives.themeVariables
    );
    if (cfg.theme && cfg.theme in theme) {
      cfg.themeVariables = theme[cfg.theme].getThemeVariables(themeVariables);
    }
  }
  currentConfig = cfg;
  return cfg;
};
var setSiteConfig = (conf2) => {
  siteConfig = assignWithDepth({}, defaultConfig);
  siteConfig = assignWithDepth(siteConfig, conf2);
  if (conf2.theme && theme[conf2.theme]) {
    siteConfig.themeVariables = theme[conf2.theme].getThemeVariables(conf2.themeVariables);
  }
  currentConfig = updateCurrentConfig(siteConfig, directives);
  return siteConfig;
};
var saveConfigFromInitialize = (conf2) => {
  configFromInitialize = assignWithDepth({}, conf2);
};
var updateSiteConfig = (conf2) => {
  siteConfig = assignWithDepth(siteConfig, conf2);
  updateCurrentConfig(siteConfig, directives);
  return siteConfig;
};
var getSiteConfig = () => {
  return assignWithDepth({}, siteConfig);
};
var setConfig = (conf2) => {
  assignWithDepth(currentConfig, conf2);
  return getConfig$1();
};
var getConfig$1 = () => {
  return assignWithDepth({}, currentConfig);
};
var sanitize = (options2) => {
  var _a;
  ["secure", ...(_a = siteConfig.secure) != null ? _a : []].forEach((key) => {
    if (typeof options2[key] !== "undefined") {
      log$1.debug(`Denied attempt to modify a secure key ${key}`, options2[key]);
      delete options2[key];
    }
  });
  Object.keys(options2).forEach((key) => {
    if (key.indexOf("__") === 0) {
      delete options2[key];
    }
  });
  Object.keys(options2).forEach((key) => {
    if (typeof options2[key] === "string") {
      if (options2[key].indexOf("<") > -1 || options2[key].indexOf(">") > -1 || options2[key].indexOf("url(data:") > -1) {
        delete options2[key];
      }
    }
    if (typeof options2[key] === "object") {
      sanitize(options2[key]);
    }
  });
};
var addDirective = (directive2) => {
  if (directive2.fontFamily) {
    if (!directive2.themeVariables) {
      directive2.themeVariables = { fontFamily: directive2.fontFamily };
    } else {
      if (!directive2.themeVariables.fontFamily) {
        directive2.themeVariables = { fontFamily: directive2.fontFamily };
      }
    }
  }
  directives.push(directive2);
  updateCurrentConfig(siteConfig, directives);
};
var reset = (config2 = siteConfig) => {
  directives = [];
  updateCurrentConfig(config2, directives);
};
var d3Attrs = function(d3Elem, attrs) {
  for (let attr of attrs) {
    d3Elem.attr(attr[0], attr[1]);
  }
};
var calculateSvgSizeAttrs = function(height2, width2, useMaxWidth) {
  let attrs = /* @__PURE__ */ new Map();
  if (useMaxWidth) {
    attrs.set("width", "100%");
    attrs.set("style", `max-width: ${width2}px;`);
  } else {
    attrs.set("width", width2);
  }
  return attrs;
};
var configureSvgSize = function(svgElem, height2, width2, useMaxWidth) {
  const attrs = calculateSvgSizeAttrs(height2, width2, useMaxWidth);
  d3Attrs(svgElem, attrs);
};
var setupGraphViewbox$1 = function(graph, svgElem, padding2, useMaxWidth) {
  const svgBounds = svgElem.node().getBBox();
  const sWidth = svgBounds.width;
  const sHeight = svgBounds.height;
  log$1.info(`SVG bounds: ${sWidth}x${sHeight}`, svgBounds);
  let width2 = 0;
  let height2 = 0;
  log$1.info(`Graph bounds: ${width2}x${height2}`, graph);
  width2 = sWidth + padding2 * 2;
  height2 = sHeight + padding2 * 2;
  log$1.info(`Calculated bounds: ${width2}x${height2}`);
  configureSvgSize(svgElem, height2, width2, useMaxWidth);
  const vBox = `${svgBounds.x - padding2} ${svgBounds.y - padding2} ${svgBounds.width + 2 * padding2} ${svgBounds.height + 2 * padding2}`;
  svgElem.attr("viewBox", vBox);
};
var getStyles$d = (options2) => `g.classGroup text {
  fill: ${options2.nodeBorder};
  fill: ${options2.classText};
  stroke: none;
  font-family: ${options2.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${options2.classText};
}
.edgeLabel .label rect {
  fill: ${options2.mainBkg};
}
.label text {
  fill: ${options2.classText};
}
.edgeLabel .label span {
  background: ${options2.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${options2.mainBkg};
    stroke: ${options2.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${options2.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${options2.mainBkg};
  stroke: ${options2.nodeBorder};
}

g.classGroup line {
  stroke: ${options2.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${options2.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${options2.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${options2.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

#compositionStart, .composition {
  fill: ${options2.lineColor} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${options2.lineColor} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${options2.lineColor} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${options2.lineColor} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${options2.lineColor} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${options2.lineColor} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${options2.mainBkg} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${options2.mainBkg} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${options2.mainBkg} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${options2.mainBkg} !important;
  stroke: ${options2.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

`;
var getStyles$c = (options2) => `
  .entityBox {
    fill: ${options2.mainBkg};
    stroke: ${options2.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${options2.attributeBackgroundColorOdd};
    stroke: ${options2.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${options2.attributeBackgroundColorEven};
    stroke: ${options2.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${options2.tertiaryColor};
    opacity: 0.7;
    background-color: ${options2.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${options2.lineColor};
    }
`;
var getStyles$b = () => ``;
var getStyles$a = (options2) => `.label {
    font-family: ${options2.fontFamily};
    color: ${options2.nodeTextColor || options2.textColor};
  }
  .cluster-label text {
    fill: ${options2.titleColor};
  }
  .cluster-label span {
    color: ${options2.titleColor};
  }

  .label text,span {
    fill: ${options2.nodeTextColor || options2.textColor};
    color: ${options2.nodeTextColor || options2.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${options2.mainBkg};
    stroke: ${options2.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${options2.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${options2.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${options2.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${options2.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${options2.edgeLabelBackground};
      fill: ${options2.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${options2.clusterBkg};
    stroke: ${options2.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${options2.titleColor};
  }

  .cluster span {
    color: ${options2.titleColor};
  }
  /* .cluster div {
    color: ${options2.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${options2.fontFamily};
    font-size: 12px;
    background: ${options2.tertiaryColor};
    border: 1px solid ${options2.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }
`;
var getStyles$9 = (options2) => `
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${options2.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${options2.sectionBkgColor};
  }

  .section2 {
    fill: ${options2.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${options2.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${options2.titleColor};
  }

  .sectionTitle1 {
    fill: ${options2.titleColor};
  }

  .sectionTitle2 {
    fill: ${options2.titleColor};
  }

  .sectionTitle3 {
    fill: ${options2.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${options2.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${options2.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${options2.fontFamily};
      fill: ${options2.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${options2.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${options2.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${options2.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${options2.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${options2.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${options2.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${options2.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${options2.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${options2.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${options2.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${options2.taskBkgColor};
    stroke: ${options2.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${options2.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${options2.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${options2.activeTaskBkgColor};
    stroke: ${options2.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${options2.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${options2.doneTaskBorderColor};
    fill: ${options2.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${options2.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${options2.critBorderColor};
    fill: ${options2.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${options2.critBorderColor};
    fill: ${options2.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${options2.critBorderColor};
    fill: ${options2.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${options2.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${options2.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${options2.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`;
var getStyles$8 = () => ``;
var getStyles$7 = (options2) => `
  .pieCircle{
    stroke: ${options2.pieStrokeColor};
    stroke-width : ${options2.pieStrokeWidth};
    opacity : ${options2.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${options2.pieTitleTextSize};
    fill: ${options2.pieTitleTextColor};
    font-family: ${options2.fontFamily};
  }
  .slice {
    font-family: ${options2.fontFamily};
    fill: ${options2.pieSectionTextColor};
    font-size:${options2.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${options2.pieLegendTextColor};
    font-family: ${options2.fontFamily};
    font-size: ${options2.pieLegendTextSize};
  }
`;
var getStyles$6 = (options2) => `

  marker {
    fill: ${options2.relationColor};
    stroke: ${options2.relationColor};
  }

  marker.cross {
    stroke: ${options2.lineColor};
  }

  svg {
    font-family: ${options2.fontFamily};
    font-size: ${options2.fontSize};
  }

  .reqBox {
    fill: ${options2.requirementBackground};
    fill-opacity: 100%;
    stroke: ${options2.requirementBorderColor};
    stroke-width: ${options2.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${options2.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${options2.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${options2.requirementBorderColor};
    stroke-width: ${options2.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${options2.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${options2.relationLabelColor};
  }

`;
var getStyles$5 = (options2) => `.actor {
    stroke: ${options2.actorBorder};
    fill: ${options2.actorBkg};
  }

  text.actor > tspan {
    fill: ${options2.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${options2.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${options2.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${options2.signalColor};
  }

  #arrowhead path {
    fill: ${options2.signalColor};
    stroke: ${options2.signalColor};
  }

  .sequenceNumber {
    fill: ${options2.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${options2.signalColor};
  }

  #crosshead path {
    fill: ${options2.signalColor};
    stroke: ${options2.signalColor};
  }

  .messageText {
    fill: ${options2.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${options2.labelBoxBorderColor};
    fill: ${options2.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${options2.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${options2.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${options2.labelBoxBorderColor};
    fill: ${options2.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${options2.noteBorderColor};
    fill: ${options2.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${options2.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${options2.activationBkgColor};
    stroke: ${options2.activationBorderColor};
  }

  .activation1 {
    fill: ${options2.activationBkgColor};
    stroke: ${options2.activationBorderColor};
  }

  .activation2 {
    fill: ${options2.activationBkgColor};
    stroke: ${options2.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${options2.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${options2.actorBorder};
    fill: ${options2.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${options2.actorBorder};
    fill: ${options2.actorBkg};
    stroke-width: 2px;
  }
`;
var getStyles$4 = (options2) => `
defs #statediagram-barbEnd {
    fill: ${options2.transitionColor};
    stroke: ${options2.transitionColor};
  }
g.stateGroup text {
  fill: ${options2.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${options2.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${options2.stateLabelColor};
}

g.stateGroup rect {
  fill: ${options2.mainBkg};
  stroke: ${options2.nodeBorder};
}

g.stateGroup line {
  stroke: ${options2.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${options2.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${options2.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${options2.noteBorderColor};
  fill: ${options2.noteBkgColor};

  text {
    fill: ${options2.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${options2.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${options2.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${options2.transitionLabelColor || options2.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${options2.transitionLabelColor || options2.tertiaryTextColor};
}

.stateLabel text {
  fill: ${options2.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${options2.specialStateColor};
  stroke: ${options2.specialStateColor};
}

.node .fork-join {
  fill: ${options2.specialStateColor};
  stroke: ${options2.specialStateColor};
}

.node circle.state-end {
  fill: ${options2.innerEndBackground};
  stroke: ${options2.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${options2.compositeBackground || options2.background};
  // stroke: ${options2.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${options2.stateBkg || options2.mainBkg};
  stroke: ${options2.stateBorder || options2.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${options2.mainBkg};
  stroke: ${options2.stateBorder || options2.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${options2.lineColor};
}

.statediagram-cluster rect {
  fill: ${options2.compositeTitleBackground};
  stroke: ${options2.stateBorder || options2.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${options2.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${options2.stateBorder || options2.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${options2.compositeBackground || options2.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${options2.altBackground ? options2.altBackground : "#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${options2.altBackground ? options2.altBackground : "#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${options2.noteBkgColor};
  stroke: ${options2.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${options2.noteBkgColor};
  stroke: ${options2.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${options2.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${options2.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${options2.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${options2.lineColor};
  stroke: ${options2.lineColor};
  stroke-width: 1;
}
`;
var getStyles$3 = (options2) => `.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${options2.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${options2.textColor}
  }

  .legend {
    fill: ${options2.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${options2.textColor}
  }

  .face {
    ${options2.faceColor ? `fill: ${options2.faceColor}` : "fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${options2.mainBkg};
    stroke: ${options2.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${options2.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${options2.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${options2.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${options2.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${options2.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${options2.tertiaryColor};
    border: 1px solid ${options2.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${options2.fillType0 ? `fill: ${options2.fillType0}` : ""};
  }
  .task-type-1, .section-type-1  {
    ${options2.fillType0 ? `fill: ${options2.fillType1}` : ""};
  }
  .task-type-2, .section-type-2  {
    ${options2.fillType0 ? `fill: ${options2.fillType2}` : ""};
  }
  .task-type-3, .section-type-3  {
    ${options2.fillType0 ? `fill: ${options2.fillType3}` : ""};
  }
  .task-type-4, .section-type-4  {
    ${options2.fillType0 ? `fill: ${options2.fillType4}` : ""};
  }
  .task-type-5, .section-type-5  {
    ${options2.fillType0 ? `fill: ${options2.fillType5}` : ""};
  }
  .task-type-6, .section-type-6  {
    ${options2.fillType0 ? `fill: ${options2.fillType6}` : ""};
  }
  .task-type-7, .section-type-7  {
    ${options2.fillType0 ? `fill: ${options2.fillType7}` : ""};
  }

  .actor-0 {
    ${options2.actor0 ? `fill: ${options2.actor0}` : ""};
  }
  .actor-1 {
    ${options2.actor1 ? `fill: ${options2.actor1}` : ""};
  }
  .actor-2 {
    ${options2.actor2 ? `fill: ${options2.actor2}` : ""};
  }
  .actor-3 {
    ${options2.actor3 ? `fill: ${options2.actor3}` : ""};
  }
  .actor-4 {
    ${options2.actor4 ? `fill: ${options2.actor4}` : ""};
  }
  .actor-5 {
    ${options2.actor5 ? `fill: ${options2.actor5}` : ""};
  }
`;
var getStyles$2 = (options2) => `.person {
    stroke: ${options2.personBorder};
    fill: ${options2.personBkg};
  }
`;
var themes = {
  flowchart: getStyles$a,
  "flowchart-v2": getStyles$a,
  sequence: getStyles$5,
  gantt: getStyles$9,
  classDiagram: getStyles$d,
  "classDiagram-v2": getStyles$d,
  class: getStyles$d,
  stateDiagram: getStyles$4,
  state: getStyles$4,
  info: getStyles$8,
  pie: getStyles$7,
  er: getStyles$c,
  error: getStyles$b,
  journey: getStyles$3,
  requirement: getStyles$6,
  c4: getStyles$2
};
var getStyles$1 = (type22, userStyles, options2) => {
  let diagramStyles = "";
  if (type22 in themes && themes[type22]) {
    diagramStyles = themes[type22](options2);
  } else {
    log$1.warn(`No theme found for ${type22}`);
  }
  return ` {
    font-family: ${options2.fontFamily};
    font-size: ${options2.fontSize};
    fill: ${options2.textColor}
  }

  /* Classes common for multiple diagrams */

  .error-icon {
    fill: ${options2.errorBkgColor};
  }
  .error-text {
    fill: ${options2.errorTextColor};
    stroke: ${options2.errorTextColor};
  }

  .edge-thickness-normal {
    stroke-width: 2px;
  }
  .edge-thickness-thick {
    stroke-width: 3.5px
  }
  .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  .marker {
    fill: ${options2.lineColor};
    stroke: ${options2.lineColor};
  }
  .marker.cross {
    stroke: ${options2.lineColor};
  }

  svg {
    font-family: ${options2.fontFamily};
    font-size: ${options2.fontSize};
  }

  ${diagramStyles}

  ${userStyles}
`;
};
var addStylesForDiagram = (type22, diagramTheme) => {
  themes[type22] = diagramTheme;
};
var log5 = log$1;
var setLogLevel = setLogLevel$1;
var getConfig = getConfig$1;
var sanitizeText$4 = (text2) => sanitizeText$5(text2, getConfig());
var setupGraphViewbox = setupGraphViewbox$1;
var diagrams = {};
var registerDiagram = (id5, diagram, detector, callback) => {
  log5.debug(`Registering diagram ${id5}`);
  if (diagrams[id5]) {
    log5.warn(`Diagram ${id5} already registered.`);
  }
  diagrams[id5] = diagram;
  if (detector) {
    addDetector(id5, detector);
  }
  addStylesForDiagram(id5, diagram.styles);
  if (typeof callback !== "undefined") {
    callback(log5, setLogLevel, getConfig, sanitizeText$4, setupGraphViewbox);
  }
  log5.debug(`Registered diagram ${id5}. ${Object.keys(diagrams).join(", ")} diagrams registered.`);
};
var getDiagram = (name2) => {
  log5.debug(`Getting diagram ${name2}. ${Object.keys(diagrams).join(", ")} diagrams registered.`);
  if (name2 in diagrams) {
    return diagrams[name2];
  }
  throw new DiagramNotFoundError(name2);
};
var DiagramNotFoundError = class extends Error {
  constructor(message2) {
    super(`Diagram ${message2} not found.`);
  }
};
var parser$b = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 4], $V1 = [1, 7], $V2 = [1, 5], $V3 = [1, 9], $V4 = [1, 6], $V5 = [2, 6], $V6 = [1, 16], $V7 = [6, 8, 14, 20, 22, 24, 25, 27, 29, 32, 37, 40, 50, 54], $V8 = [8, 14, 20, 22, 24, 25, 27, 29, 32, 37, 40], $V9 = [8, 13, 14, 20, 22, 24, 25, 27, 29, 32, 37, 40], $Va = [1, 26], $Vb = [6, 8, 14, 50, 54], $Vc = [8, 14, 54], $Vd = [1, 65], $Ve = [1, 66], $Vf = [1, 67], $Vg = [8, 14, 33, 35, 42, 54];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "eol": 4, "directive": 5, "GG": 6, "document": 7, "EOF": 8, ":": 9, "DIR": 10, "options": 11, "body": 12, "OPT": 13, "NL": 14, "line": 15, "statement": 16, "commitStatement": 17, "mergeStatement": 18, "cherryPickStatement": 19, "acc_title": 20, "acc_title_value": 21, "acc_descr": 22, "acc_descr_value": 23, "acc_descr_multiline_value": 24, "section": 25, "branchStatement": 26, "CHECKOUT": 27, "ID": 28, "BRANCH": 29, "ORDER": 30, "NUM": 31, "CHERRY_PICK": 32, "COMMIT_ID": 33, "STR": 34, "COMMIT_TAG": 35, "EMPTYSTR": 36, "MERGE": 37, "COMMIT_TYPE": 38, "commitType": 39, "COMMIT": 40, "commit_arg": 41, "COMMIT_MSG": 42, "NORMAL": 43, "REVERSE": 44, "HIGHLIGHT": 45, "openDirective": 46, "typeDirective": 47, "closeDirective": 48, "argDirective": 49, "open_directive": 50, "type_directive": 51, "arg_directive": 52, "close_directive": 53, ";": 54, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 6: "GG", 8: "EOF", 9: ":", 10: "DIR", 13: "OPT", 14: "NL", 20: "acc_title", 21: "acc_title_value", 22: "acc_descr", 23: "acc_descr_value", 24: "acc_descr_multiline_value", 25: "section", 27: "CHECKOUT", 28: "ID", 29: "BRANCH", 30: "ORDER", 31: "NUM", 32: "CHERRY_PICK", 33: "COMMIT_ID", 34: "STR", 35: "COMMIT_TAG", 36: "EMPTYSTR", 37: "MERGE", 38: "COMMIT_TYPE", 40: "COMMIT", 42: "COMMIT_MSG", 43: "NORMAL", 44: "REVERSE", 45: "HIGHLIGHT", 50: "open_directive", 51: "type_directive", 52: "arg_directive", 53: "close_directive", 54: ";" },
    productions_: [0, [3, 2], [3, 2], [3, 3], [3, 4], [3, 5], [7, 0], [7, 2], [11, 2], [11, 1], [12, 0], [12, 2], [15, 2], [15, 1], [16, 1], [16, 1], [16, 1], [16, 2], [16, 2], [16, 1], [16, 1], [16, 1], [16, 2], [26, 2], [26, 4], [19, 3], [19, 5], [19, 5], [19, 5], [19, 5], [18, 2], [18, 4], [18, 4], [18, 4], [18, 6], [18, 6], [18, 6], [18, 6], [18, 6], [18, 6], [18, 8], [18, 8], [18, 8], [18, 8], [18, 8], [18, 8], [17, 2], [17, 3], [17, 3], [17, 5], [17, 5], [17, 3], [17, 5], [17, 5], [17, 5], [17, 5], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 3], [17, 5], [17, 5], [17, 5], [17, 5], [17, 5], [17, 5], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [41, 0], [41, 1], [39, 1], [39, 1], [39, 1], [5, 3], [5, 5], [46, 1], [47, 1], [49, 1], [48, 1], [4, 1], [4, 1], [4, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 3:
          return $$[$0];
        case 4:
          return $$[$0 - 1];
        case 5:
          yy.setDirection($$[$0 - 3]);
          return $$[$0 - 1];
        case 7:
          yy.setOptions($$[$0 - 1]);
          this.$ = $$[$0];
          break;
        case 8:
          $$[$0 - 1] += $$[$0];
          this.$ = $$[$0 - 1];
          break;
        case 10:
          this.$ = [];
          break;
        case 11:
          $$[$0 - 1].push($$[$0]);
          this.$ = $$[$0 - 1];
          break;
        case 12:
          this.$ = $$[$0 - 1];
          break;
        case 17:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 18:
        case 19:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 20:
          yy.addSection($$[$0].substr(8));
          this.$ = $$[$0].substr(8);
          break;
        case 22:
          yy.checkout($$[$0]);
          break;
        case 23:
          yy.branch($$[$0]);
          break;
        case 24:
          yy.branch($$[$0 - 2], $$[$0]);
          break;
        case 25:
          yy.cherryPick($$[$0], "", void 0);
          break;
        case 26:
          yy.cherryPick($$[$0 - 2], "", $$[$0]);
          break;
        case 27:
        case 29:
          yy.cherryPick($$[$0 - 2], "", "");
          break;
        case 28:
          yy.cherryPick($$[$0], "", $$[$0 - 2]);
          break;
        case 30:
          yy.merge($$[$0], "", "", "");
          break;
        case 31:
          yy.merge($$[$0 - 2], $$[$0], "", "");
          break;
        case 32:
          yy.merge($$[$0 - 2], "", $$[$0], "");
          break;
        case 33:
          yy.merge($$[$0 - 2], "", "", $$[$0]);
          break;
        case 34:
          yy.merge($$[$0 - 4], $$[$0], "", $$[$0 - 2]);
          break;
        case 35:
          yy.merge($$[$0 - 4], "", $$[$0], $$[$0 - 2]);
          break;
        case 36:
          yy.merge($$[$0 - 4], "", $$[$0 - 2], $$[$0]);
          break;
        case 37:
          yy.merge($$[$0 - 4], $$[$0 - 2], $$[$0], "");
          break;
        case 38:
          yy.merge($$[$0 - 4], $$[$0 - 2], "", $$[$0]);
          break;
        case 39:
          yy.merge($$[$0 - 4], $$[$0], $$[$0 - 2], "");
          break;
        case 40:
          yy.merge($$[$0 - 6], $$[$0 - 4], $$[$0 - 2], $$[$0]);
          break;
        case 41:
          yy.merge($$[$0 - 6], $$[$0], $$[$0 - 4], $$[$0 - 2]);
          break;
        case 42:
          yy.merge($$[$0 - 6], $$[$0 - 4], $$[$0], $$[$0 - 2]);
          break;
        case 43:
          yy.merge($$[$0 - 6], $$[$0 - 2], $$[$0 - 4], $$[$0]);
          break;
        case 44:
          yy.merge($$[$0 - 6], $$[$0], $$[$0 - 2], $$[$0 - 4]);
          break;
        case 45:
          yy.merge($$[$0 - 6], $$[$0 - 2], $$[$0], $$[$0 - 4]);
          break;
        case 46:
          yy.commit($$[$0]);
          break;
        case 47:
          yy.commit("", "", yy.commitType.NORMAL, $$[$0]);
          break;
        case 48:
          yy.commit("", "", $$[$0], "");
          break;
        case 49:
          yy.commit("", "", $$[$0], $$[$0 - 2]);
          break;
        case 50:
          yy.commit("", "", $$[$0 - 2], $$[$0]);
          break;
        case 51:
          yy.commit("", $$[$0], yy.commitType.NORMAL, "");
          break;
        case 52:
          yy.commit("", $$[$0 - 2], yy.commitType.NORMAL, $$[$0]);
          break;
        case 53:
          yy.commit("", $$[$0], yy.commitType.NORMAL, $$[$0 - 2]);
          break;
        case 54:
          yy.commit("", $$[$0 - 2], $$[$0], "");
          break;
        case 55:
          yy.commit("", $$[$0], $$[$0 - 2], "");
          break;
        case 56:
          yy.commit("", $$[$0 - 4], $$[$0 - 2], $$[$0]);
          break;
        case 57:
          yy.commit("", $$[$0 - 4], $$[$0], $$[$0 - 2]);
          break;
        case 58:
          yy.commit("", $$[$0 - 2], $$[$0 - 4], $$[$0]);
          break;
        case 59:
          yy.commit("", $$[$0], $$[$0 - 4], $$[$0 - 2]);
          break;
        case 60:
          yy.commit("", $$[$0], $$[$0 - 2], $$[$0 - 4]);
          break;
        case 61:
          yy.commit("", $$[$0 - 2], $$[$0], $$[$0 - 4]);
          break;
        case 62:
          yy.commit($$[$0], "", yy.commitType.NORMAL, "");
          break;
        case 63:
          yy.commit($$[$0], "", yy.commitType.NORMAL, $$[$0 - 2]);
          break;
        case 64:
          yy.commit($$[$0 - 2], "", yy.commitType.NORMAL, $$[$0]);
          break;
        case 65:
          yy.commit($$[$0 - 2], "", $$[$0], "");
          break;
        case 66:
          yy.commit($$[$0], "", $$[$0 - 2], "");
          break;
        case 67:
          yy.commit($$[$0], $$[$0 - 2], yy.commitType.NORMAL, "");
          break;
        case 68:
          yy.commit($$[$0 - 2], $$[$0], yy.commitType.NORMAL, "");
          break;
        case 69:
          yy.commit($$[$0 - 4], "", $$[$0 - 2], $$[$0]);
          break;
        case 70:
          yy.commit($$[$0 - 4], "", $$[$0], $$[$0 - 2]);
          break;
        case 71:
          yy.commit($$[$0 - 2], "", $$[$0 - 4], $$[$0]);
          break;
        case 72:
          yy.commit($$[$0], "", $$[$0 - 4], $$[$0 - 2]);
          break;
        case 73:
          yy.commit($$[$0], "", $$[$0 - 2], $$[$0 - 4]);
          break;
        case 74:
          yy.commit($$[$0 - 2], "", $$[$0], $$[$0 - 4]);
          break;
        case 75:
          yy.commit($$[$0 - 4], $$[$0], $$[$0 - 2], "");
          break;
        case 76:
          yy.commit($$[$0 - 4], $$[$0 - 2], $$[$0], "");
          break;
        case 77:
          yy.commit($$[$0 - 2], $$[$0], $$[$0 - 4], "");
          break;
        case 78:
          yy.commit($$[$0], $$[$0 - 2], $$[$0 - 4], "");
          break;
        case 79:
          yy.commit($$[$0], $$[$0 - 4], $$[$0 - 2], "");
          break;
        case 80:
          yy.commit($$[$0 - 2], $$[$0 - 4], $$[$0], "");
          break;
        case 81:
          yy.commit($$[$0 - 4], $$[$0], yy.commitType.NORMAL, $$[$0 - 2]);
          break;
        case 82:
          yy.commit($$[$0 - 4], $$[$0 - 2], yy.commitType.NORMAL, $$[$0]);
          break;
        case 83:
          yy.commit($$[$0 - 2], $$[$0], yy.commitType.NORMAL, $$[$0 - 4]);
          break;
        case 84:
          yy.commit($$[$0], $$[$0 - 2], yy.commitType.NORMAL, $$[$0 - 4]);
          break;
        case 85:
          yy.commit($$[$0], $$[$0 - 4], yy.commitType.NORMAL, $$[$0 - 2]);
          break;
        case 86:
          yy.commit($$[$0 - 2], $$[$0 - 4], yy.commitType.NORMAL, $$[$0]);
          break;
        case 87:
          yy.commit($$[$0 - 6], $$[$0 - 4], $$[$0 - 2], $$[$0]);
          break;
        case 88:
          yy.commit($$[$0 - 6], $$[$0 - 4], $$[$0], $$[$0 - 2]);
          break;
        case 89:
          yy.commit($$[$0 - 6], $$[$0 - 2], $$[$0 - 4], $$[$0]);
          break;
        case 90:
          yy.commit($$[$0 - 6], $$[$0], $$[$0 - 4], $$[$0 - 2]);
          break;
        case 91:
          yy.commit($$[$0 - 6], $$[$0 - 2], $$[$0], $$[$0 - 4]);
          break;
        case 92:
          yy.commit($$[$0 - 6], $$[$0], $$[$0 - 2], $$[$0 - 4]);
          break;
        case 93:
          yy.commit($$[$0 - 4], $$[$0 - 6], $$[$0 - 2], $$[$0]);
          break;
        case 94:
          yy.commit($$[$0 - 4], $$[$0 - 6], $$[$0], $$[$0 - 2]);
          break;
        case 95:
          yy.commit($$[$0 - 2], $$[$0 - 6], $$[$0 - 4], $$[$0]);
          break;
        case 96:
          yy.commit($$[$0], $$[$0 - 6], $$[$0 - 4], $$[$0 - 2]);
          break;
        case 97:
          yy.commit($$[$0 - 2], $$[$0 - 6], $$[$0], $$[$0 - 4]);
          break;
        case 98:
          yy.commit($$[$0], $$[$0 - 6], $$[$0 - 2], $$[$0 - 4]);
          break;
        case 99:
          yy.commit($$[$0], $$[$0 - 4], $$[$0 - 2], $$[$0 - 6]);
          break;
        case 100:
          yy.commit($$[$0 - 2], $$[$0 - 4], $$[$0], $$[$0 - 6]);
          break;
        case 101:
          yy.commit($$[$0], $$[$0 - 2], $$[$0 - 4], $$[$0 - 6]);
          break;
        case 102:
          yy.commit($$[$0 - 2], $$[$0], $$[$0 - 4], $$[$0 - 6]);
          break;
        case 103:
          yy.commit($$[$0 - 4], $$[$0 - 2], $$[$0], $$[$0 - 6]);
          break;
        case 104:
          yy.commit($$[$0 - 4], $$[$0], $$[$0 - 2], $$[$0 - 6]);
          break;
        case 105:
          yy.commit($$[$0 - 2], $$[$0 - 4], $$[$0 - 6], $$[$0]);
          break;
        case 106:
          yy.commit($$[$0], $$[$0 - 4], $$[$0 - 6], $$[$0 - 2]);
          break;
        case 107:
          yy.commit($$[$0 - 2], $$[$0], $$[$0 - 6], $$[$0 - 4]);
          break;
        case 108:
          yy.commit($$[$0], $$[$0 - 2], $$[$0 - 6], $$[$0 - 4]);
          break;
        case 109:
          yy.commit($$[$0 - 4], $$[$0 - 2], $$[$0 - 6], $$[$0]);
          break;
        case 110:
          yy.commit($$[$0 - 4], $$[$0], $$[$0 - 6], $$[$0 - 2]);
          break;
        case 111:
          this.$ = "";
          break;
        case 112:
          this.$ = $$[$0];
          break;
        case 113:
          this.$ = yy.commitType.NORMAL;
          break;
        case 114:
          this.$ = yy.commitType.REVERSE;
          break;
        case 115:
          this.$ = yy.commitType.HIGHLIGHT;
          break;
        case 118:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 119:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 120:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 121:
          yy.parseDirective("}%%", "close_directive", "gitGraph");
          break;
      }
    },
    table: [{ 3: 1, 4: 2, 5: 3, 6: $V0, 8: $V1, 14: $V2, 46: 8, 50: $V3, 54: $V4 }, { 1: [3] }, { 3: 10, 4: 2, 5: 3, 6: $V0, 8: $V1, 14: $V2, 46: 8, 50: $V3, 54: $V4 }, { 3: 11, 4: 2, 5: 3, 6: $V0, 8: $V1, 14: $V2, 46: 8, 50: $V3, 54: $V4 }, { 7: 12, 8: $V5, 9: [1, 13], 10: [1, 14], 11: 15, 14: $V6 }, o($V7, [2, 122]), o($V7, [2, 123]), o($V7, [2, 124]), { 47: 17, 51: [1, 18] }, { 51: [2, 118] }, { 1: [2, 1] }, { 1: [2, 2] }, { 8: [1, 19] }, { 7: 20, 8: $V5, 11: 15, 14: $V6 }, { 9: [1, 21] }, o($V8, [2, 10], { 12: 22, 13: [1, 23] }), o($V9, [2, 9]), { 9: [1, 25], 48: 24, 53: $Va }, o([9, 53], [2, 119]), { 1: [2, 3] }, { 8: [1, 27] }, { 7: 28, 8: $V5, 11: 15, 14: $V6 }, { 8: [2, 7], 14: [1, 31], 15: 29, 16: 30, 17: 32, 18: 33, 19: 34, 20: [1, 35], 22: [1, 36], 24: [1, 37], 25: [1, 38], 26: 39, 27: [1, 40], 29: [1, 44], 32: [1, 43], 37: [1, 42], 40: [1, 41] }, o($V9, [2, 8]), o($Vb, [2, 116]), { 49: 45, 52: [1, 46] }, o($Vb, [2, 121]), { 1: [2, 4] }, { 8: [1, 47] }, o($V8, [2, 11]), { 4: 48, 8: $V1, 14: $V2, 54: $V4 }, o($V8, [2, 13]), o($Vc, [2, 14]), o($Vc, [2, 15]), o($Vc, [2, 16]), { 21: [1, 49] }, { 23: [1, 50] }, o($Vc, [2, 19]), o($Vc, [2, 20]), o($Vc, [2, 21]), { 28: [1, 51] }, o($Vc, [2, 111], { 41: 52, 33: [1, 55], 34: [1, 57], 35: [1, 53], 38: [1, 54], 42: [1, 56] }), { 28: [1, 58] }, { 33: [1, 59], 35: [1, 60] }, { 28: [1, 61] }, { 48: 62, 53: $Va }, { 53: [2, 120] }, { 1: [2, 5] }, o($V8, [2, 12]), o($Vc, [2, 17]), o($Vc, [2, 18]), o($Vc, [2, 22]), o($Vc, [2, 46]), { 34: [1, 63] }, { 39: 64, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 68] }, { 34: [1, 69] }, o($Vc, [2, 112]), o($Vc, [2, 30], { 33: [1, 70], 35: [1, 72], 38: [1, 71] }), { 34: [1, 73] }, { 34: [1, 74], 36: [1, 75] }, o($Vc, [2, 23], { 30: [1, 76] }), o($Vb, [2, 117]), o($Vc, [2, 47], { 33: [1, 78], 38: [1, 77], 42: [1, 79] }), o($Vc, [2, 48], { 33: [1, 81], 35: [1, 80], 42: [1, 82] }), o($Vg, [2, 113]), o($Vg, [2, 114]), o($Vg, [2, 115]), o($Vc, [2, 51], { 35: [1, 83], 38: [1, 84], 42: [1, 85] }), o($Vc, [2, 62], { 33: [1, 88], 35: [1, 86], 38: [1, 87] }), { 34: [1, 89] }, { 39: 90, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 91] }, o($Vc, [2, 25], { 35: [1, 92] }), { 33: [1, 93] }, { 33: [1, 94] }, { 31: [1, 95] }, { 39: 96, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 97] }, { 34: [1, 98] }, { 34: [1, 99] }, { 34: [1, 100] }, { 34: [1, 101] }, { 34: [1, 102] }, { 39: 103, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 104] }, { 34: [1, 105] }, { 39: 106, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 107] }, o($Vc, [2, 31], { 35: [1, 109], 38: [1, 108] }), o($Vc, [2, 32], { 33: [1, 111], 35: [1, 110] }), o($Vc, [2, 33], { 33: [1, 112], 38: [1, 113] }), { 34: [1, 114], 36: [1, 115] }, { 34: [1, 116] }, { 34: [1, 117] }, o($Vc, [2, 24]), o($Vc, [2, 49], { 33: [1, 118], 42: [1, 119] }), o($Vc, [2, 53], { 38: [1, 120], 42: [1, 121] }), o($Vc, [2, 63], { 33: [1, 123], 38: [1, 122] }), o($Vc, [2, 50], { 33: [1, 124], 42: [1, 125] }), o($Vc, [2, 55], { 35: [1, 126], 42: [1, 127] }), o($Vc, [2, 66], { 33: [1, 129], 35: [1, 128] }), o($Vc, [2, 52], { 38: [1, 130], 42: [1, 131] }), o($Vc, [2, 54], { 35: [1, 132], 42: [1, 133] }), o($Vc, [2, 67], { 35: [1, 135], 38: [1, 134] }), o($Vc, [2, 64], { 33: [1, 137], 38: [1, 136] }), o($Vc, [2, 65], { 33: [1, 139], 35: [1, 138] }), o($Vc, [2, 68], { 35: [1, 141], 38: [1, 140] }), { 39: 142, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 143] }, { 34: [1, 144] }, { 34: [1, 145] }, { 34: [1, 146] }, { 39: 147, 43: $Vd, 44: $Ve, 45: $Vf }, o($Vc, [2, 26]), o($Vc, [2, 27]), o($Vc, [2, 28]), o($Vc, [2, 29]), { 34: [1, 148] }, { 34: [1, 149] }, { 39: 150, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 151] }, { 39: 152, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 153] }, { 34: [1, 154] }, { 34: [1, 155] }, { 34: [1, 156] }, { 34: [1, 157] }, { 34: [1, 158] }, { 34: [1, 159] }, { 39: 160, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 161] }, { 34: [1, 162] }, { 34: [1, 163] }, { 39: 164, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 165] }, { 39: 166, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 167] }, { 34: [1, 168] }, { 34: [1, 169] }, { 39: 170, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 171] }, o($Vc, [2, 37], { 35: [1, 172] }), o($Vc, [2, 38], { 38: [1, 173] }), o($Vc, [2, 36], { 33: [1, 174] }), o($Vc, [2, 39], { 35: [1, 175] }), o($Vc, [2, 34], { 38: [1, 176] }), o($Vc, [2, 35], { 33: [1, 177] }), o($Vc, [2, 60], { 42: [1, 178] }), o($Vc, [2, 73], { 33: [1, 179] }), o($Vc, [2, 61], { 42: [1, 180] }), o($Vc, [2, 84], { 38: [1, 181] }), o($Vc, [2, 74], { 33: [1, 182] }), o($Vc, [2, 83], { 38: [1, 183] }), o($Vc, [2, 59], { 42: [1, 184] }), o($Vc, [2, 72], { 33: [1, 185] }), o($Vc, [2, 58], { 42: [1, 186] }), o($Vc, [2, 78], { 35: [1, 187] }), o($Vc, [2, 71], { 33: [1, 188] }), o($Vc, [2, 77], { 35: [1, 189] }), o($Vc, [2, 57], { 42: [1, 190] }), o($Vc, [2, 85], { 38: [1, 191] }), o($Vc, [2, 56], { 42: [1, 192] }), o($Vc, [2, 79], { 35: [1, 193] }), o($Vc, [2, 80], { 35: [1, 194] }), o($Vc, [2, 86], { 38: [1, 195] }), o($Vc, [2, 70], { 33: [1, 196] }), o($Vc, [2, 81], { 38: [1, 197] }), o($Vc, [2, 69], { 33: [1, 198] }), o($Vc, [2, 75], { 35: [1, 199] }), o($Vc, [2, 76], { 35: [1, 200] }), o($Vc, [2, 82], { 38: [1, 201] }), { 34: [1, 202] }, { 39: 203, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 204] }, { 34: [1, 205] }, { 39: 206, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 207] }, { 34: [1, 208] }, { 34: [1, 209] }, { 34: [1, 210] }, { 39: 211, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 212] }, { 39: 213, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 214] }, { 34: [1, 215] }, { 34: [1, 216] }, { 34: [1, 217] }, { 34: [1, 218] }, { 34: [1, 219] }, { 34: [1, 220] }, { 39: 221, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 222] }, { 34: [1, 223] }, { 34: [1, 224] }, { 39: 225, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 226] }, { 39: 227, 43: $Vd, 44: $Ve, 45: $Vf }, { 34: [1, 228] }, { 34: [1, 229] }, { 34: [1, 230] }, { 39: 231, 43: $Vd, 44: $Ve, 45: $Vf }, o($Vc, [2, 40]), o($Vc, [2, 42]), o($Vc, [2, 41]), o($Vc, [2, 43]), o($Vc, [2, 45]), o($Vc, [2, 44]), o($Vc, [2, 101]), o($Vc, [2, 102]), o($Vc, [2, 99]), o($Vc, [2, 100]), o($Vc, [2, 104]), o($Vc, [2, 103]), o($Vc, [2, 108]), o($Vc, [2, 107]), o($Vc, [2, 106]), o($Vc, [2, 105]), o($Vc, [2, 110]), o($Vc, [2, 109]), o($Vc, [2, 98]), o($Vc, [2, 97]), o($Vc, [2, 96]), o($Vc, [2, 95]), o($Vc, [2, 93]), o($Vc, [2, 94]), o($Vc, [2, 92]), o($Vc, [2, 91]), o($Vc, [2, 90]), o($Vc, [2, 89]), o($Vc, [2, 87]), o($Vc, [2, 88])],
    defaultActions: { 9: [2, 118], 10: [2, 1], 11: [2, 2], 19: [2, 3], 27: [2, 4], 46: [2, 120], 47: [2, 5] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: { "case-insensitive": true },
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("open_directive");
            return 50;
          case 1:
            this.begin("type_directive");
            return 51;
          case 2:
            this.popState();
            this.begin("arg_directive");
            return 9;
          case 3:
            this.popState();
            this.popState();
            return 53;
          case 4:
            return 52;
          case 5:
            this.begin("acc_title");
            return 20;
          case 6:
            this.popState();
            return "acc_title_value";
          case 7:
            this.begin("acc_descr");
            return 22;
          case 8:
            this.popState();
            return "acc_descr_value";
          case 9:
            this.begin("acc_descr_multiline");
            break;
          case 10:
            this.popState();
            break;
          case 11:
            return "acc_descr_multiline_value";
          case 12:
            return 14;
          case 13:
            break;
          case 14:
            break;
          case 15:
            return 6;
          case 16:
            return 40;
          case 17:
            return 33;
          case 18:
            return 38;
          case 19:
            return 42;
          case 20:
            return 43;
          case 21:
            return 44;
          case 22:
            return 45;
          case 23:
            return 35;
          case 24:
            return 29;
          case 25:
            return 30;
          case 26:
            return 37;
          case 27:
            return 32;
          case 28:
            return 27;
          case 29:
            return 10;
          case 30:
            return 10;
          case 31:
            return 9;
          case 32:
            return "CARET";
          case 33:
            this.begin("options");
            break;
          case 34:
            this.popState();
            break;
          case 35:
            return 13;
          case 36:
            return 36;
          case 37:
            this.begin("string");
            break;
          case 38:
            this.popState();
            break;
          case 39:
            return 34;
          case 40:
            return 31;
          case 41:
            return 28;
          case 42:
            return 8;
        }
      },
      rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:(\r?\n)+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:gitGraph\b)/i, /^(?:commit(?=\s|$))/i, /^(?:id:)/i, /^(?:type:)/i, /^(?:msg:)/i, /^(?:NORMAL\b)/i, /^(?:REVERSE\b)/i, /^(?:HIGHLIGHT\b)/i, /^(?:tag:)/i, /^(?:branch(?=\s|$))/i, /^(?:order:)/i, /^(?:merge(?=\s|$))/i, /^(?:cherry-pick(?=\s|$))/i, /^(?:checkout(?=\s|$))/i, /^(?:LR\b)/i, /^(?:BT\b)/i, /^(?::)/i, /^(?:\^)/i, /^(?:options\r?\n)/i, /^(?:[ \r\n\t]+end\b)/i, /^(?:[\s\S]+(?=[ \r\n\t]+end))/i, /^(?:["]["])/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[0-9]+(?=\s|$))/i, /^(?:\w([-\./\w]*[-\w])?)/i, /^(?:$)/i, /^(?:\s+)/i],
      conditions: { "acc_descr_multiline": { "rules": [10, 11], "inclusive": false }, "acc_descr": { "rules": [8], "inclusive": false }, "acc_title": { "rules": [6], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "options": { "rules": [34, 35], "inclusive": false }, "string": { "rules": [38, 39], "inclusive": false }, "INITIAL": { "rules": [0, 5, 7, 9, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 36, 37, 40, 41, 42, 43], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$b.parser = parser$b;
var gitGraphDetector = (txt) => {
  return txt.match(/^\s*gitGraph/) !== null;
};
var title$1 = "";
var diagramTitle = "";
var description = "";
var sanitizeText$3 = (txt) => sanitizeText$5(txt, getConfig$1());
var clear$g = function() {
  title$1 = "";
  description = "";
  diagramTitle = "";
};
var setAccTitle = function(txt) {
  title$1 = sanitizeText$3(txt).replace(/^\s+/g, "");
};
var getAccTitle = function() {
  return title$1 || diagramTitle;
};
var setAccDescription = function(txt) {
  description = sanitizeText$3(txt).replace(/\n\s+/g, "\n");
};
var getAccDescription = function() {
  return description;
};
var setDiagramTitle = function(txt) {
  diagramTitle = sanitizeText$3(txt);
};
var getDiagramTitle = function() {
  return diagramTitle;
};
var mainBranchName = getConfig$1().gitGraph.mainBranchName;
var mainBranchOrder = getConfig$1().gitGraph.mainBranchOrder;
var commits = {};
var head = null;
var branchesConfig = {};
branchesConfig[mainBranchName] = { name: mainBranchName, order: mainBranchOrder };
var branches = {};
branches[mainBranchName] = head;
var curBranch = mainBranchName;
var direction$3 = "LR";
var seq = 0;
function getId() {
  return random({ length: 7 });
}
var parseDirective$b = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
function uniqBy(list, fn) {
  const recordMap = /* @__PURE__ */ Object.create(null);
  return list.reduce((out, item) => {
    const key = fn(item);
    if (!recordMap[key]) {
      recordMap[key] = true;
      out.push(item);
    }
    return out;
  }, []);
}
var setDirection$3 = function(dir) {
  direction$3 = dir;
};
var options = {};
var setOptions = function(rawOptString) {
  log$1.debug("options str", rawOptString);
  rawOptString = rawOptString && rawOptString.trim();
  rawOptString = rawOptString || "{}";
  try {
    options = JSON.parse(rawOptString);
  } catch (e) {
    log$1.error("error while parsing gitGraph options", e.message);
  }
};
var getOptions = function() {
  return options;
};
var commit = function(msg, id5, type22, tag) {
  log$1.debug("Entering commit:", msg, id5, type22, tag);
  id5 = common.sanitizeText(id5, getConfig$1());
  msg = common.sanitizeText(msg, getConfig$1());
  tag = common.sanitizeText(tag, getConfig$1());
  const commit2 = {
    id: id5 ? id5 : seq + "-" + getId(),
    message: msg,
    seq: seq++,
    type: type22 ? type22 : commitType$1.NORMAL,
    tag: tag ? tag : "",
    parents: head == null ? [] : [head.id],
    branch: curBranch
  };
  head = commit2;
  commits[commit2.id] = commit2;
  branches[curBranch] = commit2.id;
  log$1.debug("in pushCommit " + commit2.id);
};
var branch = function(name2, order) {
  name2 = common.sanitizeText(name2, getConfig$1());
  if (typeof branches[name2] === "undefined") {
    branches[name2] = head != null ? head.id : null;
    branchesConfig[name2] = { name: name2, order: order ? parseInt(order, 10) : null };
    checkout(name2);
    log$1.debug("in createBranch");
  } else {
    let error = new Error(
      'Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ' + name2 + '")'
    );
    error.hash = {
      text: "branch " + name2,
      token: "branch " + name2,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: ['"checkout ' + name2 + '"']
    };
    throw error;
  }
};
var merge5 = function(otherBranch, custom_id, override_type, custom_tag) {
  otherBranch = common.sanitizeText(otherBranch, getConfig$1());
  custom_id = common.sanitizeText(custom_id, getConfig$1());
  const currentCommit = commits[branches[curBranch]];
  const otherCommit = commits[branches[otherBranch]];
  if (curBranch === otherBranch) {
    let error = new Error('Incorrect usage of "merge". Cannot merge a branch to itself');
    error.hash = {
      text: "merge " + otherBranch,
      token: "merge " + otherBranch,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: ["branch abc"]
    };
    throw error;
  } else if (typeof currentCommit === "undefined" || !currentCommit) {
    let error = new Error(
      'Incorrect usage of "merge". Current branch (' + curBranch + ")has no commits"
    );
    error.hash = {
      text: "merge " + otherBranch,
      token: "merge " + otherBranch,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: ["commit"]
    };
    throw error;
  } else if (typeof branches[otherBranch] === "undefined") {
    let error = new Error(
      'Incorrect usage of "merge". Branch to be merged (' + otherBranch + ") does not exist"
    );
    error.hash = {
      text: "merge " + otherBranch,
      token: "merge " + otherBranch,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: ["branch " + otherBranch]
    };
    throw error;
  } else if (typeof otherCommit === "undefined" || !otherCommit) {
    let error = new Error(
      'Incorrect usage of "merge". Branch to be merged (' + otherBranch + ") has no commits"
    );
    error.hash = {
      text: "merge " + otherBranch,
      token: "merge " + otherBranch,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: ['"commit"']
    };
    throw error;
  } else if (currentCommit === otherCommit) {
    let error = new Error('Incorrect usage of "merge". Both branches have same head');
    error.hash = {
      text: "merge " + otherBranch,
      token: "merge " + otherBranch,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: ["branch abc"]
    };
    throw error;
  } else if (custom_id && typeof commits[custom_id] !== "undefined") {
    let error = new Error(
      'Incorrect usage of "merge". Commit with id:' + custom_id + " already exists, use different custom Id"
    );
    error.hash = {
      text: "merge " + otherBranch + custom_id + override_type + custom_tag,
      token: "merge " + otherBranch + custom_id + override_type + custom_tag,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: [
        "merge " + otherBranch + " " + custom_id + "_UNIQUE " + override_type + " " + custom_tag
      ]
    };
    throw error;
  }
  const commit2 = {
    id: custom_id ? custom_id : seq + "-" + getId(),
    message: "merged branch " + otherBranch + " into " + curBranch,
    seq: seq++,
    parents: [head == null ? null : head.id, branches[otherBranch]],
    branch: curBranch,
    type: commitType$1.MERGE,
    customType: override_type,
    customId: custom_id ? true : false,
    tag: custom_tag ? custom_tag : ""
  };
  head = commit2;
  commits[commit2.id] = commit2;
  branches[curBranch] = commit2.id;
  log$1.debug(branches);
  log$1.debug("in mergeBranch");
};
var cherryPick = function(sourceId, targetId, tag) {
  log$1.debug("Entering cherryPick:", sourceId, targetId, tag);
  sourceId = common.sanitizeText(sourceId, getConfig$1());
  targetId = common.sanitizeText(targetId, getConfig$1());
  tag = common.sanitizeText(tag, getConfig$1());
  if (!sourceId || typeof commits[sourceId] === "undefined") {
    let error = new Error(
      'Incorrect usage of "cherryPick". Source commit id should exist and provided'
    );
    error.hash = {
      text: "cherryPick " + sourceId + " " + targetId,
      token: "cherryPick " + sourceId + " " + targetId,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: ["cherry-pick abc"]
    };
    throw error;
  }
  let sourceCommit = commits[sourceId];
  let sourceCommitBranch = sourceCommit.branch;
  if (sourceCommit.type === commitType$1.MERGE) {
    let error = new Error(
      'Incorrect usage of "cherryPick". Source commit should not be a merge commit'
    );
    error.hash = {
      text: "cherryPick " + sourceId + " " + targetId,
      token: "cherryPick " + sourceId + " " + targetId,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: ["cherry-pick abc"]
    };
    throw error;
  }
  if (!targetId || typeof commits[targetId] === "undefined") {
    if (sourceCommitBranch === curBranch) {
      let error = new Error(
        'Incorrect usage of "cherryPick". Source commit is already on current branch'
      );
      error.hash = {
        text: "cherryPick " + sourceId + " " + targetId,
        token: "cherryPick " + sourceId + " " + targetId,
        line: "1",
        loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
        expected: ["cherry-pick abc"]
      };
      throw error;
    }
    const currentCommit = commits[branches[curBranch]];
    if (typeof currentCommit === "undefined" || !currentCommit) {
      let error = new Error(
        'Incorrect usage of "cherry-pick". Current branch (' + curBranch + ")has no commits"
      );
      error.hash = {
        text: "cherryPick " + sourceId + " " + targetId,
        token: "cherryPick " + sourceId + " " + targetId,
        line: "1",
        loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
        expected: ["cherry-pick abc"]
      };
      throw error;
    }
    const commit2 = {
      id: seq + "-" + getId(),
      message: "cherry-picked " + sourceCommit + " into " + curBranch,
      seq: seq++,
      parents: [head == null ? null : head.id, sourceCommit.id],
      branch: curBranch,
      type: commitType$1.CHERRY_PICK,
      tag: tag != null ? tag : "cherry-pick:" + sourceCommit.id
    };
    head = commit2;
    commits[commit2.id] = commit2;
    branches[curBranch] = commit2.id;
    log$1.debug(branches);
    log$1.debug("in cherryPick");
  }
};
var checkout = function(branch2) {
  branch2 = common.sanitizeText(branch2, getConfig$1());
  if (typeof branches[branch2] === "undefined") {
    let error = new Error(
      'Trying to checkout branch which is not yet created. (Help try using "branch ' + branch2 + '")'
    );
    error.hash = {
      text: "checkout " + branch2,
      token: "checkout " + branch2,
      line: "1",
      loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
      expected: ['"branch ' + branch2 + '"']
    };
    throw error;
  } else {
    curBranch = branch2;
    const id5 = branches[curBranch];
    head = commits[id5];
  }
};
function upsert(arr, key, newval) {
  const index6 = arr.indexOf(key);
  if (index6 === -1) {
    arr.push(newval);
  } else {
    arr.splice(index6, 1, newval);
  }
}
function prettyPrintCommitHistory(commitArr) {
  const commit2 = commitArr.reduce((out, commit3) => {
    if (out.seq > commit3.seq)
      return out;
    return commit3;
  }, commitArr[0]);
  let line2 = "";
  commitArr.forEach(function(c22) {
    if (c22 === commit2) {
      line2 += "	*";
    } else {
      line2 += "	|";
    }
  });
  const label = [line2, commit2.id, commit2.seq];
  for (let branch2 in branches) {
    if (branches[branch2] === commit2.id)
      label.push(branch2);
  }
  log$1.debug(label.join(" "));
  if (commit2.parents && commit2.parents.length == 2) {
    const newCommit = commits[commit2.parents[0]];
    upsert(commitArr, commit2, newCommit);
    commitArr.push(commits[commit2.parents[1]]);
  } else if (commit2.parents.length == 0) {
    return;
  } else {
    const nextCommit = commits[commit2.parents];
    upsert(commitArr, commit2, nextCommit);
  }
  commitArr = uniqBy(commitArr, (c22) => c22.id);
  prettyPrintCommitHistory(commitArr);
}
var prettyPrint = function() {
  log$1.debug(commits);
  const node2 = getCommitsArray()[0];
  prettyPrintCommitHistory([node2]);
};
var clear$f = function() {
  commits = {};
  head = null;
  let mainBranch = getConfig$1().gitGraph.mainBranchName;
  let mainBranchOrder2 = getConfig$1().gitGraph.mainBranchOrder;
  branches = {};
  branches[mainBranch] = null;
  branchesConfig = {};
  branchesConfig[mainBranch] = { name: mainBranch, order: mainBranchOrder2 };
  curBranch = mainBranch;
  seq = 0;
  clear$g();
};
var getBranchesAsObjArray = function() {
  const branchesArray = Object.values(branchesConfig).map((branchConfig, i) => {
    if (branchConfig.order !== null)
      return branchConfig;
    return {
      ...branchConfig,
      order: parseFloat(`0.${i}`, 10)
    };
  }).sort((a3, b) => a3.order - b.order).map(({ name: name2 }) => ({ name: name2 }));
  return branchesArray;
};
var getBranches = function() {
  return branches;
};
var getCommits = function() {
  return commits;
};
var getCommitsArray = function() {
  const commitArr = Object.keys(commits).map(function(key) {
    return commits[key];
  });
  commitArr.forEach(function(o) {
    log$1.debug(o.id);
  });
  commitArr.sort((a3, b) => a3.seq - b.seq);
  return commitArr;
};
var getCurrentBranch = function() {
  return curBranch;
};
var getDirection$3 = function() {
  return direction$3;
};
var getHead = function() {
  return head;
};
var commitType$1 = {
  NORMAL: 0,
  REVERSE: 1,
  HIGHLIGHT: 2,
  MERGE: 3,
  CHERRY_PICK: 4
};
var gitGraphDb = {
  parseDirective: parseDirective$b,
  getConfig: () => getConfig$1().gitGraph,
  setDirection: setDirection$3,
  setOptions,
  getOptions,
  commit,
  branch,
  merge: merge5,
  cherryPick,
  checkout,
  prettyPrint,
  clear: clear$f,
  getBranchesAsObjArray,
  getBranches,
  getCommits,
  getCommitsArray,
  getCurrentBranch,
  getDirection: getDirection$3,
  getHead,
  setAccTitle,
  getAccTitle,
  getAccDescription,
  setAccDescription,
  commitType: commitType$1
};
function addSVGAccessibilityFields(yy_parser, svg4, id5) {
  if (typeof svg4.insert === "undefined") {
    return;
  }
  let title_string = yy_parser.getAccTitle();
  let description2 = yy_parser.getAccDescription();
  svg4.attr("role", "img").attr("aria-labelledby", "chart-title-" + id5 + " chart-desc-" + id5);
  svg4.insert("desc", ":first-child").attr("id", "chart-desc-" + id5).text(description2);
  svg4.insert("title", ":first-child").attr("id", "chart-title-" + id5).text(title_string);
}
var allCommitsDict = {};
var commitType = {
  NORMAL: 0,
  REVERSE: 1,
  HIGHLIGHT: 2,
  MERGE: 3,
  CHERRY_PICK: 4
};
var THEME_COLOR_LIMIT = 8;
var branchPos = {};
var commitPos = {};
var lanes = [];
var maxPos = 0;
var clear$e = () => {
  branchPos = {};
  commitPos = {};
  allCommitsDict = {};
  maxPos = 0;
  lanes = [];
};
var drawText$3 = (txt) => {
  const svgLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
  let rows = [];
  if (typeof txt === "string") {
    rows = txt.split(/\\n|\n|<br\s*\/?>/gi);
  } else if (Array.isArray(txt)) {
    rows = txt;
  } else {
    rows = [];
  }
  for (let j = 0; j < rows.length; j++) {
    const tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
    tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
    tspan.setAttribute("dy", "1em");
    tspan.setAttribute("x", "0");
    tspan.setAttribute("class", "row");
    tspan.textContent = rows[j].trim();
    svgLabel.appendChild(tspan);
  }
  return svgLabel;
};
var drawCommits = (svg4, commits2, modifyGraph) => {
  const gitGraphConfig = getConfig().gitGraph;
  const gBullets = svg4.append("g").attr("class", "commit-bullets");
  const gLabels = svg4.append("g").attr("class", "commit-labels");
  let pos = 0;
  const keys = Object.keys(commits2);
  const sortedKeys = keys.sort((a3, b) => {
    return commits2[a3].seq - commits2[b].seq;
  });
  sortedKeys.forEach((key) => {
    const commit2 = commits2[key];
    const y7 = branchPos[commit2.branch].pos;
    const x7 = pos + 10;
    if (modifyGraph) {
      let typeClass;
      let commitSymbolType = typeof commit2.customType !== "undefined" && commit2.customType !== "" ? commit2.customType : commit2.type;
      switch (commitSymbolType) {
        case commitType.NORMAL:
          typeClass = "commit-normal";
          break;
        case commitType.REVERSE:
          typeClass = "commit-reverse";
          break;
        case commitType.HIGHLIGHT:
          typeClass = "commit-highlight";
          break;
        case commitType.MERGE:
          typeClass = "commit-merge";
          break;
        case commitType.CHERRY_PICK:
          typeClass = "commit-cherry-pick";
          break;
        default:
          typeClass = "commit-normal";
      }
      if (commitSymbolType === commitType.HIGHLIGHT) {
        const circle22 = gBullets.append("rect");
        circle22.attr("x", x7 - 10);
        circle22.attr("y", y7 - 10);
        circle22.attr("height", 20);
        circle22.attr("width", 20);
        circle22.attr(
          "class",
          `commit ${commit2.id} commit-highlight${branchPos[commit2.branch].index % THEME_COLOR_LIMIT} ${typeClass}-outer`
        );
        gBullets.append("rect").attr("x", x7 - 6).attr("y", y7 - 6).attr("height", 12).attr("width", 12).attr(
          "class",
          `commit ${commit2.id} commit${branchPos[commit2.branch].index % THEME_COLOR_LIMIT} ${typeClass}-inner`
        );
      } else if (commitSymbolType === commitType.CHERRY_PICK) {
        gBullets.append("circle").attr("cx", x7).attr("cy", y7).attr("r", 10).attr("class", `commit ${commit2.id} ${typeClass}`);
        gBullets.append("circle").attr("cx", x7 - 3).attr("cy", y7 + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", `commit ${commit2.id} ${typeClass}`);
        gBullets.append("circle").attr("cx", x7 + 3).attr("cy", y7 + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", `commit ${commit2.id} ${typeClass}`);
        gBullets.append("line").attr("x1", x7 + 3).attr("y1", y7 + 1).attr("x2", x7).attr("y2", y7 - 5).attr("stroke", "#fff").attr("class", `commit ${commit2.id} ${typeClass}`);
        gBullets.append("line").attr("x1", x7 - 3).attr("y1", y7 + 1).attr("x2", x7).attr("y2", y7 - 5).attr("stroke", "#fff").attr("class", `commit ${commit2.id} ${typeClass}`);
      } else {
        const circle22 = gBullets.append("circle");
        circle22.attr("cx", x7);
        circle22.attr("cy", y7);
        circle22.attr("r", commit2.type === commitType.MERGE ? 9 : 10);
        circle22.attr(
          "class",
          `commit ${commit2.id} commit${branchPos[commit2.branch].index % THEME_COLOR_LIMIT}`
        );
        if (commitSymbolType === commitType.MERGE) {
          const circle222 = gBullets.append("circle");
          circle222.attr("cx", x7);
          circle222.attr("cy", y7);
          circle222.attr("r", 6);
          circle222.attr(
            "class",
            `commit ${typeClass} ${commit2.id} commit${branchPos[commit2.branch].index % THEME_COLOR_LIMIT}`
          );
        }
        if (commitSymbolType === commitType.REVERSE) {
          const cross22 = gBullets.append("path");
          cross22.attr("d", `M ${x7 - 5},${y7 - 5}L${x7 + 5},${y7 + 5}M${x7 - 5},${y7 + 5}L${x7 + 5},${y7 - 5}`).attr(
            "class",
            `commit ${typeClass} ${commit2.id} commit${branchPos[commit2.branch].index % THEME_COLOR_LIMIT}`
          );
        }
      }
    }
    commitPos[commit2.id] = { x: pos + 10, y: y7 };
    if (modifyGraph) {
      const px = 4;
      const py = 2;
      if (commit2.type !== commitType.CHERRY_PICK && (commit2.customId && commit2.type === commitType.MERGE || commit2.type !== commitType.MERGE) && gitGraphConfig.showCommitLabel) {
        const wrapper = gLabels.append("g");
        const labelBkg = wrapper.insert("rect").attr("class", "commit-label-bkg");
        const text2 = wrapper.append("text").attr("x", pos).attr("y", y7 + 25).attr("class", "commit-label").text(commit2.id);
        let bbox = text2.node().getBBox();
        labelBkg.attr("x", pos + 10 - bbox.width / 2 - py).attr("y", y7 + 13.5).attr("width", bbox.width + 2 * py).attr("height", bbox.height + 2 * py);
        text2.attr("x", pos + 10 - bbox.width / 2);
        if (gitGraphConfig.rotateCommitLabel) {
          let r_x = -7.5 - (bbox.width + 10) / 25 * 9.5;
          let r_y = 10 + bbox.width / 25 * 8.5;
          wrapper.attr(
            "transform",
            "translate(" + r_x + ", " + r_y + ") rotate(" + -45 + ", " + pos + ", " + y7 + ")"
          );
        }
      }
      if (commit2.tag) {
        const rect2 = gLabels.insert("polygon");
        const hole = gLabels.append("circle");
        const tag = gLabels.append("text").attr("y", y7 - 16).attr("class", "tag-label").text(commit2.tag);
        let tagBbox = tag.node().getBBox();
        tag.attr("x", pos + 10 - tagBbox.width / 2);
        const h2 = tagBbox.height / 2;
        const ly = y7 - 19.2;
        rect2.attr("class", "tag-label-bkg").attr(
          "points",
          `
          ${pos - tagBbox.width / 2 - px / 2},${ly + py}
          ${pos - tagBbox.width / 2 - px / 2},${ly - py}
          ${pos + 10 - tagBbox.width / 2 - px},${ly - h2 - py}
          ${pos + 10 + tagBbox.width / 2 + px},${ly - h2 - py}
          ${pos + 10 + tagBbox.width / 2 + px},${ly + h2 + py}
          ${pos + 10 - tagBbox.width / 2 - px},${ly + h2 + py}`
        );
        hole.attr("cx", pos - tagBbox.width / 2 + px / 2).attr("cy", ly).attr("r", 1.5).attr("class", "tag-hole");
      }
    }
    pos += 50;
    if (pos > maxPos) {
      maxPos = pos;
    }
  });
};
var hasOverlappingCommits = (commit1, commit2, allCommits) => {
  const keys = Object.keys(allCommits);
  const overlappingComits = keys.filter((key) => {
    return allCommits[key].branch === commit2.branch && allCommits[key].seq > commit1.seq && allCommits[key].seq < commit2.seq;
  });
  return overlappingComits.length > 0;
};
var findLane = (y12, y22, _depth) => {
  const depth = _depth || 0;
  const candidate = y12 + Math.abs(y12 - y22) / 2;
  if (depth > 5) {
    return candidate;
  }
  let ok = true;
  for (let i = 0; i < lanes.length; i++) {
    if (Math.abs(lanes[i] - candidate) < 10) {
      ok = false;
    }
  }
  if (ok) {
    lanes.push(candidate);
    return candidate;
  }
  const diff = Math.abs(y12 - y22);
  return findLane(y12, y22 - diff / 5, depth + 1);
};
var drawArrow = (svg4, commit1, commit2, allCommits) => {
  const p1 = commitPos[commit1.id];
  const p2 = commitPos[commit2.id];
  const overlappingCommits = hasOverlappingCommits(commit1, commit2, allCommits);
  let arc2 = "";
  let arc22 = "";
  let radius = 0;
  let offset = 0;
  let colorClassNum = branchPos[commit2.branch].index;
  let lineDef;
  if (overlappingCommits) {
    arc2 = "A 10 10, 0, 0, 0,";
    arc22 = "A 10 10, 0, 0, 1,";
    radius = 10;
    offset = 10;
    colorClassNum = branchPos[commit2.branch].index;
    const lineY = p1.y < p2.y ? findLane(p1.y, p2.y) : findLane(p2.y, p1.y);
    if (p1.y < p2.y) {
      lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${lineY - radius} ${arc2} ${p1.x + offset} ${lineY} L ${p2.x - radius} ${lineY} ${arc22} ${p2.x} ${lineY + offset} L ${p2.x} ${p2.y}`;
    } else {
      lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${lineY + radius} ${arc22} ${p1.x + offset} ${lineY} L ${p2.x - radius} ${lineY} ${arc2} ${p2.x} ${lineY - offset} L ${p2.x} ${p2.y}`;
    }
  } else {
    if (p1.y < p2.y) {
      arc2 = "A 20 20, 0, 0, 0,";
      radius = 20;
      offset = 20;
      colorClassNum = branchPos[commit2.branch].index;
      lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y - radius} ${arc2} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;
    }
    if (p1.y > p2.y) {
      arc2 = "A 20 20, 0, 0, 0,";
      radius = 20;
      offset = 20;
      colorClassNum = branchPos[commit1.branch].index;
      lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc2} ${p2.x} ${p1.y - offset} L ${p2.x} ${p2.y}`;
    }
    if (p1.y === p2.y) {
      colorClassNum = branchPos[commit1.branch].index;
      lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y - radius} ${arc2} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;
    }
  }
  svg4.append("path").attr("d", lineDef).attr("class", "arrow arrow" + colorClassNum % THEME_COLOR_LIMIT);
};
var drawArrows = (svg4, commits2) => {
  const gArrows = svg4.append("g").attr("class", "commit-arrows");
  Object.keys(commits2).forEach((key) => {
    const commit2 = commits2[key];
    if (commit2.parents && commit2.parents.length > 0) {
      commit2.parents.forEach((parent) => {
        drawArrow(gArrows, commits2[parent], commit2, commits2);
      });
    }
  });
};
var drawBranches = (svg4, branches2) => {
  const gitGraphConfig = getConfig().gitGraph;
  const g = svg4.append("g");
  branches2.forEach((branch2, index6) => {
    const adjustIndexForTheme = index6 % THEME_COLOR_LIMIT;
    const pos = branchPos[branch2.name].pos;
    const line2 = g.append("line");
    line2.attr("x1", 0);
    line2.attr("y1", pos);
    line2.attr("x2", maxPos);
    line2.attr("y2", pos);
    line2.attr("class", "branch branch" + adjustIndexForTheme);
    lanes.push(pos);
    let name2 = branch2.name;
    const labelElement = drawText$3(name2);
    const bkg = g.insert("rect");
    const branchLabel = g.insert("g").attr("class", "branchLabel");
    const label = branchLabel.insert("g").attr("class", "label branch-label" + adjustIndexForTheme);
    label.node().appendChild(labelElement);
    let bbox = labelElement.getBBox();
    bkg.attr("class", "branchLabelBkg label" + adjustIndexForTheme).attr("rx", 4).attr("ry", 4).attr("x", -bbox.width - 4 - (gitGraphConfig.rotateCommitLabel === true ? 30 : 0)).attr("y", -bbox.height / 2 + 8).attr("width", bbox.width + 18).attr("height", bbox.height + 4);
    label.attr(
      "transform",
      "translate(" + (-bbox.width - 14 - (gitGraphConfig.rotateCommitLabel === true ? 30 : 0)) + ", " + (pos - bbox.height / 2 - 1) + ")"
    );
    bkg.attr("transform", "translate(" + -19 + ", " + (pos - bbox.height / 2) + ")");
  });
};
var draw$f = function(txt, id5, ver, diagObj) {
  clear$e();
  const conf2 = getConfig();
  const gitGraphConfig = getConfig().gitGraph;
  log$1.debug("in gitgraph renderer", txt + "\n", "id:", id5, ver);
  allCommitsDict = diagObj.db.getCommits();
  const branches2 = diagObj.db.getBranchesAsObjArray();
  let pos = 0;
  branches2.forEach((branch2, index6) => {
    branchPos[branch2.name] = { pos, index: index6 };
    pos += 50 + (gitGraphConfig.rotateCommitLabel ? 40 : 0);
  });
  const diagram = select_default5(`[id="${id5}"]`);
  addSVGAccessibilityFields(diagObj.db, diagram, id5);
  drawCommits(diagram, allCommitsDict, false);
  if (gitGraphConfig.showBranches) {
    drawBranches(diagram, branches2);
  }
  drawArrows(diagram, allCommitsDict);
  drawCommits(diagram, allCommitsDict, true);
  setupGraphViewbox(void 0, diagram, gitGraphConfig.diagramPadding, conf2.useMaxWidth);
};
var gitGraphRenderer = {
  draw: draw$f
};
var getStyles = (options2) => `
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0, 1, 2, 3, 4, 5, 6, 7].map(
  (i) => `
        .branch-label${i} { fill: ${options2["gitBranchLabel" + i]}; }
        .commit${i} { stroke: ${options2["git" + i]}; fill: ${options2["git" + i]}; }
        .commit-highlight${i} { stroke: ${options2["gitInv" + i]}; fill: ${options2["gitInv" + i]}; }
        .label${i}  { fill: ${options2["git" + i]}; }
        .arrow${i} { stroke: ${options2["git" + i]}; }
        `
).join("\n")}

  .branch {
    stroke-width: 1;
    stroke: ${options2.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${options2.commitLabelFontSize}; fill: ${options2.commitLabelColor};}
  .commit-label-bkg { font-size: ${options2.commitLabelFontSize}; fill: ${options2.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${options2.tagLabelFontSize}; fill: ${options2.tagLabelColor};}
  .tag-label-bkg { fill: ${options2.tagLabelBackground}; stroke: ${options2.tagLabelBorder}; }
  .tag-hole { fill: ${options2.textColor}; }

  .commit-merge {
    stroke: ${options2.primaryColor};
    fill: ${options2.primaryColor};
  }
  .commit-reverse {
    stroke: ${options2.primaryColor};
    fill: ${options2.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${options2.primaryColor};
    fill: ${options2.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  }
`;
var parser$a = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 6], $V1 = [1, 7], $V2 = [1, 8], $V3 = [1, 9], $V4 = [1, 16], $V5 = [1, 11], $V6 = [1, 12], $V7 = [1, 13], $V8 = [1, 14], $V9 = [1, 15], $Va = [1, 27], $Vb = [1, 33], $Vc = [1, 34], $Vd = [1, 35], $Ve = [1, 36], $Vf = [1, 37], $Vg = [1, 72], $Vh = [1, 73], $Vi = [1, 74], $Vj = [1, 75], $Vk = [1, 76], $Vl = [1, 77], $Vm = [1, 78], $Vn = [1, 38], $Vo = [1, 39], $Vp = [1, 40], $Vq = [1, 41], $Vr = [1, 42], $Vs = [1, 43], $Vt = [1, 44], $Vu = [1, 45], $Vv = [1, 46], $Vw = [1, 47], $Vx = [1, 48], $Vy = [1, 49], $Vz = [1, 50], $VA = [1, 51], $VB = [1, 52], $VC = [1, 53], $VD = [1, 54], $VE = [1, 55], $VF = [1, 56], $VG = [1, 57], $VH = [1, 59], $VI = [1, 60], $VJ = [1, 61], $VK = [1, 62], $VL = [1, 63], $VM = [1, 64], $VN = [1, 65], $VO = [1, 66], $VP = [1, 67], $VQ = [1, 68], $VR = [1, 69], $VS = [24, 52], $VT = [24, 44, 46, 47, 48, 49, 50, 51, 52, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84], $VU = [15, 24, 44, 46, 47, 48, 49, 50, 51, 52, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84], $VV = [1, 94], $VW = [1, 95], $VX = [1, 96], $VY = [1, 97], $VZ = [15, 24, 52], $V_ = [7, 8, 9, 10, 18, 22, 25, 26, 27, 28], $V$ = [15, 24, 43, 52], $V01 = [15, 24, 43, 52, 86, 87, 89, 90], $V11 = [15, 43], $V21 = [44, 46, 47, 48, 49, 50, 51, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "mermaidDoc": 4, "direction": 5, "directive": 6, "direction_tb": 7, "direction_bt": 8, "direction_rl": 9, "direction_lr": 10, "graphConfig": 11, "openDirective": 12, "typeDirective": 13, "closeDirective": 14, "NEWLINE": 15, ":": 16, "argDirective": 17, "open_directive": 18, "type_directive": 19, "arg_directive": 20, "close_directive": 21, "C4_CONTEXT": 22, "statements": 23, "EOF": 24, "C4_CONTAINER": 25, "C4_COMPONENT": 26, "C4_DYNAMIC": 27, "C4_DEPLOYMENT": 28, "otherStatements": 29, "diagramStatements": 30, "otherStatement": 31, "title": 32, "accDescription": 33, "acc_title": 34, "acc_title_value": 35, "acc_descr": 36, "acc_descr_value": 37, "acc_descr_multiline_value": 38, "boundaryStatement": 39, "boundaryStartStatement": 40, "boundaryStopStatement": 41, "boundaryStart": 42, "LBRACE": 43, "ENTERPRISE_BOUNDARY": 44, "attributes": 45, "SYSTEM_BOUNDARY": 46, "BOUNDARY": 47, "CONTAINER_BOUNDARY": 48, "NODE": 49, "NODE_L": 50, "NODE_R": 51, "RBRACE": 52, "diagramStatement": 53, "PERSON": 54, "PERSON_EXT": 55, "SYSTEM": 56, "SYSTEM_DB": 57, "SYSTEM_QUEUE": 58, "SYSTEM_EXT": 59, "SYSTEM_EXT_DB": 60, "SYSTEM_EXT_QUEUE": 61, "CONTAINER": 62, "CONTAINER_DB": 63, "CONTAINER_QUEUE": 64, "CONTAINER_EXT": 65, "CONTAINER_EXT_DB": 66, "CONTAINER_EXT_QUEUE": 67, "COMPONENT": 68, "COMPONENT_DB": 69, "COMPONENT_QUEUE": 70, "COMPONENT_EXT": 71, "COMPONENT_EXT_DB": 72, "COMPONENT_EXT_QUEUE": 73, "REL": 74, "BIREL": 75, "REL_U": 76, "REL_D": 77, "REL_L": 78, "REL_R": 79, "REL_B": 80, "REL_INDEX": 81, "UPDATE_EL_STYLE": 82, "UPDATE_REL_STYLE": 83, "UPDATE_LAYOUT_CONFIG": 84, "attribute": 85, "STR": 86, "STR_KEY": 87, "STR_VALUE": 88, "ATTRIBUTE": 89, "ATTRIBUTE_EMPTY": 90, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 7: "direction_tb", 8: "direction_bt", 9: "direction_rl", 10: "direction_lr", 15: "NEWLINE", 16: ":", 18: "open_directive", 19: "type_directive", 20: "arg_directive", 21: "close_directive", 22: "C4_CONTEXT", 24: "EOF", 25: "C4_CONTAINER", 26: "C4_COMPONENT", 27: "C4_DYNAMIC", 28: "C4_DEPLOYMENT", 32: "title", 33: "accDescription", 34: "acc_title", 35: "acc_title_value", 36: "acc_descr", 37: "acc_descr_value", 38: "acc_descr_multiline_value", 43: "LBRACE", 44: "ENTERPRISE_BOUNDARY", 46: "SYSTEM_BOUNDARY", 47: "BOUNDARY", 48: "CONTAINER_BOUNDARY", 49: "NODE", 50: "NODE_L", 51: "NODE_R", 52: "RBRACE", 54: "PERSON", 55: "PERSON_EXT", 56: "SYSTEM", 57: "SYSTEM_DB", 58: "SYSTEM_QUEUE", 59: "SYSTEM_EXT", 60: "SYSTEM_EXT_DB", 61: "SYSTEM_EXT_QUEUE", 62: "CONTAINER", 63: "CONTAINER_DB", 64: "CONTAINER_QUEUE", 65: "CONTAINER_EXT", 66: "CONTAINER_EXT_DB", 67: "CONTAINER_EXT_QUEUE", 68: "COMPONENT", 69: "COMPONENT_DB", 70: "COMPONENT_QUEUE", 71: "COMPONENT_EXT", 72: "COMPONENT_EXT_DB", 73: "COMPONENT_EXT_QUEUE", 74: "REL", 75: "BIREL", 76: "REL_U", 77: "REL_D", 78: "REL_L", 79: "REL_R", 80: "REL_B", 81: "REL_INDEX", 82: "UPDATE_EL_STYLE", 83: "UPDATE_REL_STYLE", 84: "UPDATE_LAYOUT_CONFIG", 86: "STR", 87: "STR_KEY", 88: "STR_VALUE", 89: "ATTRIBUTE", 90: "ATTRIBUTE_EMPTY" },
    productions_: [0, [3, 1], [3, 1], [3, 2], [5, 1], [5, 1], [5, 1], [5, 1], [4, 1], [6, 4], [6, 6], [12, 1], [13, 1], [17, 1], [14, 1], [11, 4], [11, 4], [11, 4], [11, 4], [11, 4], [23, 1], [23, 1], [23, 2], [29, 1], [29, 2], [29, 3], [31, 1], [31, 1], [31, 2], [31, 2], [31, 1], [39, 3], [40, 3], [40, 3], [40, 4], [42, 2], [42, 2], [42, 2], [42, 2], [42, 2], [42, 2], [42, 2], [41, 1], [30, 1], [30, 2], [30, 3], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 1], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [45, 1], [45, 2], [85, 1], [85, 2], [85, 1], [85, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 4:
          yy.setDirection("TB");
          break;
        case 5:
          yy.setDirection("BT");
          break;
        case 6:
          yy.setDirection("RL");
          break;
        case 7:
          yy.setDirection("LR");
          break;
        case 11:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 12:
          break;
        case 13:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 14:
          yy.parseDirective("}%%", "close_directive", "c4Context");
          break;
        case 15:
        case 16:
        case 17:
        case 18:
        case 19:
          yy.setC4Type($$[$0 - 3]);
          break;
        case 26:
          yy.setTitle($$[$0].substring(6));
          this.$ = $$[$0].substring(6);
          break;
        case 27:
          yy.setAccDescription($$[$0].substring(15));
          this.$ = $$[$0].substring(15);
          break;
        case 28:
          this.$ = $$[$0].trim();
          yy.setTitle(this.$);
          break;
        case 29:
        case 30:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 35:
        case 36:
          $$[$0].splice(2, 0, "ENTERPRISE");
          yy.addPersonOrSystemBoundary(...$$[$0]);
          this.$ = $$[$0];
          break;
        case 37:
          yy.addPersonOrSystemBoundary(...$$[$0]);
          this.$ = $$[$0];
          break;
        case 38:
          $$[$0].splice(2, 0, "CONTAINER");
          yy.addContainerBoundary(...$$[$0]);
          this.$ = $$[$0];
          break;
        case 39:
          yy.addDeploymentNode("node", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 40:
          yy.addDeploymentNode("nodeL", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 41:
          yy.addDeploymentNode("nodeR", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 42:
          yy.popBoundaryParseStack();
          break;
        case 46:
          yy.addPersonOrSystem("person", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 47:
          yy.addPersonOrSystem("external_person", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 48:
          yy.addPersonOrSystem("system", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 49:
          yy.addPersonOrSystem("system_db", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 50:
          yy.addPersonOrSystem("system_queue", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 51:
          yy.addPersonOrSystem("external_system", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 52:
          yy.addPersonOrSystem("external_system_db", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 53:
          yy.addPersonOrSystem("external_system_queue", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 54:
          yy.addContainer("container", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 55:
          yy.addContainer("container_db", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 56:
          yy.addContainer("container_queue", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 57:
          yy.addContainer("external_container", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 58:
          yy.addContainer("external_container_db", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 59:
          yy.addContainer("external_container_queue", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 60:
          yy.addComponent("component", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 61:
          yy.addComponent("component_db", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 62:
          yy.addComponent("component_queue", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 63:
          yy.addComponent("external_component", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 64:
          yy.addComponent("external_component_db", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 65:
          yy.addComponent("external_component_queue", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 67:
          yy.addRel("rel", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 68:
          yy.addRel("birel", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 69:
          yy.addRel("rel_u", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 70:
          yy.addRel("rel_d", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 71:
          yy.addRel("rel_l", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 72:
          yy.addRel("rel_r", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 73:
          yy.addRel("rel_b", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 74:
          $$[$0].splice(0, 1);
          yy.addRel("rel", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 75:
          yy.updateElStyle("update_el_style", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 76:
          yy.updateRelStyle("update_rel_style", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 77:
          yy.updateLayoutConfig("update_layout_config", ...$$[$0]);
          this.$ = $$[$0];
          break;
        case 78:
          this.$ = [$$[$0]];
          break;
        case 79:
          $$[$0].unshift($$[$0 - 1]);
          this.$ = $$[$0];
          break;
        case 80:
        case 82:
          this.$ = $$[$0].trim();
          break;
        case 81:
          let kv = {};
          kv[$$[$0 - 1].trim()] = $$[$0].trim();
          this.$ = kv;
          break;
        case 83:
          this.$ = "";
          break;
      }
    },
    table: [{ 3: 1, 4: 2, 5: 3, 6: 4, 7: $V0, 8: $V1, 9: $V2, 10: $V3, 11: 5, 12: 10, 18: $V4, 22: $V5, 25: $V6, 26: $V7, 27: $V8, 28: $V9 }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 3: 17, 4: 2, 5: 3, 6: 4, 7: $V0, 8: $V1, 9: $V2, 10: $V3, 11: 5, 12: 10, 18: $V4, 22: $V5, 25: $V6, 26: $V7, 27: $V8, 28: $V9 }, { 1: [2, 8] }, { 1: [2, 4] }, { 1: [2, 5] }, { 1: [2, 6] }, { 1: [2, 7] }, { 13: 18, 19: [1, 19] }, { 15: [1, 20] }, { 15: [1, 21] }, { 15: [1, 22] }, { 15: [1, 23] }, { 15: [1, 24] }, { 19: [2, 11] }, { 1: [2, 3] }, { 14: 25, 16: [1, 26], 21: $Va }, o([16, 21], [2, 12]), { 23: 28, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 23: 79, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 23: 80, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 23: 81, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 23: 82, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 15: [1, 83] }, { 17: 84, 20: [1, 85] }, { 15: [2, 14] }, { 24: [1, 86] }, o($VS, [2, 20], { 53: 32, 39: 58, 40: 70, 42: 71, 30: 87, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }), o($VS, [2, 21]), o($VT, [2, 23], { 15: [1, 88] }), o($VS, [2, 43], { 15: [1, 89] }), o($VU, [2, 26]), o($VU, [2, 27]), { 35: [1, 90] }, { 37: [1, 91] }, o($VU, [2, 30]), { 45: 92, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 98, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 99, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 100, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 101, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 102, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 103, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 104, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 105, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 106, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 107, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 108, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 109, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 110, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 111, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 112, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 113, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 114, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 115, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 116, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, o($VZ, [2, 66]), { 45: 117, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 118, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 119, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 120, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 121, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 122, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 123, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 124, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 125, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 126, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 127, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 30: 128, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 15: [1, 130], 43: [1, 129] }, { 45: 131, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 132, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 133, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 134, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 135, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 136, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 137, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 24: [1, 138] }, { 24: [1, 139] }, { 24: [1, 140] }, { 24: [1, 141] }, o($V_, [2, 9]), { 14: 142, 21: $Va }, { 21: [2, 13] }, { 1: [2, 15] }, o($VS, [2, 22]), o($VT, [2, 24], { 31: 31, 29: 143, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf }), o($VS, [2, 44], { 29: 29, 30: 30, 31: 31, 53: 32, 39: 58, 40: 70, 42: 71, 23: 144, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }), o($VU, [2, 28]), o($VU, [2, 29]), o($VZ, [2, 46]), o($V$, [2, 78], { 85: 93, 45: 145, 86: $VV, 87: $VW, 89: $VX, 90: $VY }), o($V01, [2, 80]), { 88: [1, 146] }, o($V01, [2, 82]), o($V01, [2, 83]), o($VZ, [2, 47]), o($VZ, [2, 48]), o($VZ, [2, 49]), o($VZ, [2, 50]), o($VZ, [2, 51]), o($VZ, [2, 52]), o($VZ, [2, 53]), o($VZ, [2, 54]), o($VZ, [2, 55]), o($VZ, [2, 56]), o($VZ, [2, 57]), o($VZ, [2, 58]), o($VZ, [2, 59]), o($VZ, [2, 60]), o($VZ, [2, 61]), o($VZ, [2, 62]), o($VZ, [2, 63]), o($VZ, [2, 64]), o($VZ, [2, 65]), o($VZ, [2, 67]), o($VZ, [2, 68]), o($VZ, [2, 69]), o($VZ, [2, 70]), o($VZ, [2, 71]), o($VZ, [2, 72]), o($VZ, [2, 73]), o($VZ, [2, 74]), o($VZ, [2, 75]), o($VZ, [2, 76]), o($VZ, [2, 77]), { 41: 147, 52: [1, 148] }, { 15: [1, 149] }, { 43: [1, 150] }, o($V11, [2, 35]), o($V11, [2, 36]), o($V11, [2, 37]), o($V11, [2, 38]), o($V11, [2, 39]), o($V11, [2, 40]), o($V11, [2, 41]), { 1: [2, 16] }, { 1: [2, 17] }, { 1: [2, 18] }, { 1: [2, 19] }, { 15: [1, 151] }, o($VT, [2, 25]), o($VS, [2, 45]), o($V$, [2, 79]), o($V01, [2, 81]), o($VZ, [2, 31]), o($VZ, [2, 42]), o($V21, [2, 32]), o($V21, [2, 33], { 15: [1, 152] }), o($V_, [2, 10]), o($V21, [2, 34])],
    defaultActions: { 2: [2, 1], 3: [2, 2], 5: [2, 8], 6: [2, 4], 7: [2, 5], 8: [2, 6], 9: [2, 7], 16: [2, 11], 17: [2, 3], 27: [2, 14], 85: [2, 13], 86: [2, 15], 138: [2, 16], 139: [2, 17], 140: [2, 18], 141: [2, 19] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: {},
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("open_directive");
            return 18;
          case 1:
            return 7;
          case 2:
            return 8;
          case 3:
            return 9;
          case 4:
            return 10;
          case 5:
            this.begin("type_directive");
            return 19;
          case 6:
            this.popState();
            this.begin("arg_directive");
            return 16;
          case 7:
            this.popState();
            this.popState();
            return 21;
          case 8:
            return 20;
          case 9:
            return 32;
          case 10:
            return 33;
          case 11:
            this.begin("acc_title");
            return 34;
          case 12:
            this.popState();
            return "acc_title_value";
          case 13:
            this.begin("acc_descr");
            return 36;
          case 14:
            this.popState();
            return "acc_descr_value";
          case 15:
            this.begin("acc_descr_multiline");
            break;
          case 16:
            this.popState();
            break;
          case 17:
            return "acc_descr_multiline_value";
          case 18:
            break;
          case 19:
            c;
            break;
          case 20:
            return 15;
          case 21:
            break;
          case 22:
            return 22;
          case 23:
            return 25;
          case 24:
            return 26;
          case 25:
            return 27;
          case 26:
            return 28;
          case 27:
            this.begin("person_ext");
            return 55;
          case 28:
            this.begin("person");
            return 54;
          case 29:
            this.begin("system_ext_queue");
            return 61;
          case 30:
            this.begin("system_ext_db");
            return 60;
          case 31:
            this.begin("system_ext");
            return 59;
          case 32:
            this.begin("system_queue");
            return 58;
          case 33:
            this.begin("system_db");
            return 57;
          case 34:
            this.begin("system");
            return 56;
          case 35:
            this.begin("boundary");
            return 47;
          case 36:
            this.begin("enterprise_boundary");
            return 44;
          case 37:
            this.begin("system_boundary");
            return 46;
          case 38:
            this.begin("container_ext_queue");
            return 67;
          case 39:
            this.begin("container_ext_db");
            return 66;
          case 40:
            this.begin("container_ext");
            return 65;
          case 41:
            this.begin("container_queue");
            return 64;
          case 42:
            this.begin("container_db");
            return 63;
          case 43:
            this.begin("container");
            return 62;
          case 44:
            this.begin("container_boundary");
            return 48;
          case 45:
            this.begin("component_ext_queue");
            return 73;
          case 46:
            this.begin("component_ext_db");
            return 72;
          case 47:
            this.begin("component_ext");
            return 71;
          case 48:
            this.begin("component_queue");
            return 70;
          case 49:
            this.begin("component_db");
            return 69;
          case 50:
            this.begin("component");
            return 68;
          case 51:
            this.begin("node");
            return 49;
          case 52:
            this.begin("node");
            return 49;
          case 53:
            this.begin("node_l");
            return 50;
          case 54:
            this.begin("node_r");
            return 51;
          case 55:
            this.begin("rel");
            return 74;
          case 56:
            this.begin("birel");
            return 75;
          case 57:
            this.begin("rel_u");
            return 76;
          case 58:
            this.begin("rel_u");
            return 76;
          case 59:
            this.begin("rel_d");
            return 77;
          case 60:
            this.begin("rel_d");
            return 77;
          case 61:
            this.begin("rel_l");
            return 78;
          case 62:
            this.begin("rel_l");
            return 78;
          case 63:
            this.begin("rel_r");
            return 79;
          case 64:
            this.begin("rel_r");
            return 79;
          case 65:
            this.begin("rel_b");
            return 80;
          case 66:
            this.begin("rel_index");
            return 81;
          case 67:
            this.begin("update_el_style");
            return 82;
          case 68:
            this.begin("update_rel_style");
            return 83;
          case 69:
            this.begin("update_layout_config");
            return 84;
          case 70:
            return "EOF_IN_STRUCT";
          case 71:
            this.begin("attribute");
            return "ATTRIBUTE_EMPTY";
          case 72:
            this.begin("attribute");
            break;
          case 73:
            this.popState();
            this.popState();
            break;
          case 74:
            return 90;
          case 75:
            break;
          case 76:
            return 90;
          case 77:
            this.begin("string");
            break;
          case 78:
            this.popState();
            break;
          case 79:
            return "STR";
          case 80:
            this.begin("string_kv");
            break;
          case 81:
            this.begin("string_kv_key");
            return "STR_KEY";
          case 82:
            this.popState();
            this.begin("string_kv_value");
            break;
          case 83:
            return "STR_VALUE";
          case 84:
            this.popState();
            this.popState();
            break;
          case 85:
            return "STR";
          case 86:
            return "LBRACE";
          case 87:
            return "RBRACE";
          case 88:
            return "SPACE";
          case 89:
            return "EOL";
          case 90:
            return 24;
        }
      },
      rules: [/^(?:%%\{)/, /^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:((?:(?!\}%%)[^:.])*))/, /^(?::)/, /^(?:\}%%)/, /^(?:((?:(?!\}%%).|\n)*))/, /^(?:title\s[^#\n;]+)/, /^(?:accDescription\s[^#\n;]+)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/, /^(?:%%[^\n]*(\r?\n)*)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:C4Context\b)/, /^(?:C4Container\b)/, /^(?:C4Component\b)/, /^(?:C4Dynamic\b)/, /^(?:C4Deployment\b)/, /^(?:Person_Ext\b)/, /^(?:Person\b)/, /^(?:SystemQueue_Ext\b)/, /^(?:SystemDb_Ext\b)/, /^(?:System_Ext\b)/, /^(?:SystemQueue\b)/, /^(?:SystemDb\b)/, /^(?:System\b)/, /^(?:Boundary\b)/, /^(?:Enterprise_Boundary\b)/, /^(?:System_Boundary\b)/, /^(?:ContainerQueue_Ext\b)/, /^(?:ContainerDb_Ext\b)/, /^(?:Container_Ext\b)/, /^(?:ContainerQueue\b)/, /^(?:ContainerDb\b)/, /^(?:Container\b)/, /^(?:Container_Boundary\b)/, /^(?:ComponentQueue_Ext\b)/, /^(?:ComponentDb_Ext\b)/, /^(?:Component_Ext\b)/, /^(?:ComponentQueue\b)/, /^(?:ComponentDb\b)/, /^(?:Component\b)/, /^(?:Deployment_Node\b)/, /^(?:Node\b)/, /^(?:Node_L\b)/, /^(?:Node_R\b)/, /^(?:Rel\b)/, /^(?:BiRel\b)/, /^(?:Rel_Up\b)/, /^(?:Rel_U\b)/, /^(?:Rel_Down\b)/, /^(?:Rel_D\b)/, /^(?:Rel_Left\b)/, /^(?:Rel_L\b)/, /^(?:Rel_Right\b)/, /^(?:Rel_R\b)/, /^(?:Rel_Back\b)/, /^(?:RelIndex\b)/, /^(?:UpdateElementStyle\b)/, /^(?:UpdateRelStyle\b)/, /^(?:UpdateLayoutConfig\b)/, /^(?:$)/, /^(?:[(][ ]*[,])/, /^(?:[(])/, /^(?:[)])/, /^(?:,,)/, /^(?:,)/, /^(?:[ ]*["]["])/, /^(?:[ ]*["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:[ ]*[\$])/, /^(?:[^=]*)/, /^(?:[=][ ]*["])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:[^,]+)/, /^(?:\{)/, /^(?:\})/, /^(?:[\s]+)/, /^(?:[\n\r]+)/, /^(?:$)/],
      conditions: { "acc_descr_multiline": { "rules": [16, 17], "inclusive": false }, "acc_descr": { "rules": [14], "inclusive": false }, "acc_title": { "rules": [12], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [7, 8], "inclusive": false }, "type_directive": { "rules": [6, 7], "inclusive": false }, "open_directive": { "rules": [5], "inclusive": false }, "string_kv_value": { "rules": [83, 84], "inclusive": false }, "string_kv_key": { "rules": [82], "inclusive": false }, "string_kv": { "rules": [81], "inclusive": false }, "string": { "rules": [78, 79], "inclusive": false }, "attribute": { "rules": [73, 74, 75, 76, 77, 80, 85], "inclusive": false }, "update_layout_config": { "rules": [70, 71, 72, 73], "inclusive": false }, "update_rel_style": { "rules": [70, 71, 72, 73], "inclusive": false }, "update_el_style": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_b": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_r": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_l": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_d": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_u": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_bi": { "rules": [], "inclusive": false }, "rel": { "rules": [70, 71, 72, 73], "inclusive": false }, "node_r": { "rules": [70, 71, 72, 73], "inclusive": false }, "node_l": { "rules": [70, 71, 72, 73], "inclusive": false }, "node": { "rules": [70, 71, 72, 73], "inclusive": false }, "index": { "rules": [], "inclusive": false }, "rel_index": { "rules": [70, 71, 72, 73], "inclusive": false }, "component_ext_queue": { "rules": [], "inclusive": false }, "component_ext_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "component_ext": { "rules": [70, 71, 72, 73], "inclusive": false }, "component_queue": { "rules": [70, 71, 72, 73], "inclusive": false }, "component_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "component": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_boundary": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_ext_queue": { "rules": [], "inclusive": false }, "container_ext_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_ext": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_queue": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "container": { "rules": [70, 71, 72, 73], "inclusive": false }, "birel": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_boundary": { "rules": [70, 71, 72, 73], "inclusive": false }, "enterprise_boundary": { "rules": [70, 71, 72, 73], "inclusive": false }, "boundary": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_ext_queue": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_ext_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_ext": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_queue": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "system": { "rules": [70, 71, 72, 73], "inclusive": false }, "person_ext": { "rules": [70, 71, 72, 73], "inclusive": false }, "person": { "rules": [70, 71, 72, 73], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 9, 10, 11, 13, 15, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 86, 87, 88, 89, 90], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$a.parser = parser$a;
var c4Detector = (txt) => {
  return txt.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/) !== null;
};
var c4ShapeArray = [];
var boundaryParseStack = [""];
var currentBoundaryParse = "global";
var parentBoundaryParse = "";
var boundarys = [
  {
    alias: "global",
    label: { text: "global" },
    type: { text: "global" },
    tags: null,
    link: null,
    parentBoundary: ""
  }
];
var rels = [];
var title = "";
var wrapEnabled$1 = false;
var c4ShapeInRow$1 = 4;
var c4BoundaryInRow$1 = 2;
var c4Type;
var getC4Type = function() {
  return c4Type;
};
var setC4Type = function(c4TypeParam) {
  let sanitizedText = sanitizeText$5(c4TypeParam, getConfig$1());
  c4Type = sanitizedText;
};
var parseDirective$a = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var addRel = function(type22, from2, to, label, techn, descr, sprite, tags2, link5) {
  if (type22 === void 0 || type22 === null || from2 === void 0 || from2 === null || to === void 0 || to === null || label === void 0 || label === null)
    return;
  let rel = {};
  const old = rels.find((rel2) => rel2.from === from2 && rel2.to === to);
  if (old) {
    rel = old;
  } else {
    rels.push(rel);
  }
  rel.type = type22;
  rel.from = from2;
  rel.to = to;
  rel.label = { text: label };
  if (techn === void 0 || techn === null) {
    rel.techn = { text: "" };
  } else {
    if (typeof techn === "object") {
      let [key, value] = Object.entries(techn)[0];
      rel[key] = { text: value };
    } else {
      rel.techn = { text: techn };
    }
  }
  if (descr === void 0 || descr === null) {
    rel.descr = { text: "" };
  } else {
    if (typeof descr === "object") {
      let [key, value] = Object.entries(descr)[0];
      rel[key] = { text: value };
    } else {
      rel.descr = { text: descr };
    }
  }
  if (typeof sprite === "object") {
    let [key, value] = Object.entries(sprite)[0];
    rel[key] = value;
  } else {
    rel.sprite = sprite;
  }
  if (typeof tags2 === "object") {
    let [key, value] = Object.entries(tags2)[0];
    rel[key] = value;
  } else {
    rel.tags = tags2;
  }
  if (typeof link5 === "object") {
    let [key, value] = Object.entries(link5)[0];
    rel[key] = value;
  } else {
    rel.link = link5;
  }
  rel.wrap = autoWrap$1();
};
var addPersonOrSystem = function(typeC4Shape, alias, label, descr, sprite, tags2, link5) {
  if (alias === null || label === null)
    return;
  let personOrSystem = {};
  const old = c4ShapeArray.find((personOrSystem2) => personOrSystem2.alias === alias);
  if (old && alias === old.alias) {
    personOrSystem = old;
  } else {
    personOrSystem.alias = alias;
    c4ShapeArray.push(personOrSystem);
  }
  if (label === void 0 || label === null) {
    personOrSystem.label = { text: "" };
  } else {
    personOrSystem.label = { text: label };
  }
  if (descr === void 0 || descr === null) {
    personOrSystem.descr = { text: "" };
  } else {
    if (typeof descr === "object") {
      let [key, value] = Object.entries(descr)[0];
      personOrSystem[key] = { text: value };
    } else {
      personOrSystem.descr = { text: descr };
    }
  }
  if (typeof sprite === "object") {
    let [key, value] = Object.entries(sprite)[0];
    personOrSystem[key] = value;
  } else {
    personOrSystem.sprite = sprite;
  }
  if (typeof tags2 === "object") {
    let [key, value] = Object.entries(tags2)[0];
    personOrSystem[key] = value;
  } else {
    personOrSystem.tags = tags2;
  }
  if (typeof link5 === "object") {
    let [key, value] = Object.entries(link5)[0];
    personOrSystem[key] = value;
  } else {
    personOrSystem.link = link5;
  }
  personOrSystem.typeC4Shape = { text: typeC4Shape };
  personOrSystem.parentBoundary = currentBoundaryParse;
  personOrSystem.wrap = autoWrap$1();
};
var addContainer = function(typeC4Shape, alias, label, techn, descr, sprite, tags2, link5) {
  if (alias === null || label === null)
    return;
  let container = {};
  const old = c4ShapeArray.find((container2) => container2.alias === alias);
  if (old && alias === old.alias) {
    container = old;
  } else {
    container.alias = alias;
    c4ShapeArray.push(container);
  }
  if (label === void 0 || label === null) {
    container.label = { text: "" };
  } else {
    container.label = { text: label };
  }
  if (techn === void 0 || techn === null) {
    container.techn = { text: "" };
  } else {
    if (typeof techn === "object") {
      let [key, value] = Object.entries(techn)[0];
      container[key] = { text: value };
    } else {
      container.techn = { text: techn };
    }
  }
  if (descr === void 0 || descr === null) {
    container.descr = { text: "" };
  } else {
    if (typeof descr === "object") {
      let [key, value] = Object.entries(descr)[0];
      container[key] = { text: value };
    } else {
      container.descr = { text: descr };
    }
  }
  if (typeof sprite === "object") {
    let [key, value] = Object.entries(sprite)[0];
    container[key] = value;
  } else {
    container.sprite = sprite;
  }
  if (typeof tags2 === "object") {
    let [key, value] = Object.entries(tags2)[0];
    container[key] = value;
  } else {
    container.tags = tags2;
  }
  if (typeof link5 === "object") {
    let [key, value] = Object.entries(link5)[0];
    container[key] = value;
  } else {
    container.link = link5;
  }
  container.wrap = autoWrap$1();
  container.typeC4Shape = { text: typeC4Shape };
  container.parentBoundary = currentBoundaryParse;
};
var addComponent = function(typeC4Shape, alias, label, techn, descr, sprite, tags2, link5) {
  if (alias === null || label === null)
    return;
  let component = {};
  const old = c4ShapeArray.find((component2) => component2.alias === alias);
  if (old && alias === old.alias) {
    component = old;
  } else {
    component.alias = alias;
    c4ShapeArray.push(component);
  }
  if (label === void 0 || label === null) {
    component.label = { text: "" };
  } else {
    component.label = { text: label };
  }
  if (techn === void 0 || techn === null) {
    component.techn = { text: "" };
  } else {
    if (typeof techn === "object") {
      let [key, value] = Object.entries(techn)[0];
      component[key] = { text: value };
    } else {
      component.techn = { text: techn };
    }
  }
  if (descr === void 0 || descr === null) {
    component.descr = { text: "" };
  } else {
    if (typeof descr === "object") {
      let [key, value] = Object.entries(descr)[0];
      component[key] = { text: value };
    } else {
      component.descr = { text: descr };
    }
  }
  if (typeof sprite === "object") {
    let [key, value] = Object.entries(sprite)[0];
    component[key] = value;
  } else {
    component.sprite = sprite;
  }
  if (typeof tags2 === "object") {
    let [key, value] = Object.entries(tags2)[0];
    component[key] = value;
  } else {
    component.tags = tags2;
  }
  if (typeof link5 === "object") {
    let [key, value] = Object.entries(link5)[0];
    component[key] = value;
  } else {
    component.link = link5;
  }
  component.wrap = autoWrap$1();
  component.typeC4Shape = { text: typeC4Shape };
  component.parentBoundary = currentBoundaryParse;
};
var addPersonOrSystemBoundary = function(alias, label, type22, tags2, link5) {
  if (alias === null || label === null)
    return;
  let boundary = {};
  const old = boundarys.find((boundary2) => boundary2.alias === alias);
  if (old && alias === old.alias) {
    boundary = old;
  } else {
    boundary.alias = alias;
    boundarys.push(boundary);
  }
  if (label === void 0 || label === null) {
    boundary.label = { text: "" };
  } else {
    boundary.label = { text: label };
  }
  if (type22 === void 0 || type22 === null) {
    boundary.type = { text: "system" };
  } else {
    if (typeof type22 === "object") {
      let [key, value] = Object.entries(type22)[0];
      boundary[key] = { text: value };
    } else {
      boundary.type = { text: type22 };
    }
  }
  if (typeof tags2 === "object") {
    let [key, value] = Object.entries(tags2)[0];
    boundary[key] = value;
  } else {
    boundary.tags = tags2;
  }
  if (typeof link5 === "object") {
    let [key, value] = Object.entries(link5)[0];
    boundary[key] = value;
  } else {
    boundary.link = link5;
  }
  boundary.parentBoundary = currentBoundaryParse;
  boundary.wrap = autoWrap$1();
  parentBoundaryParse = currentBoundaryParse;
  currentBoundaryParse = alias;
  boundaryParseStack.push(parentBoundaryParse);
};
var addContainerBoundary = function(alias, label, type22, tags2, link5) {
  if (alias === null || label === null)
    return;
  let boundary = {};
  const old = boundarys.find((boundary2) => boundary2.alias === alias);
  if (old && alias === old.alias) {
    boundary = old;
  } else {
    boundary.alias = alias;
    boundarys.push(boundary);
  }
  if (label === void 0 || label === null) {
    boundary.label = { text: "" };
  } else {
    boundary.label = { text: label };
  }
  if (type22 === void 0 || type22 === null) {
    boundary.type = { text: "container" };
  } else {
    if (typeof type22 === "object") {
      let [key, value] = Object.entries(type22)[0];
      boundary[key] = { text: value };
    } else {
      boundary.type = { text: type22 };
    }
  }
  if (typeof tags2 === "object") {
    let [key, value] = Object.entries(tags2)[0];
    boundary[key] = value;
  } else {
    boundary.tags = tags2;
  }
  if (typeof link5 === "object") {
    let [key, value] = Object.entries(link5)[0];
    boundary[key] = value;
  } else {
    boundary.link = link5;
  }
  boundary.parentBoundary = currentBoundaryParse;
  boundary.wrap = autoWrap$1();
  parentBoundaryParse = currentBoundaryParse;
  currentBoundaryParse = alias;
  boundaryParseStack.push(parentBoundaryParse);
};
var addDeploymentNode = function(nodeType, alias, label, type22, descr, sprite, tags2, link5) {
  if (alias === null || label === null)
    return;
  let boundary = {};
  const old = boundarys.find((boundary2) => boundary2.alias === alias);
  if (old && alias === old.alias) {
    boundary = old;
  } else {
    boundary.alias = alias;
    boundarys.push(boundary);
  }
  if (label === void 0 || label === null) {
    boundary.label = { text: "" };
  } else {
    boundary.label = { text: label };
  }
  if (type22 === void 0 || type22 === null) {
    boundary.type = { text: "node" };
  } else {
    if (typeof type22 === "object") {
      let [key, value] = Object.entries(type22)[0];
      boundary[key] = { text: value };
    } else {
      boundary.type = { text: type22 };
    }
  }
  if (descr === void 0 || descr === null) {
    boundary.descr = { text: "" };
  } else {
    if (typeof descr === "object") {
      let [key, value] = Object.entries(descr)[0];
      boundary[key] = { text: value };
    } else {
      boundary.descr = { text: descr };
    }
  }
  if (typeof tags2 === "object") {
    let [key, value] = Object.entries(tags2)[0];
    boundary[key] = value;
  } else {
    boundary.tags = tags2;
  }
  if (typeof link5 === "object") {
    let [key, value] = Object.entries(link5)[0];
    boundary[key] = value;
  } else {
    boundary.link = link5;
  }
  boundary.nodeType = nodeType;
  boundary.parentBoundary = currentBoundaryParse;
  boundary.wrap = autoWrap$1();
  parentBoundaryParse = currentBoundaryParse;
  currentBoundaryParse = alias;
  boundaryParseStack.push(parentBoundaryParse);
};
var popBoundaryParseStack = function() {
  currentBoundaryParse = parentBoundaryParse;
  boundaryParseStack.pop();
  parentBoundaryParse = boundaryParseStack.pop();
  boundaryParseStack.push(parentBoundaryParse);
};
var updateElStyle = function(typeC4Shape, elementName, bgColor, fontColor, borderColor, shadowing, shape, sprite, techn, legendText, legendSprite) {
  let old = c4ShapeArray.find((element) => element.alias === elementName);
  if (old === void 0) {
    old = boundarys.find((element) => element.alias === elementName);
    if (old === void 0) {
      return;
    }
  }
  if (bgColor !== void 0 && bgColor !== null) {
    if (typeof bgColor === "object") {
      let [key, value] = Object.entries(bgColor)[0];
      old[key] = value;
    } else {
      old.bgColor = bgColor;
    }
  }
  if (fontColor !== void 0 && fontColor !== null) {
    if (typeof fontColor === "object") {
      let [key, value] = Object.entries(fontColor)[0];
      old[key] = value;
    } else {
      old.fontColor = fontColor;
    }
  }
  if (borderColor !== void 0 && borderColor !== null) {
    if (typeof borderColor === "object") {
      let [key, value] = Object.entries(borderColor)[0];
      old[key] = value;
    } else {
      old.borderColor = borderColor;
    }
  }
  if (shadowing !== void 0 && shadowing !== null) {
    if (typeof shadowing === "object") {
      let [key, value] = Object.entries(shadowing)[0];
      old[key] = value;
    } else {
      old.shadowing = shadowing;
    }
  }
  if (shape !== void 0 && shape !== null) {
    if (typeof shape === "object") {
      let [key, value] = Object.entries(shape)[0];
      old[key] = value;
    } else {
      old.shape = shape;
    }
  }
  if (sprite !== void 0 && sprite !== null) {
    if (typeof sprite === "object") {
      let [key, value] = Object.entries(sprite)[0];
      old[key] = value;
    } else {
      old.sprite = sprite;
    }
  }
  if (techn !== void 0 && techn !== null) {
    if (typeof techn === "object") {
      let [key, value] = Object.entries(techn)[0];
      old[key] = value;
    } else {
      old.techn = techn;
    }
  }
  if (legendText !== void 0 && legendText !== null) {
    if (typeof legendText === "object") {
      let [key, value] = Object.entries(legendText)[0];
      old[key] = value;
    } else {
      old.legendText = legendText;
    }
  }
  if (legendSprite !== void 0 && legendSprite !== null) {
    if (typeof legendSprite === "object") {
      let [key, value] = Object.entries(legendSprite)[0];
      old[key] = value;
    } else {
      old.legendSprite = legendSprite;
    }
  }
};
var updateRelStyle = function(typeC4Shape, from2, to, textColor, lineColor, offsetX, offsetY) {
  const old = rels.find((rel) => rel.from === from2 && rel.to === to);
  if (old === void 0) {
    return;
  }
  if (textColor !== void 0 && textColor !== null) {
    if (typeof textColor === "object") {
      let [key, value] = Object.entries(textColor)[0];
      old[key] = value;
    } else {
      old.textColor = textColor;
    }
  }
  if (lineColor !== void 0 && lineColor !== null) {
    if (typeof lineColor === "object") {
      let [key, value] = Object.entries(lineColor)[0];
      old[key] = value;
    } else {
      old.lineColor = lineColor;
    }
  }
  if (offsetX !== void 0 && offsetX !== null) {
    if (typeof offsetX === "object") {
      let [key, value] = Object.entries(offsetX)[0];
      old[key] = parseInt(value);
    } else {
      old.offsetX = parseInt(offsetX);
    }
  }
  if (offsetY !== void 0 && offsetY !== null) {
    if (typeof offsetY === "object") {
      let [key, value] = Object.entries(offsetY)[0];
      old[key] = parseInt(value);
    } else {
      old.offsetY = parseInt(offsetY);
    }
  }
};
var updateLayoutConfig = function(typeC4Shape, c4ShapeInRowParam, c4BoundaryInRowParam) {
  let c4ShapeInRowValue = c4ShapeInRow$1;
  let c4BoundaryInRowValue = c4BoundaryInRow$1;
  if (typeof c4ShapeInRowParam === "object") {
    const value = Object.values(c4ShapeInRowParam)[0];
    c4ShapeInRowValue = parseInt(value);
  } else {
    c4ShapeInRowValue = parseInt(c4ShapeInRowParam);
  }
  if (typeof c4BoundaryInRowParam === "object") {
    const value = Object.values(c4BoundaryInRowParam)[0];
    c4BoundaryInRowValue = parseInt(value);
  } else {
    c4BoundaryInRowValue = parseInt(c4BoundaryInRowParam);
  }
  if (c4ShapeInRowValue >= 1)
    c4ShapeInRow$1 = c4ShapeInRowValue;
  if (c4BoundaryInRowValue >= 1)
    c4BoundaryInRow$1 = c4BoundaryInRowValue;
};
var getC4ShapeInRow = function() {
  return c4ShapeInRow$1;
};
var getC4BoundaryInRow = function() {
  return c4BoundaryInRow$1;
};
var getCurrentBoundaryParse = function() {
  return currentBoundaryParse;
};
var getParentBoundaryParse = function() {
  return parentBoundaryParse;
};
var getC4ShapeArray = function(parentBoundary) {
  if (parentBoundary === void 0 || parentBoundary === null)
    return c4ShapeArray;
  else
    return c4ShapeArray.filter((personOrSystem) => {
      return personOrSystem.parentBoundary === parentBoundary;
    });
};
var getC4Shape = function(alias) {
  return c4ShapeArray.find((personOrSystem) => personOrSystem.alias === alias);
};
var getC4ShapeKeys = function(parentBoundary) {
  return Object.keys(getC4ShapeArray(parentBoundary));
};
var getBoundarys = function(parentBoundary) {
  if (parentBoundary === void 0 || parentBoundary === null)
    return boundarys;
  else
    return boundarys.filter((boundary) => boundary.parentBoundary === parentBoundary);
};
var getRels = function() {
  return rels;
};
var getTitle = function() {
  return title;
};
var setWrap$1 = function(wrapSetting) {
  wrapEnabled$1 = wrapSetting;
};
var autoWrap$1 = function() {
  return wrapEnabled$1;
};
var clear$d = function() {
  c4ShapeArray = [];
  boundarys = [
    {
      alias: "global",
      label: { text: "global" },
      type: { text: "global" },
      tags: null,
      link: null,
      parentBoundary: ""
    }
  ];
  parentBoundaryParse = "";
  currentBoundaryParse = "global";
  boundaryParseStack = [""];
  rels = [];
  boundaryParseStack = [""];
  title = "";
  wrapEnabled$1 = false;
  c4ShapeInRow$1 = 4;
  c4BoundaryInRow$1 = 2;
};
var LINETYPE$1 = {
  SOLID: 0,
  DOTTED: 1,
  NOTE: 2,
  SOLID_CROSS: 3,
  DOTTED_CROSS: 4,
  SOLID_OPEN: 5,
  DOTTED_OPEN: 6,
  LOOP_START: 10,
  LOOP_END: 11,
  ALT_START: 12,
  ALT_ELSE: 13,
  ALT_END: 14,
  OPT_START: 15,
  OPT_END: 16,
  ACTIVE_START: 17,
  ACTIVE_END: 18,
  PAR_START: 19,
  PAR_AND: 20,
  PAR_END: 21,
  RECT_START: 22,
  RECT_END: 23,
  SOLID_POINT: 24,
  DOTTED_POINT: 25
};
var ARROWTYPE$1 = {
  FILLED: 0,
  OPEN: 1
};
var PLACEMENT$1 = {
  LEFTOF: 0,
  RIGHTOF: 1,
  OVER: 2
};
var setTitle = function(txt) {
  let sanitizedText = sanitizeText$5(txt, getConfig$1());
  title = sanitizedText;
};
var c4Db = {
  addPersonOrSystem,
  addPersonOrSystemBoundary,
  addContainer,
  addContainerBoundary,
  addComponent,
  addDeploymentNode,
  popBoundaryParseStack,
  addRel,
  updateElStyle,
  updateRelStyle,
  updateLayoutConfig,
  autoWrap: autoWrap$1,
  setWrap: setWrap$1,
  getC4ShapeArray,
  getC4Shape,
  getC4ShapeKeys,
  getBoundarys,
  getCurrentBoundaryParse,
  getParentBoundaryParse,
  getRels,
  getTitle,
  getC4Type,
  getC4ShapeInRow,
  getC4BoundaryInRow,
  setAccTitle,
  getAccTitle,
  getAccDescription,
  setAccDescription,
  parseDirective: parseDirective$a,
  getConfig: () => getConfig$1().c4,
  clear: clear$d,
  LINETYPE: LINETYPE$1,
  ARROWTYPE: ARROWTYPE$1,
  PLACEMENT: PLACEMENT$1,
  setTitle,
  setC4Type
};
var drawRect$2 = function(elem, rectData) {
  const rectElem = elem.append("rect");
  rectElem.attr("x", rectData.x);
  rectElem.attr("y", rectData.y);
  rectElem.attr("fill", rectData.fill);
  rectElem.attr("stroke", rectData.stroke);
  rectElem.attr("width", rectData.width);
  rectElem.attr("height", rectData.height);
  rectElem.attr("rx", rectData.rx);
  rectElem.attr("ry", rectData.ry);
  if (rectData.attrs !== "undefined" && rectData.attrs !== null) {
    for (let attrKey in rectData.attrs)
      rectElem.attr(attrKey, rectData.attrs[attrKey]);
  }
  if (rectData.class !== "undefined") {
    rectElem.attr("class", rectData.class);
  }
  return rectElem;
};
var drawImage$1 = function(elem, width2, height2, x7, y7, link5) {
  const imageElem = elem.append("image");
  imageElem.attr("width", width2);
  imageElem.attr("height", height2);
  imageElem.attr("x", x7);
  imageElem.attr("y", y7);
  let sanitizedLink = link5.startsWith("data:image/png;base64") ? link5 : (0, import_sanitize_url.sanitizeUrl)(link5);
  imageElem.attr("xlink:href", sanitizedLink);
};
var drawEmbeddedImage$1 = function(elem, x7, y7, link5) {
  const imageElem = elem.append("use");
  imageElem.attr("x", x7);
  imageElem.attr("y", y7);
  var sanitizedLink = (0, import_sanitize_url.sanitizeUrl)(link5);
  imageElem.attr("xlink:href", "#" + sanitizedLink);
};
var drawText$2 = function(elem, textData) {
  let prevTextHeight = 0, textHeight = 0;
  const lines = textData.text.split(common.lineBreakRegex);
  let textElems = [];
  let dy = 0;
  let yfunc = () => textData.y;
  if (typeof textData.valign !== "undefined" && typeof textData.textMargin !== "undefined" && textData.textMargin > 0) {
    switch (textData.valign) {
      case "top":
      case "start":
        yfunc = () => Math.round(textData.y + textData.textMargin);
        break;
      case "middle":
      case "center":
        yfunc = () => Math.round(textData.y + (prevTextHeight + textHeight + textData.textMargin) / 2);
        break;
      case "bottom":
      case "end":
        yfunc = () => Math.round(
          textData.y + (prevTextHeight + textHeight + 2 * textData.textMargin) - textData.textMargin
        );
        break;
    }
  }
  if (typeof textData.anchor !== "undefined" && typeof textData.textMargin !== "undefined" && typeof textData.width !== "undefined") {
    switch (textData.anchor) {
      case "left":
      case "start":
        textData.x = Math.round(textData.x + textData.textMargin);
        textData.anchor = "start";
        textData.dominantBaseline = "text-after-edge";
        textData.alignmentBaseline = "middle";
        break;
      case "middle":
      case "center":
        textData.x = Math.round(textData.x + textData.width / 2);
        textData.anchor = "middle";
        textData.dominantBaseline = "middle";
        textData.alignmentBaseline = "middle";
        break;
      case "right":
      case "end":
        textData.x = Math.round(textData.x + textData.width - textData.textMargin);
        textData.anchor = "end";
        textData.dominantBaseline = "text-before-edge";
        textData.alignmentBaseline = "middle";
        break;
    }
  }
  for (let i = 0; i < lines.length; i++) {
    let line2 = lines[i];
    if (typeof textData.textMargin !== "undefined" && textData.textMargin === 0 && typeof textData.fontSize !== "undefined") {
      dy = i * textData.fontSize;
    }
    const textElem = elem.append("text");
    textElem.attr("x", textData.x);
    textElem.attr("y", yfunc());
    if (typeof textData.anchor !== "undefined") {
      textElem.attr("text-anchor", textData.anchor).attr("dominant-baseline", textData.dominantBaseline).attr("alignment-baseline", textData.alignmentBaseline);
    }
    if (typeof textData.fontFamily !== "undefined") {
      textElem.style("font-family", textData.fontFamily);
    }
    if (typeof textData.fontSize !== "undefined") {
      textElem.style("font-size", textData.fontSize);
    }
    if (typeof textData.fontWeight !== "undefined") {
      textElem.style("font-weight", textData.fontWeight);
    }
    if (typeof textData.fill !== "undefined") {
      textElem.attr("fill", textData.fill);
    }
    if (typeof textData.class !== "undefined") {
      textElem.attr("class", textData.class);
    }
    if (typeof textData.dy !== "undefined") {
      textElem.attr("dy", textData.dy);
    } else if (dy !== 0) {
      textElem.attr("dy", dy);
    }
    if (textData.tspan) {
      const span = textElem.append("tspan");
      span.attr("x", textData.x);
      if (typeof textData.fill !== "undefined") {
        span.attr("fill", textData.fill);
      }
      span.text(line2);
    } else {
      textElem.text(line2);
    }
    if (typeof textData.valign !== "undefined" && typeof textData.textMargin !== "undefined" && textData.textMargin > 0) {
      textHeight += (textElem._groups || textElem)[0][0].getBBox().height;
      prevTextHeight = textHeight;
    }
    textElems.push(textElem);
  }
  return textElems;
};
var drawLabel$2 = function(elem, txtObject) {
  function genPoints(x7, y7, width2, height2, cut) {
    return x7 + "," + y7 + " " + (x7 + width2) + "," + y7 + " " + (x7 + width2) + "," + (y7 + height2 - cut) + " " + (x7 + width2 - cut * 1.2) + "," + (y7 + height2) + " " + x7 + "," + (y7 + height2);
  }
  const polygon = elem.append("polygon");
  polygon.attr("points", genPoints(txtObject.x, txtObject.y, txtObject.width, txtObject.height, 7));
  polygon.attr("class", "labelBox");
  txtObject.y = txtObject.y + txtObject.height / 2;
  drawText$2(elem, txtObject);
  return polygon;
};
var drawRels$1 = (elem, rels2, conf2) => {
  const relsElem = elem.append("g");
  let i = 0;
  for (let rel of rels2) {
    let textColor = rel.textColor ? rel.textColor : "#444444";
    let strokeColor = rel.lineColor ? rel.lineColor : "#444444";
    let offsetX = rel.offsetX ? parseInt(rel.offsetX) : 0;
    let offsetY = rel.offsetY ? parseInt(rel.offsetY) : 0;
    let url = "";
    if (i === 0) {
      let line2 = relsElem.append("line");
      line2.attr("x1", rel.startPoint.x);
      line2.attr("y1", rel.startPoint.y);
      line2.attr("x2", rel.endPoint.x);
      line2.attr("y2", rel.endPoint.y);
      line2.attr("stroke-width", "1");
      line2.attr("stroke", strokeColor);
      line2.style("fill", "none");
      if (rel.type !== "rel_b")
        line2.attr("marker-end", "url(" + url + "#arrowhead)");
      if (rel.type === "birel" || rel.type === "rel_b")
        line2.attr("marker-start", "url(" + url + "#arrowend)");
      i = -1;
    } else {
      let line2 = relsElem.append("path");
      line2.attr("fill", "none").attr("stroke-width", "1").attr("stroke", strokeColor).attr(
        "d",
        "Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx", rel.startPoint.x).replaceAll("starty", rel.startPoint.y).replaceAll(
          "controlx",
          rel.startPoint.x + (rel.endPoint.x - rel.startPoint.x) / 2 - (rel.endPoint.x - rel.startPoint.x) / 4
        ).replaceAll("controly", rel.startPoint.y + (rel.endPoint.y - rel.startPoint.y) / 2).replaceAll("stopx", rel.endPoint.x).replaceAll("stopy", rel.endPoint.y)
      );
      if (rel.type !== "rel_b")
        line2.attr("marker-end", "url(" + url + "#arrowhead)");
      if (rel.type === "birel" || rel.type === "rel_b")
        line2.attr("marker-start", "url(" + url + "#arrowend)");
    }
    let messageConf = conf2.messageFont();
    _drawTextCandidateFunc$2(conf2)(
      rel.label.text,
      relsElem,
      Math.min(rel.startPoint.x, rel.endPoint.x) + Math.abs(rel.endPoint.x - rel.startPoint.x) / 2 + offsetX,
      Math.min(rel.startPoint.y, rel.endPoint.y) + Math.abs(rel.endPoint.y - rel.startPoint.y) / 2 + offsetY,
      rel.label.width,
      rel.label.height,
      { fill: textColor },
      messageConf
    );
    if (rel.techn && rel.techn.text !== "") {
      messageConf = conf2.messageFont();
      _drawTextCandidateFunc$2(conf2)(
        "[" + rel.techn.text + "]",
        relsElem,
        Math.min(rel.startPoint.x, rel.endPoint.x) + Math.abs(rel.endPoint.x - rel.startPoint.x) / 2 + offsetX,
        Math.min(rel.startPoint.y, rel.endPoint.y) + Math.abs(rel.endPoint.y - rel.startPoint.y) / 2 + conf2.messageFontSize + 5 + offsetY,
        Math.max(rel.label.width, rel.techn.width),
        rel.techn.height,
        { fill: textColor, "font-style": "italic" },
        messageConf
      );
    }
  }
};
var drawBoundary$1 = function(elem, boundary, conf2) {
  const boundaryElem = elem.append("g");
  let fillColor = boundary.bgColor ? boundary.bgColor : "none";
  let strokeColor = boundary.borderColor ? boundary.borderColor : "#444444";
  let fontColor = boundary.fontColor ? boundary.fontColor : "black";
  let attrsValue = { "stroke-width": 1, "stroke-dasharray": "7.0,7.0" };
  if (boundary.nodeType)
    attrsValue = { "stroke-width": 1 };
  let rectData = {
    x: boundary.x,
    y: boundary.y,
    fill: fillColor,
    stroke: strokeColor,
    width: boundary.width,
    height: boundary.height,
    rx: 2.5,
    ry: 2.5,
    attrs: attrsValue
  };
  drawRect$2(boundaryElem, rectData);
  let boundaryConf = conf2.boundaryFont();
  boundaryConf.fontWeight = "bold";
  boundaryConf.fontSize = boundaryConf.fontSize + 2;
  boundaryConf.fontColor = fontColor;
  _drawTextCandidateFunc$2(conf2)(
    boundary.label.text,
    boundaryElem,
    boundary.x,
    boundary.y + boundary.label.Y,
    boundary.width,
    boundary.height,
    { fill: "#444444" },
    boundaryConf
  );
  if (boundary.type && boundary.type.text !== "") {
    boundaryConf = conf2.boundaryFont();
    boundaryConf.fontColor = fontColor;
    _drawTextCandidateFunc$2(conf2)(
      boundary.type.text,
      boundaryElem,
      boundary.x,
      boundary.y + boundary.type.Y,
      boundary.width,
      boundary.height,
      { fill: "#444444" },
      boundaryConf
    );
  }
  if (boundary.descr && boundary.descr.text !== "") {
    boundaryConf = conf2.boundaryFont();
    boundaryConf.fontSize = boundaryConf.fontSize - 2;
    boundaryConf.fontColor = fontColor;
    _drawTextCandidateFunc$2(conf2)(
      boundary.descr.text,
      boundaryElem,
      boundary.x,
      boundary.y + boundary.descr.Y,
      boundary.width,
      boundary.height,
      { fill: "#444444" },
      boundaryConf
    );
  }
};
var drawC4Shape = function(elem, c4Shape, conf2) {
  let fillColor = c4Shape.bgColor ? c4Shape.bgColor : conf2[c4Shape.typeC4Shape.text + "_bg_color"];
  let strokeColor = c4Shape.borderColor ? c4Shape.borderColor : conf2[c4Shape.typeC4Shape.text + "_border_color"];
  let fontColor = c4Shape.fontColor ? c4Shape.fontColor : "#FFFFFF";
  let personImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";
  switch (c4Shape.typeC4Shape.text) {
    case "person":
      personImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";
      break;
    case "external_person":
      personImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";
      break;
  }
  const c4ShapeElem = elem.append("g");
  c4ShapeElem.attr("class", "person-man");
  const rect2 = getNoteRect$2();
  switch (c4Shape.typeC4Shape.text) {
    case "person":
    case "external_person":
    case "system":
    case "external_system":
    case "container":
    case "external_container":
    case "component":
    case "external_component":
      rect2.x = c4Shape.x;
      rect2.y = c4Shape.y;
      rect2.fill = fillColor;
      rect2.width = c4Shape.width;
      rect2.height = c4Shape.height;
      rect2.style = "stroke:" + strokeColor + ";stroke-width:0.5;";
      rect2.rx = 2.5;
      rect2.ry = 2.5;
      drawRect$2(c4ShapeElem, rect2);
      break;
    case "system_db":
    case "external_system_db":
    case "container_db":
    case "external_container_db":
    case "component_db":
    case "external_component_db":
      c4ShapeElem.append("path").attr("fill", fillColor).attr("stroke-width", "0.5").attr("stroke", strokeColor).attr(
        "d",
        "Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx", c4Shape.x).replaceAll("starty", c4Shape.y).replaceAll("half", c4Shape.width / 2).replaceAll("height", c4Shape.height)
      );
      c4ShapeElem.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", strokeColor).attr(
        "d",
        "Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx", c4Shape.x).replaceAll("starty", c4Shape.y).replaceAll("half", c4Shape.width / 2)
      );
      break;
    case "system_queue":
    case "external_system_queue":
    case "container_queue":
    case "external_container_queue":
    case "component_queue":
    case "external_component_queue":
      c4ShapeElem.append("path").attr("fill", fillColor).attr("stroke-width", "0.5").attr("stroke", strokeColor).attr(
        "d",
        "Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx", c4Shape.x).replaceAll("starty", c4Shape.y).replaceAll("width", c4Shape.width).replaceAll("half", c4Shape.height / 2)
      );
      c4ShapeElem.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", strokeColor).attr(
        "d",
        "Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx", c4Shape.x + c4Shape.width).replaceAll("starty", c4Shape.y).replaceAll("half", c4Shape.height / 2)
      );
      break;
  }
  let c4ShapeFontConf = getC4ShapeFont(conf2, c4Shape.typeC4Shape.text);
  c4ShapeElem.append("text").attr("fill", fontColor).attr("font-family", c4ShapeFontConf.fontFamily).attr("font-size", c4ShapeFontConf.fontSize - 2).attr("font-style", "italic").attr("lengthAdjust", "spacing").attr("textLength", c4Shape.typeC4Shape.width).attr("x", c4Shape.x + c4Shape.width / 2 - c4Shape.typeC4Shape.width / 2).attr("y", c4Shape.y + c4Shape.typeC4Shape.Y).text("<<" + c4Shape.typeC4Shape.text + ">>");
  switch (c4Shape.typeC4Shape.text) {
    case "person":
    case "external_person":
      drawImage$1(
        c4ShapeElem,
        48,
        48,
        c4Shape.x + c4Shape.width / 2 - 24,
        c4Shape.y + c4Shape.image.Y,
        personImg
      );
      break;
  }
  let textFontConf = conf2[c4Shape.typeC4Shape.text + "Font"]();
  textFontConf.fontWeight = "bold";
  textFontConf.fontSize = textFontConf.fontSize + 2;
  textFontConf.fontColor = fontColor;
  _drawTextCandidateFunc$2(conf2)(
    c4Shape.label.text,
    c4ShapeElem,
    c4Shape.x,
    c4Shape.y + c4Shape.label.Y,
    c4Shape.width,
    c4Shape.height,
    { fill: fontColor },
    textFontConf
  );
  textFontConf = conf2[c4Shape.typeC4Shape.text + "Font"]();
  textFontConf.fontColor = fontColor;
  if (c4Shape.thchn && c4Shape.thchn.text !== "") {
    _drawTextCandidateFunc$2(conf2)(
      c4Shape.thchn.text,
      c4ShapeElem,
      c4Shape.x,
      c4Shape.y + c4Shape.thchn.Y,
      c4Shape.width,
      c4Shape.height,
      { fill: fontColor, "font-style": "italic" },
      textFontConf
    );
  } else if (c4Shape.type && c4Shape.type.text !== "") {
    _drawTextCandidateFunc$2(conf2)(
      c4Shape.type.text,
      c4ShapeElem,
      c4Shape.x,
      c4Shape.y + c4Shape.type.Y,
      c4Shape.width,
      c4Shape.height,
      { fill: fontColor, "font-style": "italic" },
      textFontConf
    );
  }
  if (c4Shape.descr && c4Shape.descr.text !== "") {
    textFontConf = conf2.personFont();
    textFontConf.fontColor = fontColor;
    _drawTextCandidateFunc$2(conf2)(
      c4Shape.descr.text,
      c4ShapeElem,
      c4Shape.x,
      c4Shape.y + c4Shape.descr.Y,
      c4Shape.width,
      c4Shape.height,
      { fill: fontColor },
      textFontConf
    );
  }
  return c4Shape.height;
};
var insertDatabaseIcon$1 = function(elem) {
  elem.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr(
    "d",
    "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z"
  );
};
var insertComputerIcon$1 = function(elem) {
  elem.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr(
    "d",
    "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"
  );
};
var insertClockIcon$1 = function(elem) {
  elem.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr(
    "d",
    "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"
  );
};
var insertArrowHead$1 = function(elem) {
  elem.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z");
};
var insertArrowEnd = function(elem) {
  elem.append("defs").append("marker").attr("id", "arrowend").attr("refX", 1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 10 0 L 0 5 L 10 10 z");
};
var insertArrowFilledHead$1 = function(elem) {
  elem.append("defs").append("marker").attr("id", "filled-head").attr("refX", 18).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
};
var insertDynamicNumber = function(elem) {
  elem.append("defs").append("marker").attr("id", "sequencenumber").attr("refX", 15).attr("refY", 15).attr("markerWidth", 60).attr("markerHeight", 40).attr("orient", "auto").append("circle").attr("cx", 15).attr("cy", 15).attr("r", 6);
};
var insertArrowCrossHead$1 = function(elem) {
  const defs = elem.append("defs");
  const marker = defs.append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 16).attr("refY", 4);
  marker.append("path").attr("fill", "black").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 9,2 V 6 L16,4 Z");
  marker.append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 0,1 L 6,7 M 6,1 L 0,7");
};
var getTextObj$2 = function() {
  return {
    x: 0,
    y: 0,
    fill: void 0,
    anchor: void 0,
    style: "#666",
    width: void 0,
    height: void 0,
    textMargin: 0,
    rx: 0,
    ry: 0,
    tspan: true,
    valign: void 0
  };
};
var getNoteRect$2 = function() {
  return {
    x: 0,
    y: 0,
    fill: "#EDF2AE",
    stroke: "#666",
    width: 100,
    anchor: "start",
    height: 100,
    rx: 0,
    ry: 0
  };
};
var getC4ShapeFont = (cnf, typeC4Shape) => {
  return {
    fontFamily: cnf[typeC4Shape + "FontFamily"],
    fontSize: cnf[typeC4Shape + "FontSize"],
    fontWeight: cnf[typeC4Shape + "FontWeight"]
  };
};
var _drawTextCandidateFunc$2 = function() {
  function byText(content, g, x7, y7, width2, height2, textAttrs) {
    const text2 = g.append("text").attr("x", x7 + width2 / 2).attr("y", y7 + height2 / 2 + 5).style("text-anchor", "middle").text(content);
    _setTextAttrs(text2, textAttrs);
  }
  function byTspan(content, g, x7, y7, width2, height2, textAttrs, conf2) {
    const { fontSize, fontFamily, fontWeight } = conf2;
    const lines = content.split(common.lineBreakRegex);
    for (let i = 0; i < lines.length; i++) {
      const dy = i * fontSize - fontSize * (lines.length - 1) / 2;
      const text2 = g.append("text").attr("x", x7 + width2 / 2).attr("y", y7).style("text-anchor", "middle").attr("dominant-baseline", "middle").style("font-size", fontSize).style("font-weight", fontWeight).style("font-family", fontFamily);
      text2.append("tspan").attr("dy", dy).text(lines[i]).attr("alignment-baseline", "mathematical");
      _setTextAttrs(text2, textAttrs);
    }
  }
  function byFo(content, g, x7, y7, width2, height2, textAttrs, conf2) {
    const s3 = g.append("switch");
    const f2 = s3.append("foreignObject").attr("x", x7).attr("y", y7).attr("width", width2).attr("height", height2);
    const text2 = f2.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    text2.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);
    byTspan(content, s3, x7, y7, width2, height2, textAttrs, conf2);
    _setTextAttrs(text2, textAttrs);
  }
  function _setTextAttrs(toText, fromTextAttrsDict) {
    for (const key in fromTextAttrsDict) {
      if (fromTextAttrsDict.hasOwnProperty(key)) {
        toText.attr(key, fromTextAttrsDict[key]);
      }
    }
  }
  return function(conf2) {
    return conf2.textPlacement === "fo" ? byFo : conf2.textPlacement === "old" ? byText : byTspan;
  };
}();
var svgDraw$3 = {
  drawRect: drawRect$2,
  drawText: drawText$2,
  drawLabel: drawLabel$2,
  drawBoundary: drawBoundary$1,
  drawC4Shape,
  drawRels: drawRels$1,
  drawImage: drawImage$1,
  drawEmbeddedImage: drawEmbeddedImage$1,
  insertArrowHead: insertArrowHead$1,
  insertArrowEnd,
  insertArrowFilledHead: insertArrowFilledHead$1,
  insertDynamicNumber,
  insertArrowCrossHead: insertArrowCrossHead$1,
  insertDatabaseIcon: insertDatabaseIcon$1,
  insertComputerIcon: insertComputerIcon$1,
  insertClockIcon: insertClockIcon$1,
  getTextObj: getTextObj$2,
  getNoteRect: getNoteRect$2,
  sanitizeUrl: import_sanitize_url.sanitizeUrl
};
var globalBoundaryMaxX = 0;
var globalBoundaryMaxY = 0;
var c4ShapeInRow = 4;
var c4BoundaryInRow = 2;
parser$a.yy = c4Db;
var conf$a = {};
var Bounds = class {
  constructor(diagObj) {
    this.name = "";
    this.data = {};
    this.data.startx = void 0;
    this.data.stopx = void 0;
    this.data.starty = void 0;
    this.data.stopy = void 0;
    this.data.widthLimit = void 0;
    this.nextData = {};
    this.nextData.startx = void 0;
    this.nextData.stopx = void 0;
    this.nextData.starty = void 0;
    this.nextData.stopy = void 0;
    this.nextData.cnt = 0;
    setConf$a(diagObj.db.getConfig());
  }
  setData(startx, stopx, starty, stopy) {
    this.nextData.startx = this.data.startx = startx;
    this.nextData.stopx = this.data.stopx = stopx;
    this.nextData.starty = this.data.starty = starty;
    this.nextData.stopy = this.data.stopy = stopy;
  }
  updateVal(obj, key, val, fun) {
    if (typeof obj[key] === "undefined") {
      obj[key] = val;
    } else {
      obj[key] = fun(val, obj[key]);
    }
  }
  insert(c4Shape) {
    this.nextData.cnt = this.nextData.cnt + 1;
    let _startx = this.nextData.startx === this.nextData.stopx ? this.nextData.stopx + c4Shape.margin : this.nextData.stopx + c4Shape.margin * 2;
    let _stopx = _startx + c4Shape.width;
    let _starty = this.nextData.starty + c4Shape.margin * 2;
    let _stopy = _starty + c4Shape.height;
    if (_startx >= this.data.widthLimit || _stopx >= this.data.widthLimit || this.nextData.cnt > c4ShapeInRow) {
      _startx = this.nextData.startx + c4Shape.margin + conf$a.nextLinePaddingX;
      _starty = this.nextData.stopy + c4Shape.margin * 2;
      this.nextData.stopx = _stopx = _startx + c4Shape.width;
      this.nextData.starty = this.nextData.stopy;
      this.nextData.stopy = _stopy = _starty + c4Shape.height;
      this.nextData.cnt = 1;
    }
    c4Shape.x = _startx;
    c4Shape.y = _starty;
    this.updateVal(this.data, "startx", _startx, Math.min);
    this.updateVal(this.data, "starty", _starty, Math.min);
    this.updateVal(this.data, "stopx", _stopx, Math.max);
    this.updateVal(this.data, "stopy", _stopy, Math.max);
    this.updateVal(this.nextData, "startx", _startx, Math.min);
    this.updateVal(this.nextData, "starty", _starty, Math.min);
    this.updateVal(this.nextData, "stopx", _stopx, Math.max);
    this.updateVal(this.nextData, "stopy", _stopy, Math.max);
  }
  init(diagObj) {
    this.name = "";
    this.data = {
      startx: void 0,
      stopx: void 0,
      starty: void 0,
      stopy: void 0,
      widthLimit: void 0
    };
    this.nextData = {
      startx: void 0,
      stopx: void 0,
      starty: void 0,
      stopy: void 0,
      cnt: 0
    };
    setConf$a(diagObj.db.getConfig());
  }
  bumpLastMargin(margin) {
    this.data.stopx += margin;
    this.data.stopy += margin;
  }
};
var setConf$a = function(cnf) {
  assignWithDepth(conf$a, cnf);
  if (cnf.fontFamily) {
    conf$a.personFontFamily = conf$a.systemFontFamily = conf$a.messageFontFamily = cnf.fontFamily;
  }
  if (cnf.fontSize) {
    conf$a.personFontSize = conf$a.systemFontSize = conf$a.messageFontSize = cnf.fontSize;
  }
  if (cnf.fontWeight) {
    conf$a.personFontWeight = conf$a.systemFontWeight = conf$a.messageFontWeight = cnf.fontWeight;
  }
};
var c4ShapeFont = (cnf, typeC4Shape) => {
  return {
    fontFamily: cnf[typeC4Shape + "FontFamily"],
    fontSize: cnf[typeC4Shape + "FontSize"],
    fontWeight: cnf[typeC4Shape + "FontWeight"]
  };
};
var boundaryFont = (cnf) => {
  return {
    fontFamily: cnf.boundaryFontFamily,
    fontSize: cnf.boundaryFontSize,
    fontWeight: cnf.boundaryFontWeight
  };
};
var messageFont$1 = (cnf) => {
  return {
    fontFamily: cnf.messageFontFamily,
    fontSize: cnf.messageFontSize,
    fontWeight: cnf.messageFontWeight
  };
};
function calcC4ShapeTextWH(textType, c4Shape, c4ShapeTextWrap, textConf, textLimitWidth) {
  if (!c4Shape[textType].width) {
    if (c4ShapeTextWrap) {
      c4Shape[textType].text = wrapLabel(c4Shape[textType].text, textLimitWidth, textConf);
      c4Shape[textType].textLines = c4Shape[textType].text.split(common.lineBreakRegex).length;
      c4Shape[textType].width = textLimitWidth;
      c4Shape[textType].height = calculateTextHeight(c4Shape[textType].text, textConf);
    } else {
      let lines = c4Shape[textType].text.split(common.lineBreakRegex);
      c4Shape[textType].textLines = lines.length;
      let lineHeight = 0;
      c4Shape[textType].height = 0;
      c4Shape[textType].width = 0;
      for (let i = 0; i < lines.length; i++) {
        c4Shape[textType].width = Math.max(
          calculateTextWidth(lines[i], textConf),
          c4Shape[textType].width
        );
        lineHeight = calculateTextHeight(lines[i], textConf);
        c4Shape[textType].height = c4Shape[textType].height + lineHeight;
      }
    }
  }
}
var drawBoundary = function(diagram, boundary, bounds2) {
  boundary.x = bounds2.data.startx;
  boundary.y = bounds2.data.starty;
  boundary.width = bounds2.data.stopx - bounds2.data.startx;
  boundary.height = bounds2.data.stopy - bounds2.data.starty;
  boundary.label.y = conf$a.c4ShapeMargin - 35;
  let boundaryTextWrap = boundary.wrap && conf$a.wrap;
  let boundaryLabelConf = boundaryFont(conf$a);
  boundaryLabelConf.fontSize = boundaryLabelConf.fontSize + 2;
  boundaryLabelConf.fontWeight = "bold";
  let textLimitWidth = calculateTextWidth(boundary.label.text, boundaryLabelConf);
  calcC4ShapeTextWH("label", boundary, boundaryTextWrap, boundaryLabelConf, textLimitWidth);
  svgDraw$3.drawBoundary(diagram, boundary, conf$a);
};
var drawC4ShapeArray = function(currentBounds, diagram, c4ShapeArray2, c4ShapeKeys) {
  let Y3 = 0;
  for (let i = 0; i < c4ShapeKeys.length; i++) {
    Y3 = 0;
    const c4Shape = c4ShapeArray2[c4ShapeKeys[i]];
    let c4ShapeTypeConf = c4ShapeFont(conf$a, c4Shape.typeC4Shape.text);
    c4ShapeTypeConf.fontSize = c4ShapeTypeConf.fontSize - 2;
    c4Shape.typeC4Shape.width = calculateTextWidth(
      "<<" + c4Shape.typeC4Shape.text + ">>",
      c4ShapeTypeConf
    );
    c4Shape.typeC4Shape.height = c4ShapeTypeConf.fontSize + 2;
    c4Shape.typeC4Shape.Y = conf$a.c4ShapePadding;
    Y3 = c4Shape.typeC4Shape.Y + c4Shape.typeC4Shape.height - 4;
    c4Shape.image = { width: 0, height: 0, Y: 0 };
    switch (c4Shape.typeC4Shape.text) {
      case "person":
      case "external_person":
        c4Shape.image.width = 48;
        c4Shape.image.height = 48;
        c4Shape.image.Y = Y3;
        Y3 = c4Shape.image.Y + c4Shape.image.height;
        break;
    }
    if (c4Shape.sprite) {
      c4Shape.image.width = 48;
      c4Shape.image.height = 48;
      c4Shape.image.Y = Y3;
      Y3 = c4Shape.image.Y + c4Shape.image.height;
    }
    let c4ShapeTextWrap = c4Shape.wrap && conf$a.wrap;
    let textLimitWidth = conf$a.width - conf$a.c4ShapePadding * 2;
    let c4ShapeLabelConf = c4ShapeFont(conf$a, c4Shape.typeC4Shape.text);
    c4ShapeLabelConf.fontSize = c4ShapeLabelConf.fontSize + 2;
    c4ShapeLabelConf.fontWeight = "bold";
    calcC4ShapeTextWH("label", c4Shape, c4ShapeTextWrap, c4ShapeLabelConf, textLimitWidth);
    c4Shape["label"].Y = Y3 + 8;
    Y3 = c4Shape["label"].Y + c4Shape["label"].height;
    if (c4Shape.type && c4Shape.type.text !== "") {
      c4Shape.type.text = "[" + c4Shape.type.text + "]";
      let c4ShapeTypeConf2 = c4ShapeFont(conf$a, c4Shape.typeC4Shape.text);
      calcC4ShapeTextWH("type", c4Shape, c4ShapeTextWrap, c4ShapeTypeConf2, textLimitWidth);
      c4Shape["type"].Y = Y3 + 5;
      Y3 = c4Shape["type"].Y + c4Shape["type"].height;
    } else if (c4Shape.techn && c4Shape.techn.text !== "") {
      c4Shape.techn.text = "[" + c4Shape.techn.text + "]";
      let c4ShapeTechnConf = c4ShapeFont(conf$a, c4Shape.techn.text);
      calcC4ShapeTextWH("techn", c4Shape, c4ShapeTextWrap, c4ShapeTechnConf, textLimitWidth);
      c4Shape["techn"].Y = Y3 + 5;
      Y3 = c4Shape["techn"].Y + c4Shape["techn"].height;
    }
    let rectHeight = Y3;
    let rectWidth = c4Shape.label.width;
    if (c4Shape.descr && c4Shape.descr.text !== "") {
      let c4ShapeDescrConf = c4ShapeFont(conf$a, c4Shape.typeC4Shape.text);
      calcC4ShapeTextWH("descr", c4Shape, c4ShapeTextWrap, c4ShapeDescrConf, textLimitWidth);
      c4Shape["descr"].Y = Y3 + 20;
      Y3 = c4Shape["descr"].Y + c4Shape["descr"].height;
      rectWidth = Math.max(c4Shape.label.width, c4Shape.descr.width);
      rectHeight = Y3 - c4Shape["descr"].textLines * 5;
    }
    rectWidth = rectWidth + conf$a.c4ShapePadding;
    c4Shape.width = Math.max(c4Shape.width || conf$a.width, rectWidth, conf$a.width);
    c4Shape.height = Math.max(c4Shape.height || conf$a.height, rectHeight, conf$a.height);
    c4Shape.margin = c4Shape.margin || conf$a.c4ShapeMargin;
    currentBounds.insert(c4Shape);
    svgDraw$3.drawC4Shape(diagram, c4Shape, conf$a);
  }
  currentBounds.bumpLastMargin(conf$a.c4ShapeMargin);
};
var Point = class {
  constructor(x7, y7) {
    this.x = x7;
    this.y = y7;
  }
};
var getIntersectPoint = function(fromNode, endPoint) {
  let x13 = fromNode.x;
  let y12 = fromNode.y;
  let x22 = endPoint.x;
  let y22 = endPoint.y;
  let fromCenterX = x13 + fromNode.width / 2;
  let fromCenterY = y12 + fromNode.height / 2;
  let dx = Math.abs(x13 - x22);
  let dy = Math.abs(y12 - y22);
  let tanDYX = dy / dx;
  let fromDYX = fromNode.height / fromNode.width;
  let returnPoint = null;
  if (y12 == y22 && x13 < x22) {
    returnPoint = new Point(x13 + fromNode.width, fromCenterY);
  } else if (y12 == y22 && x13 > x22) {
    returnPoint = new Point(x13, fromCenterY);
  } else if (x13 == x22 && y12 < y22) {
    returnPoint = new Point(fromCenterX, y12 + fromNode.height);
  } else if (x13 == x22 && y12 > y22) {
    returnPoint = new Point(fromCenterX, y12);
  }
  if (x13 > x22 && y12 < y22) {
    if (fromDYX >= tanDYX) {
      returnPoint = new Point(x13, fromCenterY + tanDYX * fromNode.width / 2);
    } else {
      returnPoint = new Point(
        fromCenterX - dx / dy * fromNode.height / 2,
        y12 + fromNode.height
      );
    }
  } else if (x13 < x22 && y12 < y22) {
    if (fromDYX >= tanDYX) {
      returnPoint = new Point(x13 + fromNode.width, fromCenterY + tanDYX * fromNode.width / 2);
    } else {
      returnPoint = new Point(
        fromCenterX + dx / dy * fromNode.height / 2,
        y12 + fromNode.height
      );
    }
  } else if (x13 < x22 && y12 > y22) {
    if (fromDYX >= tanDYX) {
      returnPoint = new Point(x13 + fromNode.width, fromCenterY - tanDYX * fromNode.width / 2);
    } else {
      returnPoint = new Point(fromCenterX + fromNode.height / 2 * dx / dy, y12);
    }
  } else if (x13 > x22 && y12 > y22) {
    if (fromDYX >= tanDYX) {
      returnPoint = new Point(x13, fromCenterY - fromNode.width / 2 * tanDYX);
    } else {
      returnPoint = new Point(fromCenterX - fromNode.height / 2 * dx / dy, y12);
    }
  }
  return returnPoint;
};
var getIntersectPoints = function(fromNode, endNode) {
  let endIntersectPoint = { x: 0, y: 0 };
  endIntersectPoint.x = endNode.x + endNode.width / 2;
  endIntersectPoint.y = endNode.y + endNode.height / 2;
  let startPoint = getIntersectPoint(fromNode, endIntersectPoint);
  endIntersectPoint.x = fromNode.x + fromNode.width / 2;
  endIntersectPoint.y = fromNode.y + fromNode.height / 2;
  let endPoint = getIntersectPoint(endNode, endIntersectPoint);
  return { startPoint, endPoint };
};
var drawRels = function(diagram, rels2, getC4ShapeObj, diagObj) {
  let i = 0;
  for (let rel of rels2) {
    i = i + 1;
    let relTextWrap = rel.wrap && conf$a.wrap;
    let relConf = messageFont$1(conf$a);
    let diagramType = diagObj.db.getC4Type();
    if (diagramType === "C4Dynamic")
      rel.label.text = i + ": " + rel.label.text;
    let textLimitWidth = calculateTextWidth(rel.label.text, relConf);
    calcC4ShapeTextWH("label", rel, relTextWrap, relConf, textLimitWidth);
    if (rel.techn && rel.techn.text !== "") {
      textLimitWidth = calculateTextWidth(rel.techn.text, relConf);
      calcC4ShapeTextWH("techn", rel, relTextWrap, relConf, textLimitWidth);
    }
    if (rel.descr && rel.descr.text !== "") {
      textLimitWidth = calculateTextWidth(rel.descr.text, relConf);
      calcC4ShapeTextWH("descr", rel, relTextWrap, relConf, textLimitWidth);
    }
    let fromNode = getC4ShapeObj(rel.from);
    let endNode = getC4ShapeObj(rel.to);
    let points = getIntersectPoints(fromNode, endNode);
    rel.startPoint = points.startPoint;
    rel.endPoint = points.endPoint;
  }
  svgDraw$3.drawRels(diagram, rels2, conf$a);
};
function drawInsideBoundary(diagram, parentBoundaryAlias, parentBounds, currentBoundarys, diagObj) {
  let currentBounds = new Bounds(diagObj);
  currentBounds.data.widthLimit = parentBounds.data.widthLimit / Math.min(c4BoundaryInRow, currentBoundarys.length);
  for (let i = 0; i < currentBoundarys.length; i++) {
    let currentBoundary = currentBoundarys[i];
    let Y3 = 0;
    currentBoundary.image = { width: 0, height: 0, Y: 0 };
    if (currentBoundary.sprite) {
      currentBoundary.image.width = 48;
      currentBoundary.image.height = 48;
      currentBoundary.image.Y = Y3;
      Y3 = currentBoundary.image.Y + currentBoundary.image.height;
    }
    let currentBoundaryTextWrap = currentBoundary.wrap && conf$a.wrap;
    let currentBoundaryLabelConf = boundaryFont(conf$a);
    currentBoundaryLabelConf.fontSize = currentBoundaryLabelConf.fontSize + 2;
    currentBoundaryLabelConf.fontWeight = "bold";
    calcC4ShapeTextWH(
      "label",
      currentBoundary,
      currentBoundaryTextWrap,
      currentBoundaryLabelConf,
      currentBounds.data.widthLimit
    );
    currentBoundary["label"].Y = Y3 + 8;
    Y3 = currentBoundary["label"].Y + currentBoundary["label"].height;
    if (currentBoundary.type && currentBoundary.type.text !== "") {
      currentBoundary.type.text = "[" + currentBoundary.type.text + "]";
      let currentBoundaryTypeConf = boundaryFont(conf$a);
      calcC4ShapeTextWH(
        "type",
        currentBoundary,
        currentBoundaryTextWrap,
        currentBoundaryTypeConf,
        currentBounds.data.widthLimit
      );
      currentBoundary["type"].Y = Y3 + 5;
      Y3 = currentBoundary["type"].Y + currentBoundary["type"].height;
    }
    if (currentBoundary.descr && currentBoundary.descr.text !== "") {
      let currentBoundaryDescrConf = boundaryFont(conf$a);
      currentBoundaryDescrConf.fontSize = currentBoundaryDescrConf.fontSize - 2;
      calcC4ShapeTextWH(
        "descr",
        currentBoundary,
        currentBoundaryTextWrap,
        currentBoundaryDescrConf,
        currentBounds.data.widthLimit
      );
      currentBoundary["descr"].Y = Y3 + 20;
      Y3 = currentBoundary["descr"].Y + currentBoundary["descr"].height;
    }
    if (i == 0 || i % c4BoundaryInRow === 0) {
      let _x = parentBounds.data.startx + conf$a.diagramMarginX;
      let _y = parentBounds.data.stopy + conf$a.diagramMarginY + Y3;
      currentBounds.setData(_x, _x, _y, _y);
    } else {
      let _x = currentBounds.data.stopx !== currentBounds.data.startx ? currentBounds.data.stopx + conf$a.diagramMarginX : currentBounds.data.startx;
      let _y = currentBounds.data.starty;
      currentBounds.setData(_x, _x, _y, _y);
    }
    currentBounds.name = currentBoundary.alias;
    let currentPersonOrSystemArray = diagObj.db.getC4ShapeArray(currentBoundary.alias);
    let currentPersonOrSystemKeys = diagObj.db.getC4ShapeKeys(currentBoundary.alias);
    if (currentPersonOrSystemKeys.length > 0) {
      drawC4ShapeArray(
        currentBounds,
        diagram,
        currentPersonOrSystemArray,
        currentPersonOrSystemKeys
      );
    }
    parentBoundaryAlias = currentBoundary.alias;
    let nextCurrentBoundarys = diagObj.db.getBoundarys(parentBoundaryAlias);
    if (nextCurrentBoundarys.length > 0) {
      drawInsideBoundary(
        diagram,
        parentBoundaryAlias,
        currentBounds,
        nextCurrentBoundarys,
        diagObj
      );
    }
    if (currentBoundary.alias !== "global")
      drawBoundary(diagram, currentBoundary, currentBounds);
    parentBounds.data.stopy = Math.max(
      currentBounds.data.stopy + conf$a.c4ShapeMargin,
      parentBounds.data.stopy
    );
    parentBounds.data.stopx = Math.max(
      currentBounds.data.stopx + conf$a.c4ShapeMargin,
      parentBounds.data.stopx
    );
    globalBoundaryMaxX = Math.max(globalBoundaryMaxX, parentBounds.data.stopx);
    globalBoundaryMaxY = Math.max(globalBoundaryMaxY, parentBounds.data.stopy);
  }
}
var draw$e = function(_text, id5, _version, diagObj) {
  conf$a = getConfig$1().c4;
  const securityLevel = getConfig$1().securityLevel;
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  let db = diagObj.db;
  diagObj.db.setWrap(conf$a.wrap);
  c4ShapeInRow = db.getC4ShapeInRow();
  c4BoundaryInRow = db.getC4BoundaryInRow();
  log$1.debug(`C:${JSON.stringify(conf$a, null, 2)}`);
  const diagram = securityLevel === "sandbox" ? root22.select(`[id="${id5}"]`) : select_default5(`[id="${id5}"]`);
  svgDraw$3.insertComputerIcon(diagram);
  svgDraw$3.insertDatabaseIcon(diagram);
  svgDraw$3.insertClockIcon(diagram);
  let screenBounds = new Bounds(diagObj);
  screenBounds.setData(
    conf$a.diagramMarginX,
    conf$a.diagramMarginX,
    conf$a.diagramMarginY,
    conf$a.diagramMarginY
  );
  screenBounds.data.widthLimit = screen.availWidth;
  globalBoundaryMaxX = conf$a.diagramMarginX;
  globalBoundaryMaxY = conf$a.diagramMarginY;
  const title2 = diagObj.db.getTitle();
  let currentBoundarys = diagObj.db.getBoundarys("");
  drawInsideBoundary(diagram, "", screenBounds, currentBoundarys, diagObj);
  svgDraw$3.insertArrowHead(diagram);
  svgDraw$3.insertArrowEnd(diagram);
  svgDraw$3.insertArrowCrossHead(diagram);
  svgDraw$3.insertArrowFilledHead(diagram);
  drawRels(diagram, diagObj.db.getRels(), diagObj.db.getC4Shape, diagObj);
  screenBounds.data.stopx = globalBoundaryMaxX;
  screenBounds.data.stopy = globalBoundaryMaxY;
  const box = screenBounds.data;
  let boxHeight = box.stopy - box.starty;
  let height2 = boxHeight + 2 * conf$a.diagramMarginY;
  let boxWidth = box.stopx - box.startx;
  const width2 = boxWidth + 2 * conf$a.diagramMarginX;
  if (title2) {
    diagram.append("text").text(title2).attr("x", (box.stopx - box.startx) / 2 - 4 * conf$a.diagramMarginX).attr("y", box.starty + conf$a.diagramMarginY);
  }
  configureSvgSize(diagram, height2, width2, conf$a.useMaxWidth);
  const extraVertForTitle = title2 ? 60 : 0;
  diagram.attr(
    "viewBox",
    box.startx - conf$a.diagramMarginX + " -" + (conf$a.diagramMarginY + extraVertForTitle) + " " + width2 + " " + (height2 + extraVertForTitle)
  );
  addSVGAccessibilityFields(parser$a.yy, diagram, id5);
  log$1.debug(`models:`, box);
};
var c4Renderer = {
  drawPersonOrSystemArray: drawC4ShapeArray,
  drawBoundary,
  setConf: setConf$a,
  draw: draw$e
};
var parser$9 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 3], $V1 = [1, 7], $V2 = [1, 8], $V3 = [1, 9], $V4 = [1, 10], $V5 = [1, 13], $V6 = [1, 12], $V7 = [1, 16, 25], $V8 = [1, 20], $V9 = [1, 31], $Va = [1, 32], $Vb = [1, 33], $Vc = [1, 35], $Vd = [1, 38], $Ve = [1, 36], $Vf = [1, 37], $Vg = [1, 39], $Vh = [1, 40], $Vi = [1, 41], $Vj = [1, 42], $Vk = [1, 45], $Vl = [1, 46], $Vm = [1, 47], $Vn = [1, 48], $Vo = [16, 25], $Vp = [1, 62], $Vq = [1, 63], $Vr = [1, 64], $Vs = [1, 65], $Vt = [1, 66], $Vu = [1, 67], $Vv = [1, 68], $Vw = [16, 25, 32, 44, 45, 53, 56, 57, 58, 59, 60, 61, 62, 67, 69], $Vx = [16, 25, 30, 32, 44, 45, 49, 53, 56, 57, 58, 59, 60, 61, 62, 67, 69, 84, 85, 86, 87], $Vy = [5, 8, 9, 10, 11, 16, 19, 23, 25], $Vz = [53, 84, 85, 86, 87], $VA = [53, 61, 62, 84, 85, 86, 87], $VB = [53, 56, 57, 58, 59, 60, 84, 85, 86, 87], $VC = [16, 25, 32], $VD = [1, 100];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "mermaidDoc": 4, "statments": 5, "direction": 6, "directive": 7, "direction_tb": 8, "direction_bt": 9, "direction_rl": 10, "direction_lr": 11, "graphConfig": 12, "openDirective": 13, "typeDirective": 14, "closeDirective": 15, "NEWLINE": 16, ":": 17, "argDirective": 18, "open_directive": 19, "type_directive": 20, "arg_directive": 21, "close_directive": 22, "CLASS_DIAGRAM": 23, "statements": 24, "EOF": 25, "statement": 26, "className": 27, "alphaNumToken": 28, "classLiteralName": 29, "GENERICTYPE": 30, "relationStatement": 31, "LABEL": 32, "classStatement": 33, "methodStatement": 34, "annotationStatement": 35, "clickStatement": 36, "cssClassStatement": 37, "acc_title": 38, "acc_title_value": 39, "acc_descr": 40, "acc_descr_value": 41, "acc_descr_multiline_value": 42, "CLASS": 43, "STYLE_SEPARATOR": 44, "STRUCT_START": 45, "members": 46, "STRUCT_STOP": 47, "ANNOTATION_START": 48, "ANNOTATION_END": 49, "MEMBER": 50, "SEPARATOR": 51, "relation": 52, "STR": 53, "relationType": 54, "lineType": 55, "AGGREGATION": 56, "EXTENSION": 57, "COMPOSITION": 58, "DEPENDENCY": 59, "LOLLIPOP": 60, "LINE": 61, "DOTTED_LINE": 62, "CALLBACK": 63, "LINK": 64, "LINK_TARGET": 65, "CLICK": 66, "CALLBACK_NAME": 67, "CALLBACK_ARGS": 68, "HREF": 69, "CSSCLASS": 70, "commentToken": 71, "textToken": 72, "graphCodeTokens": 73, "textNoTagsToken": 74, "TAGSTART": 75, "TAGEND": 76, "==": 77, "--": 78, "PCT": 79, "DEFAULT": 80, "SPACE": 81, "MINUS": 82, "keywords": 83, "UNICODE_TEXT": 84, "NUM": 85, "ALPHA": 86, "BQUOTE_STR": 87, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 5: "statments", 8: "direction_tb", 9: "direction_bt", 10: "direction_rl", 11: "direction_lr", 16: "NEWLINE", 17: ":", 19: "open_directive", 20: "type_directive", 21: "arg_directive", 22: "close_directive", 23: "CLASS_DIAGRAM", 25: "EOF", 30: "GENERICTYPE", 32: "LABEL", 38: "acc_title", 39: "acc_title_value", 40: "acc_descr", 41: "acc_descr_value", 42: "acc_descr_multiline_value", 43: "CLASS", 44: "STYLE_SEPARATOR", 45: "STRUCT_START", 47: "STRUCT_STOP", 48: "ANNOTATION_START", 49: "ANNOTATION_END", 50: "MEMBER", 51: "SEPARATOR", 53: "STR", 56: "AGGREGATION", 57: "EXTENSION", 58: "COMPOSITION", 59: "DEPENDENCY", 60: "LOLLIPOP", 61: "LINE", 62: "DOTTED_LINE", 63: "CALLBACK", 64: "LINK", 65: "LINK_TARGET", 66: "CLICK", 67: "CALLBACK_NAME", 68: "CALLBACK_ARGS", 69: "HREF", 70: "CSSCLASS", 73: "graphCodeTokens", 75: "TAGSTART", 76: "TAGEND", 77: "==", 78: "--", 79: "PCT", 80: "DEFAULT", 81: "SPACE", 82: "MINUS", 83: "keywords", 84: "UNICODE_TEXT", 85: "NUM", 86: "ALPHA", 87: "BQUOTE_STR" },
    productions_: [0, [3, 1], [3, 1], [3, 1], [3, 2], [6, 1], [6, 1], [6, 1], [6, 1], [4, 1], [7, 4], [7, 6], [13, 1], [14, 1], [18, 1], [15, 1], [12, 4], [24, 1], [24, 2], [24, 3], [27, 1], [27, 1], [27, 2], [27, 2], [27, 2], [26, 1], [26, 2], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 2], [26, 2], [26, 1], [33, 2], [33, 4], [33, 5], [33, 7], [35, 4], [46, 1], [46, 2], [34, 1], [34, 2], [34, 1], [34, 1], [31, 3], [31, 4], [31, 4], [31, 5], [52, 3], [52, 2], [52, 2], [52, 1], [54, 1], [54, 1], [54, 1], [54, 1], [54, 1], [55, 1], [55, 1], [36, 3], [36, 4], [36, 3], [36, 4], [36, 4], [36, 5], [36, 3], [36, 4], [36, 4], [36, 5], [36, 3], [36, 4], [36, 4], [36, 5], [37, 3], [71, 1], [71, 1], [72, 1], [72, 1], [72, 1], [72, 1], [72, 1], [72, 1], [72, 1], [74, 1], [74, 1], [74, 1], [74, 1], [28, 1], [28, 1], [28, 1], [29, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 5:
          yy.setDirection("TB");
          break;
        case 6:
          yy.setDirection("BT");
          break;
        case 7:
          yy.setDirection("RL");
          break;
        case 8:
          yy.setDirection("LR");
          break;
        case 12:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 13:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 14:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 15:
          yy.parseDirective("}%%", "close_directive", "class");
          break;
        case 20:
        case 21:
          this.$ = $$[$0];
          break;
        case 22:
          this.$ = $$[$0 - 1] + $$[$0];
          break;
        case 23:
        case 24:
          this.$ = $$[$0 - 1] + "~" + $$[$0];
          break;
        case 25:
          yy.addRelation($$[$0]);
          break;
        case 26:
          $$[$0 - 1].title = yy.cleanupLabel($$[$0]);
          yy.addRelation($$[$0 - 1]);
          break;
        case 34:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 35:
        case 36:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 37:
          yy.addClass($$[$0]);
          break;
        case 38:
          yy.addClass($$[$0 - 2]);
          yy.setCssClass($$[$0 - 2], $$[$0]);
          break;
        case 39:
          yy.addClass($$[$0 - 3]);
          yy.addMembers($$[$0 - 3], $$[$0 - 1]);
          break;
        case 40:
          yy.addClass($$[$0 - 5]);
          yy.setCssClass($$[$0 - 5], $$[$0 - 3]);
          yy.addMembers($$[$0 - 5], $$[$0 - 1]);
          break;
        case 41:
          yy.addAnnotation($$[$0], $$[$0 - 2]);
          break;
        case 42:
          this.$ = [$$[$0]];
          break;
        case 43:
          $$[$0].push($$[$0 - 1]);
          this.$ = $$[$0];
          break;
        case 44:
          break;
        case 45:
          yy.addMember($$[$0 - 1], yy.cleanupLabel($$[$0]));
          break;
        case 46:
          break;
        case 47:
          break;
        case 48:
          this.$ = { "id1": $$[$0 - 2], "id2": $$[$0], relation: $$[$0 - 1], relationTitle1: "none", relationTitle2: "none" };
          break;
        case 49:
          this.$ = { id1: $$[$0 - 3], id2: $$[$0], relation: $$[$0 - 1], relationTitle1: $$[$0 - 2], relationTitle2: "none" };
          break;
        case 50:
          this.$ = { id1: $$[$0 - 3], id2: $$[$0], relation: $$[$0 - 2], relationTitle1: "none", relationTitle2: $$[$0 - 1] };
          break;
        case 51:
          this.$ = { id1: $$[$0 - 4], id2: $$[$0], relation: $$[$0 - 2], relationTitle1: $$[$0 - 3], relationTitle2: $$[$0 - 1] };
          break;
        case 52:
          this.$ = { type1: $$[$0 - 2], type2: $$[$0], lineType: $$[$0 - 1] };
          break;
        case 53:
          this.$ = { type1: "none", type2: $$[$0], lineType: $$[$0 - 1] };
          break;
        case 54:
          this.$ = { type1: $$[$0 - 1], type2: "none", lineType: $$[$0] };
          break;
        case 55:
          this.$ = { type1: "none", type2: "none", lineType: $$[$0] };
          break;
        case 56:
          this.$ = yy.relationType.AGGREGATION;
          break;
        case 57:
          this.$ = yy.relationType.EXTENSION;
          break;
        case 58:
          this.$ = yy.relationType.COMPOSITION;
          break;
        case 59:
          this.$ = yy.relationType.DEPENDENCY;
          break;
        case 60:
          this.$ = yy.relationType.LOLLIPOP;
          break;
        case 61:
          this.$ = yy.lineType.LINE;
          break;
        case 62:
          this.$ = yy.lineType.DOTTED_LINE;
          break;
        case 63:
        case 69:
          this.$ = $$[$0 - 2];
          yy.setClickEvent($$[$0 - 1], $$[$0]);
          break;
        case 64:
        case 70:
          this.$ = $$[$0 - 3];
          yy.setClickEvent($$[$0 - 2], $$[$0 - 1]);
          yy.setTooltip($$[$0 - 2], $$[$0]);
          break;
        case 65:
        case 73:
          this.$ = $$[$0 - 2];
          yy.setLink($$[$0 - 1], $$[$0]);
          break;
        case 66:
          this.$ = $$[$0 - 3];
          yy.setLink($$[$0 - 2], $$[$0 - 1], $$[$0]);
          break;
        case 67:
        case 75:
          this.$ = $$[$0 - 3];
          yy.setLink($$[$0 - 2], $$[$0 - 1]);
          yy.setTooltip($$[$0 - 2], $$[$0]);
          break;
        case 68:
        case 76:
          this.$ = $$[$0 - 4];
          yy.setLink($$[$0 - 3], $$[$0 - 2], $$[$0]);
          yy.setTooltip($$[$0 - 3], $$[$0 - 1]);
          break;
        case 71:
          this.$ = $$[$0 - 3];
          yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);
          break;
        case 72:
          this.$ = $$[$0 - 4];
          yy.setClickEvent($$[$0 - 3], $$[$0 - 2], $$[$0 - 1]);
          yy.setTooltip($$[$0 - 3], $$[$0]);
          break;
        case 74:
          this.$ = $$[$0 - 3];
          yy.setLink($$[$0 - 2], $$[$0 - 1], $$[$0]);
          break;
        case 77:
          yy.setCssClass($$[$0 - 1], $$[$0]);
          break;
      }
    },
    table: [{ 3: 1, 4: 2, 5: $V0, 6: 4, 7: 5, 8: $V1, 9: $V2, 10: $V3, 11: $V4, 12: 6, 13: 11, 19: $V5, 23: $V6 }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3] }, { 3: 14, 4: 2, 5: $V0, 6: 4, 7: 5, 8: $V1, 9: $V2, 10: $V3, 11: $V4, 12: 6, 13: 11, 19: $V5, 23: $V6 }, { 1: [2, 9] }, o($V7, [2, 5]), o($V7, [2, 6]), o($V7, [2, 7]), o($V7, [2, 8]), { 14: 15, 20: [1, 16] }, { 16: [1, 17] }, { 20: [2, 12] }, { 1: [2, 4] }, { 15: 18, 17: [1, 19], 22: $V8 }, o([17, 22], [2, 13]), { 6: 30, 7: 29, 8: $V1, 9: $V2, 10: $V3, 11: $V4, 13: 11, 19: $V5, 24: 21, 26: 22, 27: 34, 28: 43, 29: 44, 31: 23, 33: 24, 34: 25, 35: 26, 36: 27, 37: 28, 38: $V9, 40: $Va, 42: $Vb, 43: $Vc, 48: $Vd, 50: $Ve, 51: $Vf, 63: $Vg, 64: $Vh, 66: $Vi, 70: $Vj, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 16: [1, 49] }, { 18: 50, 21: [1, 51] }, { 16: [2, 15] }, { 25: [1, 52] }, { 16: [1, 53], 25: [2, 17] }, o($Vo, [2, 25], { 32: [1, 54] }), o($Vo, [2, 27]), o($Vo, [2, 28]), o($Vo, [2, 29]), o($Vo, [2, 30]), o($Vo, [2, 31]), o($Vo, [2, 32]), o($Vo, [2, 33]), { 39: [1, 55] }, { 41: [1, 56] }, o($Vo, [2, 36]), o($Vo, [2, 44], { 52: 57, 54: 60, 55: 61, 32: [1, 59], 53: [1, 58], 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv }), { 27: 69, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vo, [2, 46]), o($Vo, [2, 47]), { 28: 70, 84: $Vk, 85: $Vl, 86: $Vm }, { 27: 71, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 27: 72, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 27: 73, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 53: [1, 74] }, o($Vw, [2, 20], { 28: 43, 29: 44, 27: 75, 30: [1, 76], 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }), o($Vw, [2, 21], { 30: [1, 77] }), o($Vx, [2, 91]), o($Vx, [2, 92]), o($Vx, [2, 93]), o([16, 25, 30, 32, 44, 45, 53, 56, 57, 58, 59, 60, 61, 62, 67, 69], [2, 94]), o($Vy, [2, 10]), { 15: 78, 22: $V8 }, { 22: [2, 14] }, { 1: [2, 16] }, { 6: 30, 7: 29, 8: $V1, 9: $V2, 10: $V3, 11: $V4, 13: 11, 19: $V5, 24: 79, 25: [2, 18], 26: 22, 27: 34, 28: 43, 29: 44, 31: 23, 33: 24, 34: 25, 35: 26, 36: 27, 37: 28, 38: $V9, 40: $Va, 42: $Vb, 43: $Vc, 48: $Vd, 50: $Ve, 51: $Vf, 63: $Vg, 64: $Vh, 66: $Vi, 70: $Vj, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vo, [2, 26]), o($Vo, [2, 34]), o($Vo, [2, 35]), { 27: 80, 28: 43, 29: 44, 53: [1, 81], 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 52: 82, 54: 60, 55: 61, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv }, o($Vo, [2, 45]), { 55: 83, 61: $Vu, 62: $Vv }, o($Vz, [2, 55], { 54: 84, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt }), o($VA, [2, 56]), o($VA, [2, 57]), o($VA, [2, 58]), o($VA, [2, 59]), o($VA, [2, 60]), o($VB, [2, 61]), o($VB, [2, 62]), o($Vo, [2, 37], { 44: [1, 85], 45: [1, 86] }), { 49: [1, 87] }, { 53: [1, 88] }, { 53: [1, 89] }, { 67: [1, 90], 69: [1, 91] }, { 28: 92, 84: $Vk, 85: $Vl, 86: $Vm }, o($Vw, [2, 22]), o($Vw, [2, 23]), o($Vw, [2, 24]), { 16: [1, 93] }, { 25: [2, 19] }, o($VC, [2, 48]), { 27: 94, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 27: 95, 28: 43, 29: 44, 53: [1, 96], 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vz, [2, 54], { 54: 97, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt }), o($Vz, [2, 53]), { 28: 98, 84: $Vk, 85: $Vl, 86: $Vm }, { 46: 99, 50: $VD }, { 27: 101, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vo, [2, 63], { 53: [1, 102] }), o($Vo, [2, 65], { 53: [1, 104], 65: [1, 103] }), o($Vo, [2, 69], { 53: [1, 105], 68: [1, 106] }), o($Vo, [2, 73], { 53: [1, 108], 65: [1, 107] }), o($Vo, [2, 77]), o($Vy, [2, 11]), o($VC, [2, 50]), o($VC, [2, 49]), { 27: 109, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vz, [2, 52]), o($Vo, [2, 38], { 45: [1, 110] }), { 47: [1, 111] }, { 46: 112, 47: [2, 42], 50: $VD }, o($Vo, [2, 41]), o($Vo, [2, 64]), o($Vo, [2, 66]), o($Vo, [2, 67], { 65: [1, 113] }), o($Vo, [2, 70]), o($Vo, [2, 71], { 53: [1, 114] }), o($Vo, [2, 74]), o($Vo, [2, 75], { 65: [1, 115] }), o($VC, [2, 51]), { 46: 116, 50: $VD }, o($Vo, [2, 39]), { 47: [2, 43] }, o($Vo, [2, 68]), o($Vo, [2, 72]), o($Vo, [2, 76]), { 47: [1, 117] }, o($Vo, [2, 40])],
    defaultActions: { 2: [2, 1], 3: [2, 2], 4: [2, 3], 6: [2, 9], 13: [2, 12], 14: [2, 4], 20: [2, 15], 51: [2, 14], 52: [2, 16], 79: [2, 19], 112: [2, 43] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: {},
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("open_directive");
            return 19;
          case 1:
            return 8;
          case 2:
            return 9;
          case 3:
            return 10;
          case 4:
            return 11;
          case 5:
            this.begin("type_directive");
            return 20;
          case 6:
            this.popState();
            this.begin("arg_directive");
            return 17;
          case 7:
            this.popState();
            this.popState();
            return 22;
          case 8:
            return 21;
          case 9:
            break;
          case 10:
            break;
          case 11:
            this.begin("acc_title");
            return 38;
          case 12:
            this.popState();
            return "acc_title_value";
          case 13:
            this.begin("acc_descr");
            return 40;
          case 14:
            this.popState();
            return "acc_descr_value";
          case 15:
            this.begin("acc_descr_multiline");
            break;
          case 16:
            this.popState();
            break;
          case 17:
            return "acc_descr_multiline_value";
          case 18:
            return 16;
          case 19:
            break;
          case 20:
            return 23;
          case 21:
            return 23;
          case 22:
            this.begin("struct");
            return 45;
          case 23:
            return "EDGE_STATE";
          case 24:
            return "EOF_IN_STRUCT";
          case 25:
            return "OPEN_IN_STRUCT";
          case 26:
            this.popState();
            return 47;
          case 27:
            break;
          case 28:
            return "MEMBER";
          case 29:
            return 43;
          case 30:
            return 70;
          case 31:
            return 63;
          case 32:
            return 64;
          case 33:
            return 66;
          case 34:
            return 48;
          case 35:
            return 49;
          case 36:
            this.begin("generic");
            break;
          case 37:
            this.popState();
            break;
          case 38:
            return "GENERICTYPE";
          case 39:
            this.begin("string");
            break;
          case 40:
            this.popState();
            break;
          case 41:
            return "STR";
          case 42:
            this.begin("bqstring");
            break;
          case 43:
            this.popState();
            break;
          case 44:
            return "BQUOTE_STR";
          case 45:
            this.begin("href");
            break;
          case 46:
            this.popState();
            break;
          case 47:
            return 69;
          case 48:
            this.begin("callback_name");
            break;
          case 49:
            this.popState();
            break;
          case 50:
            this.popState();
            this.begin("callback_args");
            break;
          case 51:
            return 67;
          case 52:
            this.popState();
            break;
          case 53:
            return 68;
          case 54:
            return 65;
          case 55:
            return 65;
          case 56:
            return 65;
          case 57:
            return 65;
          case 58:
            return 57;
          case 59:
            return 57;
          case 60:
            return 59;
          case 61:
            return 59;
          case 62:
            return 58;
          case 63:
            return 56;
          case 64:
            return 60;
          case 65:
            return 61;
          case 66:
            return 62;
          case 67:
            return 32;
          case 68:
            return 44;
          case 69:
            return 82;
          case 70:
            return "DOT";
          case 71:
            return "PLUS";
          case 72:
            return 79;
          case 73:
            return "EQUALS";
          case 74:
            return "EQUALS";
          case 75:
            return 86;
          case 76:
            return "PUNCTUATION";
          case 77:
            return 85;
          case 78:
            return 84;
          case 79:
            return 81;
          case 80:
            return 25;
        }
      },
      rules: [/^(?:%%\{)/, /^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:((?:(?!\}%%)[^:.])*))/, /^(?::)/, /^(?:\}%%)/, /^(?:((?:(?!\}%%).|\n)*))/, /^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/, /^(?:%%[^\n]*(\r?\n)*)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:classDiagram-v2\b)/, /^(?:classDiagram\b)/, /^(?:[{])/, /^(?:\[\*\])/, /^(?:$)/, /^(?:[{])/, /^(?:[}])/, /^(?:[\n])/, /^(?:[^{}\n]*)/, /^(?:class\b)/, /^(?:cssClass\b)/, /^(?:callback\b)/, /^(?:link\b)/, /^(?:click\b)/, /^(?:<<)/, /^(?:>>)/, /^(?:[~])/, /^(?:[~])/, /^(?:[^~]*)/, /^(?:["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:[`])/, /^(?:[`])/, /^(?:[^`]+)/, /^(?:href[\s]+["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:call[\s]+)/, /^(?:\([\s]*\))/, /^(?:\()/, /^(?:[^(]*)/, /^(?:\))/, /^(?:[^)]*)/, /^(?:_self\b)/, /^(?:_blank\b)/, /^(?:_parent\b)/, /^(?:_top\b)/, /^(?:\s*<\|)/, /^(?:\s*\|>)/, /^(?:\s*>)/, /^(?:\s*<)/, /^(?:\s*\*)/, /^(?:\s*o\b)/, /^(?:\s*\(\))/, /^(?:--)/, /^(?:\.\.)/, /^(?::{1}[^:\n;]+)/, /^(?::{3})/, /^(?:-)/, /^(?:\.)/, /^(?:\+)/, /^(?:%)/, /^(?:=)/, /^(?:=)/, /^(?:\w+)/, /^(?:[!"#$%&'*+,-.`?\\/])/, /^(?:[0-9]+)/, /^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/, /^(?:\s)/, /^(?:$)/],
      conditions: { "acc_descr_multiline": { "rules": [16, 17], "inclusive": false }, "acc_descr": { "rules": [14], "inclusive": false }, "acc_title": { "rules": [12], "inclusive": false }, "arg_directive": { "rules": [7, 8], "inclusive": false }, "type_directive": { "rules": [6, 7], "inclusive": false }, "open_directive": { "rules": [5], "inclusive": false }, "callback_args": { "rules": [52, 53], "inclusive": false }, "callback_name": { "rules": [49, 50, 51], "inclusive": false }, "href": { "rules": [46, 47], "inclusive": false }, "struct": { "rules": [23, 24, 25, 26, 27, 28], "inclusive": false }, "generic": { "rules": [37, 38], "inclusive": false }, "bqstring": { "rules": [43, 44], "inclusive": false }, "string": { "rules": [40, 41], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 9, 10, 11, 13, 15, 18, 19, 20, 21, 22, 23, 29, 30, 31, 32, 33, 34, 35, 36, 39, 42, 45, 48, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$9.parser = parser$9;
var classDetector = (txt, config2) => {
  var _a;
  if (((_a = config2 == null ? void 0 : config2.class) == null ? void 0 : _a.defaultRenderer) === "dagre-wrapper")
    return false;
  return txt.match(/^\s*classDiagram/) !== null;
};
var classDetectorV2 = (txt, config2) => {
  var _a;
  if (txt.match(/^\s*classDiagram/) !== null && ((_a = config2 == null ? void 0 : config2.class) == null ? void 0 : _a.defaultRenderer) === "dagre-wrapper")
    return true;
  return txt.match(/^\s*classDiagram-v2/) !== null;
};
var MERMAID_DOM_ID_PREFIX$1 = "classid-";
var relations$1 = [];
var classes$2 = {};
var classCounter = 0;
var funs$2 = [];
var sanitizeText$2 = (txt) => common.sanitizeText(txt, getConfig$1());
var parseDirective$9 = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var splitClassNameAndType = function(id5) {
  let genericType = "";
  let className = id5;
  if (id5.indexOf("~") > 0) {
    let split = id5.split("~");
    className = split[0];
    genericType = common.sanitizeText(split[1], getConfig$1());
  }
  return { className, type: genericType };
};
var addClass$1 = function(id5) {
  let classId = splitClassNameAndType(id5);
  if (typeof classes$2[classId.className] !== "undefined")
    return;
  classes$2[classId.className] = {
    id: classId.className,
    type: classId.type,
    cssClasses: [],
    methods: [],
    members: [],
    annotations: [],
    domId: MERMAID_DOM_ID_PREFIX$1 + classId.className + "-" + classCounter
  };
  classCounter++;
};
var lookUpDomId$1 = function(id5) {
  const classKeys = Object.keys(classes$2);
  for (let i = 0; i < classKeys.length; i++) {
    if (classes$2[classKeys[i]].id === id5) {
      return classes$2[classKeys[i]].domId;
    }
  }
};
var clear$c = function() {
  relations$1 = [];
  classes$2 = {};
  funs$2 = [];
  funs$2.push(setupToolTips$1);
  clear$g();
};
var getClass = function(id5) {
  return classes$2[id5];
};
var getClasses$5 = function() {
  return classes$2;
};
var getRelations$1 = function() {
  return relations$1;
};
var addRelation$1 = function(relation) {
  log$1.debug("Adding relation: " + JSON.stringify(relation));
  addClass$1(relation.id1);
  addClass$1(relation.id2);
  relation.id1 = splitClassNameAndType(relation.id1).className;
  relation.id2 = splitClassNameAndType(relation.id2).className;
  relation.relationTitle1 = common.sanitizeText(
    relation.relationTitle1.trim(),
    getConfig$1()
  );
  relation.relationTitle2 = common.sanitizeText(
    relation.relationTitle2.trim(),
    getConfig$1()
  );
  relations$1.push(relation);
};
var addAnnotation = function(className, annotation) {
  const validatedClassName = splitClassNameAndType(className).className;
  classes$2[validatedClassName].annotations.push(annotation);
};
var addMember = function(className, member) {
  const validatedClassName = splitClassNameAndType(className).className;
  const theClass = classes$2[validatedClassName];
  if (typeof member === "string") {
    const memberString = member.trim();
    if (memberString.startsWith("<<") && memberString.endsWith(">>")) {
      theClass.annotations.push(sanitizeText$2(memberString.substring(2, memberString.length - 2)));
    } else if (memberString.indexOf(")") > 0) {
      theClass.methods.push(sanitizeText$2(memberString));
    } else if (memberString) {
      theClass.members.push(sanitizeText$2(memberString));
    }
  }
};
var addMembers = function(className, members) {
  if (Array.isArray(members)) {
    members.reverse();
    members.forEach((member) => addMember(className, member));
  }
};
var cleanupLabel$1 = function(label) {
  if (label.substring(0, 1) === ":") {
    return common.sanitizeText(label.substr(1).trim(), getConfig$1());
  } else {
    return sanitizeText$2(label.trim());
  }
};
var setCssClass = function(ids, className) {
  ids.split(",").forEach(function(_id) {
    let id5 = _id;
    if (_id[0].match(/\d/))
      id5 = MERMAID_DOM_ID_PREFIX$1 + id5;
    if (typeof classes$2[id5] !== "undefined") {
      classes$2[id5].cssClasses.push(className);
    }
  });
};
var setTooltip$1 = function(ids, tooltip) {
  const config2 = getConfig$1();
  ids.split(",").forEach(function(id5) {
    if (typeof tooltip !== "undefined") {
      classes$2[id5].tooltip = common.sanitizeText(tooltip, config2);
    }
  });
};
var getTooltip$1 = function(id5) {
  return classes$2[id5].tooltip;
};
var setLink$2 = function(ids, linkStr, target) {
  const config2 = getConfig$1();
  ids.split(",").forEach(function(_id) {
    let id5 = _id;
    if (_id[0].match(/\d/))
      id5 = MERMAID_DOM_ID_PREFIX$1 + id5;
    if (typeof classes$2[id5] !== "undefined") {
      classes$2[id5].link = utils.formatUrl(linkStr, config2);
      if (config2.securityLevel === "sandbox") {
        classes$2[id5].linkTarget = "_top";
      } else if (typeof target === "string") {
        classes$2[id5].linkTarget = sanitizeText$2(target);
      } else {
        classes$2[id5].linkTarget = "_blank";
      }
    }
  });
  setCssClass(ids, "clickable");
};
var setClickEvent$2 = function(ids, functionName, functionArgs) {
  ids.split(",").forEach(function(id5) {
    setClickFunc(id5, functionName, functionArgs);
    classes$2[id5].haveCallback = true;
  });
  setCssClass(ids, "clickable");
};
var setClickFunc = function(domId, functionName, functionArgs) {
  const config2 = getConfig$1();
  let id5 = domId;
  let elemId = lookUpDomId$1(id5);
  if (config2.securityLevel !== "loose") {
    return;
  }
  if (typeof functionName === "undefined") {
    return;
  }
  if (typeof classes$2[id5] !== "undefined") {
    let argList = [];
    if (typeof functionArgs === "string") {
      argList = functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
      for (let i = 0; i < argList.length; i++) {
        let item = argList[i].trim();
        if (item.charAt(0) === '"' && item.charAt(item.length - 1) === '"') {
          item = item.substr(1, item.length - 2);
        }
        argList[i] = item;
      }
    }
    if (argList.length === 0) {
      argList.push(elemId);
    }
    funs$2.push(function() {
      const elem = document.querySelector(`[id="${elemId}"]`);
      if (elem !== null) {
        elem.addEventListener(
          "click",
          function() {
            utils.runFunc(functionName, ...argList);
          },
          false
        );
      }
    });
  }
};
var bindFunctions$2 = function(element) {
  funs$2.forEach(function(fun) {
    fun(element);
  });
};
var lineType$1 = {
  LINE: 0,
  DOTTED_LINE: 1
};
var relationType$1 = {
  AGGREGATION: 0,
  EXTENSION: 1,
  COMPOSITION: 2,
  DEPENDENCY: 3,
  LOLLIPOP: 4
};
var setupToolTips$1 = function(element) {
  let tooltipElem = select_default5(".mermaidTooltip");
  if ((tooltipElem._groups || tooltipElem)[0][0] === null) {
    tooltipElem = select_default5("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0);
  }
  const svg4 = select_default5(element).select("svg");
  const nodes = svg4.selectAll("g.node");
  nodes.on("mouseover", function() {
    const el = select_default5(this);
    const title2 = el.attr("title");
    if (title2 === null) {
      return;
    }
    const rect2 = this.getBoundingClientRect();
    tooltipElem.transition().duration(200).style("opacity", ".9");
    tooltipElem.text(el.attr("title")).style("left", window.scrollX + rect2.left + (rect2.right - rect2.left) / 2 + "px").style("top", window.scrollY + rect2.top - 14 + document.body.scrollTop + "px");
    tooltipElem.html(tooltipElem.html().replace(/&lt;br\/&gt;/g, "<br/>"));
    el.classed("hover", true);
  }).on("mouseout", function() {
    tooltipElem.transition().duration(500).style("opacity", 0);
    const el = select_default5(this);
    el.classed("hover", false);
  });
};
funs$2.push(setupToolTips$1);
var direction$2 = "TB";
var getDirection$2 = () => direction$2;
var setDirection$2 = (dir) => {
  direction$2 = dir;
};
var classDb = {
  parseDirective: parseDirective$9,
  setAccTitle,
  getAccTitle,
  getAccDescription,
  setAccDescription,
  getConfig: () => getConfig$1().class,
  addClass: addClass$1,
  bindFunctions: bindFunctions$2,
  clear: clear$c,
  getClass,
  getClasses: getClasses$5,
  addAnnotation,
  getRelations: getRelations$1,
  addRelation: addRelation$1,
  getDirection: getDirection$2,
  setDirection: setDirection$2,
  addMember,
  addMembers,
  cleanupLabel: cleanupLabel$1,
  lineType: lineType$1,
  relationType: relationType$1,
  setClickEvent: setClickEvent$2,
  setCssClass,
  setLink: setLink$2,
  getTooltip: getTooltip$1,
  setTooltip: setTooltip$1,
  lookUpDomId: lookUpDomId$1
};
var edgeCount$1 = 0;
var drawEdge$1 = function(elem, path5, relation, conf2, diagObj) {
  const getRelationType = function(type22) {
    switch (type22) {
      case diagObj.db.relationType.AGGREGATION:
        return "aggregation";
      case diagObj.db.EXTENSION:
        return "extension";
      case diagObj.db.COMPOSITION:
        return "composition";
      case diagObj.db.DEPENDENCY:
        return "dependency";
      case diagObj.db.LOLLIPOP:
        return "lollipop";
    }
  };
  path5.points = path5.points.filter((p) => !Number.isNaN(p.y));
  const lineData = path5.points;
  const lineFunction = line_default2().x(function(d) {
    return d.x;
  }).y(function(d) {
    return d.y;
  }).curve(basis_default5);
  const svgPath = elem.append("path").attr("d", lineFunction(lineData)).attr("id", "edge" + edgeCount$1).attr("class", "relation");
  let url = "";
  if (conf2.arrowMarkerAbsolute) {
    url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
    url = url.replace(/\(/g, "\\(");
    url = url.replace(/\)/g, "\\)");
  }
  if (relation.relation.lineType == 1) {
    svgPath.attr("class", "relation dashed-line");
  }
  if (relation.relation.type1 !== "none") {
    svgPath.attr(
      "marker-start",
      "url(" + url + "#" + getRelationType(relation.relation.type1) + "Start)"
    );
  }
  if (relation.relation.type2 !== "none") {
    svgPath.attr(
      "marker-end",
      "url(" + url + "#" + getRelationType(relation.relation.type2) + "End)"
    );
  }
  let x7, y7;
  const l = path5.points.length;
  let labelPosition = utils.calcLabelPosition(path5.points);
  x7 = labelPosition.x;
  y7 = labelPosition.y;
  let p1_card_x, p1_card_y;
  let p2_card_x, p2_card_y;
  if (l % 2 !== 0 && l > 1) {
    let cardinality_1_point = utils.calcCardinalityPosition(
      relation.relation.type1 !== "none",
      path5.points,
      path5.points[0]
    );
    let cardinality_2_point = utils.calcCardinalityPosition(
      relation.relation.type2 !== "none",
      path5.points,
      path5.points[l - 1]
    );
    log$1.debug("cardinality_1_point " + JSON.stringify(cardinality_1_point));
    log$1.debug("cardinality_2_point " + JSON.stringify(cardinality_2_point));
    p1_card_x = cardinality_1_point.x;
    p1_card_y = cardinality_1_point.y;
    p2_card_x = cardinality_2_point.x;
    p2_card_y = cardinality_2_point.y;
  }
  if (typeof relation.title !== "undefined") {
    const g = elem.append("g").attr("class", "classLabel");
    const label = g.append("text").attr("class", "label").attr("x", x7).attr("y", y7).attr("fill", "red").attr("text-anchor", "middle").text(relation.title);
    window.label = label;
    const bounds2 = label.node().getBBox();
    g.insert("rect", ":first-child").attr("class", "box").attr("x", bounds2.x - conf2.padding / 2).attr("y", bounds2.y - conf2.padding / 2).attr("width", bounds2.width + conf2.padding).attr("height", bounds2.height + conf2.padding);
  }
  log$1.info("Rendering relation " + JSON.stringify(relation));
  if (typeof relation.relationTitle1 !== "undefined" && relation.relationTitle1 !== "none") {
    const g = elem.append("g").attr("class", "cardinality");
    g.append("text").attr("class", "type1").attr("x", p1_card_x).attr("y", p1_card_y).attr("fill", "black").attr("font-size", "6").text(relation.relationTitle1);
  }
  if (typeof relation.relationTitle2 !== "undefined" && relation.relationTitle2 !== "none") {
    const g = elem.append("g").attr("class", "cardinality");
    g.append("text").attr("class", "type2").attr("x", p2_card_x).attr("y", p2_card_y).attr("fill", "black").attr("font-size", "6").text(relation.relationTitle2);
  }
  edgeCount$1++;
};
var drawClass = function(elem, classDef, conf2, diagObj) {
  log$1.debug("Rendering class ", classDef, conf2);
  const id5 = classDef.id;
  const classInfo = {
    id: id5,
    label: classDef.id,
    width: 0,
    height: 0
  };
  const g = elem.append("g").attr("id", diagObj.db.lookUpDomId(id5)).attr("class", "classGroup");
  let title2;
  if (classDef.link) {
    title2 = g.append("svg:a").attr("xlink:href", classDef.link).attr("target", classDef.linkTarget).append("text").attr("y", conf2.textHeight + conf2.padding).attr("x", 0);
  } else {
    title2 = g.append("text").attr("y", conf2.textHeight + conf2.padding).attr("x", 0);
  }
  let isFirst = true;
  classDef.annotations.forEach(function(member) {
    const titleText2 = title2.append("tspan").text("\xAB" + member + "\xBB");
    if (!isFirst)
      titleText2.attr("dy", conf2.textHeight);
    isFirst = false;
  });
  let classTitleString = classDef.id;
  if (classDef.type !== void 0 && classDef.type !== "") {
    classTitleString += "<" + classDef.type + ">";
  }
  const classTitle = title2.append("tspan").text(classTitleString).attr("class", "title");
  if (!isFirst)
    classTitle.attr("dy", conf2.textHeight);
  const titleHeight = title2.node().getBBox().height;
  const membersLine = g.append("line").attr("x1", 0).attr("y1", conf2.padding + titleHeight + conf2.dividerMargin / 2).attr("y2", conf2.padding + titleHeight + conf2.dividerMargin / 2);
  const members = g.append("text").attr("x", conf2.padding).attr("y", titleHeight + conf2.dividerMargin + conf2.textHeight).attr("fill", "white").attr("class", "classText");
  isFirst = true;
  classDef.members.forEach(function(member) {
    addTspan(members, member, isFirst, conf2);
    isFirst = false;
  });
  const membersBox = members.node().getBBox();
  const methodsLine = g.append("line").attr("x1", 0).attr("y1", conf2.padding + titleHeight + conf2.dividerMargin + membersBox.height).attr("y2", conf2.padding + titleHeight + conf2.dividerMargin + membersBox.height);
  const methods = g.append("text").attr("x", conf2.padding).attr("y", titleHeight + 2 * conf2.dividerMargin + membersBox.height + conf2.textHeight).attr("fill", "white").attr("class", "classText");
  isFirst = true;
  classDef.methods.forEach(function(method) {
    addTspan(methods, method, isFirst, conf2);
    isFirst = false;
  });
  const classBox = g.node().getBBox();
  var cssClassStr = " ";
  if (classDef.cssClasses.length > 0) {
    cssClassStr = cssClassStr + classDef.cssClasses.join(" ");
  }
  const rect2 = g.insert("rect", ":first-child").attr("x", 0).attr("y", 0).attr("width", classBox.width + 2 * conf2.padding).attr("height", classBox.height + conf2.padding + 0.5 * conf2.dividerMargin).attr("class", cssClassStr);
  const rectWidth = rect2.node().getBBox().width;
  title2.node().childNodes.forEach(function(x7) {
    x7.setAttribute("x", (rectWidth - x7.getBBox().width) / 2);
  });
  if (classDef.tooltip) {
    title2.insert("title").text(classDef.tooltip);
  }
  membersLine.attr("x2", rectWidth);
  methodsLine.attr("x2", rectWidth);
  classInfo.width = rectWidth;
  classInfo.height = classBox.height + conf2.padding + 0.5 * conf2.dividerMargin;
  return classInfo;
};
var parseMember = function(text2) {
  const fieldRegEx = /^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/;
  const methodRegEx = /^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/;
  let fieldMatch = text2.match(fieldRegEx);
  let methodMatch = text2.match(methodRegEx);
  if (fieldMatch && !methodMatch) {
    return buildFieldDisplay(fieldMatch);
  } else if (methodMatch) {
    return buildMethodDisplay(methodMatch);
  } else {
    return buildLegacyDisplay(text2);
  }
};
var buildFieldDisplay = function(parsedText) {
  let cssStyle = "";
  let displayText = "";
  try {
    let visibility = parsedText[1] ? parsedText[1].trim() : "";
    let fieldType = parsedText[2] ? parsedText[2].trim() : "";
    let genericType = parsedText[3] ? parseGenericTypes(parsedText[3].trim()) : "";
    let fieldName = parsedText[4] ? parsedText[4].trim() : "";
    let classifier = parsedText[5] ? parsedText[5].trim() : "";
    displayText = visibility + fieldType + genericType + " " + fieldName;
    cssStyle = parseClassifier(classifier);
  } catch (err) {
    displayText = parsedText;
  }
  return {
    displayText,
    cssStyle
  };
};
var buildMethodDisplay = function(parsedText) {
  let cssStyle = "";
  let displayText = "";
  try {
    let visibility = parsedText[1] ? parsedText[1].trim() : "";
    let methodName = parsedText[2] ? parsedText[2].trim() : "";
    let parameters = parsedText[3] ? parseGenericTypes(parsedText[3].trim()) : "";
    let classifier = parsedText[4] ? parsedText[4].trim() : "";
    let returnType = parsedText[5] ? " : " + parseGenericTypes(parsedText[5]).trim() : "";
    displayText = visibility + methodName + "(" + parameters + ")" + returnType;
    cssStyle = parseClassifier(classifier);
  } catch (err) {
    displayText = parsedText;
  }
  return {
    displayText,
    cssStyle
  };
};
var buildLegacyDisplay = function(text2) {
  let displayText = "";
  let cssStyle = "";
  let returnType = "";
  let methodStart = text2.indexOf("(");
  let methodEnd = text2.indexOf(")");
  if (methodStart > 1 && methodEnd > methodStart && methodEnd <= text2.length) {
    let visibility = "";
    let methodName = "";
    let firstChar = text2.substring(0, 1);
    if (firstChar.match(/\w/)) {
      methodName = text2.substring(0, methodStart).trim();
    } else {
      if (firstChar.match(/\+|-|~|#/)) {
        visibility = firstChar;
      }
      methodName = text2.substring(1, methodStart).trim();
    }
    const parameters = text2.substring(methodStart + 1, methodEnd);
    text2.substring(methodEnd + 1, 1);
    cssStyle = parseClassifier(text2.substring(methodEnd + 1, methodEnd + 2));
    displayText = visibility + methodName + "(" + parseGenericTypes(parameters.trim()) + ")";
    if (methodEnd < text2.length) {
      returnType = text2.substring(methodEnd + 2).trim();
      if (returnType !== "") {
        returnType = " : " + parseGenericTypes(returnType);
        displayText += returnType;
      }
    }
  } else {
    displayText = parseGenericTypes(text2);
  }
  return {
    displayText,
    cssStyle
  };
};
var addTspan = function(textEl, txt, isFirst, conf2) {
  let member = parseMember(txt);
  const tSpan = textEl.append("tspan").attr("x", conf2.padding).text(member.displayText);
  if (member.cssStyle !== "") {
    tSpan.attr("style", member.cssStyle);
  }
  if (!isFirst) {
    tSpan.attr("dy", conf2.textHeight);
  }
};
var parseClassifier = function(classifier) {
  switch (classifier) {
    case "*":
      return "font-style:italic;";
    case "$":
      return "text-decoration:underline;";
    default:
      return "";
  }
};
var svgDraw$2 = {
  drawClass,
  drawEdge: drawEdge$1,
  parseMember
};
var idCache = {};
var padding = 20;
var getGraphId = function(label) {
  const foundEntry = Object.entries(idCache).find((entry) => entry[1].label === label);
  if (foundEntry) {
    return foundEntry[0];
  }
};
var insertMarkers$3 = function(elem) {
  elem.append("defs").append("marker").attr("id", "extensionStart").attr("class", "extension").attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z");
  elem.append("defs").append("marker").attr("id", "extensionEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");
  elem.append("defs").append("marker").attr("id", "compositionStart").attr("class", "extension").attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
  elem.append("defs").append("marker").attr("id", "compositionEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
  elem.append("defs").append("marker").attr("id", "aggregationStart").attr("class", "extension").attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
  elem.append("defs").append("marker").attr("id", "aggregationEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
  elem.append("defs").append("marker").attr("id", "dependencyStart").attr("class", "extension").attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z");
  elem.append("defs").append("marker").attr("id", "dependencyEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
};
var draw$d = function(text2, id5, _version, diagObj) {
  const conf2 = getConfig$1().class;
  idCache = {};
  log$1.info("Rendering diagram " + text2);
  const securityLevel = getConfig$1().securityLevel;
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const diagram = root22.select(`[id='${id5}']`);
  insertMarkers$3(diagram);
  const g = new import_graphlib.default.Graph({
    multigraph: true
  });
  g.setGraph({
    isMultiGraph: true
  });
  g.setDefaultEdgeLabel(function() {
    return {};
  });
  const classes2 = diagObj.db.getClasses();
  const keys = Object.keys(classes2);
  for (let i = 0; i < keys.length; i++) {
    const classDef = classes2[keys[i]];
    const node2 = svgDraw$2.drawClass(diagram, classDef, conf2, diagObj);
    idCache[node2.id] = node2;
    g.setNode(node2.id, node2);
    log$1.info("Org height: " + node2.height);
  }
  const relations2 = diagObj.db.getRelations();
  relations2.forEach(function(relation) {
    log$1.info(
      "tjoho" + getGraphId(relation.id1) + getGraphId(relation.id2) + JSON.stringify(relation)
    );
    g.setEdge(
      getGraphId(relation.id1),
      getGraphId(relation.id2),
      {
        relation
      },
      relation.title || "DEFAULT"
    );
  });
  import_dagre.default.layout(g);
  g.nodes().forEach(function(v2) {
    if (typeof v2 !== "undefined" && typeof g.node(v2) !== "undefined") {
      log$1.debug("Node " + v2 + ": " + JSON.stringify(g.node(v2)));
      root22.select("#" + diagObj.db.lookUpDomId(v2)).attr(
        "transform",
        "translate(" + (g.node(v2).x - g.node(v2).width / 2) + "," + (g.node(v2).y - g.node(v2).height / 2) + " )"
      );
    }
  });
  g.edges().forEach(function(e) {
    if (typeof e !== "undefined" && typeof g.edge(e) !== "undefined") {
      log$1.debug("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(g.edge(e)));
      svgDraw$2.drawEdge(diagram, g.edge(e), g.edge(e).relation, conf2, diagObj);
    }
  });
  const svgBounds = diagram.node().getBBox();
  const width2 = svgBounds.width + padding * 2;
  const height2 = svgBounds.height + padding * 2;
  configureSvgSize(diagram, height2, width2, conf2.useMaxWidth);
  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${width2} ${height2}`;
  log$1.debug(`viewBox ${vBox}`);
  diagram.attr("viewBox", vBox);
  addSVGAccessibilityFields(diagObj.db, diagram, id5);
};
var classRenderer = {
  draw: draw$d
};
var insertMarkers$2 = (elem, markerArray, type22, id5) => {
  markerArray.forEach((markerName) => {
    markers$1[markerName](elem, type22, id5);
  });
};
var extension = (elem, type22, id5) => {
  log$1.trace("Making markers for ", id5);
  elem.append("defs").append("marker").attr("id", type22 + "-extensionStart").attr("class", "marker extension " + type22).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z");
  elem.append("defs").append("marker").attr("id", type22 + "-extensionEnd").attr("class", "marker extension " + type22).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");
};
var composition = (elem, type22) => {
  elem.append("defs").append("marker").attr("id", type22 + "-compositionStart").attr("class", "marker composition " + type22).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
  elem.append("defs").append("marker").attr("id", type22 + "-compositionEnd").attr("class", "marker composition " + type22).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
};
var aggregation = (elem, type22) => {
  elem.append("defs").append("marker").attr("id", type22 + "-aggregationStart").attr("class", "marker aggregation " + type22).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
  elem.append("defs").append("marker").attr("id", type22 + "-aggregationEnd").attr("class", "marker aggregation " + type22).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
};
var dependency = (elem, type22) => {
  elem.append("defs").append("marker").attr("id", type22 + "-dependencyStart").attr("class", "marker dependency " + type22).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z");
  elem.append("defs").append("marker").attr("id", type22 + "-dependencyEnd").attr("class", "marker dependency " + type22).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
};
var lollipop = (elem, type22) => {
  elem.append("defs").append("marker").attr("id", type22 + "-lollipopStart").attr("class", "marker lollipop " + type22).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "white").attr("cx", 6).attr("cy", 7).attr("r", 6);
};
var point11 = (elem, type22) => {
  elem.append("marker").attr("id", type22 + "-pointEnd").attr("class", "marker " + type22).attr("viewBox", "0 0 10 10").attr("refX", 10).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
  elem.append("marker").attr("id", type22 + "-pointStart").attr("class", "marker " + type22).attr("viewBox", "0 0 10 10").attr("refX", 0).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 5 L 10 10 L 10 0 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
};
var circle$1 = (elem, type22) => {
  elem.append("marker").attr("id", type22 + "-circleEnd").attr("class", "marker " + type22).attr("viewBox", "0 0 10 10").attr("refX", 11).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
  elem.append("marker").attr("id", type22 + "-circleStart").attr("class", "marker " + type22).attr("viewBox", "0 0 10 10").attr("refX", -1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
};
var cross5 = (elem, type22) => {
  elem.append("marker").attr("id", type22 + "-crossEnd").attr("class", "marker cross " + type22).attr("viewBox", "0 0 11 11").attr("refX", 12).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");
  elem.append("marker").attr("id", type22 + "-crossStart").attr("class", "marker cross " + type22).attr("viewBox", "0 0 11 11").attr("refX", -1).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");
};
var barb = (elem, type22) => {
  elem.append("defs").append("marker").attr("id", type22 + "-barbEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 14).attr("markerUnits", "strokeWidth").attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
};
var markers$1 = {
  extension,
  composition,
  aggregation,
  dependency,
  lollipop,
  point: point11,
  circle: circle$1,
  cross: cross5,
  barb
};
function applyStyle$1(dom, styleFn) {
  if (styleFn) {
    dom.attr("style", styleFn);
  }
}
function addHtmlLabel$1(node2) {
  const fo = select_default5(document.createElementNS("http://www.w3.org/2000/svg", "foreignObject"));
  const div = fo.append("xhtml:div");
  const label = node2.label;
  const labelClass = node2.isNode ? "nodeLabel" : "edgeLabel";
  div.html(
    '<span class="' + labelClass + '" ' + (node2.labelStyle ? 'style="' + node2.labelStyle + '"' : "") + ">" + label + "</span>"
  );
  applyStyle$1(div, node2.labelStyle);
  div.style("display", "inline-block");
  div.style("white-space", "nowrap");
  div.attr("xmlns", "http://www.w3.org/1999/xhtml");
  return fo.node();
}
var createLabel = (_vertexText, style, isTitle, isNode) => {
  let vertexText = _vertexText || "";
  if (typeof vertexText === "object")
    vertexText = vertexText[0];
  if (evaluate(getConfig$1().flowchart.htmlLabels)) {
    vertexText = vertexText.replace(/\\n|\n/g, "<br />");
    log$1.info("vertexText" + vertexText);
    const node2 = {
      isNode,
      label: decodeEntities(vertexText).replace(
        /fa[lrsb]?:fa-[\w-]+/g,
        (s3) => `<i class='${s3.replace(":", " ")}'></i>`
      ),
      labelStyle: style.replace("fill:", "color:")
    };
    let vertexNode = addHtmlLabel$1(node2);
    return vertexNode;
  } else {
    const svgLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
    svgLabel.setAttribute("style", style.replace("color:", "fill:"));
    let rows = [];
    if (typeof vertexText === "string") {
      rows = vertexText.split(/\\n|\n|<br\s*\/?>/gi);
    } else if (Array.isArray(vertexText)) {
      rows = vertexText;
    } else {
      rows = [];
    }
    for (let j = 0; j < rows.length; j++) {
      const tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
      tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
      tspan.setAttribute("dy", "1em");
      tspan.setAttribute("x", "0");
      if (isTitle) {
        tspan.setAttribute("class", "title-row");
      } else {
        tspan.setAttribute("class", "row");
      }
      tspan.textContent = rows[j].trim();
      svgLabel.appendChild(tspan);
    }
    return svgLabel;
  }
};
var labelHelper = (parent, node2, _classes, isNode) => {
  let classes2;
  if (!_classes) {
    classes2 = "node default";
  } else {
    classes2 = _classes;
  }
  const shapeSvg = parent.insert("g").attr("class", classes2).attr("id", node2.domId || node2.id);
  const label = shapeSvg.insert("g").attr("class", "label").attr("style", node2.labelStyle);
  let labelText;
  if (typeof node2.labelText === "undefined") {
    labelText = "";
  } else {
    labelText = typeof node2.labelText === "string" ? node2.labelText : node2.labelText[0];
  }
  const text2 = label.node().appendChild(
    createLabel(
      sanitizeText$5(decodeEntities(labelText), getConfig$1()),
      node2.labelStyle,
      false,
      isNode
    )
  );
  let bbox = text2.getBBox();
  if (evaluate(getConfig$1().flowchart.htmlLabels)) {
    const div = text2.children[0];
    const dv = select_default5(text2);
    bbox = div.getBoundingClientRect();
    dv.attr("width", bbox.width);
    dv.attr("height", bbox.height);
  }
  const halfPadding = node2.padding / 2;
  label.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");
  return { shapeSvg, bbox, halfPadding, label };
};
var updateNodeBounds = (node2, element) => {
  const bbox = element.node().getBBox();
  node2.width = bbox.width;
  node2.height = bbox.height;
};
function insertPolygonShape$1(parent, w2, h, points) {
  return parent.insert("polygon", ":first-child").attr(
    "points",
    points.map(function(d) {
      return d.x + "," + d.y;
    }).join(" ")
  ).attr("class", "label-container").attr("transform", "translate(" + -w2 / 2 + "," + h / 2 + ")");
}
var clusterDb = {};
var decendants = {};
var parents = {};
var clear$b = () => {
  decendants = {};
  parents = {};
  clusterDb = {};
};
var isDecendant = (id5, ancenstorId) => {
  log$1.trace(
    "In isDecendant",
    ancenstorId,
    " ",
    id5,
    " = ",
    decendants[ancenstorId].indexOf(id5) >= 0
  );
  if (decendants[ancenstorId].indexOf(id5) >= 0)
    return true;
  return false;
};
var edgeInCluster = (edge, clusterId) => {
  log$1.info("Decendants of ", clusterId, " is ", decendants[clusterId]);
  log$1.info("Edge is ", edge);
  if (edge.v === clusterId)
    return false;
  if (edge.w === clusterId)
    return false;
  if (!decendants[clusterId]) {
    log$1.debug("Tilt, ", clusterId, ",not in decendants");
    return false;
  }
  if (decendants[clusterId].indexOf(edge.v) >= 0)
    return true;
  if (isDecendant(edge.v, clusterId))
    return true;
  if (isDecendant(edge.w, clusterId))
    return true;
  if (decendants[clusterId].indexOf(edge.w) >= 0)
    return true;
  return false;
};
var copy6 = (clusterId, graph, newGraph, rootId) => {
  log$1.warn(
    "Copying children of ",
    clusterId,
    "root",
    rootId,
    "data",
    graph.node(clusterId),
    rootId
  );
  const nodes = graph.children(clusterId) || [];
  if (clusterId !== rootId) {
    nodes.push(clusterId);
  }
  log$1.warn("Copying (nodes) clusterId", clusterId, "nodes", nodes);
  nodes.forEach((node2) => {
    if (graph.children(node2).length > 0) {
      copy6(node2, graph, newGraph, rootId);
    } else {
      const data = graph.node(node2);
      log$1.info("cp ", node2, " to ", rootId, " with parent ", clusterId);
      newGraph.setNode(node2, data);
      if (rootId !== graph.parent(node2)) {
        log$1.warn("Setting parent", node2, graph.parent(node2));
        newGraph.setParent(node2, graph.parent(node2));
      }
      if (clusterId !== rootId && node2 !== clusterId) {
        log$1.debug("Setting parent", node2, clusterId);
        newGraph.setParent(node2, clusterId);
      } else {
        log$1.info("In copy ", clusterId, "root", rootId, "data", graph.node(clusterId), rootId);
        log$1.debug(
          "Not Setting parent for node=",
          node2,
          "cluster!==rootId",
          clusterId !== rootId,
          "node!==clusterId",
          node2 !== clusterId
        );
      }
      const edges22 = graph.edges(node2);
      log$1.debug("Copying Edges", edges22);
      edges22.forEach((edge) => {
        log$1.info("Edge", edge);
        const data2 = graph.edge(edge.v, edge.w, edge.name);
        log$1.info("Edge data", data2, rootId);
        try {
          if (edgeInCluster(edge, rootId)) {
            log$1.info("Copying as ", edge.v, edge.w, data2, edge.name);
            newGraph.setEdge(edge.v, edge.w, data2, edge.name);
            log$1.info("newGraph edges ", newGraph.edges(), newGraph.edge(newGraph.edges()[0]));
          } else {
            log$1.info(
              "Skipping copy of edge ",
              edge.v,
              "-->",
              edge.w,
              " rootId: ",
              rootId,
              " clusterId:",
              clusterId
            );
          }
        } catch (e) {
          log$1.error(e);
        }
      });
    }
    log$1.debug("Removing node", node2);
    graph.removeNode(node2);
  });
};
var extractDecendants = (id5, graph) => {
  const children4 = graph.children(id5);
  let res = [].concat(children4);
  for (let i = 0; i < children4.length; i++) {
    parents[children4[i]] = id5;
    res = res.concat(extractDecendants(children4[i], graph));
  }
  return res;
};
var findNonClusterChild = (id5, graph) => {
  log$1.trace("Searching", id5);
  const children4 = graph.children(id5);
  log$1.trace("Searching children of id ", id5, children4);
  if (children4.length < 1) {
    log$1.trace("This is a valid node", id5);
    return id5;
  }
  for (let i = 0; i < children4.length; i++) {
    const _id = findNonClusterChild(children4[i], graph);
    if (_id) {
      log$1.trace("Found replacement for", id5, " => ", _id);
      return _id;
    }
  }
};
var getAnchorId = (id5) => {
  if (!clusterDb[id5]) {
    return id5;
  }
  if (!clusterDb[id5].externalConnections) {
    return id5;
  }
  if (clusterDb[id5]) {
    return clusterDb[id5].id;
  }
  return id5;
};
var adjustClustersAndEdges = (graph, depth) => {
  if (!graph || depth > 10) {
    log$1.debug("Opting out, no graph ");
    return;
  } else {
    log$1.debug("Opting in, graph ");
  }
  graph.nodes().forEach(function(id5) {
    const children4 = graph.children(id5);
    if (children4.length > 0) {
      log$1.warn(
        "Cluster identified",
        id5,
        " Replacement id in edges: ",
        findNonClusterChild(id5, graph)
      );
      decendants[id5] = extractDecendants(id5, graph);
      clusterDb[id5] = { id: findNonClusterChild(id5, graph), clusterData: graph.node(id5) };
    }
  });
  graph.nodes().forEach(function(id5) {
    const children4 = graph.children(id5);
    const edges22 = graph.edges();
    if (children4.length > 0) {
      log$1.debug("Cluster identified", id5, decendants);
      edges22.forEach((edge) => {
        if (edge.v !== id5 && edge.w !== id5) {
          const d1 = isDecendant(edge.v, id5);
          const d2 = isDecendant(edge.w, id5);
          if (d1 ^ d2) {
            log$1.warn("Edge: ", edge, " leaves cluster ", id5);
            log$1.warn("Decendants of XXX ", id5, ": ", decendants[id5]);
            clusterDb[id5].externalConnections = true;
          }
        }
      });
    } else {
      log$1.debug("Not a cluster ", id5, decendants);
    }
  });
  graph.edges().forEach(function(e) {
    const edge = graph.edge(e);
    log$1.warn("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(e));
    log$1.warn("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(graph.edge(e)));
    let v2 = e.v;
    let w2 = e.w;
    log$1.warn(
      "Fix XXX",
      clusterDb,
      "ids:",
      e.v,
      e.w,
      "Translateing: ",
      clusterDb[e.v],
      " --- ",
      clusterDb[e.w]
    );
    if (clusterDb[e.v] && clusterDb[e.w] && clusterDb[e.v] === clusterDb[e.w]) {
      log$1.warn("Fixing and trixing link to self - removing XXX", e.v, e.w, e.name);
      log$1.warn("Fixing and trixing - removing XXX", e.v, e.w, e.name);
      v2 = getAnchorId(e.v);
      w2 = getAnchorId(e.w);
      graph.removeEdge(e.v, e.w, e.name);
      const specialId = e.w + "---" + e.v;
      graph.setNode(specialId, {
        domId: specialId,
        id: specialId,
        labelStyle: "",
        labelText: edge.label,
        padding: 0,
        shape: "labelRect",
        style: ""
      });
      const edge1 = JSON.parse(JSON.stringify(edge));
      const edge2 = JSON.parse(JSON.stringify(edge));
      edge1.label = "";
      edge1.arrowTypeEnd = "none";
      edge2.label = "";
      edge1.fromCluster = e.v;
      edge2.toCluster = e.v;
      graph.setEdge(v2, specialId, edge1, e.name + "-cyclic-special");
      graph.setEdge(specialId, w2, edge2, e.name + "-cyclic-special");
    } else if (clusterDb[e.v] || clusterDb[e.w]) {
      log$1.warn("Fixing and trixing - removing XXX", e.v, e.w, e.name);
      v2 = getAnchorId(e.v);
      w2 = getAnchorId(e.w);
      graph.removeEdge(e.v, e.w, e.name);
      if (v2 !== e.v)
        edge.fromCluster = e.v;
      if (w2 !== e.w)
        edge.toCluster = e.w;
      log$1.warn("Fix Replacing with XXX", v2, w2, e.name);
      graph.setEdge(v2, w2, edge, e.name);
    }
  });
  log$1.warn("Adjusted Graph", import_graphlib.default.json.write(graph));
  extractor(graph, 0);
  log$1.trace(clusterDb);
};
var extractor = (graph, depth) => {
  log$1.warn("extractor - ", depth, import_graphlib.default.json.write(graph), graph.children("D"));
  if (depth > 10) {
    log$1.error("Bailing out");
    return;
  }
  let nodes = graph.nodes();
  let hasChildren = false;
  for (let i = 0; i < nodes.length; i++) {
    const node2 = nodes[i];
    const children4 = graph.children(node2);
    hasChildren = hasChildren || children4.length > 0;
  }
  if (!hasChildren) {
    log$1.debug("Done, no node has children", graph.nodes());
    return;
  }
  log$1.debug("Nodes = ", nodes, depth);
  for (let i = 0; i < nodes.length; i++) {
    const node2 = nodes[i];
    log$1.debug(
      "Extracting node",
      node2,
      clusterDb,
      clusterDb[node2] && !clusterDb[node2].externalConnections,
      !graph.parent(node2),
      graph.node(node2),
      graph.children("D"),
      " Depth ",
      depth
    );
    if (!clusterDb[node2]) {
      log$1.debug("Not a cluster", node2, depth);
    } else if (!clusterDb[node2].externalConnections && graph.children(node2) && graph.children(node2).length > 0) {
      log$1.warn(
        "Cluster without external connections, without a parent and with children",
        node2,
        depth
      );
      const graphSettings = graph.graph();
      let dir = graphSettings.rankdir === "TB" ? "LR" : "TB";
      if (clusterDb[node2]) {
        if (clusterDb[node2].clusterData && clusterDb[node2].clusterData.dir) {
          dir = clusterDb[node2].clusterData.dir;
          log$1.warn("Fixing dir", clusterDb[node2].clusterData.dir, dir);
        }
      }
      const clusterGraph = new import_graphlib.default.Graph({
        multigraph: true,
        compound: true
      }).setGraph({
        rankdir: dir,
        nodesep: 50,
        ranksep: 50,
        marginx: 8,
        marginy: 8
      }).setDefaultEdgeLabel(function() {
        return {};
      });
      log$1.warn("Old graph before copy", import_graphlib.default.json.write(graph));
      copy6(node2, graph, clusterGraph, node2);
      graph.setNode(node2, {
        clusterNode: true,
        id: node2,
        clusterData: clusterDb[node2].clusterData,
        labelText: clusterDb[node2].labelText,
        graph: clusterGraph
      });
      log$1.warn("New graph after copy node: (", node2, ")", import_graphlib.default.json.write(clusterGraph));
      log$1.debug("Old graph after copy", import_graphlib.default.json.write(graph));
    } else {
      log$1.warn(
        "Cluster ** ",
        node2,
        " **not meeting the criteria !externalConnections:",
        !clusterDb[node2].externalConnections,
        " no parent: ",
        !graph.parent(node2),
        " children ",
        graph.children(node2) && graph.children(node2).length > 0,
        graph.children("D"),
        depth
      );
      log$1.debug(clusterDb);
    }
  }
  nodes = graph.nodes();
  log$1.warn("New list of nodes", nodes);
  for (let i = 0; i < nodes.length; i++) {
    const node2 = nodes[i];
    const data = graph.node(node2);
    log$1.warn(" Now next level", node2, data);
    if (data.clusterNode) {
      extractor(data.graph, depth + 1);
    }
  }
};
var sorter = (graph, nodes) => {
  if (nodes.length === 0)
    return [];
  let result = Object.assign(nodes);
  nodes.forEach((node2) => {
    const children4 = graph.children(node2);
    const sorted = sorter(graph, children4);
    result = result.concat(sorted);
  });
  return result;
};
var sortNodesByHierarchy = (graph) => sorter(graph, graph.children());
function intersectNode(node2, point22) {
  return node2.intersect(point22);
}
function intersectEllipse(node2, rx, ry, point22) {
  var cx = node2.x;
  var cy = node2.y;
  var px = cx - point22.x;
  var py = cy - point22.y;
  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);
  var dx = Math.abs(rx * ry * px / det);
  if (point22.x < cx) {
    dx = -dx;
  }
  var dy = Math.abs(rx * ry * py / det);
  if (point22.y < cy) {
    dy = -dy;
  }
  return { x: cx + dx, y: cy + dy };
}
function intersectCircle(node2, rx, point22) {
  return intersectEllipse(node2, rx, rx, point22);
}
function intersectLine(p1, p2, q1, q2) {
  var a1, a22, b15, b25, c1, c22;
  var r1, r2, r3, r4;
  var denom, offset, num;
  var x7, y7;
  a1 = p2.y - p1.y;
  b15 = p1.x - p2.x;
  c1 = p2.x * p1.y - p1.x * p2.y;
  r3 = a1 * q1.x + b15 * q1.y + c1;
  r4 = a1 * q2.x + b15 * q2.y + c1;
  if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {
    return;
  }
  a22 = q2.y - q1.y;
  b25 = q1.x - q2.x;
  c22 = q2.x * q1.y - q1.x * q2.y;
  r1 = a22 * p1.x + b25 * p1.y + c22;
  r2 = a22 * p2.x + b25 * p2.y + c22;
  if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {
    return;
  }
  denom = a1 * b25 - a22 * b15;
  if (denom === 0) {
    return;
  }
  offset = Math.abs(denom / 2);
  num = b15 * c22 - b25 * c1;
  x7 = num < 0 ? (num - offset) / denom : (num + offset) / denom;
  num = a22 * c1 - a1 * c22;
  y7 = num < 0 ? (num - offset) / denom : (num + offset) / denom;
  return { x: x7, y: y7 };
}
function sameSign(r1, r2) {
  return r1 * r2 > 0;
}
function intersectPolygon(node2, polyPoints, point22) {
  var x13 = node2.x;
  var y12 = node2.y;
  var intersections = [];
  var minX = Number.POSITIVE_INFINITY;
  var minY = Number.POSITIVE_INFINITY;
  if (typeof polyPoints.forEach === "function") {
    polyPoints.forEach(function(entry) {
      minX = Math.min(minX, entry.x);
      minY = Math.min(minY, entry.y);
    });
  } else {
    minX = Math.min(minX, polyPoints.x);
    minY = Math.min(minY, polyPoints.y);
  }
  var left3 = x13 - node2.width / 2 - minX;
  var top3 = y12 - node2.height / 2 - minY;
  for (var i = 0; i < polyPoints.length; i++) {
    var p1 = polyPoints[i];
    var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];
    var intersect22 = intersectLine(
      node2,
      point22,
      { x: left3 + p1.x, y: top3 + p1.y },
      { x: left3 + p2.x, y: top3 + p2.y }
    );
    if (intersect22) {
      intersections.push(intersect22);
    }
  }
  if (!intersections.length) {
    return node2;
  }
  if (intersections.length > 1) {
    intersections.sort(function(p, q) {
      var pdx = p.x - point22.x;
      var pdy = p.y - point22.y;
      var distp = Math.sqrt(pdx * pdx + pdy * pdy);
      var qdx = q.x - point22.x;
      var qdy = q.y - point22.y;
      var distq = Math.sqrt(qdx * qdx + qdy * qdy);
      return distp < distq ? -1 : distp === distq ? 0 : 1;
    });
  }
  return intersections[0];
}
var intersectRect = (node2, point22) => {
  var x7 = node2.x;
  var y7 = node2.y;
  var dx = point22.x - x7;
  var dy = point22.y - y7;
  var w2 = node2.width / 2;
  var h = node2.height / 2;
  var sx, sy;
  if (Math.abs(dy) * w2 > Math.abs(dx) * h) {
    if (dy < 0) {
      h = -h;
    }
    sx = dy === 0 ? 0 : h * dx / dy;
    sy = h;
  } else {
    if (dx < 0) {
      w2 = -w2;
    }
    sx = w2;
    sy = dx === 0 ? 0 : w2 * dy / dx;
  }
  return { x: x7 + sx, y: y7 + sy };
};
var intersect3 = {
  node: intersectNode,
  circle: intersectCircle,
  ellipse: intersectEllipse,
  polygon: intersectPolygon,
  rect: intersectRect
};
var note = (parent, node2) => {
  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node2, "node " + node2.classes, true);
  log$1.info("Classes = ", node2.classes);
  const rect2 = shapeSvg.insert("rect", ":first-child");
  rect2.attr("rx", node2.rx).attr("ry", node2.ry).attr("x", -bbox.width / 2 - halfPadding).attr("y", -bbox.height / 2 - halfPadding).attr("width", bbox.width + node2.padding).attr("height", bbox.height + node2.padding);
  updateNodeBounds(node2, rect2);
  node2.intersect = function(point22) {
    return intersect3.rect(node2, point22);
  };
  return shapeSvg;
};
var question$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const w2 = bbox.width + node2.padding;
  const h = bbox.height + node2.padding;
  const s3 = w2 + h;
  const points = [
    { x: s3 / 2, y: 0 },
    { x: s3, y: -s3 / 2 },
    { x: s3 / 2, y: -s3 },
    { x: 0, y: -s3 / 2 }
  ];
  log$1.info("Question main (Circle)");
  const questionElem = insertPolygonShape$1(shapeSvg, s3, s3, points);
  questionElem.attr("style", node2.style);
  updateNodeBounds(node2, questionElem);
  node2.intersect = function(point22) {
    log$1.warn("Intersect called");
    return intersect3.polygon(node2, points, point22);
  };
  return shapeSvg;
};
var choice = (parent, node2) => {
  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node2.domId || node2.id);
  const s3 = 28;
  const points = [
    { x: 0, y: s3 / 2 },
    { x: s3 / 2, y: 0 },
    { x: 0, y: -s3 / 2 },
    { x: -s3 / 2, y: 0 }
  ];
  const choice2 = shapeSvg.insert("polygon", ":first-child").attr(
    "points",
    points.map(function(d) {
      return d.x + "," + d.y;
    }).join(" ")
  );
  choice2.attr("class", "state-start").attr("r", 7).attr("width", 28).attr("height", 28);
  node2.width = 28;
  node2.height = 28;
  node2.intersect = function(point22) {
    return intersect3.circle(node2, 14, point22);
  };
  return shapeSvg;
};
var hexagon$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const f2 = 4;
  const h = bbox.height + node2.padding;
  const m = h / f2;
  const w2 = bbox.width + 2 * m + node2.padding;
  const points = [
    { x: m, y: 0 },
    { x: w2 - m, y: 0 },
    { x: w2, y: -h / 2 },
    { x: w2 - m, y: -h },
    { x: m, y: -h },
    { x: 0, y: -h / 2 }
  ];
  const hex7 = insertPolygonShape$1(shapeSvg, w2, h, points);
  hex7.attr("style", node2.style);
  updateNodeBounds(node2, hex7);
  node2.intersect = function(point22) {
    return intersect3.polygon(node2, points, point22);
  };
  return shapeSvg;
};
var rect_left_inv_arrow$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const w2 = bbox.width + node2.padding;
  const h = bbox.height + node2.padding;
  const points = [
    { x: -h / 2, y: 0 },
    { x: w2, y: 0 },
    { x: w2, y: -h },
    { x: -h / 2, y: -h },
    { x: 0, y: -h / 2 }
  ];
  const el = insertPolygonShape$1(shapeSvg, w2, h, points);
  el.attr("style", node2.style);
  node2.width = w2 + h;
  node2.height = h;
  node2.intersect = function(point22) {
    return intersect3.polygon(node2, points, point22);
  };
  return shapeSvg;
};
var lean_right$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const w2 = bbox.width + node2.padding;
  const h = bbox.height + node2.padding;
  const points = [
    { x: -2 * h / 6, y: 0 },
    { x: w2 - h / 6, y: 0 },
    { x: w2 + 2 * h / 6, y: -h },
    { x: h / 6, y: -h }
  ];
  const el = insertPolygonShape$1(shapeSvg, w2, h, points);
  el.attr("style", node2.style);
  updateNodeBounds(node2, el);
  node2.intersect = function(point22) {
    return intersect3.polygon(node2, points, point22);
  };
  return shapeSvg;
};
var lean_left$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const w2 = bbox.width + node2.padding;
  const h = bbox.height + node2.padding;
  const points = [
    { x: 2 * h / 6, y: 0 },
    { x: w2 + h / 6, y: 0 },
    { x: w2 - 2 * h / 6, y: -h },
    { x: -h / 6, y: -h }
  ];
  const el = insertPolygonShape$1(shapeSvg, w2, h, points);
  el.attr("style", node2.style);
  updateNodeBounds(node2, el);
  node2.intersect = function(point22) {
    return intersect3.polygon(node2, points, point22);
  };
  return shapeSvg;
};
var trapezoid$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const w2 = bbox.width + node2.padding;
  const h = bbox.height + node2.padding;
  const points = [
    { x: -2 * h / 6, y: 0 },
    { x: w2 + 2 * h / 6, y: 0 },
    { x: w2 - h / 6, y: -h },
    { x: h / 6, y: -h }
  ];
  const el = insertPolygonShape$1(shapeSvg, w2, h, points);
  el.attr("style", node2.style);
  updateNodeBounds(node2, el);
  node2.intersect = function(point22) {
    return intersect3.polygon(node2, points, point22);
  };
  return shapeSvg;
};
var inv_trapezoid$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const w2 = bbox.width + node2.padding;
  const h = bbox.height + node2.padding;
  const points = [
    { x: h / 6, y: 0 },
    { x: w2 - h / 6, y: 0 },
    { x: w2 + 2 * h / 6, y: -h },
    { x: -2 * h / 6, y: -h }
  ];
  const el = insertPolygonShape$1(shapeSvg, w2, h, points);
  el.attr("style", node2.style);
  updateNodeBounds(node2, el);
  node2.intersect = function(point22) {
    return intersect3.polygon(node2, points, point22);
  };
  return shapeSvg;
};
var rect_right_inv_arrow$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const w2 = bbox.width + node2.padding;
  const h = bbox.height + node2.padding;
  const points = [
    { x: 0, y: 0 },
    { x: w2 + h / 2, y: 0 },
    { x: w2, y: -h / 2 },
    { x: w2 + h / 2, y: -h },
    { x: 0, y: -h }
  ];
  const el = insertPolygonShape$1(shapeSvg, w2, h, points);
  el.attr("style", node2.style);
  updateNodeBounds(node2, el);
  node2.intersect = function(point22) {
    return intersect3.polygon(node2, points, point22);
  };
  return shapeSvg;
};
var cylinder$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const w2 = bbox.width + node2.padding;
  const rx = w2 / 2;
  const ry = rx / (2.5 + w2 / 50);
  const h = bbox.height + ry + node2.padding;
  const shape = "M 0," + ry + " a " + rx + "," + ry + " 0,0,0 " + w2 + " 0 a " + rx + "," + ry + " 0,0,0 " + -w2 + " 0 l 0," + h + " a " + rx + "," + ry + " 0,0,0 " + w2 + " 0 l 0," + -h;
  const el = shapeSvg.attr("label-offset-y", ry).insert("path", ":first-child").attr("style", node2.style).attr("d", shape).attr("transform", "translate(" + -w2 / 2 + "," + -(h / 2 + ry) + ")");
  updateNodeBounds(node2, el);
  node2.intersect = function(point22) {
    const pos = intersect3.rect(node2, point22);
    const x7 = pos.x - node2.x;
    if (rx != 0 && (Math.abs(x7) < node2.width / 2 || Math.abs(x7) == node2.width / 2 && Math.abs(pos.y - node2.y) > node2.height / 2 - ry)) {
      let y7 = ry * ry * (1 - x7 * x7 / (rx * rx));
      if (y7 != 0)
        y7 = Math.sqrt(y7);
      y7 = ry - y7;
      if (point22.y - node2.y > 0)
        y7 = -y7;
      pos.y += y7;
    }
    return pos;
  };
  return shapeSvg;
};
var rect$1 = (parent, node2) => {
  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node2, "node " + node2.classes, true);
  log$1.trace("Classes = ", node2.classes);
  const rect2 = shapeSvg.insert("rect", ":first-child");
  const totalWidth = bbox.width + node2.padding;
  const totalHeight = bbox.height + node2.padding;
  rect2.attr("class", "basic label-container").attr("style", node2.style).attr("rx", node2.rx).attr("ry", node2.ry).attr("x", -bbox.width / 2 - halfPadding).attr("y", -bbox.height / 2 - halfPadding).attr("width", totalWidth).attr("height", totalHeight);
  if (node2.props) {
    const propKeys = new Set(Object.keys(node2.props));
    if (node2.props.borders) {
      applyNodePropertyBorders(rect2, node2.props.borders, totalWidth, totalHeight);
      propKeys.delete("borders");
    }
    propKeys.forEach((propKey) => {
      log$1.warn(`Unknown node property ${propKey}`);
    });
  }
  updateNodeBounds(node2, rect2);
  node2.intersect = function(point22) {
    return intersect3.rect(node2, point22);
  };
  return shapeSvg;
};
var labelRect = (parent, node2) => {
  const { shapeSvg } = labelHelper(parent, node2, "label", true);
  log$1.trace("Classes = ", node2.classes);
  const rect2 = shapeSvg.insert("rect", ":first-child");
  const totalWidth = 0;
  const totalHeight = 0;
  rect2.attr("width", totalWidth).attr("height", totalHeight);
  shapeSvg.attr("class", "label edgeLabel");
  if (node2.props) {
    const propKeys = new Set(Object.keys(node2.props));
    if (node2.props.borders) {
      applyNodePropertyBorders(rect2, node2.props.borders, totalWidth, totalHeight);
      propKeys.delete("borders");
    }
    propKeys.forEach((propKey) => {
      log$1.warn(`Unknown node property ${propKey}`);
    });
  }
  updateNodeBounds(node2, rect2);
  node2.intersect = function(point22) {
    return intersect3.rect(node2, point22);
  };
  return shapeSvg;
};
function applyNodePropertyBorders(rect2, borders, totalWidth, totalHeight) {
  const strokeDashArray = [];
  const addBorder = (length3) => {
    strokeDashArray.push(length3);
    strokeDashArray.push(0);
  };
  const skipBorder = (length3) => {
    strokeDashArray.push(0);
    strokeDashArray.push(length3);
  };
  if (borders.includes("t")) {
    log$1.debug("add top border");
    addBorder(totalWidth);
  } else {
    skipBorder(totalWidth);
  }
  if (borders.includes("r")) {
    log$1.debug("add right border");
    addBorder(totalHeight);
  } else {
    skipBorder(totalHeight);
  }
  if (borders.includes("b")) {
    log$1.debug("add bottom border");
    addBorder(totalWidth);
  } else {
    skipBorder(totalWidth);
  }
  if (borders.includes("l")) {
    log$1.debug("add left border");
    addBorder(totalHeight);
  } else {
    skipBorder(totalHeight);
  }
  rect2.attr("stroke-dasharray", strokeDashArray.join(" "));
}
var rectWithTitle = (parent, node2) => {
  let classes2;
  if (!node2.classes) {
    classes2 = "node default";
  } else {
    classes2 = "node " + node2.classes;
  }
  const shapeSvg = parent.insert("g").attr("class", classes2).attr("id", node2.domId || node2.id);
  const rect2 = shapeSvg.insert("rect", ":first-child");
  const innerLine = shapeSvg.insert("line");
  const label = shapeSvg.insert("g").attr("class", "label");
  const text2 = node2.labelText.flat ? node2.labelText.flat() : node2.labelText;
  let title2 = "";
  if (typeof text2 === "object") {
    title2 = text2[0];
  } else {
    title2 = text2;
  }
  log$1.info("Label text abc79", title2, text2, typeof text2 === "object");
  const text3 = label.node().appendChild(createLabel(title2, node2.labelStyle, true, true));
  let bbox = { width: 0, height: 0 };
  if (evaluate(getConfig$1().flowchart.htmlLabels)) {
    const div = text3.children[0];
    const dv = select_default5(text3);
    bbox = div.getBoundingClientRect();
    dv.attr("width", bbox.width);
    dv.attr("height", bbox.height);
  }
  log$1.info("Text 2", text2);
  const textRows = text2.slice(1, text2.length);
  let titleBox = text3.getBBox();
  const descr = label.node().appendChild(
    createLabel(textRows.join ? textRows.join("<br/>") : textRows, node2.labelStyle, true, true)
  );
  if (evaluate(getConfig$1().flowchart.htmlLabels)) {
    const div = descr.children[0];
    const dv = select_default5(descr);
    bbox = div.getBoundingClientRect();
    dv.attr("width", bbox.width);
    dv.attr("height", bbox.height);
  }
  const halfPadding = node2.padding / 2;
  select_default5(descr).attr(
    "transform",
    "translate( " + (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) + ", " + (titleBox.height + halfPadding + 5) + ")"
  );
  select_default5(text3).attr(
    "transform",
    "translate( " + (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) + ", " + 0 + ")"
  );
  bbox = label.node().getBBox();
  label.attr(
    "transform",
    "translate(" + -bbox.width / 2 + ", " + (-bbox.height / 2 - halfPadding + 3) + ")"
  );
  rect2.attr("class", "outer title-state").attr("x", -bbox.width / 2 - halfPadding).attr("y", -bbox.height / 2 - halfPadding).attr("width", bbox.width + node2.padding).attr("height", bbox.height + node2.padding);
  innerLine.attr("class", "divider").attr("x1", -bbox.width / 2 - halfPadding).attr("x2", bbox.width / 2 + halfPadding).attr("y1", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding).attr("y2", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);
  updateNodeBounds(node2, rect2);
  node2.intersect = function(point22) {
    return intersect3.rect(node2, point22);
  };
  return shapeSvg;
};
var stadium$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const h = bbox.height + node2.padding;
  const w2 = bbox.width + h / 4 + node2.padding;
  const rect2 = shapeSvg.insert("rect", ":first-child").attr("style", node2.style).attr("rx", h / 2).attr("ry", h / 2).attr("x", -w2 / 2).attr("y", -h / 2).attr("width", w2).attr("height", h);
  updateNodeBounds(node2, rect2);
  node2.intersect = function(point22) {
    return intersect3.rect(node2, point22);
  };
  return shapeSvg;
};
var circle3 = (parent, node2) => {
  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node2, void 0, true);
  const circle22 = shapeSvg.insert("circle", ":first-child");
  circle22.attr("style", node2.style).attr("rx", node2.rx).attr("ry", node2.ry).attr("r", bbox.width / 2 + halfPadding).attr("width", bbox.width + node2.padding).attr("height", bbox.height + node2.padding);
  log$1.info("Circle main");
  updateNodeBounds(node2, circle22);
  node2.intersect = function(point22) {
    log$1.info("Circle intersect", node2, bbox.width / 2 + halfPadding, point22);
    return intersect3.circle(node2, bbox.width / 2 + halfPadding, point22);
  };
  return shapeSvg;
};
var doublecircle = (parent, node2) => {
  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node2, void 0, true);
  const gap = 5;
  const circleGroup = shapeSvg.insert("g", ":first-child");
  const outerCircle = circleGroup.insert("circle");
  const innerCircle = circleGroup.insert("circle");
  outerCircle.attr("style", node2.style).attr("rx", node2.rx).attr("ry", node2.ry).attr("r", bbox.width / 2 + halfPadding + gap).attr("width", bbox.width + node2.padding + gap * 2).attr("height", bbox.height + node2.padding + gap * 2);
  innerCircle.attr("style", node2.style).attr("rx", node2.rx).attr("ry", node2.ry).attr("r", bbox.width / 2 + halfPadding).attr("width", bbox.width + node2.padding).attr("height", bbox.height + node2.padding);
  log$1.info("DoubleCircle main");
  updateNodeBounds(node2, outerCircle);
  node2.intersect = function(point22) {
    log$1.info("DoubleCircle intersect", node2, bbox.width / 2 + halfPadding + gap, point22);
    return intersect3.circle(node2, bbox.width / 2 + halfPadding + gap, point22);
  };
  return shapeSvg;
};
var subroutine$1 = (parent, node2) => {
  const { shapeSvg, bbox } = labelHelper(parent, node2, void 0, true);
  const w2 = bbox.width + node2.padding;
  const h = bbox.height + node2.padding;
  const points = [
    { x: 0, y: 0 },
    { x: w2, y: 0 },
    { x: w2, y: -h },
    { x: 0, y: -h },
    { x: 0, y: 0 },
    { x: -8, y: 0 },
    { x: w2 + 8, y: 0 },
    { x: w2 + 8, y: -h },
    { x: -8, y: -h },
    { x: -8, y: 0 }
  ];
  const el = insertPolygonShape$1(shapeSvg, w2, h, points);
  el.attr("style", node2.style);
  updateNodeBounds(node2, el);
  node2.intersect = function(point22) {
    return intersect3.polygon(node2, points, point22);
  };
  return shapeSvg;
};
var start5 = (parent, node2) => {
  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node2.domId || node2.id);
  const circle22 = shapeSvg.insert("circle", ":first-child");
  circle22.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);
  updateNodeBounds(node2, circle22);
  node2.intersect = function(point22) {
    return intersect3.circle(node2, 7, point22);
  };
  return shapeSvg;
};
var forkJoin = (parent, node2, dir) => {
  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node2.domId || node2.id);
  let width2 = 70;
  let height2 = 10;
  if (dir === "LR") {
    width2 = 10;
    height2 = 70;
  }
  const shape = shapeSvg.append("rect").attr("x", -1 * width2 / 2).attr("y", -1 * height2 / 2).attr("width", width2).attr("height", height2).attr("class", "fork-join");
  updateNodeBounds(node2, shape);
  node2.height = node2.height + node2.padding / 2;
  node2.width = node2.width + node2.padding / 2;
  node2.intersect = function(point22) {
    return intersect3.rect(node2, point22);
  };
  return shapeSvg;
};
var end = (parent, node2) => {
  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node2.domId || node2.id);
  const innerCircle = shapeSvg.insert("circle", ":first-child");
  const circle22 = shapeSvg.insert("circle", ":first-child");
  circle22.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);
  innerCircle.attr("class", "state-end").attr("r", 5).attr("width", 10).attr("height", 10);
  updateNodeBounds(node2, circle22);
  node2.intersect = function(point22) {
    return intersect3.circle(node2, 7, point22);
  };
  return shapeSvg;
};
var class_box = (parent, node2) => {
  const halfPadding = node2.padding / 2;
  const rowPadding = 4;
  const lineHeight = 8;
  let classes2;
  if (!node2.classes) {
    classes2 = "node default";
  } else {
    classes2 = "node " + node2.classes;
  }
  const shapeSvg = parent.insert("g").attr("class", classes2).attr("id", node2.domId || node2.id);
  const rect2 = shapeSvg.insert("rect", ":first-child");
  const topLine = shapeSvg.insert("line");
  const bottomLine = shapeSvg.insert("line");
  let maxWidth = 0;
  let maxHeight = rowPadding;
  const labelContainer = shapeSvg.insert("g").attr("class", "label");
  let verticalPos = 0;
  const hasInterface = node2.classData.annotations && node2.classData.annotations[0];
  const interfaceLabelText = node2.classData.annotations[0] ? "\xAB" + node2.classData.annotations[0] + "\xBB" : "";
  const interfaceLabel = labelContainer.node().appendChild(createLabel(interfaceLabelText, node2.labelStyle, true, true));
  let interfaceBBox = interfaceLabel.getBBox();
  if (evaluate(getConfig$1().flowchart.htmlLabels)) {
    const div = interfaceLabel.children[0];
    const dv = select_default5(interfaceLabel);
    interfaceBBox = div.getBoundingClientRect();
    dv.attr("width", interfaceBBox.width);
    dv.attr("height", interfaceBBox.height);
  }
  if (node2.classData.annotations[0]) {
    maxHeight += interfaceBBox.height + rowPadding;
    maxWidth += interfaceBBox.width;
  }
  let classTitleString = node2.classData.id;
  if (node2.classData.type !== void 0 && node2.classData.type !== "") {
    if (getConfig$1().flowchart.htmlLabels) {
      classTitleString += "&lt;" + node2.classData.type + "&gt;";
    } else {
      classTitleString += "<" + node2.classData.type + ">";
    }
  }
  const classTitleLabel = labelContainer.node().appendChild(createLabel(classTitleString, node2.labelStyle, true, true));
  select_default5(classTitleLabel).attr("class", "classTitle");
  let classTitleBBox = classTitleLabel.getBBox();
  if (evaluate(getConfig$1().flowchart.htmlLabels)) {
    const div = classTitleLabel.children[0];
    const dv = select_default5(classTitleLabel);
    classTitleBBox = div.getBoundingClientRect();
    dv.attr("width", classTitleBBox.width);
    dv.attr("height", classTitleBBox.height);
  }
  maxHeight += classTitleBBox.height + rowPadding;
  if (classTitleBBox.width > maxWidth) {
    maxWidth = classTitleBBox.width;
  }
  const classAttributes = [];
  node2.classData.members.forEach((str) => {
    const parsedInfo = parseMember(str);
    let parsedText = parsedInfo.displayText;
    if (getConfig$1().flowchart.htmlLabels) {
      parsedText = parsedText.replace(/</g, "&lt;").replace(/>/g, "&gt;");
    }
    const lbl = labelContainer.node().appendChild(
      createLabel(
        parsedText,
        parsedInfo.cssStyle ? parsedInfo.cssStyle : node2.labelStyle,
        true,
        true
      )
    );
    let bbox = lbl.getBBox();
    if (evaluate(getConfig$1().flowchart.htmlLabels)) {
      const div = lbl.children[0];
      const dv = select_default5(lbl);
      bbox = div.getBoundingClientRect();
      dv.attr("width", bbox.width);
      dv.attr("height", bbox.height);
    }
    if (bbox.width > maxWidth) {
      maxWidth = bbox.width;
    }
    maxHeight += bbox.height + rowPadding;
    classAttributes.push(lbl);
  });
  maxHeight += lineHeight;
  const classMethods = [];
  node2.classData.methods.forEach((str) => {
    const parsedInfo = parseMember(str);
    let displayText = parsedInfo.displayText;
    if (getConfig$1().flowchart.htmlLabels) {
      displayText = displayText.replace(/</g, "&lt;").replace(/>/g, "&gt;");
    }
    const lbl = labelContainer.node().appendChild(
      createLabel(
        displayText,
        parsedInfo.cssStyle ? parsedInfo.cssStyle : node2.labelStyle,
        true,
        true
      )
    );
    let bbox = lbl.getBBox();
    if (evaluate(getConfig$1().flowchart.htmlLabels)) {
      const div = lbl.children[0];
      const dv = select_default5(lbl);
      bbox = div.getBoundingClientRect();
      dv.attr("width", bbox.width);
      dv.attr("height", bbox.height);
    }
    if (bbox.width > maxWidth) {
      maxWidth = bbox.width;
    }
    maxHeight += bbox.height + rowPadding;
    classMethods.push(lbl);
  });
  maxHeight += lineHeight;
  if (hasInterface) {
    let diffX2 = (maxWidth - interfaceBBox.width) / 2;
    select_default5(interfaceLabel).attr(
      "transform",
      "translate( " + (-1 * maxWidth / 2 + diffX2) + ", " + -1 * maxHeight / 2 + ")"
    );
    verticalPos = interfaceBBox.height + rowPadding;
  }
  let diffX = (maxWidth - classTitleBBox.width) / 2;
  select_default5(classTitleLabel).attr(
    "transform",
    "translate( " + (-1 * maxWidth / 2 + diffX) + ", " + (-1 * maxHeight / 2 + verticalPos) + ")"
  );
  verticalPos += classTitleBBox.height + rowPadding;
  topLine.attr("class", "divider").attr("x1", -maxWidth / 2 - halfPadding).attr("x2", maxWidth / 2 + halfPadding).attr("y1", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr("y2", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);
  verticalPos += lineHeight;
  classAttributes.forEach((lbl) => {
    select_default5(lbl).attr(
      "transform",
      "translate( " + -maxWidth / 2 + ", " + (-1 * maxHeight / 2 + verticalPos + lineHeight / 2) + ")"
    );
    verticalPos += classTitleBBox.height + rowPadding;
  });
  verticalPos += lineHeight;
  bottomLine.attr("class", "divider").attr("x1", -maxWidth / 2 - halfPadding).attr("x2", maxWidth / 2 + halfPadding).attr("y1", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr("y2", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);
  verticalPos += lineHeight;
  classMethods.forEach((lbl) => {
    select_default5(lbl).attr(
      "transform",
      "translate( " + -maxWidth / 2 + ", " + (-1 * maxHeight / 2 + verticalPos) + ")"
    );
    verticalPos += classTitleBBox.height + rowPadding;
  });
  rect2.attr("class", "outer title-state").attr("x", -maxWidth / 2 - halfPadding).attr("y", -(maxHeight / 2) - halfPadding).attr("width", maxWidth + node2.padding).attr("height", maxHeight + node2.padding);
  updateNodeBounds(node2, rect2);
  node2.intersect = function(point22) {
    return intersect3.rect(node2, point22);
  };
  return shapeSvg;
};
var shapes$1 = {
  question: question$1,
  rect: rect$1,
  labelRect,
  rectWithTitle,
  choice,
  circle: circle3,
  doublecircle,
  stadium: stadium$1,
  hexagon: hexagon$1,
  rect_left_inv_arrow: rect_left_inv_arrow$1,
  lean_right: lean_right$1,
  lean_left: lean_left$1,
  trapezoid: trapezoid$1,
  inv_trapezoid: inv_trapezoid$1,
  rect_right_inv_arrow: rect_right_inv_arrow$1,
  cylinder: cylinder$1,
  start: start5,
  end,
  note,
  subroutine: subroutine$1,
  fork: forkJoin,
  join: forkJoin,
  class_box
};
var nodeElems = {};
var insertNode = (elem, node2, dir) => {
  let newEl;
  let el;
  if (node2.link) {
    let target;
    if (getConfig$1().securityLevel === "sandbox") {
      target = "_top";
    } else if (node2.linkTarget) {
      target = node2.linkTarget || "_blank";
    }
    newEl = elem.insert("svg:a").attr("xlink:href", node2.link).attr("target", target);
    el = shapes$1[node2.shape](newEl, node2, dir);
  } else {
    el = shapes$1[node2.shape](elem, node2, dir);
    newEl = el;
  }
  if (node2.tooltip) {
    el.attr("title", node2.tooltip);
  }
  if (node2.class) {
    el.attr("class", "node default " + node2.class);
  }
  nodeElems[node2.id] = newEl;
  if (node2.haveCallback) {
    nodeElems[node2.id].attr("class", nodeElems[node2.id].attr("class") + " clickable");
  }
};
var setNodeElem = (elem, node2) => {
  nodeElems[node2.id] = elem;
};
var clear$a = () => {
  nodeElems = {};
};
var positionNode = (node2) => {
  const el = nodeElems[node2.id];
  log$1.trace(
    "Transforming node",
    node2.diff,
    node2,
    "translate(" + (node2.x - node2.width / 2 - 5) + ", " + node2.width / 2 + ")"
  );
  const padding2 = 8;
  const diff = node2.diff || 0;
  if (node2.clusterNode) {
    el.attr(
      "transform",
      "translate(" + (node2.x + diff - node2.width / 2) + ", " + (node2.y - node2.height / 2 - padding2) + ")"
    );
  } else {
    el.attr("transform", "translate(" + node2.x + ", " + node2.y + ")");
  }
  return diff;
};
var rect = (parent, node2) => {
  log$1.trace("Creating subgraph rect for ", node2.id, node2);
  const shapeSvg = parent.insert("g").attr("class", "cluster" + (node2.class ? " " + node2.class : "")).attr("id", node2.id);
  const rect2 = shapeSvg.insert("rect", ":first-child");
  const label = shapeSvg.insert("g").attr("class", "cluster-label");
  const text2 = label.node().appendChild(createLabel(node2.labelText, node2.labelStyle, void 0, true));
  let bbox = text2.getBBox();
  if (evaluate(getConfig$1().flowchart.htmlLabels)) {
    const div = text2.children[0];
    const dv = select_default5(text2);
    bbox = div.getBoundingClientRect();
    dv.attr("width", bbox.width);
    dv.attr("height", bbox.height);
  }
  const padding2 = 0 * node2.padding;
  const halfPadding = padding2 / 2;
  const width2 = node2.width <= bbox.width + padding2 ? bbox.width + padding2 : node2.width;
  if (node2.width <= bbox.width + padding2) {
    node2.diff = (bbox.width - node2.width) / 2 - node2.padding / 2;
  } else {
    node2.diff = -node2.padding / 2;
  }
  log$1.trace("Data ", node2, JSON.stringify(node2));
  rect2.attr("style", node2.style).attr("rx", node2.rx).attr("ry", node2.ry).attr("x", node2.x - width2 / 2).attr("y", node2.y - node2.height / 2 - halfPadding).attr("width", width2).attr("height", node2.height + padding2);
  label.attr(
    "transform",
    "translate(" + (node2.x - bbox.width / 2) + ", " + (node2.y - node2.height / 2 + node2.padding / 3) + ")"
  );
  const rectBox = rect2.node().getBBox();
  node2.width = rectBox.width;
  node2.height = rectBox.height;
  node2.intersect = function(point22) {
    return intersectRect(node2, point22);
  };
  return shapeSvg;
};
var noteGroup = (parent, node2) => {
  const shapeSvg = parent.insert("g").attr("class", "note-cluster").attr("id", node2.id);
  const rect2 = shapeSvg.insert("rect", ":first-child");
  const padding2 = 0 * node2.padding;
  const halfPadding = padding2 / 2;
  rect2.attr("rx", node2.rx).attr("ry", node2.ry).attr("x", node2.x - node2.width / 2 - halfPadding).attr("y", node2.y - node2.height / 2 - halfPadding).attr("width", node2.width + padding2).attr("height", node2.height + padding2).attr("fill", "none");
  const rectBox = rect2.node().getBBox();
  node2.width = rectBox.width;
  node2.height = rectBox.height;
  node2.intersect = function(point22) {
    return intersectRect(node2, point22);
  };
  return shapeSvg;
};
var roundedWithTitle = (parent, node2) => {
  const shapeSvg = parent.insert("g").attr("class", node2.classes).attr("id", node2.id);
  const rect2 = shapeSvg.insert("rect", ":first-child");
  const label = shapeSvg.insert("g").attr("class", "cluster-label");
  const innerRect = shapeSvg.append("rect");
  const text2 = label.node().appendChild(createLabel(node2.labelText, node2.labelStyle, void 0, true));
  let bbox = text2.getBBox();
  if (evaluate(getConfig$1().flowchart.htmlLabels)) {
    const div = text2.children[0];
    const dv = select_default5(text2);
    bbox = div.getBoundingClientRect();
    dv.attr("width", bbox.width);
    dv.attr("height", bbox.height);
  }
  bbox = text2.getBBox();
  const padding2 = 0 * node2.padding;
  const halfPadding = padding2 / 2;
  const width2 = node2.width <= bbox.width + node2.padding ? bbox.width + node2.padding : node2.width;
  if (node2.width <= bbox.width + node2.padding) {
    node2.diff = (bbox.width + node2.padding * 0 - node2.width) / 2;
  } else {
    node2.diff = -node2.padding / 2;
  }
  rect2.attr("class", "outer").attr("x", node2.x - width2 / 2 - halfPadding).attr("y", node2.y - node2.height / 2 - halfPadding).attr("width", width2 + padding2).attr("height", node2.height + padding2);
  innerRect.attr("class", "inner").attr("x", node2.x - width2 / 2 - halfPadding).attr("y", node2.y - node2.height / 2 - halfPadding + bbox.height - 1).attr("width", width2 + padding2).attr("height", node2.height + padding2 - bbox.height - 3);
  label.attr(
    "transform",
    "translate(" + (node2.x - bbox.width / 2) + ", " + (node2.y - node2.height / 2 - node2.padding / 3 + (evaluate(getConfig$1().flowchart.htmlLabels) ? 5 : 3)) + ")"
  );
  const rectBox = rect2.node().getBBox();
  node2.height = rectBox.height;
  node2.intersect = function(point22) {
    return intersectRect(node2, point22);
  };
  return shapeSvg;
};
var divider = (parent, node2) => {
  const shapeSvg = parent.insert("g").attr("class", node2.classes).attr("id", node2.id);
  const rect2 = shapeSvg.insert("rect", ":first-child");
  const padding2 = 0 * node2.padding;
  const halfPadding = padding2 / 2;
  rect2.attr("class", "divider").attr("x", node2.x - node2.width / 2 - halfPadding).attr("y", node2.y - node2.height / 2).attr("width", node2.width + padding2).attr("height", node2.height + padding2);
  const rectBox = rect2.node().getBBox();
  node2.width = rectBox.width;
  node2.height = rectBox.height;
  node2.diff = -node2.padding / 2;
  node2.intersect = function(point22) {
    return intersectRect(node2, point22);
  };
  return shapeSvg;
};
var shapes = { rect, roundedWithTitle, noteGroup, divider };
var clusterElems = {};
var insertCluster = (elem, node2) => {
  log$1.trace("Inserting cluster");
  const shape = node2.shape || "rect";
  clusterElems[node2.id] = shapes[shape](elem, node2);
};
var clear$9 = () => {
  clusterElems = {};
};
var edgeLabels = {};
var terminalLabels = {};
var clear$8 = () => {
  edgeLabels = {};
  terminalLabels = {};
};
var insertEdgeLabel = (elem, edge) => {
  const labelElement = createLabel(edge.label, edge.labelStyle);
  const edgeLabel = elem.insert("g").attr("class", "edgeLabel");
  const label = edgeLabel.insert("g").attr("class", "label");
  label.node().appendChild(labelElement);
  let bbox = labelElement.getBBox();
  if (evaluate(getConfig$1().flowchart.htmlLabels)) {
    const div = labelElement.children[0];
    const dv = select_default5(labelElement);
    bbox = div.getBoundingClientRect();
    dv.attr("width", bbox.width);
    dv.attr("height", bbox.height);
  }
  label.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");
  edgeLabels[edge.id] = edgeLabel;
  edge.width = bbox.width;
  edge.height = bbox.height;
  let fo;
  if (edge.startLabelLeft) {
    const startLabelElement = createLabel(edge.startLabelLeft, edge.labelStyle);
    const startEdgeLabelLeft = elem.insert("g").attr("class", "edgeTerminals");
    const inner = startEdgeLabelLeft.insert("g").attr("class", "inner");
    fo = inner.node().appendChild(startLabelElement);
    const slBox = startLabelElement.getBBox();
    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");
    if (!terminalLabels[edge.id]) {
      terminalLabels[edge.id] = {};
    }
    terminalLabels[edge.id].startLeft = startEdgeLabelLeft;
    setTerminalWidth(fo, edge.startLabelLeft);
  }
  if (edge.startLabelRight) {
    const startLabelElement = createLabel(edge.startLabelRight, edge.labelStyle);
    const startEdgeLabelRight = elem.insert("g").attr("class", "edgeTerminals");
    const inner = startEdgeLabelRight.insert("g").attr("class", "inner");
    fo = startEdgeLabelRight.node().appendChild(startLabelElement);
    inner.node().appendChild(startLabelElement);
    const slBox = startLabelElement.getBBox();
    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");
    if (!terminalLabels[edge.id]) {
      terminalLabels[edge.id] = {};
    }
    terminalLabels[edge.id].startRight = startEdgeLabelRight;
    setTerminalWidth(fo, edge.startLabelRight);
  }
  if (edge.endLabelLeft) {
    const endLabelElement = createLabel(edge.endLabelLeft, edge.labelStyle);
    const endEdgeLabelLeft = elem.insert("g").attr("class", "edgeTerminals");
    const inner = endEdgeLabelLeft.insert("g").attr("class", "inner");
    fo = inner.node().appendChild(endLabelElement);
    const slBox = endLabelElement.getBBox();
    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");
    endEdgeLabelLeft.node().appendChild(endLabelElement);
    if (!terminalLabels[edge.id]) {
      terminalLabels[edge.id] = {};
    }
    terminalLabels[edge.id].endLeft = endEdgeLabelLeft;
    setTerminalWidth(fo, edge.endLabelLeft);
  }
  if (edge.endLabelRight) {
    const endLabelElement = createLabel(edge.endLabelRight, edge.labelStyle);
    const endEdgeLabelRight = elem.insert("g").attr("class", "edgeTerminals");
    const inner = endEdgeLabelRight.insert("g").attr("class", "inner");
    fo = inner.node().appendChild(endLabelElement);
    const slBox = endLabelElement.getBBox();
    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");
    endEdgeLabelRight.node().appendChild(endLabelElement);
    if (!terminalLabels[edge.id]) {
      terminalLabels[edge.id] = {};
    }
    terminalLabels[edge.id].endRight = endEdgeLabelRight;
    setTerminalWidth(fo, edge.endLabelRight);
  }
};
function setTerminalWidth(fo, value) {
  if (getConfig$1().flowchart.htmlLabels && fo) {
    fo.style.width = value.length * 9 + "px";
    fo.style.height = "12px";
  }
}
var positionEdgeLabel = (edge, paths) => {
  log$1.info("Moving label abc78 ", edge.id, edge.label, edgeLabels[edge.id]);
  let path5 = paths.updatedPath ? paths.updatedPath : paths.originalPath;
  if (edge.label) {
    const el = edgeLabels[edge.id];
    let x7 = edge.x;
    let y7 = edge.y;
    if (path5) {
      const pos = utils.calcLabelPosition(path5);
      log$1.info("Moving label from (", x7, ",", y7, ") to (", pos.x, ",", pos.y, ") abc78");
    }
    el.attr("transform", "translate(" + x7 + ", " + y7 + ")");
  }
  if (edge.startLabelLeft) {
    const el = terminalLabels[edge.id].startLeft;
    let x7 = edge.x;
    let y7 = edge.y;
    if (path5) {
      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, "start_left", path5);
      x7 = pos.x;
      y7 = pos.y;
    }
    el.attr("transform", "translate(" + x7 + ", " + y7 + ")");
  }
  if (edge.startLabelRight) {
    const el = terminalLabels[edge.id].startRight;
    let x7 = edge.x;
    let y7 = edge.y;
    if (path5) {
      const pos = utils.calcTerminalLabelPosition(
        edge.arrowTypeStart ? 10 : 0,
        "start_right",
        path5
      );
      x7 = pos.x;
      y7 = pos.y;
    }
    el.attr("transform", "translate(" + x7 + ", " + y7 + ")");
  }
  if (edge.endLabelLeft) {
    const el = terminalLabels[edge.id].endLeft;
    let x7 = edge.x;
    let y7 = edge.y;
    if (path5) {
      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, "end_left", path5);
      x7 = pos.x;
      y7 = pos.y;
    }
    el.attr("transform", "translate(" + x7 + ", " + y7 + ")");
  }
  if (edge.endLabelRight) {
    const el = terminalLabels[edge.id].endRight;
    let x7 = edge.x;
    let y7 = edge.y;
    if (path5) {
      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, "end_right", path5);
      x7 = pos.x;
      y7 = pos.y;
    }
    el.attr("transform", "translate(" + x7 + ", " + y7 + ")");
  }
};
var outsideNode = (node2, point22) => {
  const x7 = node2.x;
  const y7 = node2.y;
  const dx = Math.abs(point22.x - x7);
  const dy = Math.abs(point22.y - y7);
  const w2 = node2.width / 2;
  const h = node2.height / 2;
  if (dx >= w2 || dy >= h) {
    return true;
  }
  return false;
};
var intersection5 = (node2, outsidePoint, insidePoint) => {
  log$1.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(outsidePoint)}
  insidePoint : ${JSON.stringify(insidePoint)}
  node        : x:${node2.x} y:${node2.y} w:${node2.width} h:${node2.height}`);
  const x7 = node2.x;
  const y7 = node2.y;
  const dx = Math.abs(x7 - insidePoint.x);
  const w2 = node2.width / 2;
  let r = insidePoint.x < outsidePoint.x ? w2 - dx : w2 + dx;
  const h = node2.height / 2;
  const Q = Math.abs(outsidePoint.y - insidePoint.y);
  const R = Math.abs(outsidePoint.x - insidePoint.x);
  if (Math.abs(y7 - outsidePoint.y) * w2 > Math.abs(x7 - outsidePoint.x) * h) {
    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y7 : y7 - h - outsidePoint.y;
    r = R * q / Q;
    const res = {
      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,
      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q
    };
    if (r === 0) {
      res.x = outsidePoint.x;
      res.y = outsidePoint.y;
    }
    if (R === 0) {
      res.x = outsidePoint.x;
    }
    if (Q === 0) {
      res.y = outsidePoint.y;
    }
    log$1.warn(`abc89 topp/bott calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);
    return res;
  } else {
    if (insidePoint.x < outsidePoint.x) {
      r = outsidePoint.x - w2 - x7;
    } else {
      r = x7 - w2 - outsidePoint.x;
    }
    let q = Q * r / R;
    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;
    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;
    log$1.warn(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, { _x, _y });
    if (r === 0) {
      _x = outsidePoint.x;
      _y = outsidePoint.y;
    }
    if (R === 0) {
      _x = outsidePoint.x;
    }
    if (Q === 0) {
      _y = outsidePoint.y;
    }
    return { x: _x, y: _y };
  }
};
var cutPathAtIntersect = (_points, boundryNode) => {
  log$1.warn("abc88 cutPathAtIntersect", _points, boundryNode);
  let points = [];
  let lastPointOutside = _points[0];
  let isInside = false;
  _points.forEach((point22) => {
    log$1.info("abc88 checking point", point22, boundryNode);
    if (!outsideNode(boundryNode, point22) && !isInside) {
      const inter = intersection5(boundryNode, lastPointOutside, point22);
      log$1.warn("abc88 inside", point22, lastPointOutside, inter);
      log$1.warn("abc88 intersection", inter);
      let pointPresent = false;
      points.forEach((p) => {
        pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;
      });
      if (!points.find((e) => e.x === inter.x && e.y === inter.y)) {
        points.push(inter);
      } else {
        log$1.warn("abc88 no intersect", inter, points);
      }
      isInside = true;
    } else {
      log$1.warn("abc88 outside", point22, lastPointOutside);
      lastPointOutside = point22;
      if (!isInside)
        points.push(point22);
    }
  });
  log$1.warn("abc88 returning points", points);
  return points;
};
var insertEdge = function(elem, e, edge, clusterDb2, diagramType, graph) {
  let points = edge.points;
  let pointsHasChanged = false;
  const tail = graph.node(e.v);
  var head2 = graph.node(e.w);
  log$1.info("abc88 InsertEdge: ", edge);
  if (head2.intersect && tail.intersect) {
    points = points.slice(1, edge.points.length - 1);
    points.unshift(tail.intersect(points[0]));
    log$1.info(
      "Last point",
      points[points.length - 1],
      head2,
      head2.intersect(points[points.length - 1])
    );
    points.push(head2.intersect(points[points.length - 1]));
  }
  if (edge.toCluster) {
    log$1.info("to cluster abc88", clusterDb2[edge.toCluster]);
    points = cutPathAtIntersect(edge.points, clusterDb2[edge.toCluster].node);
    pointsHasChanged = true;
  }
  if (edge.fromCluster) {
    log$1.info("from cluster abc88", clusterDb2[edge.fromCluster]);
    points = cutPathAtIntersect(points.reverse(), clusterDb2[edge.fromCluster].node).reverse();
    pointsHasChanged = true;
  }
  const lineData = points.filter((p) => !Number.isNaN(p.y));
  let curve;
  if (diagramType === "graph" || diagramType === "flowchart") {
    curve = edge.curve || basis_default5;
  } else {
    curve = basis_default5;
  }
  const lineFunction = line_default2().x(function(d) {
    return d.x;
  }).y(function(d) {
    return d.y;
  }).curve(curve);
  let strokeClasses;
  switch (edge.thickness) {
    case "normal":
      strokeClasses = "edge-thickness-normal";
      break;
    case "thick":
      strokeClasses = "edge-thickness-thick";
      break;
    case "invisible":
      strokeClasses = "edge-thickness-thick";
      break;
    default:
      strokeClasses = "";
  }
  switch (edge.pattern) {
    case "solid":
      strokeClasses += " edge-pattern-solid";
      break;
    case "dotted":
      strokeClasses += " edge-pattern-dotted";
      break;
    case "dashed":
      strokeClasses += " edge-pattern-dashed";
      break;
  }
  const svgPath = elem.append("path").attr("d", lineFunction(lineData)).attr("id", edge.id).attr("class", " " + strokeClasses + (edge.classes ? " " + edge.classes : "")).attr("style", edge.style);
  let url = "";
  if (getConfig$1().flowchart.arrowMarkerAbsolute || getConfig$1().state.arrowMarkerAbsolute) {
    url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
    url = url.replace(/\(/g, "\\(");
    url = url.replace(/\)/g, "\\)");
  }
  log$1.info("arrowTypeStart", edge.arrowTypeStart);
  log$1.info("arrowTypeEnd", edge.arrowTypeEnd);
  switch (edge.arrowTypeStart) {
    case "arrow_cross":
      svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-crossStart)");
      break;
    case "arrow_point":
      svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-pointStart)");
      break;
    case "arrow_barb":
      svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-barbStart)");
      break;
    case "arrow_circle":
      svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-circleStart)");
      break;
    case "aggregation":
      svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-aggregationStart)");
      break;
    case "extension":
      svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-extensionStart)");
      break;
    case "composition":
      svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-compositionStart)");
      break;
    case "dependency":
      svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-dependencyStart)");
      break;
    case "lollipop":
      svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-lollipopStart)");
      break;
  }
  switch (edge.arrowTypeEnd) {
    case "arrow_cross":
      svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-crossEnd)");
      break;
    case "arrow_point":
      svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-pointEnd)");
      break;
    case "arrow_barb":
      svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-barbEnd)");
      break;
    case "arrow_circle":
      svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-circleEnd)");
      break;
    case "aggregation":
      svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-aggregationEnd)");
      break;
    case "extension":
      svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-extensionEnd)");
      break;
    case "composition":
      svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-compositionEnd)");
      break;
    case "dependency":
      svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-dependencyEnd)");
      break;
    case "lollipop":
      svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-lollipopEnd)");
      break;
  }
  let paths = {};
  if (pointsHasChanged) {
    paths.updatedPath = points;
  }
  paths.originalPath = edge.points;
  return paths;
};
var recursiveRender = (_elem, graph, diagramtype, parentCluster) => {
  log$1.info("Graph in recursive render: XXX", import_graphlib.default.json.write(graph), parentCluster);
  const dir = graph.graph().rankdir;
  log$1.trace("Dir in recursive render - dir:", dir);
  const elem = _elem.insert("g").attr("class", "root");
  if (!graph.nodes()) {
    log$1.info("No nodes found for", graph);
  } else {
    log$1.info("Recursive render XXX", graph.nodes());
  }
  if (graph.edges().length > 0) {
    log$1.trace("Recursive edges", graph.edge(graph.edges()[0]));
  }
  const clusters = elem.insert("g").attr("class", "clusters");
  const edgePaths = elem.insert("g").attr("class", "edgePaths");
  const edgeLabels2 = elem.insert("g").attr("class", "edgeLabels");
  const nodes = elem.insert("g").attr("class", "nodes");
  graph.nodes().forEach(function(v2) {
    const node2 = graph.node(v2);
    if (typeof parentCluster !== "undefined") {
      const data = JSON.parse(JSON.stringify(parentCluster.clusterData));
      log$1.info("Setting data for cluster XXX (", v2, ") ", data, parentCluster);
      graph.setNode(parentCluster.id, data);
      if (!graph.parent(v2)) {
        log$1.trace("Setting parent", v2, parentCluster.id);
        graph.setParent(v2, parentCluster.id, data);
      }
    }
    log$1.info("(Insert) Node XXX" + v2 + ": " + JSON.stringify(graph.node(v2)));
    if (node2 && node2.clusterNode) {
      log$1.info("Cluster identified", v2, node2.width, graph.node(v2));
      const o = recursiveRender(nodes, node2.graph, diagramtype, graph.node(v2));
      const newEl = o.elem;
      updateNodeBounds(node2, newEl);
      node2.diff = o.diff || 0;
      log$1.info("Node bounds (abc123)", v2, node2, node2.width, node2.x, node2.y);
      setNodeElem(newEl, node2);
      log$1.warn("Recursive render complete ", newEl, node2);
    } else {
      if (graph.children(v2).length > 0) {
        log$1.info("Cluster - the non recursive path XXX", v2, node2.id, node2, graph);
        log$1.info(findNonClusterChild(node2.id, graph));
        clusterDb[node2.id] = { id: findNonClusterChild(node2.id, graph), node: node2 };
      } else {
        log$1.info("Node - the non recursive path", v2, node2.id, node2);
        insertNode(nodes, graph.node(v2), dir);
      }
    }
  });
  graph.edges().forEach(function(e) {
    const edge = graph.edge(e.v, e.w, e.name);
    log$1.info("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(e));
    log$1.info("Edge " + e.v + " -> " + e.w + ": ", e, " ", JSON.stringify(graph.edge(e)));
    log$1.info("Fix", clusterDb, "ids:", e.v, e.w, "Translateing: ", clusterDb[e.v], clusterDb[e.w]);
    insertEdgeLabel(edgeLabels2, edge);
  });
  graph.edges().forEach(function(e) {
    log$1.info("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(e));
  });
  log$1.info("#############################################");
  log$1.info("###                Layout                 ###");
  log$1.info("#############################################");
  log$1.info(graph);
  import_dagre.default.layout(graph);
  log$1.info("Graph after layout:", import_graphlib.default.json.write(graph));
  let diff = 0;
  sortNodesByHierarchy(graph).forEach(function(v2) {
    const node2 = graph.node(v2);
    log$1.info("Position " + v2 + ": " + JSON.stringify(graph.node(v2)));
    log$1.info(
      "Position " + v2 + ": (" + node2.x,
      "," + node2.y,
      ") width: ",
      node2.width,
      " height: ",
      node2.height
    );
    if (node2 && node2.clusterNode) {
      positionNode(node2);
    } else {
      if (graph.children(v2).length > 0) {
        insertCluster(clusters, node2);
        clusterDb[node2.id].node = node2;
      } else {
        positionNode(node2);
      }
    }
  });
  graph.edges().forEach(function(e) {
    const edge = graph.edge(e);
    log$1.info("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(edge), edge);
    const paths = insertEdge(edgePaths, e, edge, clusterDb, diagramtype, graph);
    positionEdgeLabel(edge, paths);
  });
  graph.nodes().forEach(function(v2) {
    const n = graph.node(v2);
    log$1.info(v2, n.type, n.diff);
    if (n.type === "group") {
      diff = n.diff;
    }
  });
  return { elem, diff };
};
var render$1 = (elem, graph, markers2, diagramtype, id5) => {
  insertMarkers$2(elem, markers2, diagramtype, id5);
  clear$a();
  clear$8();
  clear$9();
  clear$b();
  log$1.warn("Graph at first:", import_graphlib.default.json.write(graph));
  adjustClustersAndEdges(graph);
  log$1.warn("Graph after:", import_graphlib.default.json.write(graph));
  recursiveRender(elem, graph, diagramtype);
};
var sanitizeText$1 = (txt) => common.sanitizeText(txt, getConfig$1());
var addClasses = function(classes2, g, _id, diagObj) {
  const keys = Object.keys(classes2);
  log$1.info("keys:", keys);
  log$1.info(classes2);
  keys.forEach(function(id5) {
    const vertex = classes2[id5];
    let cssClassStr = "";
    if (vertex.cssClasses.length > 0) {
      cssClassStr = cssClassStr + " " + vertex.cssClasses.join(" ");
    }
    const styles = { labelStyle: "" };
    let vertexText = vertex.text !== void 0 ? vertex.text : vertex.id;
    let radious = 0;
    let _shape = "";
    switch (vertex.type) {
      case "class":
        _shape = "class_box";
        break;
      default:
        _shape = "class_box";
    }
    g.setNode(vertex.id, {
      labelStyle: styles.labelStyle,
      shape: _shape,
      labelText: sanitizeText$1(vertexText),
      classData: vertex,
      rx: radious,
      ry: radious,
      class: cssClassStr,
      style: styles.style,
      id: vertex.id,
      domId: vertex.domId,
      tooltip: diagObj.db.getTooltip(vertex.id) || "",
      haveCallback: vertex.haveCallback,
      link: vertex.link,
      width: vertex.type === "group" ? 500 : void 0,
      type: vertex.type,
      padding: getConfig$1().flowchart.padding
    });
    log$1.info("setNode", {
      labelStyle: styles.labelStyle,
      shape: _shape,
      labelText: vertexText,
      rx: radious,
      ry: radious,
      class: cssClassStr,
      style: styles.style,
      id: vertex.id,
      width: vertex.type === "group" ? 500 : void 0,
      type: vertex.type,
      padding: getConfig$1().flowchart.padding
    });
  });
};
var addRelations = function(relations2, g) {
  const conf2 = getConfig$1().flowchart;
  let cnt2 = 0;
  relations2.forEach(function(edge) {
    cnt2++;
    const edgeData = {};
    edgeData.classes = "relation";
    edgeData.pattern = edge.relation.lineType == 1 ? "dashed" : "solid";
    edgeData.id = "id" + cnt2;
    if (edge.type === "arrow_open") {
      edgeData.arrowhead = "none";
    } else {
      edgeData.arrowhead = "normal";
    }
    log$1.info(edgeData, edge);
    edgeData.startLabelRight = edge.relationTitle1 === "none" ? "" : edge.relationTitle1;
    edgeData.endLabelLeft = edge.relationTitle2 === "none" ? "" : edge.relationTitle2;
    edgeData.arrowTypeStart = getArrowMarker(edge.relation.type1);
    edgeData.arrowTypeEnd = getArrowMarker(edge.relation.type2);
    let style = "";
    let labelStyle = "";
    if (typeof edge.style !== "undefined") {
      const styles = getStylesFromArray(edge.style);
      style = styles.style;
      labelStyle = styles.labelStyle;
    } else {
      style = "fill:none";
    }
    edgeData.style = style;
    edgeData.labelStyle = labelStyle;
    if (typeof edge.interpolate !== "undefined") {
      edgeData.curve = interpolateToCurve(edge.interpolate, linear_default);
    } else if (typeof relations2.defaultInterpolate !== "undefined") {
      edgeData.curve = interpolateToCurve(relations2.defaultInterpolate, linear_default);
    } else {
      edgeData.curve = interpolateToCurve(conf2.curve, linear_default);
    }
    edge.text = edge.title;
    if (typeof edge.text === "undefined") {
      if (typeof edge.style !== "undefined") {
        edgeData.arrowheadStyle = "fill: #333";
      }
    } else {
      edgeData.arrowheadStyle = "fill: #333";
      edgeData.labelpos = "c";
      if (getConfig$1().flowchart.htmlLabels) {
        edgeData.labelType = "html";
        edgeData.label = '<span class="edgeLabel">' + edge.text + "</span>";
      } else {
        edgeData.labelType = "text";
        edgeData.label = edge.text.replace(common.lineBreakRegex, "\n");
        if (typeof edge.style === "undefined") {
          edgeData.style = edgeData.style || "stroke: #333; stroke-width: 1.5px;fill:none";
        }
        edgeData.labelStyle = edgeData.labelStyle.replace("color:", "fill:");
      }
    }
    g.setEdge(edge.id1, edge.id2, edgeData, cnt2);
  });
};
var setConf$9 = function(cnf) {
  const keys = Object.keys(cnf);
  keys.forEach(function(key) {
    cnf[key];
  });
};
var draw$c = function(text2, id5, _version, diagObj) {
  log$1.info("Drawing class - ", id5);
  const conf2 = getConfig$1().flowchart;
  const securityLevel = getConfig$1().securityLevel;
  log$1.info("config:", conf2);
  const nodeSpacing = conf2.nodeSpacing || 50;
  const rankSpacing = conf2.rankSpacing || 50;
  const g = new import_graphlib.default.Graph({
    multigraph: true,
    compound: true
  }).setGraph({
    rankdir: diagObj.db.getDirection(),
    nodesep: nodeSpacing,
    ranksep: rankSpacing,
    marginx: 8,
    marginy: 8
  }).setDefaultEdgeLabel(function() {
    return {};
  });
  const classes2 = diagObj.db.getClasses();
  const relations2 = diagObj.db.getRelations();
  log$1.info(relations2);
  addClasses(classes2, g, id5, diagObj);
  addRelations(relations2, g);
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const svg4 = root22.select(`[id="${id5}"]`);
  const element = root22.select("#" + id5 + " g");
  render$1(
    element,
    g,
    ["aggregation", "extension", "composition", "dependency", "lollipop"],
    "classDiagram",
    id5
  );
  setupGraphViewbox$1(g, svg4, conf2.diagramPadding, conf2.useMaxWidth);
  if (!conf2.htmlLabels) {
    const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
    const labels = doc.querySelectorAll('[id="' + id5 + '"] .edgeLabel .label');
    for (let k3 = 0; k3 < labels.length; k3++) {
      const label = labels[k3];
      const dim = label.getBBox();
      const rect2 = doc.createElementNS("http://www.w3.org/2000/svg", "rect");
      rect2.setAttribute("rx", 0);
      rect2.setAttribute("ry", 0);
      rect2.setAttribute("width", dim.width);
      rect2.setAttribute("height", dim.height);
      label.insertBefore(rect2, label.firstChild);
    }
  }
  addSVGAccessibilityFields(diagObj.db, svg4, id5);
};
function getArrowMarker(type22) {
  let marker;
  switch (type22) {
    case 0:
      marker = "aggregation";
      break;
    case 1:
      marker = "extension";
      break;
    case 2:
      marker = "composition";
      break;
    case 3:
      marker = "dependency";
      break;
    case 4:
      marker = "lollipop";
      break;
    default:
      marker = "none";
  }
  return marker;
}
var classRendererV2 = {
  setConf: setConf$9,
  draw: draw$c
};
var parser$8 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 2], $V1 = [1, 5], $V2 = [6, 9, 11, 23, 25, 27, 29, 30, 31, 49], $V3 = [1, 17], $V4 = [1, 18], $V5 = [1, 19], $V6 = [1, 20], $V7 = [1, 21], $V8 = [1, 22], $V9 = [1, 25], $Va = [1, 30], $Vb = [1, 31], $Vc = [1, 32], $Vd = [1, 33], $Ve = [6, 9, 11, 15, 20, 23, 25, 27, 29, 30, 31, 42, 43, 44, 45, 49], $Vf = [1, 45], $Vg = [30, 31, 46, 47], $Vh = [4, 6, 9, 11, 23, 25, 27, 29, 30, 31, 49], $Vi = [42, 43, 44, 45], $Vj = [22, 37], $Vk = [1, 64];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "ER_DIAGRAM": 4, "document": 5, "EOF": 6, "directive": 7, "line": 8, "SPACE": 9, "statement": 10, "NEWLINE": 11, "openDirective": 12, "typeDirective": 13, "closeDirective": 14, ":": 15, "argDirective": 16, "entityName": 17, "relSpec": 18, "role": 19, "BLOCK_START": 20, "attributes": 21, "BLOCK_STOP": 22, "title": 23, "title_value": 24, "acc_title": 25, "acc_title_value": 26, "acc_descr": 27, "acc_descr_value": 28, "acc_descr_multiline_value": 29, "ALPHANUM": 30, "ENTITY_NAME": 31, "attribute": 32, "attributeType": 33, "attributeName": 34, "attributeKeyType": 35, "attributeComment": 36, "ATTRIBUTE_WORD": 37, "ATTRIBUTE_KEY": 38, "COMMENT": 39, "cardinality": 40, "relType": 41, "ZERO_OR_ONE": 42, "ZERO_OR_MORE": 43, "ONE_OR_MORE": 44, "ONLY_ONE": 45, "NON_IDENTIFYING": 46, "IDENTIFYING": 47, "WORD": 48, "open_directive": 49, "type_directive": 50, "arg_directive": 51, "close_directive": 52, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 4: "ER_DIAGRAM", 6: "EOF", 9: "SPACE", 11: "NEWLINE", 15: ":", 20: "BLOCK_START", 22: "BLOCK_STOP", 23: "title", 24: "title_value", 25: "acc_title", 26: "acc_title_value", 27: "acc_descr", 28: "acc_descr_value", 29: "acc_descr_multiline_value", 30: "ALPHANUM", 31: "ENTITY_NAME", 37: "ATTRIBUTE_WORD", 38: "ATTRIBUTE_KEY", 39: "COMMENT", 42: "ZERO_OR_ONE", 43: "ZERO_OR_MORE", 44: "ONE_OR_MORE", 45: "ONLY_ONE", 46: "NON_IDENTIFYING", 47: "IDENTIFYING", 48: "WORD", 49: "open_directive", 50: "type_directive", 51: "arg_directive", 52: "close_directive" },
    productions_: [0, [3, 3], [3, 2], [5, 0], [5, 2], [8, 2], [8, 1], [8, 1], [8, 1], [7, 4], [7, 6], [10, 1], [10, 5], [10, 4], [10, 3], [10, 1], [10, 2], [10, 2], [10, 2], [10, 1], [17, 1], [17, 1], [21, 1], [21, 2], [32, 2], [32, 3], [32, 3], [32, 4], [33, 1], [34, 1], [35, 1], [36, 1], [18, 3], [40, 1], [40, 1], [40, 1], [40, 1], [41, 1], [41, 1], [19, 1], [19, 1], [19, 1], [12, 1], [13, 1], [16, 1], [14, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 1:
          break;
        case 3:
          this.$ = [];
          break;
        case 4:
          $$[$0 - 1].push($$[$0]);
          this.$ = $$[$0 - 1];
          break;
        case 5:
        case 6:
          this.$ = $$[$0];
          break;
        case 7:
        case 8:
          this.$ = [];
          break;
        case 12:
          yy.addEntity($$[$0 - 4]);
          yy.addEntity($$[$0 - 2]);
          yy.addRelationship($$[$0 - 4], $$[$0], $$[$0 - 2], $$[$0 - 3]);
          break;
        case 13:
          yy.addEntity($$[$0 - 3]);
          yy.addAttributes($$[$0 - 3], $$[$0 - 1]);
          break;
        case 14:
          yy.addEntity($$[$0 - 2]);
          break;
        case 15:
          yy.addEntity($$[$0]);
          break;
        case 16:
        case 17:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 18:
        case 19:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 20:
        case 41:
          this.$ = $$[$0];
          break;
        case 21:
        case 39:
        case 40:
          this.$ = $$[$0].replace(/"/g, "");
          break;
        case 22:
          this.$ = [$$[$0]];
          break;
        case 23:
          $$[$0].push($$[$0 - 1]);
          this.$ = $$[$0];
          break;
        case 24:
          this.$ = { attributeType: $$[$0 - 1], attributeName: $$[$0] };
          break;
        case 25:
          this.$ = { attributeType: $$[$0 - 2], attributeName: $$[$0 - 1], attributeKeyType: $$[$0] };
          break;
        case 26:
          this.$ = { attributeType: $$[$0 - 2], attributeName: $$[$0 - 1], attributeComment: $$[$0] };
          break;
        case 27:
          this.$ = { attributeType: $$[$0 - 3], attributeName: $$[$0 - 2], attributeKeyType: $$[$0 - 1], attributeComment: $$[$0] };
          break;
        case 28:
        case 29:
        case 30:
          this.$ = $$[$0];
          break;
        case 31:
          this.$ = $$[$0].replace(/"/g, "");
          break;
        case 32:
          this.$ = { cardA: $$[$0], relType: $$[$0 - 1], cardB: $$[$0 - 2] };
          break;
        case 33:
          this.$ = yy.Cardinality.ZERO_OR_ONE;
          break;
        case 34:
          this.$ = yy.Cardinality.ZERO_OR_MORE;
          break;
        case 35:
          this.$ = yy.Cardinality.ONE_OR_MORE;
          break;
        case 36:
          this.$ = yy.Cardinality.ONLY_ONE;
          break;
        case 37:
          this.$ = yy.Identification.NON_IDENTIFYING;
          break;
        case 38:
          this.$ = yy.Identification.IDENTIFYING;
          break;
        case 42:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 43:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 44:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 45:
          yy.parseDirective("}%%", "close_directive", "er");
          break;
      }
    },
    table: [{ 3: 1, 4: $V0, 7: 3, 12: 4, 49: $V1 }, { 1: [3] }, o($V2, [2, 3], { 5: 6 }), { 3: 7, 4: $V0, 7: 3, 12: 4, 49: $V1 }, { 13: 8, 50: [1, 9] }, { 50: [2, 42] }, { 6: [1, 10], 7: 15, 8: 11, 9: [1, 12], 10: 13, 11: [1, 14], 12: 4, 17: 16, 23: $V3, 25: $V4, 27: $V5, 29: $V6, 30: $V7, 31: $V8, 49: $V1 }, { 1: [2, 2] }, { 14: 23, 15: [1, 24], 52: $V9 }, o([15, 52], [2, 43]), o($V2, [2, 8], { 1: [2, 1] }), o($V2, [2, 4]), { 7: 15, 10: 26, 12: 4, 17: 16, 23: $V3, 25: $V4, 27: $V5, 29: $V6, 30: $V7, 31: $V8, 49: $V1 }, o($V2, [2, 6]), o($V2, [2, 7]), o($V2, [2, 11]), o($V2, [2, 15], { 18: 27, 40: 29, 20: [1, 28], 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd }), { 24: [1, 34] }, { 26: [1, 35] }, { 28: [1, 36] }, o($V2, [2, 19]), o($Ve, [2, 20]), o($Ve, [2, 21]), { 11: [1, 37] }, { 16: 38, 51: [1, 39] }, { 11: [2, 45] }, o($V2, [2, 5]), { 17: 40, 30: $V7, 31: $V8 }, { 21: 41, 22: [1, 42], 32: 43, 33: 44, 37: $Vf }, { 41: 46, 46: [1, 47], 47: [1, 48] }, o($Vg, [2, 33]), o($Vg, [2, 34]), o($Vg, [2, 35]), o($Vg, [2, 36]), o($V2, [2, 16]), o($V2, [2, 17]), o($V2, [2, 18]), o($Vh, [2, 9]), { 14: 49, 52: $V9 }, { 52: [2, 44] }, { 15: [1, 50] }, { 22: [1, 51] }, o($V2, [2, 14]), { 21: 52, 22: [2, 22], 32: 43, 33: 44, 37: $Vf }, { 34: 53, 37: [1, 54] }, { 37: [2, 28] }, { 40: 55, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd }, o($Vi, [2, 37]), o($Vi, [2, 38]), { 11: [1, 56] }, { 19: 57, 30: [1, 60], 31: [1, 59], 48: [1, 58] }, o($V2, [2, 13]), { 22: [2, 23] }, o($Vj, [2, 24], { 35: 61, 36: 62, 38: [1, 63], 39: $Vk }), o([22, 37, 38, 39], [2, 29]), o([30, 31], [2, 32]), o($Vh, [2, 10]), o($V2, [2, 12]), o($V2, [2, 39]), o($V2, [2, 40]), o($V2, [2, 41]), o($Vj, [2, 25], { 36: 65, 39: $Vk }), o($Vj, [2, 26]), o([22, 37, 39], [2, 30]), o($Vj, [2, 31]), o($Vj, [2, 27])],
    defaultActions: { 5: [2, 42], 7: [2, 2], 25: [2, 45], 39: [2, 44], 45: [2, 28], 52: [2, 23] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: { "case-insensitive": true },
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("acc_title");
            return 25;
          case 1:
            this.popState();
            return "acc_title_value";
          case 2:
            this.begin("acc_descr");
            return 27;
          case 3:
            this.popState();
            return "acc_descr_value";
          case 4:
            this.begin("acc_descr_multiline");
            break;
          case 5:
            this.popState();
            break;
          case 6:
            return "acc_descr_multiline_value";
          case 7:
            this.begin("open_directive");
            return 49;
          case 8:
            this.begin("type_directive");
            return 50;
          case 9:
            this.popState();
            this.begin("arg_directive");
            return 15;
          case 10:
            this.popState();
            this.popState();
            return 52;
          case 11:
            return 51;
          case 12:
            break;
          case 13:
            break;
          case 14:
            return 11;
          case 15:
            break;
          case 16:
            return 9;
          case 17:
            return 31;
          case 18:
            return 48;
          case 19:
            return 4;
          case 20:
            this.begin("block");
            return 20;
          case 21:
            break;
          case 22:
            return 38;
          case 23:
            return 37;
          case 24:
            return 37;
          case 25:
            return 39;
          case 26:
            break;
          case 27:
            this.popState();
            return 22;
          case 28:
            return yy_.yytext[0];
          case 29:
            return 42;
          case 30:
            return 43;
          case 31:
            return 44;
          case 32:
            return 45;
          case 33:
            return 42;
          case 34:
            return 43;
          case 35:
            return 44;
          case 36:
            return 46;
          case 37:
            return 47;
          case 38:
            return 46;
          case 39:
            return 46;
          case 40:
            return 30;
          case 41:
            return yy_.yytext[0];
          case 42:
            return 6;
        }
      },
      rules: [/^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:[\s]+)/i, /^(?:"[^"%\r\n\v\b\\]+")/i, /^(?:"[^"]*")/i, /^(?:erDiagram\b)/i, /^(?:\{)/i, /^(?:\s+)/i, /^(?:\b((?:PK)|(?:FK))\b)/i, /^(?:(.*?)[~](.*?)*[~])/i, /^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i, /^(?:"[^"]*")/i, /^(?:[\n]+)/i, /^(?:\})/i, /^(?:.)/i, /^(?:\|o\b)/i, /^(?:\}o\b)/i, /^(?:\}\|)/i, /^(?:\|\|)/i, /^(?:o\|)/i, /^(?:o\{)/i, /^(?:\|\{)/i, /^(?:\.\.)/i, /^(?:--)/i, /^(?:\.-)/i, /^(?:-\.)/i, /^(?:[A-Za-z][A-Za-z0-9\-_]*)/i, /^(?:.)/i, /^(?:$)/i],
      conditions: { "acc_descr_multiline": { "rules": [5, 6], "inclusive": false }, "acc_descr": { "rules": [3], "inclusive": false }, "acc_title": { "rules": [1], "inclusive": false }, "open_directive": { "rules": [8], "inclusive": false }, "type_directive": { "rules": [9, 10], "inclusive": false }, "arg_directive": { "rules": [10, 11], "inclusive": false }, "block": { "rules": [21, 22, 23, 24, 25, 26, 27, 28], "inclusive": false }, "INITIAL": { "rules": [0, 2, 4, 7, 12, 13, 14, 15, 16, 17, 18, 19, 20, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$8.parser = parser$8;
var erDetector = (txt) => {
  return txt.match(/^\s*erDiagram/) !== null;
};
var entities = {};
var relationships = [];
var Cardinality = {
  ZERO_OR_ONE: "ZERO_OR_ONE",
  ZERO_OR_MORE: "ZERO_OR_MORE",
  ONE_OR_MORE: "ONE_OR_MORE",
  ONLY_ONE: "ONLY_ONE"
};
var Identification = {
  NON_IDENTIFYING: "NON_IDENTIFYING",
  IDENTIFYING: "IDENTIFYING"
};
var parseDirective$8 = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var addEntity = function(name2) {
  if (typeof entities[name2] === "undefined") {
    entities[name2] = { attributes: [] };
    log$1.info("Added new entity :", name2);
  }
  return entities[name2];
};
var getEntities = () => entities;
var addAttributes = function(entityName, attribs) {
  let entity = addEntity(entityName);
  let i;
  for (i = attribs.length - 1; i >= 0; i--) {
    entity.attributes.push(attribs[i]);
    log$1.debug("Added attribute ", attribs[i].attributeName);
  }
};
var addRelationship$1 = function(entA, rolA, entB, rSpec) {
  let rel = {
    entityA: entA,
    roleA: rolA,
    entityB: entB,
    relSpec: rSpec
  };
  relationships.push(rel);
  log$1.debug("Added new relationship :", rel);
};
var getRelationships$1 = () => relationships;
var clear$7 = function() {
  entities = {};
  relationships = [];
  clear$g();
};
var erDb = {
  Cardinality,
  Identification,
  parseDirective: parseDirective$8,
  getConfig: () => getConfig$1().er,
  addEntity,
  addAttributes,
  getEntities,
  addRelationship: addRelationship$1,
  getRelationships: getRelationships$1,
  clear: clear$7,
  setAccTitle,
  getAccTitle,
  setAccDescription,
  getAccDescription
};
var ERMarkers = {
  ONLY_ONE_START: "ONLY_ONE_START",
  ONLY_ONE_END: "ONLY_ONE_END",
  ZERO_OR_ONE_START: "ZERO_OR_ONE_START",
  ZERO_OR_ONE_END: "ZERO_OR_ONE_END",
  ONE_OR_MORE_START: "ONE_OR_MORE_START",
  ONE_OR_MORE_END: "ONE_OR_MORE_END",
  ZERO_OR_MORE_START: "ZERO_OR_MORE_START",
  ZERO_OR_MORE_END: "ZERO_OR_MORE_END"
};
var insertMarkers$1 = function(elem, conf2) {
  let marker;
  elem.append("defs").append("marker").attr("id", ERMarkers.ONLY_ONE_START).attr("refX", 0).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("stroke", conf2.stroke).attr("fill", "none").attr("d", "M9,0 L9,18 M15,0 L15,18");
  elem.append("defs").append("marker").attr("id", ERMarkers.ONLY_ONE_END).attr("refX", 18).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("stroke", conf2.stroke).attr("fill", "none").attr("d", "M3,0 L3,18 M9,0 L9,18");
  marker = elem.append("defs").append("marker").attr("id", ERMarkers.ZERO_OR_ONE_START).attr("refX", 0).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto");
  marker.append("circle").attr("stroke", conf2.stroke).attr("fill", "white").attr("cx", 21).attr("cy", 9).attr("r", 6);
  marker.append("path").attr("stroke", conf2.stroke).attr("fill", "none").attr("d", "M9,0 L9,18");
  marker = elem.append("defs").append("marker").attr("id", ERMarkers.ZERO_OR_ONE_END).attr("refX", 30).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto");
  marker.append("circle").attr("stroke", conf2.stroke).attr("fill", "white").attr("cx", 9).attr("cy", 9).attr("r", 6);
  marker.append("path").attr("stroke", conf2.stroke).attr("fill", "none").attr("d", "M21,0 L21,18");
  elem.append("defs").append("marker").attr("id", ERMarkers.ONE_OR_MORE_START).attr("refX", 18).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("stroke", conf2.stroke).attr("fill", "none").attr("d", "M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27");
  elem.append("defs").append("marker").attr("id", ERMarkers.ONE_OR_MORE_END).attr("refX", 27).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("stroke", conf2.stroke).attr("fill", "none").attr("d", "M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18");
  marker = elem.append("defs").append("marker").attr("id", ERMarkers.ZERO_OR_MORE_START).attr("refX", 18).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto");
  marker.append("circle").attr("stroke", conf2.stroke).attr("fill", "white").attr("cx", 48).attr("cy", 18).attr("r", 6);
  marker.append("path").attr("stroke", conf2.stroke).attr("fill", "none").attr("d", "M0,18 Q18,0 36,18 Q18,36 0,18");
  marker = elem.append("defs").append("marker").attr("id", ERMarkers.ZERO_OR_MORE_END).attr("refX", 39).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto");
  marker.append("circle").attr("stroke", conf2.stroke).attr("fill", "white").attr("cx", 9).attr("cy", 18).attr("r", 6);
  marker.append("path").attr("stroke", conf2.stroke).attr("fill", "none").attr("d", "M21,18 Q39,0 57,18 Q39,36 21,18");
  return;
};
var erMarkers = {
  ERMarkers,
  insertMarkers: insertMarkers$1
};
var BAD_ID_CHARS_REGEXP = /[^A-Za-z0-9]([\W])*/g;
var conf$9 = {};
var entityNameIds = /* @__PURE__ */ new Map();
var setConf$8 = function(cnf) {
  const keys = Object.keys(cnf);
  for (let i = 0; i < keys.length; i++) {
    conf$9[keys[i]] = cnf[keys[i]];
  }
};
var drawAttributes = (groupNode, entityTextNode, attributes) => {
  const heightPadding = conf$9.entityPadding / 3;
  const widthPadding = conf$9.entityPadding / 3;
  const attrFontSize = conf$9.fontSize * 0.85;
  const labelBBox = entityTextNode.node().getBBox();
  const attributeNodes = [];
  let hasKeyType = false;
  let hasComment = false;
  let maxTypeWidth = 0;
  let maxNameWidth = 0;
  let maxKeyWidth = 0;
  let maxCommentWidth = 0;
  let cumulativeHeight = labelBBox.height + heightPadding * 2;
  let attrNum = 1;
  attributes.forEach((item) => {
    if (item.attributeKeyType !== void 0) {
      hasKeyType = true;
    }
    if (item.attributeComment !== void 0) {
      hasComment = true;
    }
  });
  attributes.forEach((item) => {
    const attrPrefix = `${entityTextNode.node().id}-attr-${attrNum}`;
    let nodeHeight = 0;
    const attributeType = parseGenericTypes(item.attributeType);
    const typeNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", `${attrPrefix}-type`).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "left").attr(
      "style",
      "font-family: " + getConfig$1().fontFamily + "; font-size: " + attrFontSize + "px"
    ).text(attributeType);
    const nameNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", `${attrPrefix}-name`).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "left").attr(
      "style",
      "font-family: " + getConfig$1().fontFamily + "; font-size: " + attrFontSize + "px"
    ).text(item.attributeName);
    const attributeNode = {};
    attributeNode.tn = typeNode;
    attributeNode.nn = nameNode;
    const typeBBox = typeNode.node().getBBox();
    const nameBBox = nameNode.node().getBBox();
    maxTypeWidth = Math.max(maxTypeWidth, typeBBox.width);
    maxNameWidth = Math.max(maxNameWidth, nameBBox.width);
    nodeHeight = Math.max(typeBBox.height, nameBBox.height);
    if (hasKeyType) {
      const keyTypeNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", `${attrPrefix}-key`).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "left").attr(
        "style",
        "font-family: " + getConfig$1().fontFamily + "; font-size: " + attrFontSize + "px"
      ).text(item.attributeKeyType || "");
      attributeNode.kn = keyTypeNode;
      const keyTypeBBox = keyTypeNode.node().getBBox();
      maxKeyWidth = Math.max(maxKeyWidth, keyTypeBBox.width);
      nodeHeight = Math.max(nodeHeight, keyTypeBBox.height);
    }
    if (hasComment) {
      const commentNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", `${attrPrefix}-comment`).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "left").attr(
        "style",
        "font-family: " + getConfig$1().fontFamily + "; font-size: " + attrFontSize + "px"
      ).text(item.attributeComment || "");
      attributeNode.cn = commentNode;
      const commentNodeBBox = commentNode.node().getBBox();
      maxCommentWidth = Math.max(maxCommentWidth, commentNodeBBox.width);
      nodeHeight = Math.max(nodeHeight, commentNodeBBox.height);
    }
    attributeNode.height = nodeHeight;
    attributeNodes.push(attributeNode);
    cumulativeHeight += nodeHeight + heightPadding * 2;
    attrNum += 1;
  });
  let widthPaddingFactor = 4;
  if (hasKeyType) {
    widthPaddingFactor += 2;
  }
  if (hasComment) {
    widthPaddingFactor += 2;
  }
  const maxWidth = maxTypeWidth + maxNameWidth + maxKeyWidth + maxCommentWidth;
  const bBox = {
    width: Math.max(
      conf$9.minEntityWidth,
      Math.max(
        labelBBox.width + conf$9.entityPadding * 2,
        maxWidth + widthPadding * widthPaddingFactor
      )
    ),
    height: attributes.length > 0 ? cumulativeHeight : Math.max(conf$9.minEntityHeight, labelBBox.height + conf$9.entityPadding * 2)
  };
  if (attributes.length > 0) {
    const spareColumnWidth = Math.max(
      0,
      (bBox.width - maxWidth - widthPadding * widthPaddingFactor) / (widthPaddingFactor / 2)
    );
    entityTextNode.attr(
      "transform",
      "translate(" + bBox.width / 2 + "," + (heightPadding + labelBBox.height / 2) + ")"
    );
    let heightOffset = labelBBox.height + heightPadding * 2;
    let attribStyle = "attributeBoxOdd";
    attributeNodes.forEach((attributeNode) => {
      const alignY = heightOffset + heightPadding + attributeNode.height / 2;
      attributeNode.tn.attr("transform", "translate(" + widthPadding + "," + alignY + ")");
      const typeRect = groupNode.insert("rect", "#" + attributeNode.tn.node().id).attr("class", `er ${attribStyle}`).attr("fill", conf$9.fill).attr("fill-opacity", "100%").attr("stroke", conf$9.stroke).attr("x", 0).attr("y", heightOffset).attr("width", maxTypeWidth + widthPadding * 2 + spareColumnWidth).attr("height", attributeNode.height + heightPadding * 2);
      const nameXOffset = parseFloat(typeRect.attr("x")) + parseFloat(typeRect.attr("width"));
      attributeNode.nn.attr(
        "transform",
        "translate(" + (nameXOffset + widthPadding) + "," + alignY + ")"
      );
      const nameRect = groupNode.insert("rect", "#" + attributeNode.nn.node().id).attr("class", `er ${attribStyle}`).attr("fill", conf$9.fill).attr("fill-opacity", "100%").attr("stroke", conf$9.stroke).attr("x", nameXOffset).attr("y", heightOffset).attr("width", maxNameWidth + widthPadding * 2 + spareColumnWidth).attr("height", attributeNode.height + heightPadding * 2);
      let keyTypeAndCommentXOffset = parseFloat(nameRect.attr("x")) + parseFloat(nameRect.attr("width"));
      if (hasKeyType) {
        attributeNode.kn.attr(
          "transform",
          "translate(" + (keyTypeAndCommentXOffset + widthPadding) + "," + alignY + ")"
        );
        const keyTypeRect = groupNode.insert("rect", "#" + attributeNode.kn.node().id).attr("class", `er ${attribStyle}`).attr("fill", conf$9.fill).attr("fill-opacity", "100%").attr("stroke", conf$9.stroke).attr("x", keyTypeAndCommentXOffset).attr("y", heightOffset).attr("width", maxKeyWidth + widthPadding * 2 + spareColumnWidth).attr("height", attributeNode.height + heightPadding * 2);
        keyTypeAndCommentXOffset = parseFloat(keyTypeRect.attr("x")) + parseFloat(keyTypeRect.attr("width"));
      }
      if (hasComment) {
        attributeNode.cn.attr(
          "transform",
          "translate(" + (keyTypeAndCommentXOffset + widthPadding) + "," + alignY + ")"
        );
        groupNode.insert("rect", "#" + attributeNode.cn.node().id).attr("class", `er ${attribStyle}`).attr("fill", conf$9.fill).attr("fill-opacity", "100%").attr("stroke", conf$9.stroke).attr("x", keyTypeAndCommentXOffset).attr("y", heightOffset).attr("width", maxCommentWidth + widthPadding * 2 + spareColumnWidth).attr("height", attributeNode.height + heightPadding * 2);
      }
      heightOffset += attributeNode.height + heightPadding * 2;
      attribStyle = attribStyle === "attributeBoxOdd" ? "attributeBoxEven" : "attributeBoxOdd";
    });
  } else {
    bBox.height = Math.max(conf$9.minEntityHeight, cumulativeHeight);
    entityTextNode.attr("transform", "translate(" + bBox.width / 2 + "," + bBox.height / 2 + ")");
  }
  return bBox;
};
var drawEntities = function(svgNode7, entities2, graph) {
  const keys = Object.keys(entities2);
  let firstOne;
  keys.forEach(function(entityName) {
    const entityId = generateId(entityName, "entity");
    entityNameIds.set(entityName, entityId);
    const groupNode = svgNode7.append("g").attr("id", entityId);
    firstOne = firstOne === void 0 ? entityId : firstOne;
    const textId = "text-" + entityId;
    const textNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", textId).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "middle").attr(
      "style",
      "font-family: " + getConfig$1().fontFamily + "; font-size: " + conf$9.fontSize + "px"
    ).text(entityName);
    const { width: entityWidth, height: entityHeight } = drawAttributes(
      groupNode,
      textNode,
      entities2[entityName].attributes
    );
    const rectNode = groupNode.insert("rect", "#" + textId).attr("class", "er entityBox").attr("fill", conf$9.fill).attr("fill-opacity", "100%").attr("stroke", conf$9.stroke).attr("x", 0).attr("y", 0).attr("width", entityWidth).attr("height", entityHeight);
    const rectBBox = rectNode.node().getBBox();
    graph.setNode(entityId, {
      width: rectBBox.width,
      height: rectBBox.height,
      shape: "rect",
      id: entityId
    });
  });
  return firstOne;
};
var adjustEntities$1 = function(svgNode7, graph) {
  graph.nodes().forEach(function(v2) {
    if (typeof v2 !== "undefined" && typeof graph.node(v2) !== "undefined") {
      svgNode7.select("#" + v2).attr(
        "transform",
        "translate(" + (graph.node(v2).x - graph.node(v2).width / 2) + "," + (graph.node(v2).y - graph.node(v2).height / 2) + " )"
      );
    }
  });
};
var getEdgeName = function(rel) {
  return (rel.entityA + rel.roleA + rel.entityB).replace(/\s/g, "");
};
var addRelationships$1 = function(relationships2, g) {
  relationships2.forEach(function(r) {
    g.setEdge(
      entityNameIds.get(r.entityA),
      entityNameIds.get(r.entityB),
      { relationship: r },
      getEdgeName(r)
    );
  });
  return relationships2;
};
var relCnt$1 = 0;
var drawRelationshipFromLayout$1 = function(svg4, rel, g, insert, diagObj) {
  relCnt$1++;
  const edge = g.edge(
    entityNameIds.get(rel.entityA),
    entityNameIds.get(rel.entityB),
    getEdgeName(rel)
  );
  const lineFunction = line_default2().x(function(d) {
    return d.x;
  }).y(function(d) {
    return d.y;
  }).curve(basis_default5);
  const svgPath = svg4.insert("path", "#" + insert).attr("class", "er relationshipLine").attr("d", lineFunction(edge.points)).attr("stroke", conf$9.stroke).attr("fill", "none");
  if (rel.relSpec.relType === diagObj.db.Identification.NON_IDENTIFYING) {
    svgPath.attr("stroke-dasharray", "8,8");
  }
  let url = "";
  if (conf$9.arrowMarkerAbsolute) {
    url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
    url = url.replace(/\(/g, "\\(");
    url = url.replace(/\)/g, "\\)");
  }
  switch (rel.relSpec.cardA) {
    case diagObj.db.Cardinality.ZERO_OR_ONE:
      svgPath.attr("marker-end", "url(" + url + "#" + erMarkers.ERMarkers.ZERO_OR_ONE_END + ")");
      break;
    case diagObj.db.Cardinality.ZERO_OR_MORE:
      svgPath.attr("marker-end", "url(" + url + "#" + erMarkers.ERMarkers.ZERO_OR_MORE_END + ")");
      break;
    case diagObj.db.Cardinality.ONE_OR_MORE:
      svgPath.attr("marker-end", "url(" + url + "#" + erMarkers.ERMarkers.ONE_OR_MORE_END + ")");
      break;
    case diagObj.db.Cardinality.ONLY_ONE:
      svgPath.attr("marker-end", "url(" + url + "#" + erMarkers.ERMarkers.ONLY_ONE_END + ")");
      break;
  }
  switch (rel.relSpec.cardB) {
    case diagObj.db.Cardinality.ZERO_OR_ONE:
      svgPath.attr(
        "marker-start",
        "url(" + url + "#" + erMarkers.ERMarkers.ZERO_OR_ONE_START + ")"
      );
      break;
    case diagObj.db.Cardinality.ZERO_OR_MORE:
      svgPath.attr(
        "marker-start",
        "url(" + url + "#" + erMarkers.ERMarkers.ZERO_OR_MORE_START + ")"
      );
      break;
    case diagObj.db.Cardinality.ONE_OR_MORE:
      svgPath.attr(
        "marker-start",
        "url(" + url + "#" + erMarkers.ERMarkers.ONE_OR_MORE_START + ")"
      );
      break;
    case diagObj.db.Cardinality.ONLY_ONE:
      svgPath.attr("marker-start", "url(" + url + "#" + erMarkers.ERMarkers.ONLY_ONE_START + ")");
      break;
  }
  const len = svgPath.node().getTotalLength();
  const labelPoint = svgPath.node().getPointAtLength(len * 0.5);
  const labelId = "rel" + relCnt$1;
  const labelNode = svg4.append("text").attr("class", "er relationshipLabel").attr("id", labelId).attr("x", labelPoint.x).attr("y", labelPoint.y).attr("text-anchor", "middle").attr("dominant-baseline", "middle").attr(
    "style",
    "font-family: " + getConfig$1().fontFamily + "; font-size: " + conf$9.fontSize + "px"
  ).text(rel.roleA);
  const labelBBox = labelNode.node().getBBox();
  svg4.insert("rect", "#" + labelId).attr("class", "er relationshipLabelBox").attr("x", labelPoint.x - labelBBox.width / 2).attr("y", labelPoint.y - labelBBox.height / 2).attr("width", labelBBox.width).attr("height", labelBBox.height).attr("fill", "white").attr("fill-opacity", "85%");
};
var draw$b = function(text2, id5, _version, diagObj) {
  conf$9 = getConfig$1().er;
  log$1.info("Drawing ER diagram");
  const securityLevel = getConfig$1().securityLevel;
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const svg4 = root22.select(`[id='${id5}']`);
  erMarkers.insertMarkers(svg4, conf$9);
  let g;
  g = new import_graphlib.default.Graph({
    multigraph: true,
    directed: true,
    compound: false
  }).setGraph({
    rankdir: conf$9.layoutDirection,
    marginx: 20,
    marginy: 20,
    nodesep: 100,
    edgesep: 100,
    ranksep: 100
  }).setDefaultEdgeLabel(function() {
    return {};
  });
  const firstEntity = drawEntities(svg4, diagObj.db.getEntities(), g);
  const relationships2 = addRelationships$1(diagObj.db.getRelationships(), g);
  import_dagre.default.layout(g);
  adjustEntities$1(svg4, g);
  relationships2.forEach(function(rel) {
    drawRelationshipFromLayout$1(svg4, rel, g, firstEntity, diagObj);
  });
  const padding2 = conf$9.diagramPadding;
  const svgBounds = svg4.node().getBBox();
  const width2 = svgBounds.width + padding2 * 2;
  const height2 = svgBounds.height + padding2 * 2;
  configureSvgSize(svg4, height2, width2, conf$9.useMaxWidth);
  svg4.attr("viewBox", `${svgBounds.x - padding2} ${svgBounds.y - padding2} ${width2} ${height2}`);
  addSVGAccessibilityFields(diagObj.db, svg4, id5);
};
function generateId(str = "", prefix3 = "") {
  const simplifiedStr = str.replace(BAD_ID_CHARS_REGEXP, "");
  return `${strWithHyphen(prefix3)}${strWithHyphen(simplifiedStr)}${v4_default()}`;
}
function strWithHyphen(str = "") {
  return str.length > 0 ? `${str}-` : "";
}
var erRenderer = {
  setConf: setConf$8,
  draw: draw$b
};
var parser$7 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 9], $V1 = [1, 7], $V2 = [1, 6], $V3 = [1, 8], $V4 = [1, 20, 21, 22, 23, 38, 44, 46, 48, 52, 66, 67, 86, 87, 88, 89, 90, 91, 95, 105, 106, 109, 111, 112, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127], $V5 = [2, 10], $V6 = [1, 20], $V7 = [1, 21], $V8 = [1, 22], $V9 = [1, 23], $Va = [1, 30], $Vb = [1, 32], $Vc = [1, 33], $Vd = [1, 34], $Ve = [1, 62], $Vf = [1, 48], $Vg = [1, 52], $Vh = [1, 36], $Vi = [1, 37], $Vj = [1, 38], $Vk = [1, 39], $Vl = [1, 40], $Vm = [1, 56], $Vn = [1, 63], $Vo = [1, 51], $Vp = [1, 53], $Vq = [1, 55], $Vr = [1, 59], $Vs = [1, 60], $Vt = [1, 41], $Vu = [1, 42], $Vv = [1, 43], $Vw = [1, 44], $Vx = [1, 61], $Vy = [1, 50], $Vz = [1, 54], $VA = [1, 57], $VB = [1, 58], $VC = [1, 49], $VD = [1, 66], $VE = [1, 71], $VF = [1, 20, 21, 22, 23, 38, 42, 44, 46, 48, 52, 66, 67, 86, 87, 88, 89, 90, 91, 95, 105, 106, 109, 111, 112, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127], $VG = [1, 75], $VH = [1, 74], $VI = [1, 76], $VJ = [20, 21, 23, 81, 82], $VK = [1, 99], $VL = [1, 104], $VM = [1, 107], $VN = [1, 108], $VO = [1, 101], $VP = [1, 106], $VQ = [1, 109], $VR = [1, 102], $VS = [1, 114], $VT = [1, 113], $VU = [1, 103], $VV = [1, 105], $VW = [1, 110], $VX = [1, 111], $VY = [1, 112], $VZ = [1, 115], $V_ = [20, 21, 22, 23, 81, 82], $V$ = [20, 21, 22, 23, 53, 81, 82], $V01 = [20, 21, 22, 23, 40, 52, 53, 55, 57, 59, 61, 63, 65, 66, 67, 69, 71, 73, 74, 76, 81, 82, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], $V11 = [20, 21, 23], $V21 = [20, 21, 23, 52, 66, 67, 81, 82, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], $V31 = [1, 12, 20, 21, 22, 23, 24, 38, 42, 44, 46, 48, 52, 66, 67, 86, 87, 88, 89, 90, 91, 95, 105, 106, 109, 111, 112, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127], $V41 = [52, 66, 67, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], $V51 = [1, 149], $V61 = [1, 157], $V71 = [1, 158], $V81 = [1, 159], $V91 = [1, 160], $Va1 = [1, 144], $Vb1 = [1, 145], $Vc1 = [1, 141], $Vd1 = [1, 152], $Ve1 = [1, 153], $Vf1 = [1, 154], $Vg1 = [1, 155], $Vh1 = [1, 156], $Vi1 = [1, 161], $Vj1 = [1, 162], $Vk1 = [1, 147], $Vl1 = [1, 150], $Vm1 = [1, 146], $Vn1 = [1, 143], $Vo1 = [20, 21, 22, 23, 38, 42, 44, 46, 48, 52, 66, 67, 86, 87, 88, 89, 90, 91, 95, 105, 106, 109, 111, 112, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127], $Vp1 = [1, 165], $Vq1 = [20, 21, 22, 23, 26, 52, 66, 67, 91, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], $Vr1 = [20, 21, 22, 23, 24, 26, 38, 40, 41, 42, 52, 56, 58, 60, 62, 64, 66, 67, 68, 70, 72, 73, 75, 77, 81, 82, 86, 87, 88, 89, 90, 91, 92, 95, 105, 106, 109, 111, 112, 113, 114, 122, 123, 124, 125, 126, 127], $Vs1 = [12, 21, 22, 24], $Vt1 = [22, 106], $Vu1 = [1, 250], $Vv1 = [1, 245], $Vw1 = [1, 246], $Vx1 = [1, 254], $Vy1 = [1, 251], $Vz1 = [1, 248], $VA1 = [1, 247], $VB1 = [1, 249], $VC1 = [1, 252], $VD1 = [1, 253], $VE1 = [1, 255], $VF1 = [1, 273], $VG1 = [20, 21, 23, 106], $VH1 = [20, 21, 22, 23, 66, 67, 86, 102, 105, 106, 109, 110, 111, 112, 113];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "mermaidDoc": 4, "directive": 5, "openDirective": 6, "typeDirective": 7, "closeDirective": 8, "separator": 9, ":": 10, "argDirective": 11, "open_directive": 12, "type_directive": 13, "arg_directive": 14, "close_directive": 15, "graphConfig": 16, "document": 17, "line": 18, "statement": 19, "SEMI": 20, "NEWLINE": 21, "SPACE": 22, "EOF": 23, "GRAPH": 24, "NODIR": 25, "DIR": 26, "FirstStmtSeperator": 27, "ending": 28, "endToken": 29, "spaceList": 30, "spaceListNewline": 31, "verticeStatement": 32, "styleStatement": 33, "linkStyleStatement": 34, "classDefStatement": 35, "classStatement": 36, "clickStatement": 37, "subgraph": 38, "text": 39, "SQS": 40, "SQE": 41, "end": 42, "direction": 43, "acc_title": 44, "acc_title_value": 45, "acc_descr": 46, "acc_descr_value": 47, "acc_descr_multiline_value": 48, "link": 49, "node": 50, "vertex": 51, "AMP": 52, "STYLE_SEPARATOR": 53, "idString": 54, "DOUBLECIRCLESTART": 55, "DOUBLECIRCLEEND": 56, "PS": 57, "PE": 58, "(-": 59, "-)": 60, "STADIUMSTART": 61, "STADIUMEND": 62, "SUBROUTINESTART": 63, "SUBROUTINEEND": 64, "VERTEX_WITH_PROPS_START": 65, "ALPHA": 66, "COLON": 67, "PIPE": 68, "CYLINDERSTART": 69, "CYLINDEREND": 70, "DIAMOND_START": 71, "DIAMOND_STOP": 72, "TAGEND": 73, "TRAPSTART": 74, "TRAPEND": 75, "INVTRAPSTART": 76, "INVTRAPEND": 77, "linkStatement": 78, "arrowText": 79, "TESTSTR": 80, "START_LINK": 81, "LINK": 82, "textToken": 83, "STR": 84, "keywords": 85, "STYLE": 86, "LINKSTYLE": 87, "CLASSDEF": 88, "CLASS": 89, "CLICK": 90, "DOWN": 91, "UP": 92, "textNoTags": 93, "textNoTagsToken": 94, "DEFAULT": 95, "stylesOpt": 96, "alphaNum": 97, "CALLBACKNAME": 98, "CALLBACKARGS": 99, "HREF": 100, "LINK_TARGET": 101, "HEX": 102, "numList": 103, "INTERPOLATE": 104, "NUM": 105, "COMMA": 106, "style": 107, "styleComponent": 108, "MINUS": 109, "UNIT": 110, "BRKT": 111, "DOT": 112, "PCT": 113, "TAGSTART": 114, "alphaNumToken": 115, "idStringToken": 116, "alphaNumStatement": 117, "direction_tb": 118, "direction_bt": 119, "direction_rl": 120, "direction_lr": 121, "PUNCTUATION": 122, "UNICODE_TEXT": 123, "PLUS": 124, "EQUALS": 125, "MULT": 126, "UNDERSCORE": 127, "graphCodeTokens": 128, "ARROW_CROSS": 129, "ARROW_POINT": 130, "ARROW_CIRCLE": 131, "ARROW_OPEN": 132, "QUOTE": 133, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 10: ":", 12: "open_directive", 13: "type_directive", 14: "arg_directive", 15: "close_directive", 20: "SEMI", 21: "NEWLINE", 22: "SPACE", 23: "EOF", 24: "GRAPH", 25: "NODIR", 26: "DIR", 38: "subgraph", 40: "SQS", 41: "SQE", 42: "end", 44: "acc_title", 45: "acc_title_value", 46: "acc_descr", 47: "acc_descr_value", 48: "acc_descr_multiline_value", 52: "AMP", 53: "STYLE_SEPARATOR", 55: "DOUBLECIRCLESTART", 56: "DOUBLECIRCLEEND", 57: "PS", 58: "PE", 59: "(-", 60: "-)", 61: "STADIUMSTART", 62: "STADIUMEND", 63: "SUBROUTINESTART", 64: "SUBROUTINEEND", 65: "VERTEX_WITH_PROPS_START", 66: "ALPHA", 67: "COLON", 68: "PIPE", 69: "CYLINDERSTART", 70: "CYLINDEREND", 71: "DIAMOND_START", 72: "DIAMOND_STOP", 73: "TAGEND", 74: "TRAPSTART", 75: "TRAPEND", 76: "INVTRAPSTART", 77: "INVTRAPEND", 80: "TESTSTR", 81: "START_LINK", 82: "LINK", 84: "STR", 86: "STYLE", 87: "LINKSTYLE", 88: "CLASSDEF", 89: "CLASS", 90: "CLICK", 91: "DOWN", 92: "UP", 95: "DEFAULT", 98: "CALLBACKNAME", 99: "CALLBACKARGS", 100: "HREF", 101: "LINK_TARGET", 102: "HEX", 104: "INTERPOLATE", 105: "NUM", 106: "COMMA", 109: "MINUS", 110: "UNIT", 111: "BRKT", 112: "DOT", 113: "PCT", 114: "TAGSTART", 118: "direction_tb", 119: "direction_bt", 120: "direction_rl", 121: "direction_lr", 122: "PUNCTUATION", 123: "UNICODE_TEXT", 124: "PLUS", 125: "EQUALS", 126: "MULT", 127: "UNDERSCORE", 129: "ARROW_CROSS", 130: "ARROW_POINT", 131: "ARROW_CIRCLE", 132: "ARROW_OPEN", 133: "QUOTE" },
    productions_: [0, [3, 1], [3, 2], [5, 4], [5, 6], [6, 1], [7, 1], [11, 1], [8, 1], [4, 2], [17, 0], [17, 2], [18, 1], [18, 1], [18, 1], [18, 1], [18, 1], [16, 2], [16, 2], [16, 2], [16, 3], [28, 2], [28, 1], [29, 1], [29, 1], [29, 1], [27, 1], [27, 1], [27, 2], [31, 2], [31, 2], [31, 1], [31, 1], [30, 2], [30, 1], [19, 2], [19, 2], [19, 2], [19, 2], [19, 2], [19, 2], [19, 9], [19, 6], [19, 4], [19, 1], [19, 2], [19, 2], [19, 1], [9, 1], [9, 1], [9, 1], [32, 3], [32, 4], [32, 2], [32, 1], [50, 1], [50, 5], [50, 3], [51, 4], [51, 4], [51, 6], [51, 4], [51, 4], [51, 4], [51, 8], [51, 4], [51, 4], [51, 4], [51, 6], [51, 4], [51, 4], [51, 4], [51, 4], [51, 4], [51, 1], [49, 2], [49, 3], [49, 3], [49, 1], [49, 3], [78, 1], [79, 3], [39, 1], [39, 2], [39, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [93, 1], [93, 2], [35, 5], [35, 5], [36, 5], [37, 2], [37, 4], [37, 3], [37, 5], [37, 2], [37, 4], [37, 4], [37, 6], [37, 2], [37, 4], [37, 2], [37, 4], [37, 4], [37, 6], [33, 5], [33, 5], [34, 5], [34, 5], [34, 9], [34, 9], [34, 7], [34, 7], [103, 1], [103, 3], [96, 1], [96, 3], [107, 1], [107, 2], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [94, 1], [94, 1], [94, 1], [94, 1], [54, 1], [54, 2], [97, 1], [97, 2], [117, 1], [117, 1], [117, 1], [117, 1], [43, 1], [43, 1], [43, 1], [43, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 5:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 6:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 7:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 8:
          yy.parseDirective("}%%", "close_directive", "flowchart");
          break;
        case 10:
          this.$ = [];
          break;
        case 11:
          if (!Array.isArray($$[$0]) || $$[$0].length > 0) {
            $$[$0 - 1].push($$[$0]);
          }
          this.$ = $$[$0 - 1];
          break;
        case 12:
        case 82:
        case 84:
        case 96:
        case 152:
        case 154:
        case 155:
          this.$ = $$[$0];
          break;
        case 19:
          yy.setDirection("TB");
          this.$ = "TB";
          break;
        case 20:
          yy.setDirection($$[$0 - 1]);
          this.$ = $$[$0 - 1];
          break;
        case 35:
          this.$ = $$[$0 - 1].nodes;
          break;
        case 36:
        case 37:
        case 38:
        case 39:
        case 40:
          this.$ = [];
          break;
        case 41:
          this.$ = yy.addSubGraph($$[$0 - 6], $$[$0 - 1], $$[$0 - 4]);
          break;
        case 42:
          this.$ = yy.addSubGraph($$[$0 - 3], $$[$0 - 1], $$[$0 - 3]);
          break;
        case 43:
          this.$ = yy.addSubGraph(void 0, $$[$0 - 1], void 0);
          break;
        case 45:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 46:
        case 47:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 51:
          yy.addLink($$[$0 - 2].stmt, $$[$0], $$[$0 - 1]);
          this.$ = { stmt: $$[$0], nodes: $$[$0].concat($$[$0 - 2].nodes) };
          break;
        case 52:
          yy.addLink($$[$0 - 3].stmt, $$[$0 - 1], $$[$0 - 2]);
          this.$ = { stmt: $$[$0 - 1], nodes: $$[$0 - 1].concat($$[$0 - 3].nodes) };
          break;
        case 53:
          this.$ = { stmt: $$[$0 - 1], nodes: $$[$0 - 1] };
          break;
        case 54:
          this.$ = { stmt: $$[$0], nodes: $$[$0] };
          break;
        case 55:
          this.$ = [$$[$0]];
          break;
        case 56:
          this.$ = $$[$0 - 4].concat($$[$0]);
          break;
        case 57:
          this.$ = [$$[$0 - 2]];
          yy.setClass($$[$0 - 2], $$[$0]);
          break;
        case 58:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "square");
          break;
        case 59:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "doublecircle");
          break;
        case 60:
          this.$ = $$[$0 - 5];
          yy.addVertex($$[$0 - 5], $$[$0 - 2], "circle");
          break;
        case 61:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "ellipse");
          break;
        case 62:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "stadium");
          break;
        case 63:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "subroutine");
          break;
        case 64:
          this.$ = $$[$0 - 7];
          yy.addVertex($$[$0 - 7], $$[$0 - 1], "rect", void 0, void 0, void 0, Object.fromEntries([[$$[$0 - 5], $$[$0 - 3]]]));
          break;
        case 65:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "cylinder");
          break;
        case 66:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "round");
          break;
        case 67:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "diamond");
          break;
        case 68:
          this.$ = $$[$0 - 5];
          yy.addVertex($$[$0 - 5], $$[$0 - 2], "hexagon");
          break;
        case 69:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "odd");
          break;
        case 70:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "trapezoid");
          break;
        case 71:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "inv_trapezoid");
          break;
        case 72:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "lean_right");
          break;
        case 73:
          this.$ = $$[$0 - 3];
          yy.addVertex($$[$0 - 3], $$[$0 - 1], "lean_left");
          break;
        case 74:
          this.$ = $$[$0];
          yy.addVertex($$[$0]);
          break;
        case 75:
          $$[$0 - 1].text = $$[$0];
          this.$ = $$[$0 - 1];
          break;
        case 76:
        case 77:
          $$[$0 - 2].text = $$[$0 - 1];
          this.$ = $$[$0 - 2];
          break;
        case 78:
          this.$ = $$[$0];
          break;
        case 79:
          var inf = yy.destructLink($$[$0], $$[$0 - 2]);
          this.$ = { "type": inf.type, "stroke": inf.stroke, "length": inf.length, "text": $$[$0 - 1] };
          break;
        case 80:
          var inf = yy.destructLink($$[$0]);
          this.$ = { "type": inf.type, "stroke": inf.stroke, "length": inf.length };
          break;
        case 81:
          this.$ = $$[$0 - 1];
          break;
        case 83:
        case 97:
        case 153:
          this.$ = $$[$0 - 1] + "" + $$[$0];
          break;
        case 98:
        case 99:
          this.$ = $$[$0 - 4];
          yy.addClass($$[$0 - 2], $$[$0]);
          break;
        case 100:
          this.$ = $$[$0 - 4];
          yy.setClass($$[$0 - 2], $$[$0]);
          break;
        case 101:
        case 109:
          this.$ = $$[$0 - 1];
          yy.setClickEvent($$[$0 - 1], $$[$0]);
          break;
        case 102:
        case 110:
          this.$ = $$[$0 - 3];
          yy.setClickEvent($$[$0 - 3], $$[$0 - 2]);
          yy.setTooltip($$[$0 - 3], $$[$0]);
          break;
        case 103:
          this.$ = $$[$0 - 2];
          yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);
          break;
        case 104:
          this.$ = $$[$0 - 4];
          yy.setClickEvent($$[$0 - 4], $$[$0 - 3], $$[$0 - 2]);
          yy.setTooltip($$[$0 - 4], $$[$0]);
          break;
        case 105:
        case 111:
          this.$ = $$[$0 - 1];
          yy.setLink($$[$0 - 1], $$[$0]);
          break;
        case 106:
        case 112:
          this.$ = $$[$0 - 3];
          yy.setLink($$[$0 - 3], $$[$0 - 2]);
          yy.setTooltip($$[$0 - 3], $$[$0]);
          break;
        case 107:
        case 113:
          this.$ = $$[$0 - 3];
          yy.setLink($$[$0 - 3], $$[$0 - 2], $$[$0]);
          break;
        case 108:
        case 114:
          this.$ = $$[$0 - 5];
          yy.setLink($$[$0 - 5], $$[$0 - 4], $$[$0]);
          yy.setTooltip($$[$0 - 5], $$[$0 - 2]);
          break;
        case 115:
          this.$ = $$[$0 - 4];
          yy.addVertex($$[$0 - 2], void 0, void 0, $$[$0]);
          break;
        case 116:
        case 118:
          this.$ = $$[$0 - 4];
          yy.updateLink($$[$0 - 2], $$[$0]);
          break;
        case 117:
          this.$ = $$[$0 - 4];
          yy.updateLink([$$[$0 - 2]], $$[$0]);
          break;
        case 119:
          this.$ = $$[$0 - 8];
          yy.updateLinkInterpolate([$$[$0 - 6]], $$[$0 - 2]);
          yy.updateLink([$$[$0 - 6]], $$[$0]);
          break;
        case 120:
          this.$ = $$[$0 - 8];
          yy.updateLinkInterpolate($$[$0 - 6], $$[$0 - 2]);
          yy.updateLink($$[$0 - 6], $$[$0]);
          break;
        case 121:
          this.$ = $$[$0 - 6];
          yy.updateLinkInterpolate([$$[$0 - 4]], $$[$0]);
          break;
        case 122:
          this.$ = $$[$0 - 6];
          yy.updateLinkInterpolate($$[$0 - 4], $$[$0]);
          break;
        case 123:
        case 125:
          this.$ = [$$[$0]];
          break;
        case 124:
        case 126:
          $$[$0 - 2].push($$[$0]);
          this.$ = $$[$0 - 2];
          break;
        case 128:
          this.$ = $$[$0 - 1] + $$[$0];
          break;
        case 150:
          this.$ = $$[$0];
          break;
        case 151:
          this.$ = $$[$0 - 1] + "" + $$[$0];
          break;
        case 156:
          this.$ = "v";
          break;
        case 157:
          this.$ = "-";
          break;
        case 158:
          this.$ = { stmt: "dir", value: "TB" };
          break;
        case 159:
          this.$ = { stmt: "dir", value: "BT" };
          break;
        case 160:
          this.$ = { stmt: "dir", value: "RL" };
          break;
        case 161:
          this.$ = { stmt: "dir", value: "LR" };
          break;
      }
    },
    table: [{ 3: 1, 4: 2, 5: 3, 6: 5, 12: $V0, 16: 4, 21: $V1, 22: $V2, 24: $V3 }, { 1: [3] }, { 1: [2, 1] }, { 3: 10, 4: 2, 5: 3, 6: 5, 12: $V0, 16: 4, 21: $V1, 22: $V2, 24: $V3 }, o($V4, $V5, { 17: 11 }), { 7: 12, 13: [1, 13] }, { 16: 14, 21: $V1, 22: $V2, 24: $V3 }, { 16: 15, 21: $V1, 22: $V2, 24: $V3 }, { 25: [1, 16], 26: [1, 17] }, { 13: [2, 5] }, { 1: [2, 2] }, { 1: [2, 9], 18: 18, 19: 19, 20: $V6, 21: $V7, 22: $V8, 23: $V9, 32: 24, 33: 25, 34: 26, 35: 27, 36: 28, 37: 29, 38: $Va, 43: 31, 44: $Vb, 46: $Vc, 48: $Vd, 50: 35, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 90: $Vl, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 118: $Vt, 119: $Vu, 120: $Vv, 121: $Vw, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 8: 64, 10: [1, 65], 15: $VD }, o([10, 15], [2, 6]), o($V4, [2, 17]), o($V4, [2, 18]), o($V4, [2, 19]), { 20: [1, 68], 21: [1, 69], 22: $VE, 27: 67, 30: 70 }, o($VF, [2, 11]), o($VF, [2, 12]), o($VF, [2, 13]), o($VF, [2, 14]), o($VF, [2, 15]), o($VF, [2, 16]), { 9: 72, 20: $VG, 21: $VH, 23: $VI, 49: 73, 78: 77, 81: [1, 78], 82: [1, 79] }, { 9: 80, 20: $VG, 21: $VH, 23: $VI }, { 9: 81, 20: $VG, 21: $VH, 23: $VI }, { 9: 82, 20: $VG, 21: $VH, 23: $VI }, { 9: 83, 20: $VG, 21: $VH, 23: $VI }, { 9: 84, 20: $VG, 21: $VH, 23: $VI }, { 9: 86, 20: $VG, 21: $VH, 22: [1, 85], 23: $VI }, o($VF, [2, 44]), { 45: [1, 87] }, { 47: [1, 88] }, o($VF, [2, 47]), o($VJ, [2, 54], { 30: 89, 22: $VE }), { 22: [1, 90] }, { 22: [1, 91] }, { 22: [1, 92] }, { 22: [1, 93] }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 84: [1, 97], 91: $VO, 97: 96, 98: [1, 94], 100: [1, 95], 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($VF, [2, 158]), o($VF, [2, 159]), o($VF, [2, 160]), o($VF, [2, 161]), o($V_, [2, 55], { 53: [1, 116] }), o($V$, [2, 74], { 116: 129, 40: [1, 117], 52: $Ve, 55: [1, 118], 57: [1, 119], 59: [1, 120], 61: [1, 121], 63: [1, 122], 65: [1, 123], 66: $Vf, 67: $Vg, 69: [1, 124], 71: [1, 125], 73: [1, 126], 74: [1, 127], 76: [1, 128], 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }), o($V01, [2, 150]), o($V01, [2, 175]), o($V01, [2, 176]), o($V01, [2, 177]), o($V01, [2, 178]), o($V01, [2, 179]), o($V01, [2, 180]), o($V01, [2, 181]), o($V01, [2, 182]), o($V01, [2, 183]), o($V01, [2, 184]), o($V01, [2, 185]), o($V01, [2, 186]), o($V01, [2, 187]), o($V01, [2, 188]), o($V01, [2, 189]), o($V01, [2, 190]), { 9: 130, 20: $VG, 21: $VH, 23: $VI }, { 11: 131, 14: [1, 132] }, o($V11, [2, 8]), o($V4, [2, 20]), o($V4, [2, 26]), o($V4, [2, 27]), { 21: [1, 133] }, o($V21, [2, 34], { 30: 134, 22: $VE }), o($VF, [2, 35]), { 50: 135, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, o($V31, [2, 48]), o($V31, [2, 49]), o($V31, [2, 50]), o($V41, [2, 78], { 79: 136, 68: [1, 138], 80: [1, 137] }), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 139, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o([52, 66, 67, 68, 80, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], [2, 80]), o($VF, [2, 36]), o($VF, [2, 37]), o($VF, [2, 38]), o($VF, [2, 39]), o($VF, [2, 40]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 163, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($Vo1, $V5, { 17: 164 }), o($VF, [2, 45]), o($VF, [2, 46]), o($VJ, [2, 53], { 52: $Vp1 }), { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 166, 102: [1, 167], 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 95: [1, 168], 103: 169, 105: [1, 170] }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 95: [1, 171], 97: 172, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 173, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V11, [2, 101], { 22: [1, 174], 99: [1, 175] }), o($V11, [2, 105], { 22: [1, 176] }), o($V11, [2, 109], { 115: 100, 117: 178, 22: [1, 177], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }), o($V11, [2, 111], { 22: [1, 179] }), o($Vq1, [2, 152]), o($Vq1, [2, 154]), o($Vq1, [2, 155]), o($Vq1, [2, 156]), o($Vq1, [2, 157]), o($Vr1, [2, 162]), o($Vr1, [2, 163]), o($Vr1, [2, 164]), o($Vr1, [2, 165]), o($Vr1, [2, 166]), o($Vr1, [2, 167]), o($Vr1, [2, 168]), o($Vr1, [2, 169]), o($Vr1, [2, 170]), o($Vr1, [2, 171]), o($Vr1, [2, 172]), o($Vr1, [2, 173]), o($Vr1, [2, 174]), { 52: $Ve, 54: 180, 66: $Vf, 67: $Vg, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 181, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 182, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 184, 42: $V91, 52: $VL, 57: [1, 183], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 185, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 186, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 187, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 66: [1, 188] }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 189, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 190, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 71: [1, 191], 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 192, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 193, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 194, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V01, [2, 151]), o($Vs1, [2, 3]), { 8: 195, 15: $VD }, { 15: [2, 7] }, o($V4, [2, 28]), o($V21, [2, 33]), o($VJ, [2, 51], { 30: 196, 22: $VE }), o($V41, [2, 75], { 22: [1, 197] }), { 22: [1, 198] }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 199, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 82: [1, 200], 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($Vr1, [2, 82]), o($Vr1, [2, 84]), o($Vr1, [2, 140]), o($Vr1, [2, 141]), o($Vr1, [2, 142]), o($Vr1, [2, 143]), o($Vr1, [2, 144]), o($Vr1, [2, 145]), o($Vr1, [2, 146]), o($Vr1, [2, 147]), o($Vr1, [2, 148]), o($Vr1, [2, 149]), o($Vr1, [2, 85]), o($Vr1, [2, 86]), o($Vr1, [2, 87]), o($Vr1, [2, 88]), o($Vr1, [2, 89]), o($Vr1, [2, 90]), o($Vr1, [2, 91]), o($Vr1, [2, 92]), o($Vr1, [2, 93]), o($Vr1, [2, 94]), o($Vr1, [2, 95]), { 9: 203, 20: $VG, 21: $VH, 22: $V51, 23: $VI, 24: $V61, 26: $V71, 38: $V81, 40: [1, 202], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 18: 18, 19: 19, 20: $V6, 21: $V7, 22: $V8, 23: $V9, 32: 24, 33: 25, 34: 26, 35: 27, 36: 28, 37: 29, 38: $Va, 42: [1, 204], 43: 31, 44: $Vb, 46: $Vc, 48: $Vd, 50: 35, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 90: $Vl, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 118: $Vt, 119: $Vu, 120: $Vv, 121: $Vw, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 22: $VE, 30: 205 }, { 22: [1, 206], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 178, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: [1, 207] }, { 22: [1, 208] }, { 22: [1, 209], 106: [1, 210] }, o($Vt1, [2, 123]), { 22: [1, 211] }, { 22: [1, 212], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 178, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: [1, 213], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 178, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 84: [1, 214] }, o($V11, [2, 103], { 22: [1, 215] }), { 84: [1, 216], 101: [1, 217] }, { 84: [1, 218] }, o($Vq1, [2, 153]), { 84: [1, 219], 101: [1, 220] }, o($V_, [2, 57], { 116: 129, 52: $Ve, 66: $Vf, 67: $Vg, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 41: [1, 221], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 56: [1, 222], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 223, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 58: [1, 224], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 60: [1, 225], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 62: [1, 226], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 64: [1, 227], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 67: [1, 228] }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 70: [1, 229], 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 72: [1, 230], 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 231, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 41: [1, 232], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 75: [1, 233], 77: [1, 234], 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 75: [1, 236], 77: [1, 235], 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 9: 237, 20: $VG, 21: $VH, 23: $VI }, o($VJ, [2, 52], { 52: $Vp1 }), o($V41, [2, 77]), o($V41, [2, 76]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 68: [1, 238], 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V41, [2, 79]), o($Vr1, [2, 83]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 239, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($Vo1, $V5, { 17: 240 }), o($VF, [2, 43]), { 51: 241, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 242, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 256, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 257, 102: $Vy1, 104: [1, 258], 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 259, 102: $Vy1, 104: [1, 260], 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 105: [1, 261] }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 262, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 263, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 264, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V11, [2, 102]), { 84: [1, 265] }, o($V11, [2, 106], { 22: [1, 266] }), o($V11, [2, 107]), o($V11, [2, 110]), o($V11, [2, 112], { 22: [1, 267] }), o($V11, [2, 113]), o($V$, [2, 58]), o($V$, [2, 59]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 58: [1, 268], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V$, [2, 66]), o($V$, [2, 61]), o($V$, [2, 62]), o($V$, [2, 63]), { 66: [1, 269] }, o($V$, [2, 65]), o($V$, [2, 67]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 72: [1, 270], 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V$, [2, 69]), o($V$, [2, 70]), o($V$, [2, 72]), o($V$, [2, 71]), o($V$, [2, 73]), o($Vs1, [2, 4]), o([22, 52, 66, 67, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], [2, 81]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 41: [1, 271], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 18: 18, 19: 19, 20: $V6, 21: $V7, 22: $V8, 23: $V9, 32: 24, 33: 25, 34: 26, 35: 27, 36: 28, 37: 29, 38: $Va, 42: [1, 272], 43: 31, 44: $Vb, 46: $Vc, 48: $Vd, 50: 35, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 90: $Vl, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 118: $Vt, 119: $Vu, 120: $Vv, 121: $Vw, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, o($V_, [2, 56]), o($V11, [2, 115], { 106: $VF1 }), o($VG1, [2, 125], { 108: 274, 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 102: $Vy1, 105: $Vz1, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }), o($VH1, [2, 127]), o($VH1, [2, 129]), o($VH1, [2, 130]), o($VH1, [2, 131]), o($VH1, [2, 132]), o($VH1, [2, 133]), o($VH1, [2, 134]), o($VH1, [2, 135]), o($VH1, [2, 136]), o($VH1, [2, 137]), o($VH1, [2, 138]), o($VH1, [2, 139]), o($V11, [2, 116], { 106: $VF1 }), o($V11, [2, 117], { 106: $VF1 }), { 22: [1, 275] }, o($V11, [2, 118], { 106: $VF1 }), { 22: [1, 276] }, o($Vt1, [2, 124]), o($V11, [2, 98], { 106: $VF1 }), o($V11, [2, 99], { 106: $VF1 }), o($V11, [2, 100], { 115: 100, 117: 178, 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }), o($V11, [2, 104]), { 101: [1, 277] }, { 101: [1, 278] }, { 58: [1, 279] }, { 68: [1, 280] }, { 72: [1, 281] }, { 9: 282, 20: $VG, 21: $VH, 23: $VI }, o($VF, [2, 42]), { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 102: $Vy1, 105: $Vz1, 107: 283, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, o($VH1, [2, 128]), { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 284, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 285, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V11, [2, 108]), o($V11, [2, 114]), o($V$, [2, 60]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 286, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V$, [2, 68]), o($Vo1, $V5, { 17: 287 }), o($VG1, [2, 126], { 108: 274, 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 102: $Vy1, 105: $Vz1, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }), o($V11, [2, 121], { 115: 100, 117: 178, 22: [1, 288], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }), o($V11, [2, 122], { 115: 100, 117: 178, 22: [1, 289], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 41: [1, 290], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 18: 18, 19: 19, 20: $V6, 21: $V7, 22: $V8, 23: $V9, 32: 24, 33: 25, 34: 26, 35: 27, 36: 28, 37: 29, 38: $Va, 42: [1, 291], 43: 31, 44: $Vb, 46: $Vc, 48: $Vd, 50: 35, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 90: $Vl, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 118: $Vt, 119: $Vu, 120: $Vv, 121: $Vw, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 292, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 293, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, o($V$, [2, 64]), o($VF, [2, 41]), o($V11, [2, 119], { 106: $VF1 }), o($V11, [2, 120], { 106: $VF1 })],
    defaultActions: { 2: [2, 1], 9: [2, 5], 10: [2, 2], 132: [2, 7] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: {},
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("open_directive");
            return 12;
          case 1:
            this.begin("type_directive");
            return 13;
          case 2:
            this.popState();
            this.begin("arg_directive");
            return 10;
          case 3:
            this.popState();
            this.popState();
            return 15;
          case 4:
            return 14;
          case 5:
            break;
          case 6:
            break;
          case 7:
            this.begin("acc_title");
            return 44;
          case 8:
            this.popState();
            return "acc_title_value";
          case 9:
            this.begin("acc_descr");
            return 46;
          case 10:
            this.popState();
            return "acc_descr_value";
          case 11:
            this.begin("acc_descr_multiline");
            break;
          case 12:
            this.popState();
            break;
          case 13:
            return "acc_descr_multiline_value";
          case 14:
            this.begin("string");
            break;
          case 15:
            this.popState();
            break;
          case 16:
            return "STR";
          case 17:
            return 86;
          case 18:
            return 95;
          case 19:
            return 87;
          case 20:
            return 104;
          case 21:
            return 88;
          case 22:
            return 89;
          case 23:
            this.begin("href");
            break;
          case 24:
            this.popState();
            break;
          case 25:
            return 100;
          case 26:
            this.begin("callbackname");
            break;
          case 27:
            this.popState();
            break;
          case 28:
            this.popState();
            this.begin("callbackargs");
            break;
          case 29:
            return 98;
          case 30:
            this.popState();
            break;
          case 31:
            return 99;
          case 32:
            this.begin("click");
            break;
          case 33:
            this.popState();
            break;
          case 34:
            return 90;
          case 35:
            if (yy.lex.firstGraph()) {
              this.begin("dir");
            }
            return 24;
          case 36:
            if (yy.lex.firstGraph()) {
              this.begin("dir");
            }
            return 24;
          case 37:
            return 38;
          case 38:
            return 42;
          case 39:
            return 101;
          case 40:
            return 101;
          case 41:
            return 101;
          case 42:
            return 101;
          case 43:
            this.popState();
            return 25;
          case 44:
            this.popState();
            return 26;
          case 45:
            this.popState();
            return 26;
          case 46:
            this.popState();
            return 26;
          case 47:
            this.popState();
            return 26;
          case 48:
            this.popState();
            return 26;
          case 49:
            this.popState();
            return 26;
          case 50:
            this.popState();
            return 26;
          case 51:
            this.popState();
            return 26;
          case 52:
            this.popState();
            return 26;
          case 53:
            this.popState();
            return 26;
          case 54:
            return 118;
          case 55:
            return 119;
          case 56:
            return 120;
          case 57:
            return 121;
          case 58:
            return 105;
          case 59:
            return 111;
          case 60:
            return 53;
          case 61:
            return 67;
          case 62:
            return 52;
          case 63:
            return 20;
          case 64:
            return 106;
          case 65:
            return 126;
          case 66:
            return 82;
          case 67:
            return 82;
          case 68:
            return 82;
          case 69:
            return 82;
          case 70:
            return 81;
          case 71:
            return 81;
          case 72:
            return 81;
          case 73:
            return 59;
          case 74:
            return 60;
          case 75:
            return 61;
          case 76:
            return 62;
          case 77:
            return 63;
          case 78:
            return 64;
          case 79:
            return 65;
          case 80:
            return 69;
          case 81:
            return 70;
          case 82:
            return 55;
          case 83:
            return 56;
          case 84:
            return 109;
          case 85:
            return 112;
          case 86:
            return 127;
          case 87:
            return 124;
          case 88:
            return 113;
          case 89:
            return 125;
          case 90:
            return 125;
          case 91:
            return 114;
          case 92:
            return 73;
          case 93:
            return 92;
          case 94:
            return "SEP";
          case 95:
            return 91;
          case 96:
            return 66;
          case 97:
            return 75;
          case 98:
            return 74;
          case 99:
            return 77;
          case 100:
            return 76;
          case 101:
            return 122;
          case 102:
            return 123;
          case 103:
            return 68;
          case 104:
            return 57;
          case 105:
            return 58;
          case 106:
            return 40;
          case 107:
            return 41;
          case 108:
            return 71;
          case 109:
            return 72;
          case 110:
            return 133;
          case 111:
            return 21;
          case 112:
            return 22;
          case 113:
            return 23;
        }
      },
      rules: [/^(?:%%\{)/, /^(?:((?:(?!\}%%)[^:.])*))/, /^(?::)/, /^(?:\}%%)/, /^(?:((?:(?!\}%%).|\n)*))/, /^(?:%%(?!\{)[^\n]*)/, /^(?:[^\}]%%[^\n]*)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:style\b)/, /^(?:default\b)/, /^(?:linkStyle\b)/, /^(?:interpolate\b)/, /^(?:classDef\b)/, /^(?:class\b)/, /^(?:href[\s]+["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:call[\s]+)/, /^(?:\([\s]*\))/, /^(?:\()/, /^(?:[^(]*)/, /^(?:\))/, /^(?:[^)]*)/, /^(?:click[\s]+)/, /^(?:[\s\n])/, /^(?:[^\s\n]*)/, /^(?:graph\b)/, /^(?:flowchart\b)/, /^(?:subgraph\b)/, /^(?:end\b\s*)/, /^(?:_self\b)/, /^(?:_blank\b)/, /^(?:_parent\b)/, /^(?:_top\b)/, /^(?:(\r?\n)*\s*\n)/, /^(?:\s*LR\b)/, /^(?:\s*RL\b)/, /^(?:\s*TB\b)/, /^(?:\s*BT\b)/, /^(?:\s*TD\b)/, /^(?:\s*BR\b)/, /^(?:\s*<)/, /^(?:\s*>)/, /^(?:\s*\^)/, /^(?:\s*v\b)/, /^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:[0-9]+)/, /^(?:#)/, /^(?::::)/, /^(?::)/, /^(?:&)/, /^(?:;)/, /^(?:,)/, /^(?:\*)/, /^(?:\s*[xo<]?--+[-xo>]\s*)/, /^(?:\s*[xo<]?==+[=xo>]\s*)/, /^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/, /^(?:\s*~~[\~]+\s*)/, /^(?:\s*[xo<]?--\s*)/, /^(?:\s*[xo<]?==\s*)/, /^(?:\s*[xo<]?-\.\s*)/, /^(?:\(-)/, /^(?:-\))/, /^(?:\(\[)/, /^(?:\]\))/, /^(?:\[\[)/, /^(?:\]\])/, /^(?:\[\|)/, /^(?:\[\()/, /^(?:\)\])/, /^(?:\(\(\()/, /^(?:\)\)\))/, /^(?:-)/, /^(?:\.)/, /^(?:[\_])/, /^(?:\+)/, /^(?:%)/, /^(?:=)/, /^(?:=)/, /^(?:<)/, /^(?:>)/, /^(?:\^)/, /^(?:\\\|)/, /^(?:v\b)/, /^(?:[A-Za-z]+)/, /^(?:\\\])/, /^(?:\[\/)/, /^(?:\/\])/, /^(?:\[\\)/, /^(?:[!"#$%&'*+,-.`?\\_/])/, /^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/, /^(?:\|)/, /^(?:\()/, /^(?:\))/, /^(?:\[)/, /^(?:\])/, /^(?:\{)/, /^(?:\})/, /^(?:")/, /^(?:(\r?\n)+)/, /^(?:\s)/, /^(?:$)/],
      conditions: { "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "callbackargs": { "rules": [30, 31], "inclusive": false }, "callbackname": { "rules": [27, 28, 29], "inclusive": false }, "href": { "rules": [24, 25], "inclusive": false }, "click": { "rules": [33, 34], "inclusive": false }, "vertex": { "rules": [], "inclusive": false }, "dir": { "rules": [43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53], "inclusive": false }, "acc_descr_multiline": { "rules": [12, 13], "inclusive": false }, "acc_descr": { "rules": [10], "inclusive": false }, "acc_title": { "rules": [8], "inclusive": false }, "string": { "rules": [15, 16], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 7, 9, 11, 14, 17, 18, 19, 20, 21, 22, 23, 26, 32, 35, 36, 37, 38, 39, 40, 41, 42, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$7.parser = parser$7;
var flowDetector = (txt, config2) => {
  var _a;
  if (((_a = config2 == null ? void 0 : config2.flowchart) == null ? void 0 : _a.defaultRenderer) === "dagre-wrapper")
    return false;
  return txt.match(/^\s*graph/) !== null;
};
var flowDetectorV2 = (txt, config2) => {
  var _a;
  if (((_a = config2 == null ? void 0 : config2.flowchart) == null ? void 0 : _a.defaultRenderer) === "dagre-wrapper" && txt.match(/^\s*graph/) !== null)
    return true;
  return txt.match(/^\s*flowchart/) !== null;
};
var MERMAID_DOM_ID_PREFIX = "flowchart-";
var vertexCounter = 0;
var config = getConfig$1();
var vertices = {};
var edges2 = [];
var classes$1 = [];
var subGraphs = [];
var subGraphLookup = {};
var tooltips = {};
var subCount = 0;
var firstGraphFlag = true;
var direction$1;
var version2;
var funs$1 = [];
var sanitizeText = (txt) => common.sanitizeText(txt, config);
var parseDirective$7 = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var lookUpDomId = function(id5) {
  const veritceKeys = Object.keys(vertices);
  for (let i = 0; i < veritceKeys.length; i++) {
    if (vertices[veritceKeys[i]].id === id5) {
      return vertices[veritceKeys[i]].domId;
    }
  }
  return id5;
};
var addVertex = function(_id, text2, type22, style, classes2, dir, props = {}) {
  let txt;
  let id5 = _id;
  if (typeof id5 === "undefined") {
    return;
  }
  if (id5.trim().length === 0) {
    return;
  }
  if (typeof vertices[id5] === "undefined") {
    vertices[id5] = {
      id: id5,
      domId: MERMAID_DOM_ID_PREFIX + id5 + "-" + vertexCounter,
      styles: [],
      classes: []
    };
  }
  vertexCounter++;
  if (typeof text2 !== "undefined") {
    config = getConfig$1();
    txt = sanitizeText(text2.trim());
    if (txt[0] === '"' && txt[txt.length - 1] === '"') {
      txt = txt.substring(1, txt.length - 1);
    }
    vertices[id5].text = txt;
  } else {
    if (typeof vertices[id5].text === "undefined") {
      vertices[id5].text = _id;
    }
  }
  if (typeof type22 !== "undefined") {
    vertices[id5].type = type22;
  }
  if (typeof style !== "undefined") {
    if (style !== null) {
      style.forEach(function(s3) {
        vertices[id5].styles.push(s3);
      });
    }
  }
  if (typeof classes2 !== "undefined") {
    if (classes2 !== null) {
      classes2.forEach(function(s3) {
        vertices[id5].classes.push(s3);
      });
    }
  }
  if (typeof dir !== "undefined") {
    vertices[id5].dir = dir;
  }
  vertices[id5].props = props;
};
var addSingleLink = function(_start, _end, type22, linktext) {
  let start22 = _start;
  let end2 = _end;
  const edge = { start: start22, end: end2, type: void 0, text: "" };
  linktext = type22.text;
  if (typeof linktext !== "undefined") {
    edge.text = sanitizeText(linktext.trim());
    if (edge.text[0] === '"' && edge.text[edge.text.length - 1] === '"') {
      edge.text = edge.text.substring(1, edge.text.length - 1);
    }
  }
  if (typeof type22 !== "undefined") {
    edge.type = type22.type;
    edge.stroke = type22.stroke;
    edge.length = type22.length;
  }
  edges2.push(edge);
};
var addLink = function(_start, _end, type22, linktext) {
  let i, j;
  for (i = 0; i < _start.length; i++) {
    for (j = 0; j < _end.length; j++) {
      addSingleLink(_start[i], _end[j], type22, linktext);
    }
  }
};
var updateLinkInterpolate = function(positions, interp) {
  positions.forEach(function(pos) {
    if (pos === "default") {
      edges2.defaultInterpolate = interp;
    } else {
      edges2[pos].interpolate = interp;
    }
  });
};
var updateLink = function(positions, style) {
  positions.forEach(function(pos) {
    if (pos === "default") {
      edges2.defaultStyle = style;
    } else {
      if (utils.isSubstringInArray("fill", style) === -1) {
        style.push("fill:none");
      }
      edges2[pos].style = style;
    }
  });
};
var addClass = function(id5, style) {
  if (typeof classes$1[id5] === "undefined") {
    classes$1[id5] = { id: id5, styles: [], textStyles: [] };
  }
  if (typeof style !== "undefined") {
    if (style !== null) {
      style.forEach(function(s3) {
        if (s3.match("color")) {
          const newStyle1 = s3.replace("fill", "bgFill");
          const newStyle2 = newStyle1.replace("color", "fill");
          classes$1[id5].textStyles.push(newStyle2);
        }
        classes$1[id5].styles.push(s3);
      });
    }
  }
};
var setDirection$1 = function(dir) {
  direction$1 = dir;
  if (direction$1.match(/.*</)) {
    direction$1 = "RL";
  }
  if (direction$1.match(/.*\^/)) {
    direction$1 = "BT";
  }
  if (direction$1.match(/.*>/)) {
    direction$1 = "LR";
  }
  if (direction$1.match(/.*v/)) {
    direction$1 = "TB";
  }
};
var setClass$1 = function(ids, className) {
  ids.split(",").forEach(function(_id) {
    let id5 = _id;
    if (typeof vertices[id5] !== "undefined") {
      vertices[id5].classes.push(className);
    }
    if (typeof subGraphLookup[id5] !== "undefined") {
      subGraphLookup[id5].classes.push(className);
    }
  });
};
var setTooltip = function(ids, tooltip) {
  ids.split(",").forEach(function(id5) {
    if (typeof tooltip !== "undefined") {
      tooltips[version2 === "gen-1" ? lookUpDomId(id5) : id5] = sanitizeText(tooltip);
    }
  });
};
var setClickFun$1 = function(id5, functionName, functionArgs) {
  let domId = lookUpDomId(id5);
  if (getConfig$1().securityLevel !== "loose") {
    return;
  }
  if (typeof functionName === "undefined") {
    return;
  }
  let argList = [];
  if (typeof functionArgs === "string") {
    argList = functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
    for (let i = 0; i < argList.length; i++) {
      let item = argList[i].trim();
      if (item.charAt(0) === '"' && item.charAt(item.length - 1) === '"') {
        item = item.substr(1, item.length - 2);
      }
      argList[i] = item;
    }
  }
  if (argList.length === 0) {
    argList.push(id5);
  }
  if (typeof vertices[id5] !== "undefined") {
    vertices[id5].haveCallback = true;
    funs$1.push(function() {
      const elem = document.querySelector(`[id="${domId}"]`);
      if (elem !== null) {
        elem.addEventListener(
          "click",
          function() {
            utils.runFunc(functionName, ...argList);
          },
          false
        );
      }
    });
  }
};
var setLink$1 = function(ids, linkStr, target) {
  ids.split(",").forEach(function(id5) {
    if (typeof vertices[id5] !== "undefined") {
      vertices[id5].link = utils.formatUrl(linkStr, config);
      vertices[id5].linkTarget = target;
    }
  });
  setClass$1(ids, "clickable");
};
var getTooltip = function(id5) {
  return tooltips[id5];
};
var setClickEvent$1 = function(ids, functionName, functionArgs) {
  ids.split(",").forEach(function(id5) {
    setClickFun$1(id5, functionName, functionArgs);
  });
  setClass$1(ids, "clickable");
};
var bindFunctions$1 = function(element) {
  funs$1.forEach(function(fun) {
    fun(element);
  });
};
var getDirection$1 = function() {
  return direction$1.trim();
};
var getVertices = function() {
  return vertices;
};
var getEdges = function() {
  return edges2;
};
var getClasses$4 = function() {
  return classes$1;
};
var setupToolTips = function(element) {
  let tooltipElem = select_default5(".mermaidTooltip");
  if ((tooltipElem._groups || tooltipElem)[0][0] === null) {
    tooltipElem = select_default5("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0);
  }
  const svg4 = select_default5(element).select("svg");
  const nodes = svg4.selectAll("g.node");
  nodes.on("mouseover", function() {
    const el = select_default5(this);
    const title2 = el.attr("title");
    if (title2 === null) {
      return;
    }
    const rect2 = this.getBoundingClientRect();
    tooltipElem.transition().duration(200).style("opacity", ".9");
    tooltipElem.text(el.attr("title")).style("left", window.scrollX + rect2.left + (rect2.right - rect2.left) / 2 + "px").style("top", window.scrollY + rect2.top - 14 + document.body.scrollTop + "px");
    tooltipElem.html(tooltipElem.html().replace(/&lt;br\/&gt;/g, "<br/>"));
    el.classed("hover", true);
  }).on("mouseout", function() {
    tooltipElem.transition().duration(500).style("opacity", 0);
    const el = select_default5(this);
    el.classed("hover", false);
  });
};
funs$1.push(setupToolTips);
var clear$6 = function(ver = "gen-1") {
  vertices = {};
  classes$1 = {};
  edges2 = [];
  funs$1 = [setupToolTips];
  subGraphs = [];
  subGraphLookup = {};
  subCount = 0;
  tooltips = [];
  firstGraphFlag = true;
  version2 = ver;
  clear$g();
};
var setGen = (ver) => {
  version2 = ver || "gen-1";
};
var defaultStyle = function() {
  return "fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;";
};
var addSubGraph = function(_id, list, _title) {
  let id5 = _id.trim();
  let title2 = _title.trim();
  if (id5 === title2 && title2.match(/\s/)) {
    id5 = void 0;
  }
  function uniq(a3) {
    const prims = { boolean: {}, number: {}, string: {} };
    const objs = [];
    let dir2;
    const nodeList2 = a3.filter(function(item) {
      const type22 = typeof item;
      if (item.stmt && item.stmt === "dir") {
        dir2 = item.value;
        return false;
      }
      if (item.trim() === "") {
        return false;
      }
      if (type22 in prims) {
        return prims[type22].hasOwnProperty(item) ? false : prims[type22][item] = true;
      } else {
        return objs.indexOf(item) >= 0 ? false : objs.push(item);
      }
    });
    return { nodeList: nodeList2, dir: dir2 };
  }
  let nodeList = [];
  const { nodeList: nl, dir } = uniq(nodeList.concat.apply(nodeList, list));
  nodeList = nl;
  if (version2 === "gen-1") {
    for (let i = 0; i < nodeList.length; i++) {
      nodeList[i] = lookUpDomId(nodeList[i]);
    }
  }
  id5 = id5 || "subGraph" + subCount;
  title2 = title2 || "";
  title2 = sanitizeText(title2);
  subCount = subCount + 1;
  const subGraph = { id: id5, nodes: nodeList, title: title2.trim(), classes: [], dir };
  log$1.info("Adding", subGraph.id, subGraph.nodes, subGraph.dir);
  subGraph.nodes = makeUniq(subGraph, subGraphs).nodes;
  subGraphs.push(subGraph);
  subGraphLookup[id5] = subGraph;
  return id5;
};
var getPosForId = function(id5) {
  for (let i = 0; i < subGraphs.length; i++) {
    if (subGraphs[i].id === id5) {
      return i;
    }
  }
  return -1;
};
var secCount = -1;
var posCrossRef = [];
var indexNodes2 = function(id5, pos) {
  const nodes = subGraphs[pos].nodes;
  secCount = secCount + 1;
  if (secCount > 2e3) {
    return;
  }
  posCrossRef[secCount] = pos;
  if (subGraphs[pos].id === id5) {
    return {
      result: true,
      count: 0
    };
  }
  let count7 = 0;
  let posCount = 1;
  while (count7 < nodes.length) {
    const childPos = getPosForId(nodes[count7]);
    if (childPos >= 0) {
      const res = indexNodes2(id5, childPos);
      if (res.result) {
        return {
          result: true,
          count: posCount + res.count
        };
      } else {
        posCount = posCount + res.count;
      }
    }
    count7 = count7 + 1;
  }
  return {
    result: false,
    count: posCount
  };
};
var getDepthFirstPos = function(pos) {
  return posCrossRef[pos];
};
var indexNodes = function() {
  secCount = -1;
  if (subGraphs.length > 0) {
    indexNodes2("none", subGraphs.length - 1);
  }
};
var getSubGraphs = function() {
  return subGraphs;
};
var firstGraph = () => {
  if (firstGraphFlag) {
    firstGraphFlag = false;
    return true;
  }
  return false;
};
var destructStartLink = (_str) => {
  let str = _str.trim();
  let type22 = "arrow_open";
  switch (str[0]) {
    case "<":
      type22 = "arrow_point";
      str = str.slice(1);
      break;
    case "x":
      type22 = "arrow_cross";
      str = str.slice(1);
      break;
    case "o":
      type22 = "arrow_circle";
      str = str.slice(1);
      break;
  }
  let stroke = "normal";
  if (str.indexOf("=") !== -1) {
    stroke = "thick";
  }
  if (str.indexOf(".") !== -1) {
    stroke = "dotted";
  }
  return { type: type22, stroke };
};
var countChar = (char2, str) => {
  const length3 = str.length;
  let count7 = 0;
  for (let i = 0; i < length3; ++i) {
    if (str[i] === char2) {
      ++count7;
    }
  }
  return count7;
};
var destructEndLink = (_str) => {
  const str = _str.trim();
  let line2 = str.slice(0, -1);
  let type22 = "arrow_open";
  switch (str.slice(-1)) {
    case "x":
      type22 = "arrow_cross";
      if (str[0] === "x") {
        type22 = "double_" + type22;
        line2 = line2.slice(1);
      }
      break;
    case ">":
      type22 = "arrow_point";
      if (str[0] === "<") {
        type22 = "double_" + type22;
        line2 = line2.slice(1);
      }
      break;
    case "o":
      type22 = "arrow_circle";
      if (str[0] === "o") {
        type22 = "double_" + type22;
        line2 = line2.slice(1);
      }
      break;
  }
  let stroke = "normal";
  let length3 = line2.length - 1;
  if (line2[0] === "=") {
    stroke = "thick";
  }
  if (line2[0] === "~") {
    stroke = "invisible";
  }
  let dots = countChar(".", line2);
  if (dots) {
    stroke = "dotted";
    length3 = dots;
  }
  return { type: type22, stroke, length: length3 };
};
var destructLink = (_str, _startStr) => {
  const info2 = destructEndLink(_str);
  let startInfo;
  if (_startStr) {
    startInfo = destructStartLink(_startStr);
    if (startInfo.stroke !== info2.stroke) {
      return { type: "INVALID", stroke: "INVALID" };
    }
    if (startInfo.type === "arrow_open") {
      startInfo.type = info2.type;
    } else {
      if (startInfo.type !== info2.type)
        return { type: "INVALID", stroke: "INVALID" };
      startInfo.type = "double_" + startInfo.type;
    }
    if (startInfo.type === "double_arrow") {
      startInfo.type = "double_arrow_point";
    }
    startInfo.length = info2.length;
    return startInfo;
  }
  return info2;
};
var exists = (allSgs, _id) => {
  let res = false;
  allSgs.forEach((sg) => {
    const pos = sg.nodes.indexOf(_id);
    if (pos >= 0) {
      res = true;
    }
  });
  return res;
};
var makeUniq = (sg, allSubgraphs) => {
  const res = [];
  sg.nodes.forEach((_id, pos) => {
    if (!exists(allSubgraphs, _id)) {
      res.push(sg.nodes[pos]);
    }
  });
  return { nodes: res };
};
var flowDb = {
  parseDirective: parseDirective$7,
  defaultConfig: () => defaultConfig.flowchart,
  setAccTitle,
  getAccTitle,
  getAccDescription,
  setAccDescription,
  addVertex,
  lookUpDomId,
  addLink,
  updateLinkInterpolate,
  updateLink,
  addClass,
  setDirection: setDirection$1,
  setClass: setClass$1,
  setTooltip,
  getTooltip,
  setClickEvent: setClickEvent$1,
  setLink: setLink$1,
  bindFunctions: bindFunctions$1,
  getDirection: getDirection$1,
  getVertices,
  getEdges,
  getClasses: getClasses$4,
  clear: clear$6,
  setGen,
  defaultStyle,
  addSubGraph,
  getDepthFirstPos,
  indexNodes,
  getSubGraphs,
  destructLink,
  lex: {
    firstGraph
  },
  exists,
  makeUniq
};
function commonjsRequire(path5) {
  throw new Error('Could not dynamically require "' + path5 + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var identity_1;
var hasRequiredIdentity;
function requireIdentity() {
  if (hasRequiredIdentity)
    return identity_1;
  hasRequiredIdentity = 1;
  function identity17(value) {
    return value;
  }
  identity_1 = identity17;
  return identity_1;
}
var _apply;
var hasRequired_apply;
function require_apply2() {
  if (hasRequired_apply)
    return _apply;
  hasRequired_apply = 1;
  function apply22(func, thisArg, args) {
    switch (args.length) {
      case 0:
        return func.call(thisArg);
      case 1:
        return func.call(thisArg, args[0]);
      case 2:
        return func.call(thisArg, args[0], args[1]);
      case 3:
        return func.call(thisArg, args[0], args[1], args[2]);
    }
    return func.apply(thisArg, args);
  }
  _apply = apply22;
  return _apply;
}
var _overRest;
var hasRequired_overRest;
function require_overRest2() {
  if (hasRequired_overRest)
    return _overRest;
  hasRequired_overRest = 1;
  var apply22 = require_apply2();
  var nativeMax = Math.max;
  function overRest(func, start22, transform3) {
    start22 = nativeMax(start22 === void 0 ? func.length - 1 : start22, 0);
    return function() {
      var args = arguments, index6 = -1, length3 = nativeMax(args.length - start22, 0), array12 = Array(length3);
      while (++index6 < length3) {
        array12[index6] = args[start22 + index6];
      }
      index6 = -1;
      var otherArgs = Array(start22 + 1);
      while (++index6 < start22) {
        otherArgs[index6] = args[index6];
      }
      otherArgs[start22] = transform3(array12);
      return apply22(func, this, otherArgs);
    };
  }
  _overRest = overRest;
  return _overRest;
}
var constant_1;
var hasRequiredConstant;
function requireConstant() {
  if (hasRequiredConstant)
    return constant_1;
  hasRequiredConstant = 1;
  function constant5(value) {
    return function() {
      return value;
    };
  }
  constant_1 = constant5;
  return constant_1;
}
var _defineProperty;
var hasRequired_defineProperty;
function require_defineProperty2() {
  if (hasRequired_defineProperty)
    return _defineProperty;
  hasRequired_defineProperty = 1;
  var getNative2 = _getNative;
  var defineProperty = function() {
    try {
      var func = getNative2(Object, "defineProperty");
      func({}, "", {});
      return func;
    } catch (e) {
    }
  }();
  _defineProperty = defineProperty;
  return _defineProperty;
}
var _baseSetToString;
var hasRequired_baseSetToString;
function require_baseSetToString2() {
  if (hasRequired_baseSetToString)
    return _baseSetToString;
  hasRequired_baseSetToString = 1;
  var constant5 = requireConstant(), defineProperty = require_defineProperty2(), identity17 = requireIdentity();
  var baseSetToString = !defineProperty ? identity17 : function(func, string) {
    return defineProperty(func, "toString", {
      "configurable": true,
      "enumerable": false,
      "value": constant5(string),
      "writable": true
    });
  };
  _baseSetToString = baseSetToString;
  return _baseSetToString;
}
var _shortOut;
var hasRequired_shortOut;
function require_shortOut2() {
  if (hasRequired_shortOut)
    return _shortOut;
  hasRequired_shortOut = 1;
  var HOT_COUNT = 800, HOT_SPAN = 16;
  var nativeNow = Date.now;
  function shortOut(func) {
    var count7 = 0, lastCalled = 0;
    return function() {
      var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);
      lastCalled = stamp;
      if (remaining > 0) {
        if (++count7 >= HOT_COUNT) {
          return arguments[0];
        }
      } else {
        count7 = 0;
      }
      return func.apply(void 0, arguments);
    };
  }
  _shortOut = shortOut;
  return _shortOut;
}
var _setToString;
var hasRequired_setToString;
function require_setToString2() {
  if (hasRequired_setToString)
    return _setToString;
  hasRequired_setToString = 1;
  var baseSetToString = require_baseSetToString2(), shortOut = require_shortOut2();
  var setToString = shortOut(baseSetToString);
  _setToString = setToString;
  return _setToString;
}
var _baseRest;
var hasRequired_baseRest;
function require_baseRest2() {
  if (hasRequired_baseRest)
    return _baseRest;
  hasRequired_baseRest = 1;
  var identity17 = requireIdentity(), overRest = require_overRest2(), setToString = require_setToString2();
  function baseRest(func, start22) {
    return setToString(overRest(func, start22, identity17), func + "");
  }
  _baseRest = baseRest;
  return _baseRest;
}
var isLength_1;
var hasRequiredIsLength;
function requireIsLength() {
  if (hasRequiredIsLength)
    return isLength_1;
  hasRequiredIsLength = 1;
  var MAX_SAFE_INTEGER = 9007199254740991;
  function isLength(value) {
    return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
  }
  isLength_1 = isLength;
  return isLength_1;
}
var isArrayLike_1;
var hasRequiredIsArrayLike;
function requireIsArrayLike() {
  if (hasRequiredIsArrayLike)
    return isArrayLike_1;
  hasRequiredIsArrayLike = 1;
  var isFunction2 = requireIsFunction(), isLength = requireIsLength();
  function isArrayLike(value) {
    return value != null && isLength(value.length) && !isFunction2(value);
  }
  isArrayLike_1 = isArrayLike;
  return isArrayLike_1;
}
var _isIndex;
var hasRequired_isIndex;
function require_isIndex2() {
  if (hasRequired_isIndex)
    return _isIndex;
  hasRequired_isIndex = 1;
  var MAX_SAFE_INTEGER = 9007199254740991;
  var reIsUint = /^(?:0|[1-9]\d*)$/;
  function isIndex(value, length3) {
    var type22 = typeof value;
    length3 = length3 == null ? MAX_SAFE_INTEGER : length3;
    return !!length3 && (type22 == "number" || type22 != "symbol" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length3);
  }
  _isIndex = isIndex;
  return _isIndex;
}
var _isIterateeCall;
var hasRequired_isIterateeCall;
function require_isIterateeCall2() {
  if (hasRequired_isIterateeCall)
    return _isIterateeCall;
  hasRequired_isIterateeCall = 1;
  var eq2 = requireEq(), isArrayLike = requireIsArrayLike(), isIndex = require_isIndex2(), isObject2 = requireIsObject();
  function isIterateeCall(value, index6, object2) {
    if (!isObject2(object2)) {
      return false;
    }
    var type22 = typeof index6;
    if (type22 == "number" ? isArrayLike(object2) && isIndex(index6, object2.length) : type22 == "string" && index6 in object2) {
      return eq2(object2[index6], value);
    }
    return false;
  }
  _isIterateeCall = isIterateeCall;
  return _isIterateeCall;
}
var _baseTimes;
var hasRequired_baseTimes;
function require_baseTimes2() {
  if (hasRequired_baseTimes)
    return _baseTimes;
  hasRequired_baseTimes = 1;
  function baseTimes(n, iteratee) {
    var index6 = -1, result = Array(n);
    while (++index6 < n) {
      result[index6] = iteratee(index6);
    }
    return result;
  }
  _baseTimes = baseTimes;
  return _baseTimes;
}
var isObjectLike_1;
var hasRequiredIsObjectLike;
function requireIsObjectLike() {
  if (hasRequiredIsObjectLike)
    return isObjectLike_1;
  hasRequiredIsObjectLike = 1;
  function isObjectLike(value) {
    return value != null && typeof value == "object";
  }
  isObjectLike_1 = isObjectLike;
  return isObjectLike_1;
}
var _baseIsArguments;
var hasRequired_baseIsArguments;
function require_baseIsArguments2() {
  if (hasRequired_baseIsArguments)
    return _baseIsArguments;
  hasRequired_baseIsArguments = 1;
  var baseGetTag = require_baseGetTag2(), isObjectLike = requireIsObjectLike();
  var argsTag = "[object Arguments]";
  function baseIsArguments(value) {
    return isObjectLike(value) && baseGetTag(value) == argsTag;
  }
  _baseIsArguments = baseIsArguments;
  return _baseIsArguments;
}
var isArguments_1;
var hasRequiredIsArguments;
function requireIsArguments() {
  if (hasRequiredIsArguments)
    return isArguments_1;
  hasRequiredIsArguments = 1;
  var baseIsArguments = require_baseIsArguments2(), isObjectLike = requireIsObjectLike();
  var objectProto2 = Object.prototype;
  var hasOwnProperty22 = objectProto2.hasOwnProperty;
  var propertyIsEnumerable = objectProto2.propertyIsEnumerable;
  var isArguments = baseIsArguments(function() {
    return arguments;
  }()) ? baseIsArguments : function(value) {
    return isObjectLike(value) && hasOwnProperty22.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
  };
  isArguments_1 = isArguments;
  return isArguments_1;
}
var isArray_1;
var hasRequiredIsArray;
function requireIsArray() {
  if (hasRequiredIsArray)
    return isArray_1;
  hasRequiredIsArray = 1;
  var isArray = Array.isArray;
  isArray_1 = isArray;
  return isArray_1;
}
var isBuffer = { exports: {} };
var stubFalse_1;
var hasRequiredStubFalse;
function requireStubFalse() {
  if (hasRequiredStubFalse)
    return stubFalse_1;
  hasRequiredStubFalse = 1;
  function stubFalse() {
    return false;
  }
  stubFalse_1 = stubFalse;
  return stubFalse_1;
}
var hasRequiredIsBuffer;
function requireIsBuffer() {
  if (hasRequiredIsBuffer)
    return isBuffer.exports;
  hasRequiredIsBuffer = 1;
  (function(module2, exports2) {
    var root22 = _root, stubFalse = requireStubFalse();
    var freeExports = exports2 && !exports2.nodeType && exports2;
    var freeModule = freeExports && true && module2 && !module2.nodeType && module2;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var Buffer2 = moduleExports ? root22.Buffer : void 0;
    var nativeIsBuffer = Buffer2 ? Buffer2.isBuffer : void 0;
    var isBuffer2 = nativeIsBuffer || stubFalse;
    module2.exports = isBuffer2;
  })(isBuffer, isBuffer.exports);
  return isBuffer.exports;
}
var _baseIsTypedArray;
var hasRequired_baseIsTypedArray;
function require_baseIsTypedArray2() {
  if (hasRequired_baseIsTypedArray)
    return _baseIsTypedArray;
  hasRequired_baseIsTypedArray = 1;
  var baseGetTag = require_baseGetTag2(), isLength = requireIsLength(), isObjectLike = requireIsObjectLike();
  var argsTag = "[object Arguments]", arrayTag = "[object Array]", boolTag = "[object Boolean]", dateTag = "[object Date]", errorTag = "[object Error]", funcTag = "[object Function]", mapTag = "[object Map]", numberTag = "[object Number]", objectTag = "[object Object]", regexpTag = "[object RegExp]", setTag = "[object Set]", stringTag = "[object String]", weakMapTag = "[object WeakMap]";
  var arrayBufferTag = "[object ArrayBuffer]", dataViewTag = "[object DataView]", float32Tag = "[object Float32Array]", float64Tag = "[object Float64Array]", int8Tag = "[object Int8Array]", int16Tag = "[object Int16Array]", int32Tag = "[object Int32Array]", uint8Tag = "[object Uint8Array]", uint8ClampedTag = "[object Uint8ClampedArray]", uint16Tag = "[object Uint16Array]", uint32Tag = "[object Uint32Array]";
  var typedArrayTags = {};
  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
  typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
  function baseIsTypedArray(value) {
    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
  }
  _baseIsTypedArray = baseIsTypedArray;
  return _baseIsTypedArray;
}
var _baseUnary;
var hasRequired_baseUnary;
function require_baseUnary2() {
  if (hasRequired_baseUnary)
    return _baseUnary;
  hasRequired_baseUnary = 1;
  function baseUnary(func) {
    return function(value) {
      return func(value);
    };
  }
  _baseUnary = baseUnary;
  return _baseUnary;
}
var _nodeUtil = { exports: {} };
var hasRequired_nodeUtil;
function require_nodeUtil2() {
  if (hasRequired_nodeUtil)
    return _nodeUtil.exports;
  hasRequired_nodeUtil = 1;
  (function(module2, exports2) {
    var freeGlobal2 = _freeGlobal;
    var freeExports = exports2 && !exports2.nodeType && exports2;
    var freeModule = freeExports && true && module2 && !module2.nodeType && module2;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var freeProcess = moduleExports && freeGlobal2.process;
    var nodeUtil = function() {
      try {
        var types2 = freeModule && freeModule.require && freeModule.require("util").types;
        if (types2) {
          return types2;
        }
        return freeProcess && freeProcess.binding && freeProcess.binding("util");
      } catch (e) {
      }
    }();
    module2.exports = nodeUtil;
  })(_nodeUtil, _nodeUtil.exports);
  return _nodeUtil.exports;
}
var isTypedArray_1;
var hasRequiredIsTypedArray;
function requireIsTypedArray() {
  if (hasRequiredIsTypedArray)
    return isTypedArray_1;
  hasRequiredIsTypedArray = 1;
  var baseIsTypedArray = require_baseIsTypedArray2(), baseUnary = require_baseUnary2(), nodeUtil = require_nodeUtil2();
  var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
  var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
  isTypedArray_1 = isTypedArray;
  return isTypedArray_1;
}
var _arrayLikeKeys;
var hasRequired_arrayLikeKeys;
function require_arrayLikeKeys2() {
  if (hasRequired_arrayLikeKeys)
    return _arrayLikeKeys;
  hasRequired_arrayLikeKeys = 1;
  var baseTimes = require_baseTimes2(), isArguments = requireIsArguments(), isArray = requireIsArray(), isBuffer2 = requireIsBuffer(), isIndex = require_isIndex2(), isTypedArray = requireIsTypedArray();
  var objectProto2 = Object.prototype;
  var hasOwnProperty22 = objectProto2.hasOwnProperty;
  function arrayLikeKeys(value, inherited) {
    var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer2(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length3 = result.length;
    for (var key in value) {
      if ((inherited || hasOwnProperty22.call(value, key)) && !(skipIndexes && (key == "length" || isBuff && (key == "offset" || key == "parent") || isType && (key == "buffer" || key == "byteLength" || key == "byteOffset") || isIndex(key, length3)))) {
        result.push(key);
      }
    }
    return result;
  }
  _arrayLikeKeys = arrayLikeKeys;
  return _arrayLikeKeys;
}
var _isPrototype;
var hasRequired_isPrototype;
function require_isPrototype2() {
  if (hasRequired_isPrototype)
    return _isPrototype;
  hasRequired_isPrototype = 1;
  var objectProto2 = Object.prototype;
  function isPrototype(value) {
    var Ctor = value && value.constructor, proto2 = typeof Ctor == "function" && Ctor.prototype || objectProto2;
    return value === proto2;
  }
  _isPrototype = isPrototype;
  return _isPrototype;
}
var _nativeKeysIn;
var hasRequired_nativeKeysIn;
function require_nativeKeysIn2() {
  if (hasRequired_nativeKeysIn)
    return _nativeKeysIn;
  hasRequired_nativeKeysIn = 1;
  function nativeKeysIn(object2) {
    var result = [];
    if (object2 != null) {
      for (var key in Object(object2)) {
        result.push(key);
      }
    }
    return result;
  }
  _nativeKeysIn = nativeKeysIn;
  return _nativeKeysIn;
}
var _baseKeysIn;
var hasRequired_baseKeysIn;
function require_baseKeysIn2() {
  if (hasRequired_baseKeysIn)
    return _baseKeysIn;
  hasRequired_baseKeysIn = 1;
  var isObject2 = requireIsObject(), isPrototype = require_isPrototype2(), nativeKeysIn = require_nativeKeysIn2();
  var objectProto2 = Object.prototype;
  var hasOwnProperty22 = objectProto2.hasOwnProperty;
  function baseKeysIn(object2) {
    if (!isObject2(object2)) {
      return nativeKeysIn(object2);
    }
    var isProto = isPrototype(object2), result = [];
    for (var key in object2) {
      if (!(key == "constructor" && (isProto || !hasOwnProperty22.call(object2, key)))) {
        result.push(key);
      }
    }
    return result;
  }
  _baseKeysIn = baseKeysIn;
  return _baseKeysIn;
}
var keysIn_1;
var hasRequiredKeysIn;
function requireKeysIn() {
  if (hasRequiredKeysIn)
    return keysIn_1;
  hasRequiredKeysIn = 1;
  var arrayLikeKeys = require_arrayLikeKeys2(), baseKeysIn = require_baseKeysIn2(), isArrayLike = requireIsArrayLike();
  function keysIn(object2) {
    return isArrayLike(object2) ? arrayLikeKeys(object2, true) : baseKeysIn(object2);
  }
  keysIn_1 = keysIn;
  return keysIn_1;
}
var defaults_1;
var hasRequiredDefaults;
function requireDefaults() {
  if (hasRequiredDefaults)
    return defaults_1;
  hasRequiredDefaults = 1;
  var baseRest = require_baseRest2(), eq2 = requireEq(), isIterateeCall = require_isIterateeCall2(), keysIn = requireKeysIn();
  var objectProto2 = Object.prototype;
  var hasOwnProperty22 = objectProto2.hasOwnProperty;
  var defaults = baseRest(function(object2, sources) {
    object2 = Object(object2);
    var index6 = -1;
    var length3 = sources.length;
    var guard = length3 > 2 ? sources[2] : void 0;
    if (guard && isIterateeCall(sources[0], sources[1], guard)) {
      length3 = 1;
    }
    while (++index6 < length3) {
      var source = sources[index6];
      var props = keysIn(source);
      var propsIndex = -1;
      var propsLength = props.length;
      while (++propsIndex < propsLength) {
        var key = props[propsIndex];
        var value = object2[key];
        if (value === void 0 || eq2(value, objectProto2[key]) && !hasOwnProperty22.call(object2, key)) {
          object2[key] = source[key];
        }
      }
    }
    return object2;
  });
  defaults_1 = defaults;
  return defaults_1;
}
var each = { exports: {} };
var _arrayEach;
var hasRequired_arrayEach;
function require_arrayEach2() {
  if (hasRequired_arrayEach)
    return _arrayEach;
  hasRequired_arrayEach = 1;
  function arrayEach(array12, iteratee) {
    var index6 = -1, length3 = array12 == null ? 0 : array12.length;
    while (++index6 < length3) {
      if (iteratee(array12[index6], index6, array12) === false) {
        break;
      }
    }
    return array12;
  }
  _arrayEach = arrayEach;
  return _arrayEach;
}
var _createBaseFor;
var hasRequired_createBaseFor;
function require_createBaseFor2() {
  if (hasRequired_createBaseFor)
    return _createBaseFor;
  hasRequired_createBaseFor = 1;
  function createBaseFor(fromRight) {
    return function(object2, iteratee, keysFunc) {
      var index6 = -1, iterable = Object(object2), props = keysFunc(object2), length3 = props.length;
      while (length3--) {
        var key = props[fromRight ? length3 : ++index6];
        if (iteratee(iterable[key], key, iterable) === false) {
          break;
        }
      }
      return object2;
    };
  }
  _createBaseFor = createBaseFor;
  return _createBaseFor;
}
var _baseFor;
var hasRequired_baseFor;
function require_baseFor2() {
  if (hasRequired_baseFor)
    return _baseFor;
  hasRequired_baseFor = 1;
  var createBaseFor = require_createBaseFor2();
  var baseFor = createBaseFor();
  _baseFor = baseFor;
  return _baseFor;
}
var _overArg;
var hasRequired_overArg;
function require_overArg2() {
  if (hasRequired_overArg)
    return _overArg;
  hasRequired_overArg = 1;
  function overArg(func, transform3) {
    return function(arg) {
      return func(transform3(arg));
    };
  }
  _overArg = overArg;
  return _overArg;
}
var _nativeKeys;
var hasRequired_nativeKeys;
function require_nativeKeys2() {
  if (hasRequired_nativeKeys)
    return _nativeKeys;
  hasRequired_nativeKeys = 1;
  var overArg = require_overArg2();
  var nativeKeys = overArg(Object.keys, Object);
  _nativeKeys = nativeKeys;
  return _nativeKeys;
}
var _baseKeys;
var hasRequired_baseKeys;
function require_baseKeys2() {
  if (hasRequired_baseKeys)
    return _baseKeys;
  hasRequired_baseKeys = 1;
  var isPrototype = require_isPrototype2(), nativeKeys = require_nativeKeys2();
  var objectProto2 = Object.prototype;
  var hasOwnProperty22 = objectProto2.hasOwnProperty;
  function baseKeys(object2) {
    if (!isPrototype(object2)) {
      return nativeKeys(object2);
    }
    var result = [];
    for (var key in Object(object2)) {
      if (hasOwnProperty22.call(object2, key) && key != "constructor") {
        result.push(key);
      }
    }
    return result;
  }
  _baseKeys = baseKeys;
  return _baseKeys;
}
var keys_1;
var hasRequiredKeys;
function requireKeys() {
  if (hasRequiredKeys)
    return keys_1;
  hasRequiredKeys = 1;
  var arrayLikeKeys = require_arrayLikeKeys2(), baseKeys = require_baseKeys2(), isArrayLike = requireIsArrayLike();
  function keys(object2) {
    return isArrayLike(object2) ? arrayLikeKeys(object2) : baseKeys(object2);
  }
  keys_1 = keys;
  return keys_1;
}
var _baseForOwn;
var hasRequired_baseForOwn;
function require_baseForOwn2() {
  if (hasRequired_baseForOwn)
    return _baseForOwn;
  hasRequired_baseForOwn = 1;
  var baseFor = require_baseFor2(), keys = requireKeys();
  function baseForOwn(object2, iteratee) {
    return object2 && baseFor(object2, iteratee, keys);
  }
  _baseForOwn = baseForOwn;
  return _baseForOwn;
}
var _createBaseEach;
var hasRequired_createBaseEach;
function require_createBaseEach2() {
  if (hasRequired_createBaseEach)
    return _createBaseEach;
  hasRequired_createBaseEach = 1;
  var isArrayLike = requireIsArrayLike();
  function createBaseEach(eachFunc, fromRight) {
    return function(collection, iteratee) {
      if (collection == null) {
        return collection;
      }
      if (!isArrayLike(collection)) {
        return eachFunc(collection, iteratee);
      }
      var length3 = collection.length, index6 = fromRight ? length3 : -1, iterable = Object(collection);
      while (fromRight ? index6-- : ++index6 < length3) {
        if (iteratee(iterable[index6], index6, iterable) === false) {
          break;
        }
      }
      return collection;
    };
  }
  _createBaseEach = createBaseEach;
  return _createBaseEach;
}
var _baseEach;
var hasRequired_baseEach;
function require_baseEach2() {
  if (hasRequired_baseEach)
    return _baseEach;
  hasRequired_baseEach = 1;
  var baseForOwn = require_baseForOwn2(), createBaseEach = require_createBaseEach2();
  var baseEach = createBaseEach(baseForOwn);
  _baseEach = baseEach;
  return _baseEach;
}
var _castFunction;
var hasRequired_castFunction;
function require_castFunction2() {
  if (hasRequired_castFunction)
    return _castFunction;
  hasRequired_castFunction = 1;
  var identity17 = requireIdentity();
  function castFunction(value) {
    return typeof value == "function" ? value : identity17;
  }
  _castFunction = castFunction;
  return _castFunction;
}
var forEach_1;
var hasRequiredForEach;
function requireForEach() {
  if (hasRequiredForEach)
    return forEach_1;
  hasRequiredForEach = 1;
  var arrayEach = require_arrayEach2(), baseEach = require_baseEach2(), castFunction = require_castFunction2(), isArray = requireIsArray();
  function forEach(collection, iteratee) {
    var func = isArray(collection) ? arrayEach : baseEach;
    return func(collection, castFunction(iteratee));
  }
  forEach_1 = forEach;
  return forEach_1;
}
var hasRequiredEach;
function requireEach() {
  if (hasRequiredEach)
    return each.exports;
  hasRequiredEach = 1;
  (function(module2) {
    module2.exports = requireForEach();
  })(each);
  return each.exports;
}
var _getPrototype;
var hasRequired_getPrototype;
function require_getPrototype2() {
  if (hasRequired_getPrototype)
    return _getPrototype;
  hasRequired_getPrototype = 1;
  var overArg = require_overArg2();
  var getPrototype = overArg(Object.getPrototypeOf, Object);
  _getPrototype = getPrototype;
  return _getPrototype;
}
var isPlainObject_1;
var hasRequiredIsPlainObject;
function requireIsPlainObject() {
  if (hasRequiredIsPlainObject)
    return isPlainObject_1;
  hasRequiredIsPlainObject = 1;
  var baseGetTag = require_baseGetTag2(), getPrototype = require_getPrototype2(), isObjectLike = requireIsObjectLike();
  var objectTag = "[object Object]";
  var funcProto2 = Function.prototype, objectProto2 = Object.prototype;
  var funcToString2 = funcProto2.toString;
  var hasOwnProperty22 = objectProto2.hasOwnProperty;
  var objectCtorString = funcToString2.call(Object);
  function isPlainObject(value) {
    if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
      return false;
    }
    var proto2 = getPrototype(value);
    if (proto2 === null) {
      return true;
    }
    var Ctor = hasOwnProperty22.call(proto2, "constructor") && proto2.constructor;
    return typeof Ctor == "function" && Ctor instanceof Ctor && funcToString2.call(Ctor) == objectCtorString;
  }
  isPlainObject_1 = isPlainObject;
  return isPlainObject_1;
}
var isSymbol_1;
var hasRequiredIsSymbol;
function requireIsSymbol() {
  if (hasRequiredIsSymbol)
    return isSymbol_1;
  hasRequiredIsSymbol = 1;
  var baseGetTag = require_baseGetTag2(), isObjectLike = requireIsObjectLike();
  var symbolTag = "[object Symbol]";
  function isSymbol(value) {
    return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag;
  }
  isSymbol_1 = isSymbol;
  return isSymbol_1;
}
var _isKey;
var hasRequired_isKey;
function require_isKey2() {
  if (hasRequired_isKey)
    return _isKey;
  hasRequired_isKey = 1;
  var isArray = requireIsArray(), isSymbol = requireIsSymbol();
  var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, reIsPlainProp = /^\w*$/;
  function isKey(value, object2) {
    if (isArray(value)) {
      return false;
    }
    var type22 = typeof value;
    if (type22 == "number" || type22 == "symbol" || type22 == "boolean" || value == null || isSymbol(value)) {
      return true;
    }
    return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object2 != null && value in Object(object2);
  }
  _isKey = isKey;
  return _isKey;
}
var _memoizeCapped;
var hasRequired_memoizeCapped;
function require_memoizeCapped2() {
  if (hasRequired_memoizeCapped)
    return _memoizeCapped;
  hasRequired_memoizeCapped = 1;
  var memoize2 = memoize_1;
  var MAX_MEMOIZE_SIZE = 500;
  function memoizeCapped(func) {
    var result = memoize2(func, function(key) {
      if (cache.size === MAX_MEMOIZE_SIZE) {
        cache.clear();
      }
      return key;
    });
    var cache = result.cache;
    return result;
  }
  _memoizeCapped = memoizeCapped;
  return _memoizeCapped;
}
var _stringToPath;
var hasRequired_stringToPath;
function require_stringToPath2() {
  if (hasRequired_stringToPath)
    return _stringToPath;
  hasRequired_stringToPath = 1;
  var memoizeCapped = require_memoizeCapped2();
  var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
  var reEscapeChar = /\\(\\)?/g;
  var stringToPath = memoizeCapped(function(string) {
    var result = [];
    if (string.charCodeAt(0) === 46) {
      result.push("");
    }
    string.replace(rePropName, function(match2, number10, quote, subString) {
      result.push(quote ? subString.replace(reEscapeChar, "$1") : number10 || match2);
    });
    return result;
  });
  _stringToPath = stringToPath;
  return _stringToPath;
}
var _arrayMap;
var hasRequired_arrayMap;
function require_arrayMap2() {
  if (hasRequired_arrayMap)
    return _arrayMap;
  hasRequired_arrayMap = 1;
  function arrayMap(array12, iteratee) {
    var index6 = -1, length3 = array12 == null ? 0 : array12.length, result = Array(length3);
    while (++index6 < length3) {
      result[index6] = iteratee(array12[index6], index6, array12);
    }
    return result;
  }
  _arrayMap = arrayMap;
  return _arrayMap;
}
var _baseToString;
var hasRequired_baseToString;
function require_baseToString2() {
  if (hasRequired_baseToString)
    return _baseToString;
  hasRequired_baseToString = 1;
  var Symbol22 = require_Symbol2(), arrayMap = require_arrayMap2(), isArray = requireIsArray(), isSymbol = requireIsSymbol();
  var INFINITY = 1 / 0;
  var symbolProto = Symbol22 ? Symbol22.prototype : void 0, symbolToString = symbolProto ? symbolProto.toString : void 0;
  function baseToString(value) {
    if (typeof value == "string") {
      return value;
    }
    if (isArray(value)) {
      return arrayMap(value, baseToString) + "";
    }
    if (isSymbol(value)) {
      return symbolToString ? symbolToString.call(value) : "";
    }
    var result = value + "";
    return result == "0" && 1 / value == -INFINITY ? "-0" : result;
  }
  _baseToString = baseToString;
  return _baseToString;
}
var toString_1;
var hasRequiredToString;
function requireToString() {
  if (hasRequiredToString)
    return toString_1;
  hasRequiredToString = 1;
  var baseToString = require_baseToString2();
  function toString(value) {
    return value == null ? "" : baseToString(value);
  }
  toString_1 = toString;
  return toString_1;
}
var _castPath;
var hasRequired_castPath;
function require_castPath2() {
  if (hasRequired_castPath)
    return _castPath;
  hasRequired_castPath = 1;
  var isArray = requireIsArray(), isKey = require_isKey2(), stringToPath = require_stringToPath2(), toString = requireToString();
  function castPath(value, object2) {
    if (isArray(value)) {
      return value;
    }
    return isKey(value, object2) ? [value] : stringToPath(toString(value));
  }
  _castPath = castPath;
  return _castPath;
}
var _toKey;
var hasRequired_toKey;
function require_toKey2() {
  if (hasRequired_toKey)
    return _toKey;
  hasRequired_toKey = 1;
  var isSymbol = requireIsSymbol();
  var INFINITY = 1 / 0;
  function toKey(value) {
    if (typeof value == "string" || isSymbol(value)) {
      return value;
    }
    var result = value + "";
    return result == "0" && 1 / value == -INFINITY ? "-0" : result;
  }
  _toKey = toKey;
  return _toKey;
}
var _baseGet;
var hasRequired_baseGet;
function require_baseGet2() {
  if (hasRequired_baseGet)
    return _baseGet;
  hasRequired_baseGet = 1;
  var castPath = require_castPath2(), toKey = require_toKey2();
  function baseGet(object2, path5) {
    path5 = castPath(path5, object2);
    var index6 = 0, length3 = path5.length;
    while (object2 != null && index6 < length3) {
      object2 = object2[toKey(path5[index6++])];
    }
    return index6 && index6 == length3 ? object2 : void 0;
  }
  _baseGet = baseGet;
  return _baseGet;
}
var _baseAssignValue;
var hasRequired_baseAssignValue;
function require_baseAssignValue2() {
  if (hasRequired_baseAssignValue)
    return _baseAssignValue;
  hasRequired_baseAssignValue = 1;
  var defineProperty = require_defineProperty2();
  function baseAssignValue(object2, key, value) {
    if (key == "__proto__" && defineProperty) {
      defineProperty(object2, key, {
        "configurable": true,
        "enumerable": true,
        "value": value,
        "writable": true
      });
    } else {
      object2[key] = value;
    }
  }
  _baseAssignValue = baseAssignValue;
  return _baseAssignValue;
}
var _assignValue;
var hasRequired_assignValue;
function require_assignValue2() {
  if (hasRequired_assignValue)
    return _assignValue;
  hasRequired_assignValue = 1;
  var baseAssignValue = require_baseAssignValue2(), eq2 = requireEq();
  var objectProto2 = Object.prototype;
  var hasOwnProperty22 = objectProto2.hasOwnProperty;
  function assignValue(object2, key, value) {
    var objValue = object2[key];
    if (!(hasOwnProperty22.call(object2, key) && eq2(objValue, value)) || value === void 0 && !(key in object2)) {
      baseAssignValue(object2, key, value);
    }
  }
  _assignValue = assignValue;
  return _assignValue;
}
var _baseSet;
var hasRequired_baseSet;
function require_baseSet2() {
  if (hasRequired_baseSet)
    return _baseSet;
  hasRequired_baseSet = 1;
  var assignValue = require_assignValue2(), castPath = require_castPath2(), isIndex = require_isIndex2(), isObject2 = requireIsObject(), toKey = require_toKey2();
  function baseSet(object2, path5, value, customizer) {
    if (!isObject2(object2)) {
      return object2;
    }
    path5 = castPath(path5, object2);
    var index6 = -1, length3 = path5.length, lastIndex = length3 - 1, nested = object2;
    while (nested != null && ++index6 < length3) {
      var key = toKey(path5[index6]), newValue = value;
      if (key === "__proto__" || key === "constructor" || key === "prototype") {
        return object2;
      }
      if (index6 != lastIndex) {
        var objValue = nested[key];
        newValue = customizer ? customizer(objValue, key, nested) : void 0;
        if (newValue === void 0) {
          newValue = isObject2(objValue) ? objValue : isIndex(path5[index6 + 1]) ? [] : {};
        }
      }
      assignValue(nested, key, newValue);
      nested = nested[key];
    }
    return object2;
  }
  _baseSet = baseSet;
  return _baseSet;
}
var _basePickBy;
var hasRequired_basePickBy;
function require_basePickBy2() {
  if (hasRequired_basePickBy)
    return _basePickBy;
  hasRequired_basePickBy = 1;
  var baseGet = require_baseGet2(), baseSet = require_baseSet2(), castPath = require_castPath2();
  function basePickBy(object2, paths, predicate) {
    var index6 = -1, length3 = paths.length, result = {};
    while (++index6 < length3) {
      var path5 = paths[index6], value = baseGet(object2, path5);
      if (predicate(value, path5)) {
        baseSet(result, castPath(path5, object2), value);
      }
    }
    return result;
  }
  _basePickBy = basePickBy;
  return _basePickBy;
}
var _baseHasIn;
var hasRequired_baseHasIn;
function require_baseHasIn2() {
  if (hasRequired_baseHasIn)
    return _baseHasIn;
  hasRequired_baseHasIn = 1;
  function baseHasIn(object2, key) {
    return object2 != null && key in Object(object2);
  }
  _baseHasIn = baseHasIn;
  return _baseHasIn;
}
var _hasPath;
var hasRequired_hasPath;
function require_hasPath2() {
  if (hasRequired_hasPath)
    return _hasPath;
  hasRequired_hasPath = 1;
  var castPath = require_castPath2(), isArguments = requireIsArguments(), isArray = requireIsArray(), isIndex = require_isIndex2(), isLength = requireIsLength(), toKey = require_toKey2();
  function hasPath(object2, path5, hasFunc) {
    path5 = castPath(path5, object2);
    var index6 = -1, length3 = path5.length, result = false;
    while (++index6 < length3) {
      var key = toKey(path5[index6]);
      if (!(result = object2 != null && hasFunc(object2, key))) {
        break;
      }
      object2 = object2[key];
    }
    if (result || ++index6 != length3) {
      return result;
    }
    length3 = object2 == null ? 0 : object2.length;
    return !!length3 && isLength(length3) && isIndex(key, length3) && (isArray(object2) || isArguments(object2));
  }
  _hasPath = hasPath;
  return _hasPath;
}
var hasIn_1;
var hasRequiredHasIn;
function requireHasIn() {
  if (hasRequiredHasIn)
    return hasIn_1;
  hasRequiredHasIn = 1;
  var baseHasIn = require_baseHasIn2(), hasPath = require_hasPath2();
  function hasIn(object2, path5) {
    return object2 != null && hasPath(object2, path5, baseHasIn);
  }
  hasIn_1 = hasIn;
  return hasIn_1;
}
var _basePick;
var hasRequired_basePick;
function require_basePick2() {
  if (hasRequired_basePick)
    return _basePick;
  hasRequired_basePick = 1;
  var basePickBy = require_basePickBy2(), hasIn = requireHasIn();
  function basePick(object2, paths) {
    return basePickBy(object2, paths, function(value, path5) {
      return hasIn(object2, path5);
    });
  }
  _basePick = basePick;
  return _basePick;
}
var _arrayPush;
var hasRequired_arrayPush;
function require_arrayPush2() {
  if (hasRequired_arrayPush)
    return _arrayPush;
  hasRequired_arrayPush = 1;
  function arrayPush2(array12, values) {
    var index6 = -1, length3 = values.length, offset = array12.length;
    while (++index6 < length3) {
      array12[offset + index6] = values[index6];
    }
    return array12;
  }
  _arrayPush = arrayPush2;
  return _arrayPush;
}
var _isFlattenable;
var hasRequired_isFlattenable;
function require_isFlattenable2() {
  if (hasRequired_isFlattenable)
    return _isFlattenable;
  hasRequired_isFlattenable = 1;
  var Symbol22 = require_Symbol2(), isArguments = requireIsArguments(), isArray = requireIsArray();
  var spreadableSymbol = Symbol22 ? Symbol22.isConcatSpreadable : void 0;
  function isFlattenable(value) {
    return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);
  }
  _isFlattenable = isFlattenable;
  return _isFlattenable;
}
var _baseFlatten;
var hasRequired_baseFlatten;
function require_baseFlatten2() {
  if (hasRequired_baseFlatten)
    return _baseFlatten;
  hasRequired_baseFlatten = 1;
  var arrayPush2 = require_arrayPush2(), isFlattenable = require_isFlattenable2();
  function baseFlatten(array12, depth, predicate, isStrict, result) {
    var index6 = -1, length3 = array12.length;
    predicate || (predicate = isFlattenable);
    result || (result = []);
    while (++index6 < length3) {
      var value = array12[index6];
      if (depth > 0 && predicate(value)) {
        if (depth > 1) {
          baseFlatten(value, depth - 1, predicate, isStrict, result);
        } else {
          arrayPush2(result, value);
        }
      } else if (!isStrict) {
        result[result.length] = value;
      }
    }
    return result;
  }
  _baseFlatten = baseFlatten;
  return _baseFlatten;
}
var flatten_1;
var hasRequiredFlatten;
function requireFlatten() {
  if (hasRequiredFlatten)
    return flatten_1;
  hasRequiredFlatten = 1;
  var baseFlatten = require_baseFlatten2();
  function flatten2(array12) {
    var length3 = array12 == null ? 0 : array12.length;
    return length3 ? baseFlatten(array12, 1) : [];
  }
  flatten_1 = flatten2;
  return flatten_1;
}
var _flatRest;
var hasRequired_flatRest;
function require_flatRest2() {
  if (hasRequired_flatRest)
    return _flatRest;
  hasRequired_flatRest = 1;
  var flatten2 = requireFlatten(), overRest = require_overRest2(), setToString = require_setToString2();
  function flatRest(func) {
    return setToString(overRest(func, void 0, flatten2), func + "");
  }
  _flatRest = flatRest;
  return _flatRest;
}
var pick_1;
var hasRequiredPick;
function requirePick() {
  if (hasRequiredPick)
    return pick_1;
  hasRequiredPick = 1;
  var basePick = require_basePick2(), flatRest = require_flatRest2();
  var pick = flatRest(function(object2, paths) {
    return object2 == null ? {} : basePick(object2, paths);
  });
  pick_1 = pick;
  return pick_1;
}
var _baseHas;
var hasRequired_baseHas;
function require_baseHas2() {
  if (hasRequired_baseHas)
    return _baseHas;
  hasRequired_baseHas = 1;
  var objectProto2 = Object.prototype;
  var hasOwnProperty22 = objectProto2.hasOwnProperty;
  function baseHas(object2, key) {
    return object2 != null && hasOwnProperty22.call(object2, key);
  }
  _baseHas = baseHas;
  return _baseHas;
}
var has_1;
var hasRequiredHas;
function requireHas() {
  if (hasRequiredHas)
    return has_1;
  hasRequiredHas = 1;
  var baseHas = require_baseHas2(), hasPath = require_hasPath2();
  function has(object2, path5) {
    return object2 != null && hasPath(object2, path5, baseHas);
  }
  has_1 = has;
  return has_1;
}
var _baseRange;
var hasRequired_baseRange;
function require_baseRange2() {
  if (hasRequired_baseRange)
    return _baseRange;
  hasRequired_baseRange = 1;
  var nativeCeil = Math.ceil, nativeMax = Math.max;
  function baseRange(start22, end2, step, fromRight) {
    var index6 = -1, length3 = nativeMax(nativeCeil((end2 - start22) / (step || 1)), 0), result = Array(length3);
    while (length3--) {
      result[fromRight ? length3 : ++index6] = start22;
      start22 += step;
    }
    return result;
  }
  _baseRange = baseRange;
  return _baseRange;
}
var _trimmedEndIndex;
var hasRequired_trimmedEndIndex;
function require_trimmedEndIndex2() {
  if (hasRequired_trimmedEndIndex)
    return _trimmedEndIndex;
  hasRequired_trimmedEndIndex = 1;
  var reWhitespace = /\s/;
  function trimmedEndIndex(string) {
    var index6 = string.length;
    while (index6-- && reWhitespace.test(string.charAt(index6))) {
    }
    return index6;
  }
  _trimmedEndIndex = trimmedEndIndex;
  return _trimmedEndIndex;
}
var _baseTrim;
var hasRequired_baseTrim;
function require_baseTrim2() {
  if (hasRequired_baseTrim)
    return _baseTrim;
  hasRequired_baseTrim = 1;
  var trimmedEndIndex = require_trimmedEndIndex2();
  var reTrimStart = /^\s+/;
  function baseTrim(string) {
    return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, "") : string;
  }
  _baseTrim = baseTrim;
  return _baseTrim;
}
var toNumber_1;
var hasRequiredToNumber;
function requireToNumber() {
  if (hasRequiredToNumber)
    return toNumber_1;
  hasRequiredToNumber = 1;
  var baseTrim = require_baseTrim2(), isObject2 = requireIsObject(), isSymbol = requireIsSymbol();
  var NAN = 0 / 0;
  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
  var reIsBinary = /^0b[01]+$/i;
  var reIsOctal = /^0o[0-7]+$/i;
  var freeParseInt = parseInt;
  function toNumber(value) {
    if (typeof value == "number") {
      return value;
    }
    if (isSymbol(value)) {
      return NAN;
    }
    if (isObject2(value)) {
      var other = typeof value.valueOf == "function" ? value.valueOf() : value;
      value = isObject2(other) ? other + "" : other;
    }
    if (typeof value != "string") {
      return value === 0 ? value : +value;
    }
    value = baseTrim(value);
    var isBinary = reIsBinary.test(value);
    return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
  }
  toNumber_1 = toNumber;
  return toNumber_1;
}
var toFinite_1;
var hasRequiredToFinite;
function requireToFinite() {
  if (hasRequiredToFinite)
    return toFinite_1;
  hasRequiredToFinite = 1;
  var toNumber = requireToNumber();
  var INFINITY = 1 / 0, MAX_INTEGER = 17976931348623157e292;
  function toFinite(value) {
    if (!value) {
      return value === 0 ? value : 0;
    }
    value = toNumber(value);
    if (value === INFINITY || value === -INFINITY) {
      var sign5 = value < 0 ? -1 : 1;
      return sign5 * MAX_INTEGER;
    }
    return value === value ? value : 0;
  }
  toFinite_1 = toFinite;
  return toFinite_1;
}
var _createRange;
var hasRequired_createRange;
function require_createRange2() {
  if (hasRequired_createRange)
    return _createRange;
  hasRequired_createRange = 1;
  var baseRange = require_baseRange2(), isIterateeCall = require_isIterateeCall2(), toFinite = requireToFinite();
  function createRange(fromRight) {
    return function(start22, end2, step) {
      if (step && typeof step != "number" && isIterateeCall(start22, end2, step)) {
        end2 = step = void 0;
      }
      start22 = toFinite(start22);
      if (end2 === void 0) {
        end2 = start22;
        start22 = 0;
      } else {
        end2 = toFinite(end2);
      }
      step = step === void 0 ? start22 < end2 ? 1 : -1 : toFinite(step);
      return baseRange(start22, end2, step, fromRight);
    };
  }
  _createRange = createRange;
  return _createRange;
}
var range_1;
var hasRequiredRange;
function requireRange() {
  if (hasRequiredRange)
    return range_1;
  hasRequiredRange = 1;
  var createRange = require_createRange2();
  var range6 = createRange();
  range_1 = range6;
  return range_1;
}
var uniqueId_1;
var hasRequiredUniqueId;
function requireUniqueId() {
  if (hasRequiredUniqueId)
    return uniqueId_1;
  hasRequiredUniqueId = 1;
  var toString = requireToString();
  var idCounter = 0;
  function uniqueId(prefix3) {
    var id5 = ++idCounter;
    return toString(prefix3) + id5;
  }
  uniqueId_1 = uniqueId;
  return uniqueId_1;
}
var lodash;
if (typeof commonjsRequire === "function") {
  try {
    lodash = {
      defaults: requireDefaults(),
      each: requireEach(),
      isFunction: requireIsFunction(),
      isPlainObject: requireIsPlainObject(),
      pick: requirePick(),
      has: requireHas(),
      range: requireRange(),
      uniqueId: requireUniqueId()
    };
  } catch (e) {
  }
}
if (!lodash) {
  lodash = window._;
}
var lodash_1 = lodash;
var _ = lodash_1;
var util$1 = {
  isSubgraph,
  edgeToId,
  applyStyle,
  applyClass,
  applyTransition
};
function isSubgraph(g, v2) {
  return !!g.children(v2).length;
}
function edgeToId(e) {
  return escapeId(e.v) + ":" + escapeId(e.w) + ":" + escapeId(e.name);
}
var ID_DELIM = /:/g;
function escapeId(str) {
  return str ? String(str).replace(ID_DELIM, "\\:") : "";
}
function applyStyle(dom, styleFn) {
  if (styleFn) {
    dom.attr("style", styleFn);
  }
}
function applyClass(dom, classFn, otherClasses) {
  if (classFn) {
    dom.attr("class", classFn).attr("class", otherClasses + " " + dom.attr("class"));
  }
}
function applyTransition(selection5, g) {
  var graph = g.graph();
  if (_.isPlainObject(graph)) {
    var transition5 = graph.transition;
    if (_.isFunction(transition5)) {
      return transition5(selection5);
    }
  }
  return selection5;
}
var util = util$1;
var addHtmlLabel_1 = addHtmlLabel;
function addHtmlLabel(root22, node2) {
  var fo = root22.append("foreignObject").attr("width", "100000");
  var div = fo.append("xhtml:div");
  div.attr("xmlns", "http://www.w3.org/1999/xhtml");
  var label = node2.label;
  switch (typeof label) {
    case "function":
      div.insert(label);
      break;
    case "object":
      div.insert(function() {
        return label;
      });
      break;
    default:
      div.html(label);
  }
  util.applyStyle(div, node2.labelStyle);
  div.style("display", "inline-block");
  div.style("white-space", "nowrap");
  var client = div.node().getBoundingClientRect();
  fo.attr("width", client.width).attr("height", client.height);
  return fo;
}
function question(parent, bbox, node2) {
  const w2 = bbox.width;
  const h = bbox.height;
  const s3 = (w2 + h) * 0.9;
  const points = [
    { x: s3 / 2, y: 0 },
    { x: s3, y: -s3 / 2 },
    { x: s3 / 2, y: -s3 },
    { x: 0, y: -s3 / 2 }
  ];
  const shapeSvg = insertPolygonShape(parent, s3, s3, points);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.polygon(node2, points, point22);
  };
  return shapeSvg;
}
function hexagon(parent, bbox, node2) {
  const f2 = 4;
  const h = bbox.height;
  const m = h / f2;
  const w2 = bbox.width + 2 * m;
  const points = [
    { x: m, y: 0 },
    { x: w2 - m, y: 0 },
    { x: w2, y: -h / 2 },
    { x: w2 - m, y: -h },
    { x: m, y: -h },
    { x: 0, y: -h / 2 }
  ];
  const shapeSvg = insertPolygonShape(parent, w2, h, points);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.polygon(node2, points, point22);
  };
  return shapeSvg;
}
function rect_left_inv_arrow(parent, bbox, node2) {
  const w2 = bbox.width;
  const h = bbox.height;
  const points = [
    { x: -h / 2, y: 0 },
    { x: w2, y: 0 },
    { x: w2, y: -h },
    { x: -h / 2, y: -h },
    { x: 0, y: -h / 2 }
  ];
  const shapeSvg = insertPolygonShape(parent, w2, h, points);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.polygon(node2, points, point22);
  };
  return shapeSvg;
}
function lean_right(parent, bbox, node2) {
  const w2 = bbox.width;
  const h = bbox.height;
  const points = [
    { x: -2 * h / 6, y: 0 },
    { x: w2 - h / 6, y: 0 },
    { x: w2 + 2 * h / 6, y: -h },
    { x: h / 6, y: -h }
  ];
  const shapeSvg = insertPolygonShape(parent, w2, h, points);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.polygon(node2, points, point22);
  };
  return shapeSvg;
}
function lean_left(parent, bbox, node2) {
  const w2 = bbox.width;
  const h = bbox.height;
  const points = [
    { x: 2 * h / 6, y: 0 },
    { x: w2 + h / 6, y: 0 },
    { x: w2 - 2 * h / 6, y: -h },
    { x: -h / 6, y: -h }
  ];
  const shapeSvg = insertPolygonShape(parent, w2, h, points);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.polygon(node2, points, point22);
  };
  return shapeSvg;
}
function trapezoid(parent, bbox, node2) {
  const w2 = bbox.width;
  const h = bbox.height;
  const points = [
    { x: -2 * h / 6, y: 0 },
    { x: w2 + 2 * h / 6, y: 0 },
    { x: w2 - h / 6, y: -h },
    { x: h / 6, y: -h }
  ];
  const shapeSvg = insertPolygonShape(parent, w2, h, points);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.polygon(node2, points, point22);
  };
  return shapeSvg;
}
function inv_trapezoid(parent, bbox, node2) {
  const w2 = bbox.width;
  const h = bbox.height;
  const points = [
    { x: h / 6, y: 0 },
    { x: w2 - h / 6, y: 0 },
    { x: w2 + 2 * h / 6, y: -h },
    { x: -2 * h / 6, y: -h }
  ];
  const shapeSvg = insertPolygonShape(parent, w2, h, points);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.polygon(node2, points, point22);
  };
  return shapeSvg;
}
function rect_right_inv_arrow(parent, bbox, node2) {
  const w2 = bbox.width;
  const h = bbox.height;
  const points = [
    { x: 0, y: 0 },
    { x: w2 + h / 2, y: 0 },
    { x: w2, y: -h / 2 },
    { x: w2 + h / 2, y: -h },
    { x: 0, y: -h }
  ];
  const shapeSvg = insertPolygonShape(parent, w2, h, points);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.polygon(node2, points, point22);
  };
  return shapeSvg;
}
function stadium(parent, bbox, node2) {
  const h = bbox.height;
  const w2 = bbox.width + h / 4;
  const shapeSvg = parent.insert("rect", ":first-child").attr("rx", h / 2).attr("ry", h / 2).attr("x", -w2 / 2).attr("y", -h / 2).attr("width", w2).attr("height", h);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.rect(node2, point22);
  };
  return shapeSvg;
}
function subroutine(parent, bbox, node2) {
  const w2 = bbox.width;
  const h = bbox.height;
  const points = [
    { x: 0, y: 0 },
    { x: w2, y: 0 },
    { x: w2, y: -h },
    { x: 0, y: -h },
    { x: 0, y: 0 },
    { x: -8, y: 0 },
    { x: w2 + 8, y: 0 },
    { x: w2 + 8, y: -h },
    { x: -8, y: -h },
    { x: -8, y: 0 }
  ];
  const shapeSvg = insertPolygonShape(parent, w2, h, points);
  node2.intersect = function(point22) {
    return import_dagre_d3.default.intersect.polygon(node2, points, point22);
  };
  return shapeSvg;
}
function cylinder(parent, bbox, node2) {
  const w2 = bbox.width;
  const rx = w2 / 2;
  const ry = rx / (2.5 + w2 / 50);
  const h = bbox.height + ry;
  const shape = "M 0," + ry + " a " + rx + "," + ry + " 0,0,0 " + w2 + " 0 a " + rx + "," + ry + " 0,0,0 " + -w2 + " 0 l 0," + h + " a " + rx + "," + ry + " 0,0,0 " + w2 + " 0 l 0," + -h;
  const shapeSvg = parent.attr("label-offset-y", ry).insert("path", ":first-child").attr("d", shape).attr("transform", "translate(" + -w2 / 2 + "," + -(h / 2 + ry) + ")");
  node2.intersect = function(point22) {
    const pos = import_dagre_d3.default.intersect.rect(node2, point22);
    const x7 = pos.x - node2.x;
    if (rx != 0 && (Math.abs(x7) < node2.width / 2 || Math.abs(x7) == node2.width / 2 && Math.abs(pos.y - node2.y) > node2.height / 2 - ry)) {
      let y7 = ry * ry * (1 - x7 * x7 / (rx * rx));
      if (y7 != 0)
        y7 = Math.sqrt(y7);
      y7 = ry - y7;
      if (point22.y - node2.y > 0)
        y7 = -y7;
      pos.y += y7;
    }
    return pos;
  };
  return shapeSvg;
}
function addToRender(render2) {
  render2.shapes().question = question;
  render2.shapes().hexagon = hexagon;
  render2.shapes().stadium = stadium;
  render2.shapes().subroutine = subroutine;
  render2.shapes().cylinder = cylinder;
  render2.shapes().rect_left_inv_arrow = rect_left_inv_arrow;
  render2.shapes().lean_right = lean_right;
  render2.shapes().lean_left = lean_left;
  render2.shapes().trapezoid = trapezoid;
  render2.shapes().inv_trapezoid = inv_trapezoid;
  render2.shapes().rect_right_inv_arrow = rect_right_inv_arrow;
}
function addToRenderV2(addShape) {
  addShape({ question });
  addShape({ hexagon });
  addShape({ stadium });
  addShape({ subroutine });
  addShape({ cylinder });
  addShape({ rect_left_inv_arrow });
  addShape({ lean_right });
  addShape({ lean_left });
  addShape({ trapezoid });
  addShape({ inv_trapezoid });
  addShape({ rect_right_inv_arrow });
}
function insertPolygonShape(parent, w2, h, points) {
  return parent.insert("polygon", ":first-child").attr(
    "points",
    points.map(function(d) {
      return d.x + "," + d.y;
    }).join(" ")
  ).attr("transform", "translate(" + -w2 / 2 + "," + h / 2 + ")");
}
var flowChartShapes = {
  addToRender,
  addToRenderV2
};
var conf$8 = {};
var setConf$7 = function(cnf) {
  const keys = Object.keys(cnf);
  for (let i = 0; i < keys.length; i++) {
    conf$8[keys[i]] = cnf[keys[i]];
  }
};
var addVertices$1 = function(vert, g, svgId, root22, _doc, diagObj) {
  const svg4 = !root22 ? select_default5(`[id="${svgId}"]`) : root22.select(`[id="${svgId}"]`);
  const doc = !_doc ? document : _doc;
  const keys = Object.keys(vert);
  keys.forEach(function(id5) {
    const vertex = vert[id5];
    let classStr = "default";
    if (vertex.classes.length > 0) {
      classStr = vertex.classes.join(" ");
    }
    const styles = getStylesFromArray(vertex.styles);
    let vertexText = vertex.text !== void 0 ? vertex.text : vertex.id;
    let vertexNode;
    if (evaluate(getConfig$1().flowchart.htmlLabels)) {
      const node2 = {
        label: vertexText.replace(
          /fa[lrsb]?:fa-[\w-]+/g,
          (s3) => `<i class='${s3.replace(":", " ")}'></i>`
        )
      };
      vertexNode = addHtmlLabel_1(svg4, node2).node();
      vertexNode.parentNode.removeChild(vertexNode);
    } else {
      const svgLabel = doc.createElementNS("http://www.w3.org/2000/svg", "text");
      svgLabel.setAttribute("style", styles.labelStyle.replace("color:", "fill:"));
      const rows = vertexText.split(common.lineBreakRegex);
      for (let j = 0; j < rows.length; j++) {
        const tspan = doc.createElementNS("http://www.w3.org/2000/svg", "tspan");
        tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
        tspan.setAttribute("dy", "1em");
        tspan.setAttribute("x", "1");
        tspan.textContent = rows[j];
        svgLabel.appendChild(tspan);
      }
      vertexNode = svgLabel;
    }
    let radious = 0;
    let _shape = "";
    switch (vertex.type) {
      case "round":
        radious = 5;
        _shape = "rect";
        break;
      case "square":
        _shape = "rect";
        break;
      case "diamond":
        _shape = "question";
        break;
      case "hexagon":
        _shape = "hexagon";
        break;
      case "odd":
        _shape = "rect_left_inv_arrow";
        break;
      case "lean_right":
        _shape = "lean_right";
        break;
      case "lean_left":
        _shape = "lean_left";
        break;
      case "trapezoid":
        _shape = "trapezoid";
        break;
      case "inv_trapezoid":
        _shape = "inv_trapezoid";
        break;
      case "odd_right":
        _shape = "rect_left_inv_arrow";
        break;
      case "circle":
        _shape = "circle";
        break;
      case "ellipse":
        _shape = "ellipse";
        break;
      case "stadium":
        _shape = "stadium";
        break;
      case "subroutine":
        _shape = "subroutine";
        break;
      case "cylinder":
        _shape = "cylinder";
        break;
      case "group":
        _shape = "rect";
        break;
      default:
        _shape = "rect";
    }
    log$1.warn("Adding node", vertex.id, vertex.domId);
    g.setNode(diagObj.db.lookUpDomId(vertex.id), {
      labelType: "svg",
      labelStyle: styles.labelStyle,
      shape: _shape,
      label: vertexNode,
      rx: radious,
      ry: radious,
      class: classStr,
      style: styles.style,
      id: diagObj.db.lookUpDomId(vertex.id)
    });
  });
};
var addEdges$1 = function(edges22, g, diagObj) {
  let cnt2 = 0;
  let defaultStyle2;
  let defaultLabelStyle;
  if (typeof edges22.defaultStyle !== "undefined") {
    const defaultStyles = getStylesFromArray(edges22.defaultStyle);
    defaultStyle2 = defaultStyles.style;
    defaultLabelStyle = defaultStyles.labelStyle;
  }
  edges22.forEach(function(edge) {
    cnt2++;
    var linkId = "L-" + edge.start + "-" + edge.end;
    var linkNameStart = "LS-" + edge.start;
    var linkNameEnd = "LE-" + edge.end;
    const edgeData = {};
    if (edge.type === "arrow_open") {
      edgeData.arrowhead = "none";
    } else {
      edgeData.arrowhead = "normal";
    }
    let style = "";
    let labelStyle = "";
    if (typeof edge.style !== "undefined") {
      const styles = getStylesFromArray(edge.style);
      style = styles.style;
      labelStyle = styles.labelStyle;
    } else {
      switch (edge.stroke) {
        case "normal":
          style = "fill:none";
          if (typeof defaultStyle2 !== "undefined") {
            style = defaultStyle2;
          }
          if (typeof defaultLabelStyle !== "undefined") {
            labelStyle = defaultLabelStyle;
          }
          break;
        case "dotted":
          style = "fill:none;stroke-width:2px;stroke-dasharray:3;";
          break;
        case "thick":
          style = " stroke-width: 3.5px;fill:none";
          break;
      }
    }
    edgeData.style = style;
    edgeData.labelStyle = labelStyle;
    if (typeof edge.interpolate !== "undefined") {
      edgeData.curve = interpolateToCurve(edge.interpolate, linear_default);
    } else if (typeof edges22.defaultInterpolate !== "undefined") {
      edgeData.curve = interpolateToCurve(edges22.defaultInterpolate, linear_default);
    } else {
      edgeData.curve = interpolateToCurve(conf$8.curve, linear_default);
    }
    if (typeof edge.text === "undefined") {
      if (typeof edge.style !== "undefined") {
        edgeData.arrowheadStyle = "fill: #333";
      }
    } else {
      edgeData.arrowheadStyle = "fill: #333";
      edgeData.labelpos = "c";
      if (evaluate(getConfig$1().flowchart.htmlLabels)) {
        edgeData.labelType = "html";
        edgeData.label = `<span id="L-${linkId}" class="edgeLabel L-${linkNameStart}' L-${linkNameEnd}" style="${edgeData.labelStyle}">${edge.text.replace(
          /fa[lrsb]?:fa-[\w-]+/g,
          (s3) => `<i class='${s3.replace(":", " ")}'></i>`
        )}</span>`;
      } else {
        edgeData.labelType = "text";
        edgeData.label = edge.text.replace(common.lineBreakRegex, "\n");
        if (typeof edge.style === "undefined") {
          edgeData.style = edgeData.style || "stroke: #333; stroke-width: 1.5px;fill:none";
        }
        edgeData.labelStyle = edgeData.labelStyle.replace("color:", "fill:");
      }
    }
    edgeData.id = linkId;
    edgeData.class = linkNameStart + " " + linkNameEnd;
    edgeData.minlen = edge.length || 1;
    g.setEdge(diagObj.db.lookUpDomId(edge.start), diagObj.db.lookUpDomId(edge.end), edgeData, cnt2);
  });
};
var getClasses$3 = function(text2, diagObj) {
  log$1.info("Extracting classes");
  diagObj.db.clear();
  try {
    diagObj.parse(text2);
    return diagObj.db.getClasses();
  } catch (e) {
    return;
  }
};
var draw$a = function(text2, id5, _version, diagObj) {
  log$1.info("Drawing flowchart");
  diagObj.db.clear();
  const { securityLevel, flowchart: conf2 } = getConfig$1();
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
  try {
    diagObj.parser.parse(text2);
  } catch (err) {
    log$1.debug("Parsing failed");
  }
  let dir = diagObj.db.getDirection();
  if (typeof dir === "undefined") {
    dir = "TD";
  }
  const nodeSpacing = conf2.nodeSpacing || 50;
  const rankSpacing = conf2.rankSpacing || 50;
  const g = new import_graphlib.default.Graph({
    multigraph: true,
    compound: true
  }).setGraph({
    rankdir: dir,
    nodesep: nodeSpacing,
    ranksep: rankSpacing,
    marginx: 8,
    marginy: 8
  }).setDefaultEdgeLabel(function() {
    return {};
  });
  let subG;
  const subGraphs2 = diagObj.db.getSubGraphs();
  for (let i2 = subGraphs2.length - 1; i2 >= 0; i2--) {
    subG = subGraphs2[i2];
    diagObj.db.addVertex(subG.id, subG.title, "group", void 0, subG.classes);
  }
  const vert = diagObj.db.getVertices();
  log$1.warn("Get vertices", vert);
  const edges22 = diagObj.db.getEdges();
  let i = 0;
  for (i = subGraphs2.length - 1; i >= 0; i--) {
    subG = subGraphs2[i];
    selectAll_default5("cluster").append("text");
    for (let j = 0; j < subG.nodes.length; j++) {
      log$1.warn(
        "Setting subgraph",
        subG.nodes[j],
        diagObj.db.lookUpDomId(subG.nodes[j]),
        diagObj.db.lookUpDomId(subG.id)
      );
      g.setParent(diagObj.db.lookUpDomId(subG.nodes[j]), diagObj.db.lookUpDomId(subG.id));
    }
  }
  addVertices$1(vert, g, id5, root22, doc, diagObj);
  addEdges$1(edges22, g, diagObj);
  const Render = import_dagre_d3.default.render;
  const render2 = new Render();
  flowChartShapes.addToRender(render2);
  render2.arrows().none = function normal(parent, id22, edge, type22) {
    const marker = parent.append("marker").attr("id", id22).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
    const path5 = marker.append("path").attr("d", "M 0 0 L 0 0 L 0 0 z");
    import_dagre_d3.default.util.applyStyle(path5, edge[type22 + "Style"]);
  };
  render2.arrows().normal = function normal(parent, id22) {
    const marker = parent.append("marker").attr("id", id22).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
    marker.append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowheadPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
  };
  const svg4 = root22.select(`[id="${id5}"]`);
  addSVGAccessibilityFields(diagObj.db, svg4, id5);
  const element = root22.select("#" + id5 + " g");
  render2(element, g);
  element.selectAll("g.node").attr("title", function() {
    return diagObj.db.getTooltip(this.id);
  });
  diagObj.db.indexNodes("subGraph" + i);
  for (i = 0; i < subGraphs2.length; i++) {
    subG = subGraphs2[i];
    if (subG.title !== "undefined") {
      const clusterRects = doc.querySelectorAll(
        "#" + id5 + ' [id="' + diagObj.db.lookUpDomId(subG.id) + '"] rect'
      );
      const clusterEl = doc.querySelectorAll(
        "#" + id5 + ' [id="' + diagObj.db.lookUpDomId(subG.id) + '"]'
      );
      const xPos = clusterRects[0].x.baseVal.value;
      const yPos = clusterRects[0].y.baseVal.value;
      const _width = clusterRects[0].width.baseVal.value;
      const cluster = select_default5(clusterEl[0]);
      const te = cluster.select(".label");
      te.attr("transform", `translate(${xPos + _width / 2}, ${yPos + 14})`);
      te.attr("id", id5 + "Text");
      for (let j = 0; j < subG.classes.length; j++) {
        clusterEl[0].classList.add(subG.classes[j]);
      }
    }
  }
  if (!conf2.htmlLabels) {
    const labels = doc.querySelectorAll('[id="' + id5 + '"] .edgeLabel .label');
    for (let k3 = 0; k3 < labels.length; k3++) {
      const label = labels[k3];
      const dim = label.getBBox();
      const rect2 = doc.createElementNS("http://www.w3.org/2000/svg", "rect");
      rect2.setAttribute("rx", 0);
      rect2.setAttribute("ry", 0);
      rect2.setAttribute("width", dim.width);
      rect2.setAttribute("height", dim.height);
      label.insertBefore(rect2, label.firstChild);
    }
  }
  setupGraphViewbox$1(g, svg4, conf2.diagramPadding, conf2.useMaxWidth);
  const keys = Object.keys(vert);
  keys.forEach(function(key) {
    const vertex = vert[key];
    if (vertex.link) {
      const node2 = root22.select("#" + id5 + ' [id="' + diagObj.db.lookUpDomId(key) + '"]');
      if (node2) {
        const link5 = doc.createElementNS("http://www.w3.org/2000/svg", "a");
        link5.setAttributeNS("http://www.w3.org/2000/svg", "class", vertex.classes.join(" "));
        link5.setAttributeNS("http://www.w3.org/2000/svg", "href", vertex.link);
        link5.setAttributeNS("http://www.w3.org/2000/svg", "rel", "noopener");
        if (securityLevel === "sandbox") {
          link5.setAttributeNS("http://www.w3.org/2000/svg", "target", "_top");
        } else if (vertex.linkTarget) {
          link5.setAttributeNS("http://www.w3.org/2000/svg", "target", vertex.linkTarget);
        }
        const linkNode = node2.insert(function() {
          return link5;
        }, ":first-child");
        const shape = node2.select(".label-container");
        if (shape) {
          linkNode.append(function() {
            return shape.node();
          });
        }
        const label = node2.select(".label");
        if (label) {
          linkNode.append(function() {
            return label.node();
          });
        }
      }
    }
  });
};
var flowRenderer = {
  setConf: setConf$7,
  addVertices: addVertices$1,
  addEdges: addEdges$1,
  getClasses: getClasses$3,
  draw: draw$a
};
var conf$7 = {};
var setConf$6 = function(cnf) {
  const keys = Object.keys(cnf);
  for (let i = 0; i < keys.length; i++) {
    conf$7[keys[i]] = cnf[keys[i]];
  }
};
var addVertices = function(vert, g, svgId, root22, doc, diagObj) {
  const svg4 = root22.select(`[id="${svgId}"]`);
  const keys = Object.keys(vert);
  keys.forEach(function(id5) {
    const vertex = vert[id5];
    let classStr = "default";
    if (vertex.classes.length > 0) {
      classStr = vertex.classes.join(" ");
    }
    const styles = getStylesFromArray(vertex.styles);
    let vertexText = vertex.text !== void 0 ? vertex.text : vertex.id;
    let vertexNode;
    if (evaluate(getConfig$1().flowchart.htmlLabels)) {
      const node2 = {
        label: vertexText.replace(
          /fa[lrsb]?:fa-[\w-]+/g,
          (s3) => `<i class='${s3.replace(":", " ")}'></i>`
        )
      };
      vertexNode = addHtmlLabel_1(svg4, node2).node();
      vertexNode.parentNode.removeChild(vertexNode);
    } else {
      const svgLabel = doc.createElementNS("http://www.w3.org/2000/svg", "text");
      svgLabel.setAttribute("style", styles.labelStyle.replace("color:", "fill:"));
      const rows = vertexText.split(common.lineBreakRegex);
      for (let j = 0; j < rows.length; j++) {
        const tspan = doc.createElementNS("http://www.w3.org/2000/svg", "tspan");
        tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
        tspan.setAttribute("dy", "1em");
        tspan.setAttribute("x", "1");
        tspan.textContent = rows[j];
        svgLabel.appendChild(tspan);
      }
      vertexNode = svgLabel;
    }
    let radious = 0;
    let _shape = "";
    switch (vertex.type) {
      case "round":
        radious = 5;
        _shape = "rect";
        break;
      case "square":
        _shape = "rect";
        break;
      case "diamond":
        _shape = "question";
        break;
      case "hexagon":
        _shape = "hexagon";
        break;
      case "odd":
        _shape = "rect_left_inv_arrow";
        break;
      case "lean_right":
        _shape = "lean_right";
        break;
      case "lean_left":
        _shape = "lean_left";
        break;
      case "trapezoid":
        _shape = "trapezoid";
        break;
      case "inv_trapezoid":
        _shape = "inv_trapezoid";
        break;
      case "odd_right":
        _shape = "rect_left_inv_arrow";
        break;
      case "circle":
        _shape = "circle";
        break;
      case "ellipse":
        _shape = "ellipse";
        break;
      case "stadium":
        _shape = "stadium";
        break;
      case "subroutine":
        _shape = "subroutine";
        break;
      case "cylinder":
        _shape = "cylinder";
        break;
      case "group":
        _shape = "rect";
        break;
      case "doublecircle":
        _shape = "doublecircle";
        break;
      default:
        _shape = "rect";
    }
    g.setNode(vertex.id, {
      labelStyle: styles.labelStyle,
      shape: _shape,
      labelText: vertexText,
      rx: radious,
      ry: radious,
      class: classStr,
      style: styles.style,
      id: vertex.id,
      link: vertex.link,
      linkTarget: vertex.linkTarget,
      tooltip: diagObj.db.getTooltip(vertex.id) || "",
      domId: diagObj.db.lookUpDomId(vertex.id),
      haveCallback: vertex.haveCallback,
      width: vertex.type === "group" ? 500 : void 0,
      dir: vertex.dir,
      type: vertex.type,
      props: vertex.props,
      padding: getConfig$1().flowchart.padding
    });
    log$1.info("setNode", {
      labelStyle: styles.labelStyle,
      shape: _shape,
      labelText: vertexText,
      rx: radious,
      ry: radious,
      class: classStr,
      style: styles.style,
      id: vertex.id,
      domId: diagObj.db.lookUpDomId(vertex.id),
      width: vertex.type === "group" ? 500 : void 0,
      type: vertex.type,
      dir: vertex.dir,
      props: vertex.props,
      padding: getConfig$1().flowchart.padding
    });
  });
};
var addEdges = function(edges22, g, diagObj) {
  log$1.info("abc78 edges = ", edges22);
  let cnt2 = 0;
  let linkIdCnt = {};
  let defaultStyle2;
  let defaultLabelStyle;
  if (typeof edges22.defaultStyle !== "undefined") {
    const defaultStyles = getStylesFromArray(edges22.defaultStyle);
    defaultStyle2 = defaultStyles.style;
    defaultLabelStyle = defaultStyles.labelStyle;
  }
  edges22.forEach(function(edge) {
    cnt2++;
    var linkIdBase = "L-" + edge.start + "-" + edge.end;
    if (typeof linkIdCnt[linkIdBase] === "undefined") {
      linkIdCnt[linkIdBase] = 0;
      log$1.info("abc78 new entry", linkIdBase, linkIdCnt[linkIdBase]);
    } else {
      linkIdCnt[linkIdBase]++;
      log$1.info("abc78 new entry", linkIdBase, linkIdCnt[linkIdBase]);
    }
    let linkId = linkIdBase + "-" + linkIdCnt[linkIdBase];
    log$1.info("abc78 new link id to be used is", linkIdBase, linkId, linkIdCnt[linkIdBase]);
    var linkNameStart = "LS-" + edge.start;
    var linkNameEnd = "LE-" + edge.end;
    const edgeData = { style: "", labelStyle: "" };
    edgeData.minlen = edge.length || 1;
    if (edge.type === "arrow_open") {
      edgeData.arrowhead = "none";
    } else {
      edgeData.arrowhead = "normal";
    }
    edgeData.arrowTypeStart = "arrow_open";
    edgeData.arrowTypeEnd = "arrow_open";
    switch (edge.type) {
      case "double_arrow_cross":
        edgeData.arrowTypeStart = "arrow_cross";
      case "arrow_cross":
        edgeData.arrowTypeEnd = "arrow_cross";
        break;
      case "double_arrow_point":
        edgeData.arrowTypeStart = "arrow_point";
      case "arrow_point":
        edgeData.arrowTypeEnd = "arrow_point";
        break;
      case "double_arrow_circle":
        edgeData.arrowTypeStart = "arrow_circle";
      case "arrow_circle":
        edgeData.arrowTypeEnd = "arrow_circle";
        break;
    }
    let style = "";
    let labelStyle = "";
    switch (edge.stroke) {
      case "normal":
        style = "fill:none;";
        if (typeof defaultStyle2 !== "undefined") {
          style = defaultStyle2;
        }
        if (typeof defaultLabelStyle !== "undefined") {
          labelStyle = defaultLabelStyle;
        }
        edgeData.thickness = "normal";
        edgeData.pattern = "solid";
        break;
      case "dotted":
        edgeData.thickness = "normal";
        edgeData.pattern = "dotted";
        edgeData.style = "fill:none;stroke-width:2px;stroke-dasharray:3;";
        break;
      case "thick":
        edgeData.thickness = "thick";
        edgeData.pattern = "solid";
        edgeData.style = "stroke-width: 3.5px;fill:none;";
        break;
      case "invisible":
        edgeData.thickness = "invisible";
        edgeData.pattern = "solid";
        edgeData.style = "stroke-width: 0;fill:none;";
        break;
    }
    if (typeof edge.style !== "undefined") {
      const styles = getStylesFromArray(edge.style);
      style = styles.style;
      labelStyle = styles.labelStyle;
    }
    edgeData.style = edgeData.style += style;
    edgeData.labelStyle = edgeData.labelStyle += labelStyle;
    if (typeof edge.interpolate !== "undefined") {
      edgeData.curve = interpolateToCurve(edge.interpolate, linear_default);
    } else if (typeof edges22.defaultInterpolate !== "undefined") {
      edgeData.curve = interpolateToCurve(edges22.defaultInterpolate, linear_default);
    } else {
      edgeData.curve = interpolateToCurve(conf$7.curve, linear_default);
    }
    if (typeof edge.text === "undefined") {
      if (typeof edge.style !== "undefined") {
        edgeData.arrowheadStyle = "fill: #333";
      }
    } else {
      edgeData.arrowheadStyle = "fill: #333";
      edgeData.labelpos = "c";
    }
    edgeData.labelType = "text";
    edgeData.label = edge.text.replace(common.lineBreakRegex, "\n");
    if (typeof edge.style === "undefined") {
      edgeData.style = edgeData.style || "stroke: #333; stroke-width: 1.5px;fill:none;";
    }
    edgeData.labelStyle = edgeData.labelStyle.replace("color:", "fill:");
    edgeData.id = linkId;
    edgeData.classes = "flowchart-link " + linkNameStart + " " + linkNameEnd;
    g.setEdge(edge.start, edge.end, edgeData, cnt2);
  });
};
var getClasses$2 = function(text2, diagObj) {
  log$1.info("Extracting classes");
  diagObj.db.clear();
  try {
    diagObj.parse(text2);
    return diagObj.db.getClasses();
  } catch (e) {
    return;
  }
};
var draw$9 = function(text2, id5, _version, diagObj) {
  log$1.info("Drawing flowchart");
  diagObj.db.clear();
  flowDb.setGen("gen-2");
  diagObj.parser.parse(text2);
  let dir = diagObj.db.getDirection();
  if (typeof dir === "undefined") {
    dir = "TD";
  }
  const { securityLevel, flowchart: conf2 } = getConfig$1();
  const nodeSpacing = conf2.nodeSpacing || 50;
  const rankSpacing = conf2.rankSpacing || 50;
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
  const g = new import_graphlib.default.Graph({
    multigraph: true,
    compound: true
  }).setGraph({
    rankdir: dir,
    nodesep: nodeSpacing,
    ranksep: rankSpacing,
    marginx: 0,
    marginy: 0
  }).setDefaultEdgeLabel(function() {
    return {};
  });
  let subG;
  const subGraphs2 = diagObj.db.getSubGraphs();
  log$1.info("Subgraphs - ", subGraphs2);
  for (let i2 = subGraphs2.length - 1; i2 >= 0; i2--) {
    subG = subGraphs2[i2];
    log$1.info("Subgraph - ", subG);
    diagObj.db.addVertex(subG.id, subG.title, "group", void 0, subG.classes, subG.dir);
  }
  const vert = diagObj.db.getVertices();
  const edges22 = diagObj.db.getEdges();
  log$1.info(edges22);
  let i = 0;
  for (i = subGraphs2.length - 1; i >= 0; i--) {
    subG = subGraphs2[i];
    selectAll_default5("cluster").append("text");
    for (let j = 0; j < subG.nodes.length; j++) {
      log$1.info("Setting up subgraphs", subG.nodes[j], subG.id);
      g.setParent(subG.nodes[j], subG.id);
    }
  }
  addVertices(vert, g, id5, root22, doc, diagObj);
  addEdges(edges22, g);
  const svg4 = root22.select(`[id="${id5}"]`);
  addSVGAccessibilityFields(diagObj.db, svg4, id5);
  const element = root22.select("#" + id5 + " g");
  render$1(element, g, ["point", "circle", "cross"], "flowchart", id5);
  setupGraphViewbox$1(g, svg4, conf2.diagramPadding, conf2.useMaxWidth);
  diagObj.db.indexNodes("subGraph" + i);
  if (!conf2.htmlLabels) {
    const labels = doc.querySelectorAll('[id="' + id5 + '"] .edgeLabel .label');
    for (let k3 = 0; k3 < labels.length; k3++) {
      const label = labels[k3];
      const dim = label.getBBox();
      const rect2 = doc.createElementNS("http://www.w3.org/2000/svg", "rect");
      rect2.setAttribute("rx", 0);
      rect2.setAttribute("ry", 0);
      rect2.setAttribute("width", dim.width);
      rect2.setAttribute("height", dim.height);
      label.insertBefore(rect2, label.firstChild);
    }
  }
  const keys = Object.keys(vert);
  keys.forEach(function(key) {
    const vertex = vert[key];
    if (vertex.link) {
      const node2 = select_default5("#" + id5 + ' [id="' + key + '"]');
      if (node2) {
        const link5 = doc.createElementNS("http://www.w3.org/2000/svg", "a");
        link5.setAttributeNS("http://www.w3.org/2000/svg", "class", vertex.classes.join(" "));
        link5.setAttributeNS("http://www.w3.org/2000/svg", "href", vertex.link);
        link5.setAttributeNS("http://www.w3.org/2000/svg", "rel", "noopener");
        if (securityLevel === "sandbox") {
          link5.setAttributeNS("http://www.w3.org/2000/svg", "target", "_top");
        } else if (vertex.linkTarget) {
          link5.setAttributeNS("http://www.w3.org/2000/svg", "target", vertex.linkTarget);
        }
        const linkNode = node2.insert(function() {
          return link5;
        }, ":first-child");
        const shape = node2.select(".label-container");
        if (shape) {
          linkNode.append(function() {
            return shape.node();
          });
        }
        const label = node2.select(".label");
        if (label) {
          linkNode.append(function() {
            return label.node();
          });
        }
      }
    }
  });
};
var flowRendererV2 = {
  setConf: setConf$6,
  addVertices,
  addEdges,
  getClasses: getClasses$2,
  draw: draw$9
};
var parser$6 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 3], $V1 = [1, 5], $V2 = [7, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 22, 24, 25, 27, 34, 39], $V3 = [1, 15], $V4 = [1, 16], $V5 = [1, 17], $V6 = [1, 18], $V7 = [1, 19], $V8 = [1, 20], $V9 = [1, 21], $Va = [1, 22], $Vb = [1, 23], $Vc = [1, 24], $Vd = [1, 25], $Ve = [1, 26], $Vf = [1, 28], $Vg = [1, 30], $Vh = [1, 33], $Vi = [5, 7, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 22, 24, 25, 27, 34, 39];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "directive": 4, "gantt": 5, "document": 6, "EOF": 7, "line": 8, "SPACE": 9, "statement": 10, "NL": 11, "dateFormat": 12, "inclusiveEndDates": 13, "topAxis": 14, "axisFormat": 15, "excludes": 16, "includes": 17, "todayMarker": 18, "title": 19, "acc_title": 20, "acc_title_value": 21, "acc_descr": 22, "acc_descr_value": 23, "acc_descr_multiline_value": 24, "section": 25, "clickStatement": 26, "taskTxt": 27, "taskData": 28, "openDirective": 29, "typeDirective": 30, "closeDirective": 31, ":": 32, "argDirective": 33, "click": 34, "callbackname": 35, "callbackargs": 36, "href": 37, "clickStatementDebug": 38, "open_directive": 39, "type_directive": 40, "arg_directive": 41, "close_directive": 42, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 5: "gantt", 7: "EOF", 9: "SPACE", 11: "NL", 12: "dateFormat", 13: "inclusiveEndDates", 14: "topAxis", 15: "axisFormat", 16: "excludes", 17: "includes", 18: "todayMarker", 19: "title", 20: "acc_title", 21: "acc_title_value", 22: "acc_descr", 23: "acc_descr_value", 24: "acc_descr_multiline_value", 25: "section", 27: "taskTxt", 28: "taskData", 32: ":", 34: "click", 35: "callbackname", 36: "callbackargs", 37: "href", 39: "open_directive", 40: "type_directive", 41: "arg_directive", 42: "close_directive" },
    productions_: [0, [3, 2], [3, 3], [6, 0], [6, 2], [8, 2], [8, 1], [8, 1], [8, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [10, 1], [10, 1], [10, 1], [10, 2], [10, 1], [4, 4], [4, 6], [26, 2], [26, 3], [26, 3], [26, 4], [26, 3], [26, 4], [26, 2], [38, 2], [38, 3], [38, 3], [38, 4], [38, 3], [38, 4], [38, 2], [29, 1], [30, 1], [33, 1], [31, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 2:
          return $$[$0 - 1];
        case 3:
          this.$ = [];
          break;
        case 4:
          $$[$0 - 1].push($$[$0]);
          this.$ = $$[$0 - 1];
          break;
        case 5:
        case 6:
          this.$ = $$[$0];
          break;
        case 7:
        case 8:
          this.$ = [];
          break;
        case 9:
          yy.setDateFormat($$[$0].substr(11));
          this.$ = $$[$0].substr(11);
          break;
        case 10:
          yy.enableInclusiveEndDates();
          this.$ = $$[$0].substr(18);
          break;
        case 11:
          yy.TopAxis();
          this.$ = $$[$0].substr(8);
          break;
        case 12:
          yy.setAxisFormat($$[$0].substr(11));
          this.$ = $$[$0].substr(11);
          break;
        case 13:
          yy.setExcludes($$[$0].substr(9));
          this.$ = $$[$0].substr(9);
          break;
        case 14:
          yy.setIncludes($$[$0].substr(9));
          this.$ = $$[$0].substr(9);
          break;
        case 15:
          yy.setTodayMarker($$[$0].substr(12));
          this.$ = $$[$0].substr(12);
          break;
        case 16:
          yy.setDiagramTitle($$[$0].substr(6));
          this.$ = $$[$0].substr(6);
          break;
        case 17:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 18:
        case 19:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 20:
          yy.addSection($$[$0].substr(8));
          this.$ = $$[$0].substr(8);
          break;
        case 22:
          yy.addTask($$[$0 - 1], $$[$0]);
          this.$ = "task";
          break;
        case 26:
          this.$ = $$[$0 - 1];
          yy.setClickEvent($$[$0 - 1], $$[$0], null);
          break;
        case 27:
          this.$ = $$[$0 - 2];
          yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);
          break;
        case 28:
          this.$ = $$[$0 - 2];
          yy.setClickEvent($$[$0 - 2], $$[$0 - 1], null);
          yy.setLink($$[$0 - 2], $$[$0]);
          break;
        case 29:
          this.$ = $$[$0 - 3];
          yy.setClickEvent($$[$0 - 3], $$[$0 - 2], $$[$0 - 1]);
          yy.setLink($$[$0 - 3], $$[$0]);
          break;
        case 30:
          this.$ = $$[$0 - 2];
          yy.setClickEvent($$[$0 - 2], $$[$0], null);
          yy.setLink($$[$0 - 2], $$[$0 - 1]);
          break;
        case 31:
          this.$ = $$[$0 - 3];
          yy.setClickEvent($$[$0 - 3], $$[$0 - 1], $$[$0]);
          yy.setLink($$[$0 - 3], $$[$0 - 2]);
          break;
        case 32:
          this.$ = $$[$0 - 1];
          yy.setLink($$[$0 - 1], $$[$0]);
          break;
        case 33:
        case 39:
          this.$ = $$[$0 - 1] + " " + $$[$0];
          break;
        case 34:
        case 35:
        case 37:
          this.$ = $$[$0 - 2] + " " + $$[$0 - 1] + " " + $$[$0];
          break;
        case 36:
        case 38:
          this.$ = $$[$0 - 3] + " " + $$[$0 - 2] + " " + $$[$0 - 1] + " " + $$[$0];
          break;
        case 40:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 41:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 42:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 43:
          yy.parseDirective("}%%", "close_directive", "gantt");
          break;
      }
    },
    table: [{ 3: 1, 4: 2, 5: $V0, 29: 4, 39: $V1 }, { 1: [3] }, { 3: 6, 4: 2, 5: $V0, 29: 4, 39: $V1 }, o($V2, [2, 3], { 6: 7 }), { 30: 8, 40: [1, 9] }, { 40: [2, 40] }, { 1: [2, 1] }, { 4: 29, 7: [1, 10], 8: 11, 9: [1, 12], 10: 13, 11: [1, 14], 12: $V3, 13: $V4, 14: $V5, 15: $V6, 16: $V7, 17: $V8, 18: $V9, 19: $Va, 20: $Vb, 22: $Vc, 24: $Vd, 25: $Ve, 26: 27, 27: $Vf, 29: 4, 34: $Vg, 39: $V1 }, { 31: 31, 32: [1, 32], 42: $Vh }, o([32, 42], [2, 41]), o($V2, [2, 8], { 1: [2, 2] }), o($V2, [2, 4]), { 4: 29, 10: 34, 12: $V3, 13: $V4, 14: $V5, 15: $V6, 16: $V7, 17: $V8, 18: $V9, 19: $Va, 20: $Vb, 22: $Vc, 24: $Vd, 25: $Ve, 26: 27, 27: $Vf, 29: 4, 34: $Vg, 39: $V1 }, o($V2, [2, 6]), o($V2, [2, 7]), o($V2, [2, 9]), o($V2, [2, 10]), o($V2, [2, 11]), o($V2, [2, 12]), o($V2, [2, 13]), o($V2, [2, 14]), o($V2, [2, 15]), o($V2, [2, 16]), { 21: [1, 35] }, { 23: [1, 36] }, o($V2, [2, 19]), o($V2, [2, 20]), o($V2, [2, 21]), { 28: [1, 37] }, o($V2, [2, 23]), { 35: [1, 38], 37: [1, 39] }, { 11: [1, 40] }, { 33: 41, 41: [1, 42] }, { 11: [2, 43] }, o($V2, [2, 5]), o($V2, [2, 17]), o($V2, [2, 18]), o($V2, [2, 22]), o($V2, [2, 26], { 36: [1, 43], 37: [1, 44] }), o($V2, [2, 32], { 35: [1, 45] }), o($Vi, [2, 24]), { 31: 46, 42: $Vh }, { 42: [2, 42] }, o($V2, [2, 27], { 37: [1, 47] }), o($V2, [2, 28]), o($V2, [2, 30], { 36: [1, 48] }), { 11: [1, 49] }, o($V2, [2, 29]), o($V2, [2, 31]), o($Vi, [2, 25])],
    defaultActions: { 5: [2, 40], 6: [2, 1], 33: [2, 43], 42: [2, 42] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: { "case-insensitive": true },
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("open_directive");
            return 39;
          case 1:
            this.begin("type_directive");
            return 40;
          case 2:
            this.popState();
            this.begin("arg_directive");
            return 32;
          case 3:
            this.popState();
            this.popState();
            return 42;
          case 4:
            return 41;
          case 5:
            this.begin("acc_title");
            return 20;
          case 6:
            this.popState();
            return "acc_title_value";
          case 7:
            this.begin("acc_descr");
            return 22;
          case 8:
            this.popState();
            return "acc_descr_value";
          case 9:
            this.begin("acc_descr_multiline");
            break;
          case 10:
            this.popState();
            break;
          case 11:
            return "acc_descr_multiline_value";
          case 12:
            break;
          case 13:
            break;
          case 14:
            break;
          case 15:
            return 11;
          case 16:
            break;
          case 17:
            break;
          case 18:
            break;
          case 19:
            this.begin("href");
            break;
          case 20:
            this.popState();
            break;
          case 21:
            return 37;
          case 22:
            this.begin("callbackname");
            break;
          case 23:
            this.popState();
            break;
          case 24:
            this.popState();
            this.begin("callbackargs");
            break;
          case 25:
            return 35;
          case 26:
            this.popState();
            break;
          case 27:
            return 36;
          case 28:
            this.begin("click");
            break;
          case 29:
            this.popState();
            break;
          case 30:
            return 34;
          case 31:
            return 5;
          case 32:
            return 12;
          case 33:
            return 13;
          case 34:
            return 14;
          case 35:
            return 15;
          case 36:
            return 17;
          case 37:
            return 16;
          case 38:
            return 18;
          case 39:
            return "date";
          case 40:
            return 19;
          case 41:
            return "accDescription";
          case 42:
            return 25;
          case 43:
            return 27;
          case 44:
            return 28;
          case 45:
            return 32;
          case 46:
            return 7;
          case 47:
            return "INVALID";
        }
      },
      rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:%%(?!\{)*[^\n]*)/i, /^(?:[^\}]%%*[^\n]*)/i, /^(?:%%*[^\n]*[\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:href[\s]+["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:call[\s]+)/i, /^(?:\([\s]*\))/i, /^(?:\()/i, /^(?:[^(]*)/i, /^(?:\))/i, /^(?:[^)]*)/i, /^(?:click[\s]+)/i, /^(?:[\s\n])/i, /^(?:[^\s\n]*)/i, /^(?:gantt\b)/i, /^(?:dateFormat\s[^#\n;]+)/i, /^(?:inclusiveEndDates\b)/i, /^(?:topAxis\b)/i, /^(?:axisFormat\s[^#\n;]+)/i, /^(?:includes\s[^#\n;]+)/i, /^(?:excludes\s[^#\n;]+)/i, /^(?:todayMarker\s[^\n;]+)/i, /^(?:\d\d\d\d-\d\d-\d\d\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:accDescription\s[^#\n;]+)/i, /^(?:section\s[^#:\n;]+)/i, /^(?:[^#:\n;]+)/i, /^(?::[^#\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i],
      conditions: { "acc_descr_multiline": { "rules": [10, 11], "inclusive": false }, "acc_descr": { "rules": [8], "inclusive": false }, "acc_title": { "rules": [6], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "callbackargs": { "rules": [26, 27], "inclusive": false }, "callbackname": { "rules": [23, 24, 25], "inclusive": false }, "href": { "rules": [20, 21], "inclusive": false }, "click": { "rules": [29, 30], "inclusive": false }, "INITIAL": { "rules": [0, 5, 7, 9, 12, 13, 14, 15, 16, 17, 18, 19, 22, 28, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$6.parser = parser$6;
var ganttDetector = (txt) => {
  return txt.match(/^\s*gantt/) !== null;
};
var dateFormat = "";
var axisFormat = "";
var todayMarker = "";
var includes = [];
var excludes = [];
var links = {};
var sections$2 = [];
var tasks$1 = [];
var currentSection$1 = "";
var tags = ["active", "done", "crit", "milestone"];
var funs = [];
var inclusiveEndDates = false;
var topAxis = false;
var lastOrder = 0;
var parseDirective$6 = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var clear$5 = function() {
  sections$2 = [];
  tasks$1 = [];
  currentSection$1 = "";
  funs = [];
  taskCnt = 0;
  lastTask = void 0;
  lastTaskID = void 0;
  rawTasks$1 = [];
  dateFormat = "";
  axisFormat = "";
  todayMarker = "";
  includes = [];
  excludes = [];
  inclusiveEndDates = false;
  topAxis = false;
  lastOrder = 0;
  links = {};
  clear$g();
};
var setAxisFormat = function(txt) {
  axisFormat = txt;
};
var getAxisFormat = function() {
  return axisFormat;
};
var setTodayMarker = function(txt) {
  todayMarker = txt;
};
var getTodayMarker = function() {
  return todayMarker;
};
var setDateFormat = function(txt) {
  dateFormat = txt;
};
var enableInclusiveEndDates = function() {
  inclusiveEndDates = true;
};
var endDatesAreInclusive = function() {
  return inclusiveEndDates;
};
var enableTopAxis = function() {
  topAxis = true;
};
var topAxisEnabled = function() {
  return topAxis;
};
var getDateFormat = function() {
  return dateFormat;
};
var setIncludes = function(txt) {
  includes = txt.toLowerCase().split(/[\s,]+/);
};
var getIncludes = function() {
  return includes;
};
var setExcludes = function(txt) {
  excludes = txt.toLowerCase().split(/[\s,]+/);
};
var getExcludes = function() {
  return excludes;
};
var getLinks = function() {
  return links;
};
var addSection$2 = function(txt) {
  currentSection$1 = txt;
  sections$2.push(txt);
};
var getSections$2 = function() {
  return sections$2;
};
var getTasks$1 = function() {
  let allItemsPricessed = compileTasks$1();
  const maxDepth2 = 10;
  let iterationCount = 0;
  while (!allItemsPricessed && iterationCount < maxDepth2) {
    allItemsPricessed = compileTasks$1();
    iterationCount++;
  }
  tasks$1 = rawTasks$1;
  return tasks$1;
};
var isInvalidDate = function(date3, dateFormat2, excludes2, includes2) {
  if (includes2.indexOf(date3.format(dateFormat2.trim())) >= 0) {
    return false;
  }
  if (date3.isoWeekday() >= 6 && excludes2.indexOf("weekends") >= 0) {
    return true;
  }
  if (excludes2.indexOf(date3.format("dddd").toLowerCase()) >= 0) {
    return true;
  }
  return excludes2.indexOf(date3.format(dateFormat2.trim())) >= 0;
};
var checkTaskDates = function(task, dateFormat2, excludes2, includes2) {
  if (!excludes2.length || task.manualEndTime)
    return;
  let startTime = (0, import_moment_mini.default)(task.startTime, dateFormat2, true);
  startTime.add(1, "d");
  let endTime = (0, import_moment_mini.default)(task.endTime, dateFormat2, true);
  let renderEndTime = fixTaskDates(startTime, endTime, dateFormat2, excludes2, includes2);
  task.endTime = endTime.toDate();
  task.renderEndTime = renderEndTime;
};
var fixTaskDates = function(startTime, endTime, dateFormat2, excludes2, includes2) {
  let invalid = false;
  let renderEndTime = null;
  while (startTime <= endTime) {
    if (!invalid) {
      renderEndTime = endTime.toDate();
    }
    invalid = isInvalidDate(startTime, dateFormat2, excludes2, includes2);
    if (invalid) {
      endTime.add(1, "d");
    }
    startTime.add(1, "d");
  }
  return renderEndTime;
};
var getStartDate = function(prevTime, dateFormat2, str) {
  str = str.trim();
  const re4 = /^after\s+([\d\w- ]+)/;
  const afterStatement = re4.exec(str.trim());
  if (afterStatement !== null) {
    let latestEndingTask = null;
    afterStatement[1].split(" ").forEach(function(id5) {
      let task = findTaskById(id5);
      if (typeof task !== "undefined") {
        if (!latestEndingTask) {
          latestEndingTask = task;
        } else {
          if (task.endTime > latestEndingTask.endTime) {
            latestEndingTask = task;
          }
        }
      }
    });
    if (!latestEndingTask) {
      const dt = new Date();
      dt.setHours(0, 0, 0, 0);
      return dt;
    } else {
      return latestEndingTask.endTime;
    }
  }
  let mDate = (0, import_moment_mini.default)(str, dateFormat2.trim(), true);
  if (mDate.isValid()) {
    return mDate.toDate();
  } else {
    log$1.debug("Invalid date:" + str);
    log$1.debug("With date format:" + dateFormat2.trim());
    const d = new Date(str);
    if (typeof d === "undefined" || isNaN(d.getTime())) {
      throw new Error("Invalid date:" + str);
    }
    return d;
  }
};
var parseDuration = function(str) {
  const statement = /^(\d+(?:\.\d+)?)([yMwdhms]|ms)$/.exec(str.trim());
  if (statement !== null) {
    return import_moment_mini.default.duration(Number.parseFloat(statement[1]), statement[2]);
  }
  return import_moment_mini.default.duration.invalid();
};
var getEndDate = function(prevTime, dateFormat2, str, inclusive) {
  inclusive = inclusive || false;
  str = str.trim();
  let mDate = (0, import_moment_mini.default)(str, dateFormat2.trim(), true);
  if (mDate.isValid()) {
    if (inclusive) {
      mDate.add(1, "d");
    }
    return mDate.toDate();
  }
  const endTime = (0, import_moment_mini.default)(prevTime);
  const duration = parseDuration(str);
  if (duration.isValid()) {
    endTime.add(duration);
  }
  return endTime.toDate();
};
var taskCnt = 0;
var parseId = function(idStr) {
  if (typeof idStr === "undefined") {
    taskCnt = taskCnt + 1;
    return "task" + taskCnt;
  }
  return idStr;
};
var compileData = function(prevTask, dataStr) {
  let ds;
  if (dataStr.substr(0, 1) === ":") {
    ds = dataStr.substr(1, dataStr.length);
  } else {
    ds = dataStr;
  }
  const data = ds.split(",");
  const task = {};
  getTaskTags(data, task, tags);
  for (let i = 0; i < data.length; i++) {
    data[i] = data[i].trim();
  }
  let endTimeData = "";
  switch (data.length) {
    case 1:
      task.id = parseId();
      task.startTime = prevTask.endTime;
      endTimeData = data[0];
      break;
    case 2:
      task.id = parseId();
      task.startTime = getStartDate(void 0, dateFormat, data[0]);
      endTimeData = data[1];
      break;
    case 3:
      task.id = parseId(data[0]);
      task.startTime = getStartDate(void 0, dateFormat, data[1]);
      endTimeData = data[2];
      break;
  }
  if (endTimeData) {
    task.endTime = getEndDate(task.startTime, dateFormat, endTimeData, inclusiveEndDates);
    task.manualEndTime = (0, import_moment_mini.default)(endTimeData, "YYYY-MM-DD", true).isValid();
    checkTaskDates(task, dateFormat, excludes, includes);
  }
  return task;
};
var parseData = function(prevTaskId, dataStr) {
  let ds;
  if (dataStr.substr(0, 1) === ":") {
    ds = dataStr.substr(1, dataStr.length);
  } else {
    ds = dataStr;
  }
  const data = ds.split(",");
  const task = {};
  getTaskTags(data, task, tags);
  for (let i = 0; i < data.length; i++) {
    data[i] = data[i].trim();
  }
  switch (data.length) {
    case 1:
      task.id = parseId();
      task.startTime = {
        type: "prevTaskEnd",
        id: prevTaskId
      };
      task.endTime = {
        data: data[0]
      };
      break;
    case 2:
      task.id = parseId();
      task.startTime = {
        type: "getStartDate",
        startData: data[0]
      };
      task.endTime = {
        data: data[1]
      };
      break;
    case 3:
      task.id = parseId(data[0]);
      task.startTime = {
        type: "getStartDate",
        startData: data[1]
      };
      task.endTime = {
        data: data[2]
      };
      break;
  }
  return task;
};
var lastTask;
var lastTaskID;
var rawTasks$1 = [];
var taskDb = {};
var addTask$1 = function(descr, data) {
  const rawTask = {
    section: currentSection$1,
    type: currentSection$1,
    processed: false,
    manualEndTime: false,
    renderEndTime: null,
    raw: { data },
    task: descr,
    classes: []
  };
  const taskInfo = parseData(lastTaskID, data);
  rawTask.raw.startTime = taskInfo.startTime;
  rawTask.raw.endTime = taskInfo.endTime;
  rawTask.id = taskInfo.id;
  rawTask.prevTaskId = lastTaskID;
  rawTask.active = taskInfo.active;
  rawTask.done = taskInfo.done;
  rawTask.crit = taskInfo.crit;
  rawTask.milestone = taskInfo.milestone;
  rawTask.order = lastOrder;
  lastOrder++;
  const pos = rawTasks$1.push(rawTask);
  lastTaskID = rawTask.id;
  taskDb[rawTask.id] = pos - 1;
};
var findTaskById = function(id5) {
  const pos = taskDb[id5];
  return rawTasks$1[pos];
};
var addTaskOrg$1 = function(descr, data) {
  const newTask = {
    section: currentSection$1,
    type: currentSection$1,
    description: descr,
    task: descr,
    classes: []
  };
  const taskInfo = compileData(lastTask, data);
  newTask.startTime = taskInfo.startTime;
  newTask.endTime = taskInfo.endTime;
  newTask.id = taskInfo.id;
  newTask.active = taskInfo.active;
  newTask.done = taskInfo.done;
  newTask.crit = taskInfo.crit;
  newTask.milestone = taskInfo.milestone;
  lastTask = newTask;
  tasks$1.push(newTask);
};
var compileTasks$1 = function() {
  const compileTask = function(pos) {
    const task = rawTasks$1[pos];
    let startTime = "";
    switch (rawTasks$1[pos].raw.startTime.type) {
      case "prevTaskEnd": {
        const prevTask = findTaskById(task.prevTaskId);
        task.startTime = prevTask.endTime;
        break;
      }
      case "getStartDate":
        startTime = getStartDate(void 0, dateFormat, rawTasks$1[pos].raw.startTime.startData);
        if (startTime) {
          rawTasks$1[pos].startTime = startTime;
        }
        break;
    }
    if (rawTasks$1[pos].startTime) {
      rawTasks$1[pos].endTime = getEndDate(
        rawTasks$1[pos].startTime,
        dateFormat,
        rawTasks$1[pos].raw.endTime.data,
        inclusiveEndDates
      );
      if (rawTasks$1[pos].endTime) {
        rawTasks$1[pos].processed = true;
        rawTasks$1[pos].manualEndTime = (0, import_moment_mini.default)(
          rawTasks$1[pos].raw.endTime.data,
          "YYYY-MM-DD",
          true
        ).isValid();
        checkTaskDates(rawTasks$1[pos], dateFormat, excludes, includes);
      }
    }
    return rawTasks$1[pos].processed;
  };
  let allProcessed = true;
  for (let i = 0; i < rawTasks$1.length; i++) {
    compileTask(i);
    allProcessed = allProcessed && rawTasks$1[i].processed;
  }
  return allProcessed;
};
var setLink = function(ids, _linkStr) {
  let linkStr = _linkStr;
  if (getConfig$1().securityLevel !== "loose") {
    linkStr = (0, import_sanitize_url.sanitizeUrl)(_linkStr);
  }
  ids.split(",").forEach(function(id5) {
    let rawTask = findTaskById(id5);
    if (typeof rawTask !== "undefined") {
      pushFun(id5, () => {
        window.open(linkStr, "_self");
      });
      links[id5] = linkStr;
    }
  });
  setClass(ids, "clickable");
};
var setClass = function(ids, className) {
  ids.split(",").forEach(function(id5) {
    let rawTask = findTaskById(id5);
    if (typeof rawTask !== "undefined") {
      rawTask.classes.push(className);
    }
  });
};
var setClickFun = function(id5, functionName, functionArgs) {
  if (getConfig$1().securityLevel !== "loose") {
    return;
  }
  if (typeof functionName === "undefined") {
    return;
  }
  let argList = [];
  if (typeof functionArgs === "string") {
    argList = functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
    for (let i = 0; i < argList.length; i++) {
      let item = argList[i].trim();
      if (item.charAt(0) === '"' && item.charAt(item.length - 1) === '"') {
        item = item.substr(1, item.length - 2);
      }
      argList[i] = item;
    }
  }
  if (argList.length === 0) {
    argList.push(id5);
  }
  let rawTask = findTaskById(id5);
  if (typeof rawTask !== "undefined") {
    pushFun(id5, () => {
      utils.runFunc(functionName, ...argList);
    });
  }
};
var pushFun = function(id5, callbackFunction) {
  funs.push(function() {
    const elem = document.querySelector(`[id="${id5}"]`);
    if (elem !== null) {
      elem.addEventListener("click", function() {
        callbackFunction();
      });
    }
  });
  funs.push(function() {
    const elem = document.querySelector(`[id="${id5}-text"]`);
    if (elem !== null) {
      elem.addEventListener("click", function() {
        callbackFunction();
      });
    }
  });
};
var setClickEvent = function(ids, functionName, functionArgs) {
  ids.split(",").forEach(function(id5) {
    setClickFun(id5, functionName, functionArgs);
  });
  setClass(ids, "clickable");
};
var bindFunctions = function(element) {
  funs.forEach(function(fun) {
    fun(element);
  });
};
var ganttDb = {
  parseDirective: parseDirective$6,
  getConfig: () => getConfig$1().gantt,
  clear: clear$5,
  setDateFormat,
  getDateFormat,
  enableInclusiveEndDates,
  endDatesAreInclusive,
  enableTopAxis,
  topAxisEnabled,
  setAxisFormat,
  getAxisFormat,
  setTodayMarker,
  getTodayMarker,
  setAccTitle,
  getAccTitle,
  setDiagramTitle,
  getDiagramTitle,
  setAccDescription,
  getAccDescription,
  addSection: addSection$2,
  getSections: getSections$2,
  getTasks: getTasks$1,
  addTask: addTask$1,
  findTaskById,
  addTaskOrg: addTaskOrg$1,
  setIncludes,
  getIncludes,
  setExcludes,
  getExcludes,
  setClickEvent,
  setLink,
  getLinks,
  bindFunctions,
  parseDuration,
  isInvalidDate
};
function getTaskTags(data, task, tags2) {
  let matchFound = true;
  while (matchFound) {
    matchFound = false;
    tags2.forEach(function(t) {
      const pattern = "^\\s*" + t + "\\s*$";
      const regex = new RegExp(pattern);
      if (data[0].match(regex)) {
        task[t] = true;
        data.shift(1);
        matchFound = true;
      }
    });
  }
}
var setConf$5 = function() {
  log$1.debug("Something is calling, setConf, remove the call");
};
var w;
var draw$8 = function(text2, id5, version22, diagObj) {
  const conf2 = getConfig$1().gantt;
  const securityLevel = getConfig$1().securityLevel;
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
  const elem = doc.getElementById(id5);
  w = elem.parentElement.offsetWidth;
  if (typeof w === "undefined") {
    w = 1200;
  }
  if (typeof conf2.useWidth !== "undefined") {
    w = conf2.useWidth;
  }
  const taskArray = diagObj.db.getTasks();
  const h = taskArray.length * (conf2.barHeight + conf2.barGap) + 2 * conf2.topPadding;
  elem.setAttribute("viewBox", "0 0 " + w + " " + h);
  const svg4 = root22.select(`[id="${id5}"]`);
  const timeScale = time().domain([
    min(taskArray, function(d) {
      return d.startTime;
    }),
    max(taskArray, function(d) {
      return d.endTime;
    })
  ]).rangeRound([0, w - conf2.leftPadding - conf2.rightPadding]);
  let categories = [];
  for (let i = 0; i < taskArray.length; i++) {
    categories.push(taskArray[i].type);
  }
  const catsUnfiltered = categories;
  categories = checkUnique(categories);
  function taskCompare(a3, b) {
    const taskA = a3.startTime;
    const taskB = b.startTime;
    let result = 0;
    if (taskA > taskB) {
      result = 1;
    } else if (taskA < taskB) {
      result = -1;
    }
    return result;
  }
  taskArray.sort(taskCompare);
  makeGant(taskArray, w, h);
  configureSvgSize(svg4, h, w, conf2.useMaxWidth);
  svg4.append("text").text(diagObj.db.getDiagramTitle()).attr("x", w / 2).attr("y", conf2.titleTopMargin).attr("class", "titleText");
  addSVGAccessibilityFields(diagObj.db, svg4, id5);
  function makeGant(tasks2, pageWidth, pageHeight) {
    const barHeight = conf2.barHeight;
    const gap = barHeight + conf2.barGap;
    const topPadding = conf2.topPadding;
    const leftPadding = conf2.leftPadding;
    const colorScale = linear6().domain([0, categories.length]).range(["#00B9FA", "#F95002"]).interpolate(hcl_default2);
    drawExcludeDays(
      gap,
      topPadding,
      leftPadding,
      pageWidth,
      pageHeight,
      tasks2,
      diagObj.db.getExcludes(),
      diagObj.db.getIncludes()
    );
    makeGrid(leftPadding, topPadding, pageWidth, pageHeight);
    drawRects(tasks2, gap, topPadding, leftPadding, barHeight, colorScale, pageWidth);
    vertLabels(gap, topPadding);
    drawToday(leftPadding, topPadding, pageWidth, pageHeight);
  }
  function drawRects(theArray, theGap, theTopPad, theSidePad, theBarHeight, theColorScale, w2) {
    svg4.append("g").selectAll("rect").data(theArray).enter().append("rect").attr("x", 0).attr("y", function(d, i) {
      i = d.order;
      return i * theGap + theTopPad - 2;
    }).attr("width", function() {
      return w2 - conf2.rightPadding / 2;
    }).attr("height", theGap).attr("class", function(d) {
      for (let i = 0; i < categories.length; i++) {
        if (d.type === categories[i]) {
          return "section section" + i % conf2.numberSectionStyles;
        }
      }
      return "section section0";
    });
    const rectangles = svg4.append("g").selectAll("rect").data(theArray).enter();
    const links2 = diagObj.db.getLinks();
    rectangles.append("rect").attr("id", function(d) {
      return d.id;
    }).attr("rx", 3).attr("ry", 3).attr("x", function(d) {
      if (d.milestone) {
        return timeScale(d.startTime) + theSidePad + 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;
      }
      return timeScale(d.startTime) + theSidePad;
    }).attr("y", function(d, i) {
      i = d.order;
      return i * theGap + theTopPad;
    }).attr("width", function(d) {
      if (d.milestone) {
        return theBarHeight;
      }
      return timeScale(d.renderEndTime || d.endTime) - timeScale(d.startTime);
    }).attr("height", theBarHeight).attr("transform-origin", function(d, i) {
      i = d.order;
      return (timeScale(d.startTime) + theSidePad + 0.5 * (timeScale(d.endTime) - timeScale(d.startTime))).toString() + "px " + (i * theGap + theTopPad + 0.5 * theBarHeight).toString() + "px";
    }).attr("class", function(d) {
      const res = "task";
      let classStr = "";
      if (d.classes.length > 0) {
        classStr = d.classes.join(" ");
      }
      let secNum = 0;
      for (let i = 0; i < categories.length; i++) {
        if (d.type === categories[i]) {
          secNum = i % conf2.numberSectionStyles;
        }
      }
      let taskClass = "";
      if (d.active) {
        if (d.crit) {
          taskClass += " activeCrit";
        } else {
          taskClass = " active";
        }
      } else if (d.done) {
        if (d.crit) {
          taskClass = " doneCrit";
        } else {
          taskClass = " done";
        }
      } else {
        if (d.crit) {
          taskClass += " crit";
        }
      }
      if (taskClass.length === 0) {
        taskClass = " task";
      }
      if (d.milestone) {
        taskClass = " milestone " + taskClass;
      }
      taskClass += secNum;
      taskClass += " " + classStr;
      return res + taskClass;
    });
    rectangles.append("text").attr("id", function(d) {
      return d.id + "-text";
    }).text(function(d) {
      return d.task;
    }).attr("font-size", conf2.fontSize).attr("x", function(d) {
      let startX = timeScale(d.startTime);
      let endX = timeScale(d.renderEndTime || d.endTime);
      if (d.milestone) {
        startX += 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;
      }
      if (d.milestone) {
        endX = startX + theBarHeight;
      }
      const textWidth = this.getBBox().width;
      if (textWidth > endX - startX) {
        if (endX + textWidth + 1.5 * conf2.leftPadding > w2) {
          return startX + theSidePad - 5;
        } else {
          return endX + theSidePad + 5;
        }
      } else {
        return (endX - startX) / 2 + startX + theSidePad;
      }
    }).attr("y", function(d, i) {
      i = d.order;
      return i * theGap + conf2.barHeight / 2 + (conf2.fontSize / 2 - 2) + theTopPad;
    }).attr("text-height", theBarHeight).attr("class", function(d) {
      const startX = timeScale(d.startTime);
      let endX = timeScale(d.endTime);
      if (d.milestone) {
        endX = startX + theBarHeight;
      }
      const textWidth = this.getBBox().width;
      let classStr = "";
      if (d.classes.length > 0) {
        classStr = d.classes.join(" ");
      }
      let secNum = 0;
      for (let i = 0; i < categories.length; i++) {
        if (d.type === categories[i]) {
          secNum = i % conf2.numberSectionStyles;
        }
      }
      let taskType = "";
      if (d.active) {
        if (d.crit) {
          taskType = "activeCritText" + secNum;
        } else {
          taskType = "activeText" + secNum;
        }
      }
      if (d.done) {
        if (d.crit) {
          taskType = taskType + " doneCritText" + secNum;
        } else {
          taskType = taskType + " doneText" + secNum;
        }
      } else {
        if (d.crit) {
          taskType = taskType + " critText" + secNum;
        }
      }
      if (d.milestone) {
        taskType += " milestoneText";
      }
      if (textWidth > endX - startX) {
        if (endX + textWidth + 1.5 * conf2.leftPadding > w2) {
          return classStr + " taskTextOutsideLeft taskTextOutside" + secNum + " " + taskType;
        } else {
          return classStr + " taskTextOutsideRight taskTextOutside" + secNum + " " + taskType + " width-" + textWidth;
        }
      } else {
        return classStr + " taskText taskText" + secNum + " " + taskType + " width-" + textWidth;
      }
    });
    const securityLevel2 = getConfig$1().securityLevel;
    if (securityLevel2 === "sandbox") {
      let sandboxElement2;
      sandboxElement2 = select_default5("#i" + id5);
      const doc2 = sandboxElement2.nodes()[0].contentDocument;
      rectangles.filter(function(d) {
        return typeof links2[d.id] !== "undefined";
      }).each(function(o) {
        var taskRect = doc2.querySelector("#" + o.id);
        var taskText = doc2.querySelector("#" + o.id + "-text");
        const oldParent = taskRect.parentNode;
        var Link = doc2.createElement("a");
        Link.setAttribute("xlink:href", links2[o.id]);
        Link.setAttribute("target", "_top");
        oldParent.appendChild(Link);
        Link.appendChild(taskRect);
        Link.appendChild(taskText);
      });
    }
  }
  function drawExcludeDays(theGap, theTopPad, theSidePad, w2, h2, tasks2, excludes2, includes2) {
    const minTime = tasks2.reduce(
      (min22, { startTime }) => min22 ? Math.min(min22, startTime) : startTime,
      0
    );
    const maxTime = tasks2.reduce((max22, { endTime }) => max22 ? Math.max(max22, endTime) : endTime, 0);
    const dateFormat2 = diagObj.db.getDateFormat();
    if (!minTime || !maxTime)
      return;
    const excludeRanges = [];
    let range6 = null;
    let d = (0, import_moment_mini.default)(minTime);
    while (d.valueOf() <= maxTime) {
      if (diagObj.db.isInvalidDate(d, dateFormat2, excludes2, includes2)) {
        if (!range6) {
          range6 = {
            start: d.clone(),
            end: d.clone()
          };
        } else {
          range6.end = d.clone();
        }
      } else {
        if (range6) {
          excludeRanges.push(range6);
          range6 = null;
        }
      }
      d.add(1, "d");
    }
    const rectangles = svg4.append("g").selectAll("rect").data(excludeRanges).enter();
    rectangles.append("rect").attr("id", function(d2) {
      return "exclude-" + d2.start.format("YYYY-MM-DD");
    }).attr("x", function(d2) {
      return timeScale(d2.start) + theSidePad;
    }).attr("y", conf2.gridLineStartPadding).attr("width", function(d2) {
      const renderEnd = d2.end.clone().add(1, "day");
      return timeScale(renderEnd) - timeScale(d2.start);
    }).attr("height", h2 - theTopPad - conf2.gridLineStartPadding).attr("transform-origin", function(d2, i) {
      return (timeScale(d2.start) + theSidePad + 0.5 * (timeScale(d2.end) - timeScale(d2.start))).toString() + "px " + (i * theGap + 0.5 * h2).toString() + "px";
    }).attr("class", "exclude-range");
  }
  function makeGrid(theSidePad, theTopPad, w2, h2) {
    let bottomXAxis = axisBottom(timeScale).tickSize(-h2 + theTopPad + conf2.gridLineStartPadding).tickFormat(timeFormat2(diagObj.db.getAxisFormat() || conf2.axisFormat || "%Y-%m-%d"));
    svg4.append("g").attr("class", "grid").attr("transform", "translate(" + theSidePad + ", " + (h2 - 50) + ")").call(bottomXAxis).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10).attr("dy", "1em");
    if (diagObj.db.topAxisEnabled() || conf2.topAxis) {
      let topXAxis = axisTop(timeScale).tickSize(-h2 + theTopPad + conf2.gridLineStartPadding).tickFormat(timeFormat2(diagObj.db.getAxisFormat() || conf2.axisFormat || "%Y-%m-%d"));
      svg4.append("g").attr("class", "grid").attr("transform", "translate(" + theSidePad + ", " + theTopPad + ")").call(topXAxis).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10);
    }
  }
  function vertLabels(theGap, theTopPad) {
    const numOccurances = [];
    let prevGap = 0;
    for (let i = 0; i < categories.length; i++) {
      numOccurances[i] = [categories[i], getCount(categories[i], catsUnfiltered)];
    }
    svg4.append("g").selectAll("text").data(numOccurances).enter().append(function(d) {
      const rows = d[0].split(common.lineBreakRegex);
      const dy = -(rows.length - 1) / 2;
      const svgLabel = doc.createElementNS("http://www.w3.org/2000/svg", "text");
      svgLabel.setAttribute("dy", dy + "em");
      for (let j = 0; j < rows.length; j++) {
        const tspan = doc.createElementNS("http://www.w3.org/2000/svg", "tspan");
        tspan.setAttribute("alignment-baseline", "central");
        tspan.setAttribute("x", "10");
        if (j > 0)
          tspan.setAttribute("dy", "1em");
        tspan.textContent = rows[j];
        svgLabel.appendChild(tspan);
      }
      return svgLabel;
    }).attr("x", 10).attr("y", function(d, i) {
      if (i > 0) {
        for (let j = 0; j < i; j++) {
          prevGap += numOccurances[i - 1][1];
          return d[1] * theGap / 2 + prevGap * theGap + theTopPad;
        }
      } else {
        return d[1] * theGap / 2 + theTopPad;
      }
    }).attr("font-size", conf2.sectionFontSize).attr("font-size", conf2.sectionFontSize).attr("class", function(d) {
      for (let i = 0; i < categories.length; i++) {
        if (d[0] === categories[i]) {
          return "sectionTitle sectionTitle" + i % conf2.numberSectionStyles;
        }
      }
      return "sectionTitle";
    });
  }
  function drawToday(theSidePad, theTopPad, w2, h2) {
    const todayMarker2 = diagObj.db.getTodayMarker();
    if (todayMarker2 === "off") {
      return;
    }
    const todayG = svg4.append("g").attr("class", "today");
    const today = new Date();
    const todayLine = todayG.append("line");
    todayLine.attr("x1", timeScale(today) + theSidePad).attr("x2", timeScale(today) + theSidePad).attr("y1", conf2.titleTopMargin).attr("y2", h2 - conf2.titleTopMargin).attr("class", "today");
    if (todayMarker2 !== "") {
      todayLine.attr("style", todayMarker2.replace(/,/g, ";"));
    }
  }
  function checkUnique(arr) {
    const hash2 = {};
    const result = [];
    for (let i = 0, l = arr.length; i < l; ++i) {
      if (!Object.prototype.hasOwnProperty.call(hash2, arr[i])) {
        hash2[arr[i]] = true;
        result.push(arr[i]);
      }
    }
    return result;
  }
  function getCounts(arr) {
    let i = arr.length;
    const obj = {};
    while (i) {
      obj[arr[--i]] = (obj[arr[i]] || 0) + 1;
    }
    return obj;
  }
  function getCount(word, arr) {
    return getCounts(arr)[word] || 0;
  }
};
var ganttRenderer = {
  setConf: setConf$5,
  draw: draw$8
};
var parser$5 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [6, 9, 10];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "info": 4, "document": 5, "EOF": 6, "line": 7, "statement": 8, "NL": 9, "showInfo": 10, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 4: "info", 6: "EOF", 9: "NL", 10: "showInfo" },
    productions_: [0, [3, 3], [5, 0], [5, 2], [7, 1], [7, 1], [8, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      $$.length - 1;
      switch (yystate) {
        case 1:
          return yy;
        case 4:
          break;
        case 6:
          yy.setInfo(true);
          break;
      }
    },
    table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, o($V0, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: 6, 9: [1, 7], 10: [1, 8] }, { 1: [2, 1] }, o($V0, [2, 3]), o($V0, [2, 4]), o($V0, [2, 5]), o($V0, [2, 6])],
    defaultActions: { 4: [2, 1] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: { "case-insensitive": true },
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            return 4;
          case 1:
            return 9;
          case 2:
            return "space";
          case 3:
            return 10;
          case 4:
            return 6;
          case 5:
            return "TXT";
        }
      },
      rules: [/^(?:info\b)/i, /^(?:[\s\n\r]+)/i, /^(?:[\s]+)/i, /^(?:showInfo\b)/i, /^(?:$)/i, /^(?:.)/i],
      conditions: { "INITIAL": { "rules": [0, 1, 2, 3, 4, 5], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$5.parser = parser$5;
var message = "";
var info = false;
var setMessage = (txt) => {
  log$1.debug("Setting message to: " + txt);
  message = txt;
};
var getMessage = () => {
  return message;
};
var setInfo = (inf) => {
  info = inf;
};
var getInfo = () => {
  return info;
};
var infoDb = {
  setMessage,
  getMessage,
  setInfo,
  getInfo,
  clear: clear$g
};
var draw$7 = (text2, id5, version22, diagObj) => {
  try {
    log$1.debug("Rendering info diagram\n" + text2);
    const securityLevel = getConfig$1().securityLevel;
    let sandboxElement;
    if (securityLevel === "sandbox") {
      sandboxElement = select_default5("#i" + id5);
    }
    const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
    const svg4 = root22.select("#" + id5);
    const g = svg4.append("g");
    g.append("text").attr("x", 100).attr("y", 40).attr("class", "version").attr("font-size", "32px").style("text-anchor", "middle").text("v " + version22);
    svg4.attr("height", 100);
    svg4.attr("width", 400);
  } catch (e) {
    log$1.error("Error while rendering info diagram");
    log$1.error(e.message);
  }
};
var infoRenderer = {
  draw: draw$7
};
var infoDetector = (txt) => {
  return txt.match(/^\s*info/) !== null;
};
var parser$4 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 4], $V1 = [1, 5], $V2 = [1, 6], $V3 = [1, 7], $V4 = [1, 9], $V5 = [1, 11, 13, 15, 17, 19, 20, 26, 27, 28, 29], $V6 = [2, 5], $V7 = [1, 6, 11, 13, 15, 17, 19, 20, 26, 27, 28, 29], $V8 = [26, 27, 28], $V9 = [2, 8], $Va = [1, 18], $Vb = [1, 19], $Vc = [1, 20], $Vd = [1, 21], $Ve = [1, 22], $Vf = [1, 23], $Vg = [1, 28], $Vh = [6, 26, 27, 28, 29];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "eol": 4, "directive": 5, "PIE": 6, "document": 7, "showData": 8, "line": 9, "statement": 10, "txt": 11, "value": 12, "title": 13, "title_value": 14, "acc_title": 15, "acc_title_value": 16, "acc_descr": 17, "acc_descr_value": 18, "acc_descr_multiline_value": 19, "section": 20, "openDirective": 21, "typeDirective": 22, "closeDirective": 23, ":": 24, "argDirective": 25, "NEWLINE": 26, ";": 27, "EOF": 28, "open_directive": 29, "type_directive": 30, "arg_directive": 31, "close_directive": 32, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 6: "PIE", 8: "showData", 11: "txt", 12: "value", 13: "title", 14: "title_value", 15: "acc_title", 16: "acc_title_value", 17: "acc_descr", 18: "acc_descr_value", 19: "acc_descr_multiline_value", 20: "section", 24: ":", 26: "NEWLINE", 27: ";", 28: "EOF", 29: "open_directive", 30: "type_directive", 31: "arg_directive", 32: "close_directive" },
    productions_: [0, [3, 2], [3, 2], [3, 2], [3, 3], [7, 0], [7, 2], [9, 2], [10, 0], [10, 2], [10, 2], [10, 2], [10, 2], [10, 1], [10, 1], [10, 1], [5, 3], [5, 5], [4, 1], [4, 1], [4, 1], [21, 1], [22, 1], [25, 1], [23, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 4:
          yy.setShowData(true);
          break;
        case 7:
          this.$ = $$[$0 - 1];
          break;
        case 9:
          yy.addSection($$[$0 - 1], yy.cleanupValue($$[$0]));
          break;
        case 10:
          this.$ = $$[$0].trim();
          yy.setDiagramTitle(this.$);
          break;
        case 11:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 12:
        case 13:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 14:
          yy.addSection($$[$0].substr(8));
          this.$ = $$[$0].substr(8);
          break;
        case 21:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 22:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 23:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 24:
          yy.parseDirective("}%%", "close_directive", "pie");
          break;
      }
    },
    table: [{ 3: 1, 4: 2, 5: 3, 6: $V0, 21: 8, 26: $V1, 27: $V2, 28: $V3, 29: $V4 }, { 1: [3] }, { 3: 10, 4: 2, 5: 3, 6: $V0, 21: 8, 26: $V1, 27: $V2, 28: $V3, 29: $V4 }, { 3: 11, 4: 2, 5: 3, 6: $V0, 21: 8, 26: $V1, 27: $V2, 28: $V3, 29: $V4 }, o($V5, $V6, { 7: 12, 8: [1, 13] }), o($V7, [2, 18]), o($V7, [2, 19]), o($V7, [2, 20]), { 22: 14, 30: [1, 15] }, { 30: [2, 21] }, { 1: [2, 1] }, { 1: [2, 2] }, o($V8, $V9, { 21: 8, 9: 16, 10: 17, 5: 24, 1: [2, 3], 11: $Va, 13: $Vb, 15: $Vc, 17: $Vd, 19: $Ve, 20: $Vf, 29: $V4 }), o($V5, $V6, { 7: 25 }), { 23: 26, 24: [1, 27], 32: $Vg }, o([24, 32], [2, 22]), o($V5, [2, 6]), { 4: 29, 26: $V1, 27: $V2, 28: $V3 }, { 12: [1, 30] }, { 14: [1, 31] }, { 16: [1, 32] }, { 18: [1, 33] }, o($V8, [2, 13]), o($V8, [2, 14]), o($V8, [2, 15]), o($V8, $V9, { 21: 8, 9: 16, 10: 17, 5: 24, 1: [2, 4], 11: $Va, 13: $Vb, 15: $Vc, 17: $Vd, 19: $Ve, 20: $Vf, 29: $V4 }), o($Vh, [2, 16]), { 25: 34, 31: [1, 35] }, o($Vh, [2, 24]), o($V5, [2, 7]), o($V8, [2, 9]), o($V8, [2, 10]), o($V8, [2, 11]), o($V8, [2, 12]), { 23: 36, 32: $Vg }, { 32: [2, 23] }, o($Vh, [2, 17])],
    defaultActions: { 9: [2, 21], 10: [2, 1], 11: [2, 2], 35: [2, 23] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: { "case-insensitive": true },
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("open_directive");
            return 29;
          case 1:
            this.begin("type_directive");
            return 30;
          case 2:
            this.popState();
            this.begin("arg_directive");
            return 24;
          case 3:
            this.popState();
            this.popState();
            return 32;
          case 4:
            return 31;
          case 5:
            break;
          case 6:
            break;
          case 7:
            return 26;
          case 8:
            break;
          case 9:
            break;
          case 10:
            this.begin("title");
            return 13;
          case 11:
            this.popState();
            return "title_value";
          case 12:
            this.begin("acc_title");
            return 15;
          case 13:
            this.popState();
            return "acc_title_value";
          case 14:
            this.begin("acc_descr");
            return 17;
          case 15:
            this.popState();
            return "acc_descr_value";
          case 16:
            this.begin("acc_descr_multiline");
            break;
          case 17:
            this.popState();
            break;
          case 18:
            return "acc_descr_multiline_value";
          case 19:
            this.begin("string");
            break;
          case 20:
            this.popState();
            break;
          case 21:
            return "txt";
          case 22:
            return 6;
          case 23:
            return 8;
          case 24:
            return "value";
          case 25:
            return 28;
        }
      },
      rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n\r]+)/i, /^(?:%%[^\n]*)/i, /^(?:[\s]+)/i, /^(?:title\b)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:pie\b)/i, /^(?:showData\b)/i, /^(?::[\s]*[\d]+(?:\.[\d]+)?)/i, /^(?:$)/i],
      conditions: { "acc_descr_multiline": { "rules": [17, 18], "inclusive": false }, "acc_descr": { "rules": [15], "inclusive": false }, "acc_title": { "rules": [13], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "title": { "rules": [11], "inclusive": false }, "string": { "rules": [20, 21], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 7, 8, 9, 10, 12, 14, 16, 19, 22, 23, 24, 25], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$4.parser = parser$4;
var pieDetector = (txt) => {
  return txt.match(/^\s*pie/) !== null;
};
var sections$1 = {};
var showData = false;
var parseDirective$5 = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var addSection$1 = function(id5, value) {
  id5 = common.sanitizeText(id5, getConfig$1());
  if (typeof sections$1[id5] === "undefined") {
    sections$1[id5] = value;
    log$1.debug("Added new section :", id5);
  }
};
var getSections$1 = () => sections$1;
var setShowData = function(toggle) {
  showData = toggle;
};
var getShowData = function() {
  return showData;
};
var cleanupValue = function(value) {
  if (value.substring(0, 1) === ":") {
    value = value.substring(1).trim();
    return Number(value.trim());
  } else {
    return Number(value.trim());
  }
};
var clear$4 = function() {
  sections$1 = {};
  showData = false;
  clear$g();
};
var pieDb = {
  parseDirective: parseDirective$5,
  getConfig: () => getConfig$1().pie,
  addSection: addSection$1,
  getSections: getSections$1,
  cleanupValue,
  clear: clear$4,
  setAccTitle,
  getAccTitle,
  setDiagramTitle,
  getDiagramTitle,
  setShowData,
  getShowData,
  getAccDescription,
  setAccDescription
};
var conf$6 = getConfig$1();
var width;
var height = 450;
var draw$6 = (txt, id5, _version, diagObj) => {
  try {
    conf$6 = getConfig$1();
    log$1.debug("Rendering info diagram\n" + txt);
    const securityLevel = getConfig$1().securityLevel;
    let sandboxElement;
    if (securityLevel === "sandbox") {
      sandboxElement = select_default5("#i" + id5);
    }
    const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
    const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
    diagObj.db.clear();
    diagObj.parser.parse(txt);
    log$1.debug("Parsed info diagram");
    const elem = doc.getElementById(id5);
    width = elem.parentElement.offsetWidth;
    if (typeof width === "undefined") {
      width = 1200;
    }
    if (typeof conf$6.useWidth !== "undefined") {
      width = conf$6.useWidth;
    }
    if (typeof conf$6.pie.useWidth !== "undefined") {
      width = conf$6.pie.useWidth;
    }
    const diagram = root22.select("#" + id5);
    configureSvgSize(diagram, height, width, conf$6.pie.useMaxWidth);
    addSVGAccessibilityFields(diagObj.db, diagram, id5);
    elem.setAttribute("viewBox", "0 0 " + width + " " + height);
    var margin = 40;
    var legendRectSize = 18;
    var legendSpacing = 4;
    var radius = Math.min(width, height) / 2 - margin;
    var svg4 = diagram.append("g").attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
    var data = diagObj.db.getSections();
    var sum9 = 0;
    Object.keys(data).forEach(function(key) {
      sum9 += data[key];
    });
    const themeVariables = conf$6.themeVariables;
    var myGeneratedColors = [
      themeVariables.pie1,
      themeVariables.pie2,
      themeVariables.pie3,
      themeVariables.pie4,
      themeVariables.pie5,
      themeVariables.pie6,
      themeVariables.pie7,
      themeVariables.pie8,
      themeVariables.pie9,
      themeVariables.pie10,
      themeVariables.pie11,
      themeVariables.pie12
    ];
    var color7 = ordinal().range(myGeneratedColors);
    var pie$1 = pie_default().value(function(d) {
      return d[1];
    });
    var dataReady = pie$1(Object.entries(data));
    var arcGenerator = arc_default().innerRadius(0).outerRadius(radius);
    svg4.selectAll("mySlices").data(dataReady).enter().append("path").attr("d", arcGenerator).attr("fill", function(d) {
      return color7(d.data[0]);
    }).attr("class", "pieCircle");
    svg4.selectAll("mySlices").data(dataReady).enter().append("text").text(function(d) {
      return (d.data[1] / sum9 * 100).toFixed(0) + "%";
    }).attr("transform", function(d) {
      return "translate(" + arcGenerator.centroid(d) + ")";
    }).style("text-anchor", "middle").attr("class", "slice");
    svg4.append("text").text(diagObj.db.getDiagramTitle()).attr("x", 0).attr("y", -(height - 50) / 2).attr("class", "pieTitleText");
    var legend = svg4.selectAll(".legend").data(color7.domain()).enter().append("g").attr("class", "legend").attr("transform", function(d, i) {
      var height2 = legendRectSize + legendSpacing;
      var offset = height2 * color7.domain().length / 2;
      var horz = 12 * legendRectSize;
      var vert = i * height2 - offset;
      return "translate(" + horz + "," + vert + ")";
    });
    legend.append("rect").attr("width", legendRectSize).attr("height", legendRectSize).style("fill", color7).style("stroke", color7);
    legend.data(dataReady).append("text").attr("x", legendRectSize + legendSpacing).attr("y", legendRectSize - legendSpacing).text(function(d) {
      if (diagObj.db.getShowData() || conf$6.showData || conf$6.pie.showData) {
        return d.data[0] + " [" + d.data[1] + "]";
      } else {
        return d.data[0];
      }
    });
  } catch (e) {
    log$1.error("Error while rendering info diagram");
    log$1.error(e);
  }
};
var pieRenderer = {
  draw: draw$6
};
var parser$3 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 3], $V1 = [1, 5], $V2 = [1, 6], $V3 = [1, 7], $V4 = [1, 8], $V5 = [5, 6, 8, 14, 16, 18, 19, 40, 41, 42, 43, 44, 45, 53, 71, 72], $V6 = [1, 22], $V7 = [2, 13], $V8 = [1, 26], $V9 = [1, 27], $Va = [1, 28], $Vb = [1, 29], $Vc = [1, 30], $Vd = [1, 31], $Ve = [1, 24], $Vf = [1, 32], $Vg = [1, 33], $Vh = [1, 36], $Vi = [71, 72], $Vj = [5, 8, 14, 16, 18, 19, 40, 41, 42, 43, 44, 45, 53, 60, 62, 71, 72], $Vk = [1, 56], $Vl = [1, 57], $Vm = [1, 58], $Vn = [1, 59], $Vo = [1, 60], $Vp = [1, 61], $Vq = [1, 62], $Vr = [62, 63], $Vs = [1, 74], $Vt = [1, 70], $Vu = [1, 71], $Vv = [1, 72], $Vw = [1, 73], $Vx = [1, 75], $Vy = [1, 79], $Vz = [1, 80], $VA = [1, 77], $VB = [1, 78], $VC = [5, 8, 14, 16, 18, 19, 40, 41, 42, 43, 44, 45, 53, 71, 72];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "directive": 4, "NEWLINE": 5, "RD": 6, "diagram": 7, "EOF": 8, "openDirective": 9, "typeDirective": 10, "closeDirective": 11, ":": 12, "argDirective": 13, "acc_title": 14, "acc_title_value": 15, "acc_descr": 16, "acc_descr_value": 17, "acc_descr_multiline_value": 18, "open_directive": 19, "type_directive": 20, "arg_directive": 21, "close_directive": 22, "requirementDef": 23, "elementDef": 24, "relationshipDef": 25, "requirementType": 26, "requirementName": 27, "STRUCT_START": 28, "requirementBody": 29, "ID": 30, "COLONSEP": 31, "id": 32, "TEXT": 33, "text": 34, "RISK": 35, "riskLevel": 36, "VERIFYMTHD": 37, "verifyType": 38, "STRUCT_STOP": 39, "REQUIREMENT": 40, "FUNCTIONAL_REQUIREMENT": 41, "INTERFACE_REQUIREMENT": 42, "PERFORMANCE_REQUIREMENT": 43, "PHYSICAL_REQUIREMENT": 44, "DESIGN_CONSTRAINT": 45, "LOW_RISK": 46, "MED_RISK": 47, "HIGH_RISK": 48, "VERIFY_ANALYSIS": 49, "VERIFY_DEMONSTRATION": 50, "VERIFY_INSPECTION": 51, "VERIFY_TEST": 52, "ELEMENT": 53, "elementName": 54, "elementBody": 55, "TYPE": 56, "type": 57, "DOCREF": 58, "ref": 59, "END_ARROW_L": 60, "relationship": 61, "LINE": 62, "END_ARROW_R": 63, "CONTAINS": 64, "COPIES": 65, "DERIVES": 66, "SATISFIES": 67, "VERIFIES": 68, "REFINES": 69, "TRACES": 70, "unqString": 71, "qString": 72, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 5: "NEWLINE", 6: "RD", 8: "EOF", 12: ":", 14: "acc_title", 15: "acc_title_value", 16: "acc_descr", 17: "acc_descr_value", 18: "acc_descr_multiline_value", 19: "open_directive", 20: "type_directive", 21: "arg_directive", 22: "close_directive", 28: "STRUCT_START", 30: "ID", 31: "COLONSEP", 33: "TEXT", 35: "RISK", 37: "VERIFYMTHD", 39: "STRUCT_STOP", 40: "REQUIREMENT", 41: "FUNCTIONAL_REQUIREMENT", 42: "INTERFACE_REQUIREMENT", 43: "PERFORMANCE_REQUIREMENT", 44: "PHYSICAL_REQUIREMENT", 45: "DESIGN_CONSTRAINT", 46: "LOW_RISK", 47: "MED_RISK", 48: "HIGH_RISK", 49: "VERIFY_ANALYSIS", 50: "VERIFY_DEMONSTRATION", 51: "VERIFY_INSPECTION", 52: "VERIFY_TEST", 53: "ELEMENT", 56: "TYPE", 58: "DOCREF", 60: "END_ARROW_L", 62: "LINE", 63: "END_ARROW_R", 64: "CONTAINS", 65: "COPIES", 66: "DERIVES", 67: "SATISFIES", 68: "VERIFIES", 69: "REFINES", 70: "TRACES", 71: "unqString", 72: "qString" },
    productions_: [0, [3, 3], [3, 2], [3, 4], [4, 3], [4, 5], [4, 2], [4, 2], [4, 1], [9, 1], [10, 1], [13, 1], [11, 1], [7, 0], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [23, 5], [29, 5], [29, 5], [29, 5], [29, 5], [29, 2], [29, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [36, 1], [36, 1], [36, 1], [38, 1], [38, 1], [38, 1], [38, 1], [24, 5], [55, 5], [55, 5], [55, 2], [55, 1], [25, 5], [25, 5], [61, 1], [61, 1], [61, 1], [61, 1], [61, 1], [61, 1], [61, 1], [27, 1], [27, 1], [32, 1], [32, 1], [34, 1], [34, 1], [54, 1], [54, 1], [57, 1], [57, 1], [59, 1], [59, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 6:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 7:
        case 8:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 9:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 10:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 11:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 12:
          yy.parseDirective("}%%", "close_directive", "pie");
          break;
        case 13:
          this.$ = [];
          break;
        case 19:
          yy.addRequirement($$[$0 - 3], $$[$0 - 4]);
          break;
        case 20:
          yy.setNewReqId($$[$0 - 2]);
          break;
        case 21:
          yy.setNewReqText($$[$0 - 2]);
          break;
        case 22:
          yy.setNewReqRisk($$[$0 - 2]);
          break;
        case 23:
          yy.setNewReqVerifyMethod($$[$0 - 2]);
          break;
        case 26:
          this.$ = yy.RequirementType.REQUIREMENT;
          break;
        case 27:
          this.$ = yy.RequirementType.FUNCTIONAL_REQUIREMENT;
          break;
        case 28:
          this.$ = yy.RequirementType.INTERFACE_REQUIREMENT;
          break;
        case 29:
          this.$ = yy.RequirementType.PERFORMANCE_REQUIREMENT;
          break;
        case 30:
          this.$ = yy.RequirementType.PHYSICAL_REQUIREMENT;
          break;
        case 31:
          this.$ = yy.RequirementType.DESIGN_CONSTRAINT;
          break;
        case 32:
          this.$ = yy.RiskLevel.LOW_RISK;
          break;
        case 33:
          this.$ = yy.RiskLevel.MED_RISK;
          break;
        case 34:
          this.$ = yy.RiskLevel.HIGH_RISK;
          break;
        case 35:
          this.$ = yy.VerifyType.VERIFY_ANALYSIS;
          break;
        case 36:
          this.$ = yy.VerifyType.VERIFY_DEMONSTRATION;
          break;
        case 37:
          this.$ = yy.VerifyType.VERIFY_INSPECTION;
          break;
        case 38:
          this.$ = yy.VerifyType.VERIFY_TEST;
          break;
        case 39:
          yy.addElement($$[$0 - 3]);
          break;
        case 40:
          yy.setNewElementType($$[$0 - 2]);
          break;
        case 41:
          yy.setNewElementDocRef($$[$0 - 2]);
          break;
        case 44:
          yy.addRelationship($$[$0 - 2], $$[$0], $$[$0 - 4]);
          break;
        case 45:
          yy.addRelationship($$[$0 - 2], $$[$0 - 4], $$[$0]);
          break;
        case 46:
          this.$ = yy.Relationships.CONTAINS;
          break;
        case 47:
          this.$ = yy.Relationships.COPIES;
          break;
        case 48:
          this.$ = yy.Relationships.DERIVES;
          break;
        case 49:
          this.$ = yy.Relationships.SATISFIES;
          break;
        case 50:
          this.$ = yy.Relationships.VERIFIES;
          break;
        case 51:
          this.$ = yy.Relationships.REFINES;
          break;
        case 52:
          this.$ = yy.Relationships.TRACES;
          break;
      }
    },
    table: [{ 3: 1, 4: 2, 6: $V0, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4 }, { 1: [3] }, { 3: 10, 4: 2, 5: [1, 9], 6: $V0, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4 }, { 5: [1, 11] }, { 10: 12, 20: [1, 13] }, { 15: [1, 14] }, { 17: [1, 15] }, o($V5, [2, 8]), { 20: [2, 9] }, { 3: 16, 4: 2, 6: $V0, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4 }, { 1: [2, 2] }, { 4: 21, 5: $V6, 7: 17, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 11: 34, 12: [1, 35], 22: $Vh }, o([12, 22], [2, 10]), o($V5, [2, 6]), o($V5, [2, 7]), { 1: [2, 1] }, { 8: [1, 37] }, { 4: 21, 5: $V6, 7: 38, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 4: 21, 5: $V6, 7: 39, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 4: 21, 5: $V6, 7: 40, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 4: 21, 5: $V6, 7: 41, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 4: 21, 5: $V6, 7: 42, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 27: 43, 71: [1, 44], 72: [1, 45] }, { 54: 46, 71: [1, 47], 72: [1, 48] }, { 60: [1, 49], 62: [1, 50] }, o($Vi, [2, 26]), o($Vi, [2, 27]), o($Vi, [2, 28]), o($Vi, [2, 29]), o($Vi, [2, 30]), o($Vi, [2, 31]), o($Vj, [2, 55]), o($Vj, [2, 56]), o($V5, [2, 4]), { 13: 51, 21: [1, 52] }, o($V5, [2, 12]), { 1: [2, 3] }, { 8: [2, 14] }, { 8: [2, 15] }, { 8: [2, 16] }, { 8: [2, 17] }, { 8: [2, 18] }, { 28: [1, 53] }, { 28: [2, 53] }, { 28: [2, 54] }, { 28: [1, 54] }, { 28: [2, 59] }, { 28: [2, 60] }, { 61: 55, 64: $Vk, 65: $Vl, 66: $Vm, 67: $Vn, 68: $Vo, 69: $Vp, 70: $Vq }, { 61: 63, 64: $Vk, 65: $Vl, 66: $Vm, 67: $Vn, 68: $Vo, 69: $Vp, 70: $Vq }, { 11: 64, 22: $Vh }, { 22: [2, 11] }, { 5: [1, 65] }, { 5: [1, 66] }, { 62: [1, 67] }, o($Vr, [2, 46]), o($Vr, [2, 47]), o($Vr, [2, 48]), o($Vr, [2, 49]), o($Vr, [2, 50]), o($Vr, [2, 51]), o($Vr, [2, 52]), { 63: [1, 68] }, o($V5, [2, 5]), { 5: $Vs, 29: 69, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vy, 39: $Vz, 55: 76, 56: $VA, 58: $VB }, { 32: 81, 71: $Vf, 72: $Vg }, { 32: 82, 71: $Vf, 72: $Vg }, o($VC, [2, 19]), { 31: [1, 83] }, { 31: [1, 84] }, { 31: [1, 85] }, { 31: [1, 86] }, { 5: $Vs, 29: 87, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, o($VC, [2, 25]), o($VC, [2, 39]), { 31: [1, 88] }, { 31: [1, 89] }, { 5: $Vy, 39: $Vz, 55: 90, 56: $VA, 58: $VB }, o($VC, [2, 43]), o($VC, [2, 44]), o($VC, [2, 45]), { 32: 91, 71: $Vf, 72: $Vg }, { 34: 92, 71: [1, 93], 72: [1, 94] }, { 36: 95, 46: [1, 96], 47: [1, 97], 48: [1, 98] }, { 38: 99, 49: [1, 100], 50: [1, 101], 51: [1, 102], 52: [1, 103] }, o($VC, [2, 24]), { 57: 104, 71: [1, 105], 72: [1, 106] }, { 59: 107, 71: [1, 108], 72: [1, 109] }, o($VC, [2, 42]), { 5: [1, 110] }, { 5: [1, 111] }, { 5: [2, 57] }, { 5: [2, 58] }, { 5: [1, 112] }, { 5: [2, 32] }, { 5: [2, 33] }, { 5: [2, 34] }, { 5: [1, 113] }, { 5: [2, 35] }, { 5: [2, 36] }, { 5: [2, 37] }, { 5: [2, 38] }, { 5: [1, 114] }, { 5: [2, 61] }, { 5: [2, 62] }, { 5: [1, 115] }, { 5: [2, 63] }, { 5: [2, 64] }, { 5: $Vs, 29: 116, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vs, 29: 117, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vs, 29: 118, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vs, 29: 119, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vy, 39: $Vz, 55: 120, 56: $VA, 58: $VB }, { 5: $Vy, 39: $Vz, 55: 121, 56: $VA, 58: $VB }, o($VC, [2, 20]), o($VC, [2, 21]), o($VC, [2, 22]), o($VC, [2, 23]), o($VC, [2, 40]), o($VC, [2, 41])],
    defaultActions: { 8: [2, 9], 10: [2, 2], 16: [2, 1], 37: [2, 3], 38: [2, 14], 39: [2, 15], 40: [2, 16], 41: [2, 17], 42: [2, 18], 44: [2, 53], 45: [2, 54], 47: [2, 59], 48: [2, 60], 52: [2, 11], 93: [2, 57], 94: [2, 58], 96: [2, 32], 97: [2, 33], 98: [2, 34], 100: [2, 35], 101: [2, 36], 102: [2, 37], 103: [2, 38], 105: [2, 61], 106: [2, 62], 108: [2, 63], 109: [2, 64] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: { "case-insensitive": true },
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("open_directive");
            return 19;
          case 1:
            this.begin("type_directive");
            return 20;
          case 2:
            this.popState();
            this.begin("arg_directive");
            return 12;
          case 3:
            this.popState();
            this.popState();
            return 22;
          case 4:
            return 21;
          case 5:
            return "title";
          case 6:
            this.begin("acc_title");
            return 14;
          case 7:
            this.popState();
            return "acc_title_value";
          case 8:
            this.begin("acc_descr");
            return 16;
          case 9:
            this.popState();
            return "acc_descr_value";
          case 10:
            this.begin("acc_descr_multiline");
            break;
          case 11:
            this.popState();
            break;
          case 12:
            return "acc_descr_multiline_value";
          case 13:
            return 5;
          case 14:
            break;
          case 15:
            break;
          case 16:
            break;
          case 17:
            return 8;
          case 18:
            return 6;
          case 19:
            return 28;
          case 20:
            return 39;
          case 21:
            return 31;
          case 22:
            return 30;
          case 23:
            return 33;
          case 24:
            return 35;
          case 25:
            return 37;
          case 26:
            return 40;
          case 27:
            return 41;
          case 28:
            return 42;
          case 29:
            return 43;
          case 30:
            return 44;
          case 31:
            return 45;
          case 32:
            return 46;
          case 33:
            return 47;
          case 34:
            return 48;
          case 35:
            return 49;
          case 36:
            return 50;
          case 37:
            return 51;
          case 38:
            return 52;
          case 39:
            return 53;
          case 40:
            return 64;
          case 41:
            return 65;
          case 42:
            return 66;
          case 43:
            return 67;
          case 44:
            return 68;
          case 45:
            return 69;
          case 46:
            return 70;
          case 47:
            return 56;
          case 48:
            return 58;
          case 49:
            return 60;
          case 50:
            return 63;
          case 51:
            return 62;
          case 52:
            this.begin("string");
            break;
          case 53:
            this.popState();
            break;
          case 54:
            return "qString";
          case 55:
            yy_.yytext = yy_.yytext.trim();
            return 71;
        }
      },
      rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:title\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:(\r?\n)+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:$)/i, /^(?:requirementDiagram\b)/i, /^(?:\{)/i, /^(?:\})/i, /^(?::)/i, /^(?:id\b)/i, /^(?:text\b)/i, /^(?:risk\b)/i, /^(?:verifyMethod\b)/i, /^(?:requirement\b)/i, /^(?:functionalRequirement\b)/i, /^(?:interfaceRequirement\b)/i, /^(?:performanceRequirement\b)/i, /^(?:physicalRequirement\b)/i, /^(?:designConstraint\b)/i, /^(?:low\b)/i, /^(?:medium\b)/i, /^(?:high\b)/i, /^(?:analysis\b)/i, /^(?:demonstration\b)/i, /^(?:inspection\b)/i, /^(?:test\b)/i, /^(?:element\b)/i, /^(?:contains\b)/i, /^(?:copies\b)/i, /^(?:derives\b)/i, /^(?:satisfies\b)/i, /^(?:verifies\b)/i, /^(?:refines\b)/i, /^(?:traces\b)/i, /^(?:type\b)/i, /^(?:docref\b)/i, /^(?:<-)/i, /^(?:->)/i, /^(?:-)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[\w][^\r\n\{\<\>\-\=]*)/i],
      conditions: { "acc_descr_multiline": { "rules": [11, 12], "inclusive": false }, "acc_descr": { "rules": [9], "inclusive": false }, "acc_title": { "rules": [7], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "unqString": { "rules": [], "inclusive": false }, "token": { "rules": [], "inclusive": false }, "string": { "rules": [53, 54], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 8, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 55], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$3.parser = parser$3;
var requirementDetector = (txt) => {
  return txt.match(/^\s*requirement(Diagram)?/) !== null;
};
var relations = [];
var latestRequirement = {};
var requirements = {};
var latestElement = {};
var elements = {};
var RequirementType = {
  REQUIREMENT: "Requirement",
  FUNCTIONAL_REQUIREMENT: "Functional Requirement",
  INTERFACE_REQUIREMENT: "Interface Requirement",
  PERFORMANCE_REQUIREMENT: "Performance Requirement",
  PHYSICAL_REQUIREMENT: "Physical Requirement",
  DESIGN_CONSTRAINT: "Design Constraint"
};
var RiskLevel = {
  LOW_RISK: "Low",
  MED_RISK: "Medium",
  HIGH_RISK: "High"
};
var VerifyType = {
  VERIFY_ANALYSIS: "Analysis",
  VERIFY_DEMONSTRATION: "Demonstration",
  VERIFY_INSPECTION: "Inspection",
  VERIFY_TEST: "Test"
};
var Relationships = {
  CONTAINS: "contains",
  COPIES: "copies",
  DERIVES: "derives",
  SATISFIES: "satisfies",
  VERIFIES: "verifies",
  REFINES: "refines",
  TRACES: "traces"
};
var parseDirective$4 = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var addRequirement = (name2, type22) => {
  if (typeof requirements[name2] === "undefined") {
    requirements[name2] = {
      name: name2,
      type: type22,
      id: latestRequirement.id,
      text: latestRequirement.text,
      risk: latestRequirement.risk,
      verifyMethod: latestRequirement.verifyMethod
    };
  }
  latestRequirement = {};
  return requirements[name2];
};
var getRequirements = () => requirements;
var setNewReqId = (id5) => {
  if (typeof latestRequirement != "undefined") {
    latestRequirement.id = id5;
  }
};
var setNewReqText = (text2) => {
  if (typeof latestRequirement != "undefined") {
    latestRequirement.text = text2;
  }
};
var setNewReqRisk = (risk) => {
  if (typeof latestRequirement != "undefined") {
    latestRequirement.risk = risk;
  }
};
var setNewReqVerifyMethod = (verifyMethod) => {
  if (typeof latestRequirement != "undefined") {
    latestRequirement.verifyMethod = verifyMethod;
  }
};
var addElement = (name2) => {
  if (typeof elements[name2] === "undefined") {
    elements[name2] = {
      name: name2,
      type: latestElement.type,
      docRef: latestElement.docRef
    };
    log$1.info("Added new requirement: ", name2);
  }
  latestElement = {};
  return elements[name2];
};
var getElements = () => elements;
var setNewElementType = (type22) => {
  if (typeof latestElement != "undefined") {
    latestElement.type = type22;
  }
};
var setNewElementDocRef = (docRef) => {
  if (typeof latestElement != "undefined") {
    latestElement.docRef = docRef;
  }
};
var addRelationship = (type22, src, dst) => {
  relations.push({
    type: type22,
    src,
    dst
  });
};
var getRelationships = () => relations;
var clear$3 = () => {
  relations = [];
  latestRequirement = {};
  requirements = {};
  latestElement = {};
  elements = {};
  clear$g();
};
var requirementDb = {
  RequirementType,
  RiskLevel,
  VerifyType,
  Relationships,
  parseDirective: parseDirective$4,
  getConfig: () => getConfig$1().req,
  addRequirement,
  getRequirements,
  setNewReqId,
  setNewReqText,
  setNewReqRisk,
  setNewReqVerifyMethod,
  setAccTitle,
  getAccTitle,
  setAccDescription,
  getAccDescription,
  addElement,
  getElements,
  setNewElementType,
  setNewElementDocRef,
  addRelationship,
  getRelationships,
  clear: clear$3
};
var ReqMarkers = {
  CONTAINS: "contains",
  ARROW: "arrow"
};
var insertLineEndings = (parentNode, conf2) => {
  let containsNode = parentNode.append("defs").append("marker").attr("id", ReqMarkers.CONTAINS + "_line_ending").attr("refX", 0).attr("refY", conf2.line_height / 2).attr("markerWidth", conf2.line_height).attr("markerHeight", conf2.line_height).attr("orient", "auto").append("g");
  containsNode.append("circle").attr("cx", conf2.line_height / 2).attr("cy", conf2.line_height / 2).attr("r", conf2.line_height / 2).attr("fill", "none");
  containsNode.append("line").attr("x1", 0).attr("x2", conf2.line_height).attr("y1", conf2.line_height / 2).attr("y2", conf2.line_height / 2).attr("stroke-width", 1);
  containsNode.append("line").attr("y1", 0).attr("y2", conf2.line_height).attr("x1", conf2.line_height / 2).attr("x2", conf2.line_height / 2).attr("stroke-width", 1);
  parentNode.append("defs").append("marker").attr("id", ReqMarkers.ARROW + "_line_ending").attr("refX", conf2.line_height).attr("refY", 0.5 * conf2.line_height).attr("markerWidth", conf2.line_height).attr("markerHeight", conf2.line_height).attr("orient", "auto").append("path").attr(
    "d",
    `M0,0
      L${conf2.line_height},${conf2.line_height / 2}
      M${conf2.line_height},${conf2.line_height / 2}
      L0,${conf2.line_height}`
  ).attr("stroke-width", 1);
};
var markers = {
  ReqMarkers,
  insertLineEndings
};
var conf$5 = {};
var relCnt = 0;
var newRectNode = (parentNode, id5) => {
  return parentNode.insert("rect", "#" + id5).attr("class", "req reqBox").attr("x", 0).attr("y", 0).attr("width", conf$5.rect_min_width + "px").attr("height", conf$5.rect_min_height + "px");
};
var newTitleNode = (parentNode, id5, txts) => {
  let x7 = conf$5.rect_min_width / 2;
  let title2 = parentNode.append("text").attr("class", "req reqLabel reqTitle").attr("id", id5).attr("x", x7).attr("y", conf$5.rect_padding).attr("dominant-baseline", "hanging");
  let i = 0;
  txts.forEach((textStr) => {
    if (i == 0) {
      title2.append("tspan").attr("text-anchor", "middle").attr("x", conf$5.rect_min_width / 2).attr("dy", 0).text(textStr);
    } else {
      title2.append("tspan").attr("text-anchor", "middle").attr("x", conf$5.rect_min_width / 2).attr("dy", conf$5.line_height * 0.75).text(textStr);
    }
    i++;
  });
  let yPadding = 1.5 * conf$5.rect_padding;
  let linePadding = i * conf$5.line_height * 0.75;
  let totalY = yPadding + linePadding;
  parentNode.append("line").attr("class", "req-title-line").attr("x1", "0").attr("x2", conf$5.rect_min_width).attr("y1", totalY).attr("y2", totalY);
  return {
    titleNode: title2,
    y: totalY
  };
};
var newBodyNode = (parentNode, id5, txts, yStart) => {
  let body = parentNode.append("text").attr("class", "req reqLabel").attr("id", id5).attr("x", conf$5.rect_padding).attr("y", yStart).attr("dominant-baseline", "hanging");
  let currentRow = 0;
  const charLimit = 30;
  let wrappedTxts = [];
  txts.forEach((textStr) => {
    let currentTextLen = textStr.length;
    while (currentTextLen > charLimit && currentRow < 3) {
      let firstPart = textStr.substring(0, charLimit);
      textStr = textStr.substring(charLimit, textStr.length);
      currentTextLen = textStr.length;
      wrappedTxts[wrappedTxts.length] = firstPart;
      currentRow++;
    }
    if (currentRow == 3) {
      let lastStr = wrappedTxts[wrappedTxts.length - 1];
      wrappedTxts[wrappedTxts.length - 1] = lastStr.substring(0, lastStr.length - 4) + "...";
    } else {
      wrappedTxts[wrappedTxts.length] = textStr;
    }
    currentRow = 0;
  });
  wrappedTxts.forEach((textStr) => {
    body.append("tspan").attr("x", conf$5.rect_padding).attr("dy", conf$5.line_height).text(textStr);
  });
  return body;
};
var addEdgeLabel = (parentNode, svgPath, conf2, txt) => {
  const len = svgPath.node().getTotalLength();
  const labelPoint = svgPath.node().getPointAtLength(len * 0.5);
  const labelId = "rel" + relCnt;
  relCnt++;
  const labelNode = parentNode.append("text").attr("class", "req relationshipLabel").attr("id", labelId).attr("x", labelPoint.x).attr("y", labelPoint.y).attr("text-anchor", "middle").attr("dominant-baseline", "middle").text(txt);
  const labelBBox = labelNode.node().getBBox();
  parentNode.insert("rect", "#" + labelId).attr("class", "req reqLabelBox").attr("x", labelPoint.x - labelBBox.width / 2).attr("y", labelPoint.y - labelBBox.height / 2).attr("width", labelBBox.width).attr("height", labelBBox.height).attr("fill", "white").attr("fill-opacity", "85%");
};
var drawRelationshipFromLayout = function(svg4, rel, g, insert, diagObj) {
  const edge = g.edge(elementString(rel.src), elementString(rel.dst));
  const lineFunction = line_default2().x(function(d) {
    return d.x;
  }).y(function(d) {
    return d.y;
  });
  const svgPath = svg4.insert("path", "#" + insert).attr("class", "er relationshipLine").attr("d", lineFunction(edge.points)).attr("fill", "none");
  if (rel.type == diagObj.db.Relationships.CONTAINS) {
    svgPath.attr(
      "marker-start",
      "url(" + common.getUrl(conf$5.arrowMarkerAbsolute) + "#" + rel.type + "_line_ending)"
    );
  } else {
    svgPath.attr("stroke-dasharray", "10,7");
    svgPath.attr(
      "marker-end",
      "url(" + common.getUrl(conf$5.arrowMarkerAbsolute) + "#" + markers.ReqMarkers.ARROW + "_line_ending)"
    );
  }
  addEdgeLabel(svg4, svgPath, conf$5, `<<${rel.type}>>`);
  return;
};
var drawReqs = (reqs, graph, svgNode7) => {
  Object.keys(reqs).forEach((reqName) => {
    let req = reqs[reqName];
    reqName = elementString(reqName);
    log$1.info("Added new requirement: ", reqName);
    const groupNode = svgNode7.append("g").attr("id", reqName);
    const textId = "req-" + reqName;
    const rectNode = newRectNode(groupNode, textId);
    let titleNodeInfo = newTitleNode(groupNode, reqName + "_title", [
      `<<${req.type}>>`,
      `${req.name}`
    ]);
    newBodyNode(
      groupNode,
      reqName + "_body",
      [
        `Id: ${req.id}`,
        `Text: ${req.text}`,
        `Risk: ${req.risk}`,
        `Verification: ${req.verifyMethod}`
      ],
      titleNodeInfo.y
    );
    const rectBBox = rectNode.node().getBBox();
    graph.setNode(reqName, {
      width: rectBBox.width,
      height: rectBBox.height,
      shape: "rect",
      id: reqName
    });
  });
};
var drawElements = (els, graph, svgNode7) => {
  Object.keys(els).forEach((elName) => {
    let el = els[elName];
    const id5 = elementString(elName);
    const groupNode = svgNode7.append("g").attr("id", id5);
    const textId = "element-" + id5;
    const rectNode = newRectNode(groupNode, textId);
    let titleNodeInfo = newTitleNode(groupNode, textId + "_title", [`<<Element>>`, `${elName}`]);
    newBodyNode(
      groupNode,
      textId + "_body",
      [`Type: ${el.type || "Not Specified"}`, `Doc Ref: ${el.docRef || "None"}`],
      titleNodeInfo.y
    );
    const rectBBox = rectNode.node().getBBox();
    graph.setNode(id5, {
      width: rectBBox.width,
      height: rectBBox.height,
      shape: "rect",
      id: id5
    });
  });
};
var addRelationships = (relationships2, g) => {
  relationships2.forEach(function(r) {
    let src = elementString(r.src);
    let dst = elementString(r.dst);
    g.setEdge(src, dst, { relationship: r });
  });
  return relationships2;
};
var adjustEntities = function(svgNode7, graph) {
  graph.nodes().forEach(function(v2) {
    if (typeof v2 !== "undefined" && typeof graph.node(v2) !== "undefined") {
      svgNode7.select("#" + v2);
      svgNode7.select("#" + v2).attr(
        "transform",
        "translate(" + (graph.node(v2).x - graph.node(v2).width / 2) + "," + (graph.node(v2).y - graph.node(v2).height / 2) + " )"
      );
    }
  });
  return;
};
var elementString = (str) => {
  return str.replace(/\s/g, "").replace(/\./g, "_");
};
var draw$5 = (text2, id5, _version, diagObj) => {
  conf$5 = getConfig$1().requirement;
  diagObj.db.clear();
  diagObj.parser.parse(text2);
  const securityLevel = conf$5.securityLevel;
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const svg4 = root22.select(`[id='${id5}']`);
  markers.insertLineEndings(svg4, conf$5);
  const g = new import_graphlib.default.Graph({
    multigraph: false,
    compound: false,
    directed: true
  }).setGraph({
    rankdir: conf$5.layoutDirection,
    marginx: 20,
    marginy: 20,
    nodesep: 100,
    edgesep: 100,
    ranksep: 100
  }).setDefaultEdgeLabel(function() {
    return {};
  });
  let requirements2 = diagObj.db.getRequirements();
  let elements2 = diagObj.db.getElements();
  let relationships2 = diagObj.db.getRelationships();
  drawReqs(requirements2, g, svg4);
  drawElements(elements2, g, svg4);
  addRelationships(relationships2, g);
  import_dagre.default.layout(g);
  adjustEntities(svg4, g);
  relationships2.forEach(function(rel) {
    drawRelationshipFromLayout(svg4, rel, g, id5, diagObj);
  });
  const padding2 = conf$5.rect_padding;
  const svgBounds = svg4.node().getBBox();
  const width2 = svgBounds.width + padding2 * 2;
  const height2 = svgBounds.height + padding2 * 2;
  configureSvgSize(svg4, height2, width2, conf$5.useMaxWidth);
  svg4.attr("viewBox", `${svgBounds.x - padding2} ${svgBounds.y - padding2} ${width2} ${height2}`);
  addSVGAccessibilityFields(diagObj.db, svg4, id5);
};
var requirementRenderer = {
  draw: draw$5
};
var parser$2 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 2], $V1 = [1, 3], $V2 = [1, 5], $V3 = [1, 7], $V4 = [2, 5], $V5 = [1, 15], $V6 = [1, 17], $V7 = [1, 18], $V8 = [1, 19], $V9 = [1, 21], $Va = [1, 22], $Vb = [1, 23], $Vc = [1, 29], $Vd = [1, 30], $Ve = [1, 31], $Vf = [1, 32], $Vg = [1, 33], $Vh = [1, 34], $Vi = [1, 35], $Vj = [1, 36], $Vk = [1, 37], $Vl = [1, 38], $Vm = [1, 39], $Vn = [1, 40], $Vo = [1, 43], $Vp = [1, 44], $Vq = [1, 45], $Vr = [1, 46], $Vs = [1, 47], $Vt = [1, 48], $Vu = [1, 51], $Vv = [1, 4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 50, 51, 52, 53, 58, 59, 60, 61, 69, 79], $Vw = [4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 53, 58, 59, 60, 61, 69, 79], $Vx = [4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 52, 53, 58, 59, 60, 61, 69, 79], $Vy = [4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 51, 53, 58, 59, 60, 61, 69, 79], $Vz = [4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 50, 53, 58, 59, 60, 61, 69, 79], $VA = [67, 68, 69], $VB = [1, 121], $VC = [1, 4, 5, 7, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 50, 51, 52, 53, 58, 59, 60, 61, 69, 79];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "SPACE": 4, "NEWLINE": 5, "directive": 6, "SD": 7, "document": 8, "line": 9, "statement": 10, "openDirective": 11, "typeDirective": 12, "closeDirective": 13, ":": 14, "argDirective": 15, "participant": 16, "actor": 17, "AS": 18, "restOfLine": 19, "participant_actor": 20, "signal": 21, "autonumber": 22, "NUM": 23, "off": 24, "activate": 25, "deactivate": 26, "note_statement": 27, "links_statement": 28, "link_statement": 29, "properties_statement": 30, "details_statement": 31, "title": 32, "legacy_title": 33, "acc_title": 34, "acc_title_value": 35, "acc_descr": 36, "acc_descr_value": 37, "acc_descr_multiline_value": 38, "loop": 39, "end": 40, "rect": 41, "opt": 42, "alt": 43, "else_sections": 44, "par": 45, "par_sections": 46, "critical": 47, "option_sections": 48, "break": 49, "option": 50, "and": 51, "else": 52, "note": 53, "placement": 54, "text2": 55, "over": 56, "actor_pair": 57, "links": 58, "link": 59, "properties": 60, "details": 61, "spaceList": 62, ",": 63, "left_of": 64, "right_of": 65, "signaltype": 66, "+": 67, "-": 68, "ACTOR": 69, "SOLID_OPEN_ARROW": 70, "DOTTED_OPEN_ARROW": 71, "SOLID_ARROW": 72, "DOTTED_ARROW": 73, "SOLID_CROSS": 74, "DOTTED_CROSS": 75, "SOLID_POINT": 76, "DOTTED_POINT": 77, "TXT": 78, "open_directive": 79, "type_directive": 80, "arg_directive": 81, "close_directive": 82, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 4: "SPACE", 5: "NEWLINE", 7: "SD", 14: ":", 16: "participant", 18: "AS", 19: "restOfLine", 20: "participant_actor", 22: "autonumber", 23: "NUM", 24: "off", 25: "activate", 26: "deactivate", 32: "title", 33: "legacy_title", 34: "acc_title", 35: "acc_title_value", 36: "acc_descr", 37: "acc_descr_value", 38: "acc_descr_multiline_value", 39: "loop", 40: "end", 41: "rect", 42: "opt", 43: "alt", 45: "par", 47: "critical", 49: "break", 50: "option", 51: "and", 52: "else", 53: "note", 56: "over", 58: "links", 59: "link", 60: "properties", 61: "details", 63: ",", 64: "left_of", 65: "right_of", 67: "+", 68: "-", 69: "ACTOR", 70: "SOLID_OPEN_ARROW", 71: "DOTTED_OPEN_ARROW", 72: "SOLID_ARROW", 73: "DOTTED_ARROW", 74: "SOLID_CROSS", 75: "DOTTED_CROSS", 76: "SOLID_POINT", 77: "DOTTED_POINT", 78: "TXT", 79: "open_directive", 80: "type_directive", 81: "arg_directive", 82: "close_directive" },
    productions_: [0, [3, 2], [3, 2], [3, 2], [3, 2], [8, 0], [8, 2], [9, 2], [9, 1], [9, 1], [6, 4], [6, 6], [10, 5], [10, 3], [10, 5], [10, 3], [10, 2], [10, 4], [10, 3], [10, 3], [10, 2], [10, 3], [10, 3], [10, 2], [10, 2], [10, 2], [10, 2], [10, 2], [10, 1], [10, 1], [10, 2], [10, 2], [10, 1], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [10, 1], [48, 1], [48, 4], [46, 1], [46, 4], [44, 1], [44, 4], [27, 4], [27, 4], [28, 3], [29, 3], [30, 3], [31, 3], [62, 2], [62, 1], [57, 3], [57, 1], [54, 1], [54, 1], [21, 5], [21, 5], [21, 4], [17, 1], [66, 1], [66, 1], [66, 1], [66, 1], [66, 1], [66, 1], [66, 1], [66, 1], [55, 1], [11, 1], [12, 1], [15, 1], [13, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 4:
          yy.apply($$[$0]);
          return $$[$0];
        case 5:
          this.$ = [];
          break;
        case 6:
          $$[$0 - 1].push($$[$0]);
          this.$ = $$[$0 - 1];
          break;
        case 7:
        case 8:
          this.$ = $$[$0];
          break;
        case 9:
          this.$ = [];
          break;
        case 12:
          $$[$0 - 3].type = "addParticipant";
          $$[$0 - 3].description = yy.parseMessage($$[$0 - 1]);
          this.$ = $$[$0 - 3];
          break;
        case 13:
          $$[$0 - 1].type = "addParticipant";
          this.$ = $$[$0 - 1];
          break;
        case 14:
          $$[$0 - 3].type = "addActor";
          $$[$0 - 3].description = yy.parseMessage($$[$0 - 1]);
          this.$ = $$[$0 - 3];
          break;
        case 15:
          $$[$0 - 1].type = "addActor";
          this.$ = $$[$0 - 1];
          break;
        case 17:
          this.$ = { type: "sequenceIndex", sequenceIndex: Number($$[$0 - 2]), sequenceIndexStep: Number($$[$0 - 1]), sequenceVisible: true, signalType: yy.LINETYPE.AUTONUMBER };
          break;
        case 18:
          this.$ = { type: "sequenceIndex", sequenceIndex: Number($$[$0 - 1]), sequenceIndexStep: 1, sequenceVisible: true, signalType: yy.LINETYPE.AUTONUMBER };
          break;
        case 19:
          this.$ = { type: "sequenceIndex", sequenceVisible: false, signalType: yy.LINETYPE.AUTONUMBER };
          break;
        case 20:
          this.$ = { type: "sequenceIndex", sequenceVisible: true, signalType: yy.LINETYPE.AUTONUMBER };
          break;
        case 21:
          this.$ = { type: "activeStart", signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0 - 1] };
          break;
        case 22:
          this.$ = { type: "activeEnd", signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0 - 1] };
          break;
        case 28:
          yy.setDiagramTitle($$[$0].substring(6));
          this.$ = $$[$0].substring(6);
          break;
        case 29:
          yy.setDiagramTitle($$[$0].substring(7));
          this.$ = $$[$0].substring(7);
          break;
        case 30:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 31:
        case 32:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 33:
          $$[$0 - 1].unshift({ type: "loopStart", loopText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.LOOP_START });
          $$[$0 - 1].push({ type: "loopEnd", loopText: $$[$0 - 2], signalType: yy.LINETYPE.LOOP_END });
          this.$ = $$[$0 - 1];
          break;
        case 34:
          $$[$0 - 1].unshift({ type: "rectStart", color: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.RECT_START });
          $$[$0 - 1].push({ type: "rectEnd", color: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.RECT_END });
          this.$ = $$[$0 - 1];
          break;
        case 35:
          $$[$0 - 1].unshift({ type: "optStart", optText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.OPT_START });
          $$[$0 - 1].push({ type: "optEnd", optText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.OPT_END });
          this.$ = $$[$0 - 1];
          break;
        case 36:
          $$[$0 - 1].unshift({ type: "altStart", altText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.ALT_START });
          $$[$0 - 1].push({ type: "altEnd", signalType: yy.LINETYPE.ALT_END });
          this.$ = $$[$0 - 1];
          break;
        case 37:
          $$[$0 - 1].unshift({ type: "parStart", parText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.PAR_START });
          $$[$0 - 1].push({ type: "parEnd", signalType: yy.LINETYPE.PAR_END });
          this.$ = $$[$0 - 1];
          break;
        case 38:
          $$[$0 - 1].unshift({ type: "criticalStart", criticalText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.CRITICAL_START });
          $$[$0 - 1].push({ type: "criticalEnd", signalType: yy.LINETYPE.CRITICAL_END });
          this.$ = $$[$0 - 1];
          break;
        case 39:
          $$[$0 - 1].unshift({ type: "breakStart", breakText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.BREAK_START });
          $$[$0 - 1].push({ type: "breakEnd", optText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.BREAK_END });
          this.$ = $$[$0 - 1];
          break;
        case 42:
          this.$ = $$[$0 - 3].concat([{ type: "option", optionText: yy.parseMessage($$[$0 - 1]), signalType: yy.LINETYPE.CRITICAL_OPTION }, $$[$0]]);
          break;
        case 44:
          this.$ = $$[$0 - 3].concat([{ type: "and", parText: yy.parseMessage($$[$0 - 1]), signalType: yy.LINETYPE.PAR_AND }, $$[$0]]);
          break;
        case 46:
          this.$ = $$[$0 - 3].concat([{ type: "else", altText: yy.parseMessage($$[$0 - 1]), signalType: yy.LINETYPE.ALT_ELSE }, $$[$0]]);
          break;
        case 47:
          this.$ = [$$[$0 - 1], { type: "addNote", placement: $$[$0 - 2], actor: $$[$0 - 1].actor, text: $$[$0] }];
          break;
        case 48:
          $$[$0 - 2] = [].concat($$[$0 - 1], $$[$0 - 1]).slice(0, 2);
          $$[$0 - 2][0] = $$[$0 - 2][0].actor;
          $$[$0 - 2][1] = $$[$0 - 2][1].actor;
          this.$ = [$$[$0 - 1], { type: "addNote", placement: yy.PLACEMENT.OVER, actor: $$[$0 - 2].slice(0, 2), text: $$[$0] }];
          break;
        case 49:
          this.$ = [$$[$0 - 1], { type: "addLinks", actor: $$[$0 - 1].actor, text: $$[$0] }];
          break;
        case 50:
          this.$ = [$$[$0 - 1], { type: "addALink", actor: $$[$0 - 1].actor, text: $$[$0] }];
          break;
        case 51:
          this.$ = [$$[$0 - 1], { type: "addProperties", actor: $$[$0 - 1].actor, text: $$[$0] }];
          break;
        case 52:
          this.$ = [$$[$0 - 1], { type: "addDetails", actor: $$[$0 - 1].actor, text: $$[$0] }];
          break;
        case 55:
          this.$ = [$$[$0 - 2], $$[$0]];
          break;
        case 56:
          this.$ = $$[$0];
          break;
        case 57:
          this.$ = yy.PLACEMENT.LEFTOF;
          break;
        case 58:
          this.$ = yy.PLACEMENT.RIGHTOF;
          break;
        case 59:
          this.$ = [
            $$[$0 - 4],
            $$[$0 - 1],
            { type: "addMessage", from: $$[$0 - 4].actor, to: $$[$0 - 1].actor, signalType: $$[$0 - 3], msg: $$[$0] },
            { type: "activeStart", signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0 - 1] }
          ];
          break;
        case 60:
          this.$ = [
            $$[$0 - 4],
            $$[$0 - 1],
            { type: "addMessage", from: $$[$0 - 4].actor, to: $$[$0 - 1].actor, signalType: $$[$0 - 3], msg: $$[$0] },
            { type: "activeEnd", signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0 - 4] }
          ];
          break;
        case 61:
          this.$ = [$$[$0 - 3], $$[$0 - 1], { type: "addMessage", from: $$[$0 - 3].actor, to: $$[$0 - 1].actor, signalType: $$[$0 - 2], msg: $$[$0] }];
          break;
        case 62:
          this.$ = { type: "addParticipant", actor: $$[$0] };
          break;
        case 63:
          this.$ = yy.LINETYPE.SOLID_OPEN;
          break;
        case 64:
          this.$ = yy.LINETYPE.DOTTED_OPEN;
          break;
        case 65:
          this.$ = yy.LINETYPE.SOLID;
          break;
        case 66:
          this.$ = yy.LINETYPE.DOTTED;
          break;
        case 67:
          this.$ = yy.LINETYPE.SOLID_CROSS;
          break;
        case 68:
          this.$ = yy.LINETYPE.DOTTED_CROSS;
          break;
        case 69:
          this.$ = yy.LINETYPE.SOLID_POINT;
          break;
        case 70:
          this.$ = yy.LINETYPE.DOTTED_POINT;
          break;
        case 71:
          this.$ = yy.parseMessage($$[$0].trim().substring(1));
          break;
        case 72:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 73:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 74:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 75:
          yy.parseDirective("}%%", "close_directive", "sequence");
          break;
      }
    },
    table: [{ 3: 1, 4: $V0, 5: $V1, 6: 4, 7: $V2, 11: 6, 79: $V3 }, { 1: [3] }, { 3: 8, 4: $V0, 5: $V1, 6: 4, 7: $V2, 11: 6, 79: $V3 }, { 3: 9, 4: $V0, 5: $V1, 6: 4, 7: $V2, 11: 6, 79: $V3 }, { 3: 10, 4: $V0, 5: $V1, 6: 4, 7: $V2, 11: 6, 79: $V3 }, o([1, 4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 41, 42, 43, 45, 47, 49, 53, 58, 59, 60, 61, 69, 79], $V4, { 8: 11 }), { 12: 12, 80: [1, 13] }, { 80: [2, 72] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3] }, { 1: [2, 4], 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 13: 49, 14: [1, 50], 82: $Vu }, o([14, 82], [2, 73]), o($Vv, [2, 6]), { 6: 41, 10: 52, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, o($Vv, [2, 8]), o($Vv, [2, 9]), { 17: 53, 69: $Vt }, { 17: 54, 69: $Vt }, { 5: [1, 55] }, { 5: [1, 58], 23: [1, 56], 24: [1, 57] }, { 17: 59, 69: $Vt }, { 17: 60, 69: $Vt }, { 5: [1, 61] }, { 5: [1, 62] }, { 5: [1, 63] }, { 5: [1, 64] }, { 5: [1, 65] }, o($Vv, [2, 28]), o($Vv, [2, 29]), { 35: [1, 66] }, { 37: [1, 67] }, o($Vv, [2, 32]), { 19: [1, 68] }, { 19: [1, 69] }, { 19: [1, 70] }, { 19: [1, 71] }, { 19: [1, 72] }, { 19: [1, 73] }, { 19: [1, 74] }, o($Vv, [2, 40]), { 66: 75, 70: [1, 76], 71: [1, 77], 72: [1, 78], 73: [1, 79], 74: [1, 80], 75: [1, 81], 76: [1, 82], 77: [1, 83] }, { 54: 84, 56: [1, 85], 64: [1, 86], 65: [1, 87] }, { 17: 88, 69: $Vt }, { 17: 89, 69: $Vt }, { 17: 90, 69: $Vt }, { 17: 91, 69: $Vt }, o([5, 18, 63, 70, 71, 72, 73, 74, 75, 76, 77, 78], [2, 62]), { 5: [1, 92] }, { 15: 93, 81: [1, 94] }, { 5: [2, 75] }, o($Vv, [2, 7]), { 5: [1, 96], 18: [1, 95] }, { 5: [1, 98], 18: [1, 97] }, o($Vv, [2, 16]), { 5: [1, 100], 23: [1, 99] }, { 5: [1, 101] }, o($Vv, [2, 20]), { 5: [1, 102] }, { 5: [1, 103] }, o($Vv, [2, 23]), o($Vv, [2, 24]), o($Vv, [2, 25]), o($Vv, [2, 26]), o($Vv, [2, 27]), o($Vv, [2, 30]), o($Vv, [2, 31]), o($Vw, $V4, { 8: 104 }), o($Vw, $V4, { 8: 105 }), o($Vw, $V4, { 8: 106 }), o($Vx, $V4, { 44: 107, 8: 108 }), o($Vy, $V4, { 46: 109, 8: 110 }), o($Vz, $V4, { 48: 111, 8: 112 }), o($Vw, $V4, { 8: 113 }), { 17: 116, 67: [1, 114], 68: [1, 115], 69: $Vt }, o($VA, [2, 63]), o($VA, [2, 64]), o($VA, [2, 65]), o($VA, [2, 66]), o($VA, [2, 67]), o($VA, [2, 68]), o($VA, [2, 69]), o($VA, [2, 70]), { 17: 117, 69: $Vt }, { 17: 119, 57: 118, 69: $Vt }, { 69: [2, 57] }, { 69: [2, 58] }, { 55: 120, 78: $VB }, { 55: 122, 78: $VB }, { 55: 123, 78: $VB }, { 55: 124, 78: $VB }, o($VC, [2, 10]), { 13: 125, 82: $Vu }, { 82: [2, 74] }, { 19: [1, 126] }, o($Vv, [2, 13]), { 19: [1, 127] }, o($Vv, [2, 15]), { 5: [1, 128] }, o($Vv, [2, 18]), o($Vv, [2, 19]), o($Vv, [2, 21]), o($Vv, [2, 22]), { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [1, 129], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [1, 130], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [1, 131], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 40: [1, 132] }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [2, 45], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 52: [1, 133], 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 40: [1, 134] }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [2, 43], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 51: [1, 135], 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 40: [1, 136] }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [2, 41], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 50: [1, 137], 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [1, 138], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 17: 139, 69: $Vt }, { 17: 140, 69: $Vt }, { 55: 141, 78: $VB }, { 55: 142, 78: $VB }, { 55: 143, 78: $VB }, { 63: [1, 144], 78: [2, 56] }, { 5: [2, 49] }, { 5: [2, 71] }, { 5: [2, 50] }, { 5: [2, 51] }, { 5: [2, 52] }, { 5: [1, 145] }, { 5: [1, 146] }, { 5: [1, 147] }, o($Vv, [2, 17]), o($Vv, [2, 33]), o($Vv, [2, 34]), o($Vv, [2, 35]), o($Vv, [2, 36]), { 19: [1, 148] }, o($Vv, [2, 37]), { 19: [1, 149] }, o($Vv, [2, 38]), { 19: [1, 150] }, o($Vv, [2, 39]), { 55: 151, 78: $VB }, { 55: 152, 78: $VB }, { 5: [2, 61] }, { 5: [2, 47] }, { 5: [2, 48] }, { 17: 153, 69: $Vt }, o($VC, [2, 11]), o($Vv, [2, 12]), o($Vv, [2, 14]), o($Vx, $V4, { 8: 108, 44: 154 }), o($Vy, $V4, { 8: 110, 46: 155 }), o($Vz, $V4, { 8: 112, 48: 156 }), { 5: [2, 59] }, { 5: [2, 60] }, { 78: [2, 55] }, { 40: [2, 46] }, { 40: [2, 44] }, { 40: [2, 42] }],
    defaultActions: { 7: [2, 72], 8: [2, 1], 9: [2, 2], 10: [2, 3], 51: [2, 75], 86: [2, 57], 87: [2, 58], 94: [2, 74], 120: [2, 49], 121: [2, 71], 122: [2, 50], 123: [2, 51], 124: [2, 52], 141: [2, 61], 142: [2, 47], 143: [2, 48], 151: [2, 59], 152: [2, 60], 153: [2, 55], 154: [2, 46], 155: [2, 44], 156: [2, 42] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: { "case-insensitive": true },
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("open_directive");
            return 79;
          case 1:
            this.begin("type_directive");
            return 80;
          case 2:
            this.popState();
            this.begin("arg_directive");
            return 14;
          case 3:
            this.popState();
            this.popState();
            return 82;
          case 4:
            return 81;
          case 5:
            return 5;
          case 6:
            break;
          case 7:
            break;
          case 8:
            break;
          case 9:
            break;
          case 10:
            break;
          case 11:
            return 23;
          case 12:
            this.begin("ID");
            return 16;
          case 13:
            this.begin("ID");
            return 20;
          case 14:
            yy_.yytext = yy_.yytext.trim();
            this.begin("ALIAS");
            return 69;
          case 15:
            this.popState();
            this.popState();
            this.begin("LINE");
            return 18;
          case 16:
            this.popState();
            this.popState();
            return 5;
          case 17:
            this.begin("LINE");
            return 39;
          case 18:
            this.begin("LINE");
            return 41;
          case 19:
            this.begin("LINE");
            return 42;
          case 20:
            this.begin("LINE");
            return 43;
          case 21:
            this.begin("LINE");
            return 52;
          case 22:
            this.begin("LINE");
            return 45;
          case 23:
            this.begin("LINE");
            return 51;
          case 24:
            this.begin("LINE");
            return 47;
          case 25:
            this.begin("LINE");
            return 50;
          case 26:
            this.begin("LINE");
            return 49;
          case 27:
            this.popState();
            return 19;
          case 28:
            return 40;
          case 29:
            return 64;
          case 30:
            return 65;
          case 31:
            return 58;
          case 32:
            return 59;
          case 33:
            return 60;
          case 34:
            return 61;
          case 35:
            return 56;
          case 36:
            return 53;
          case 37:
            this.begin("ID");
            return 25;
          case 38:
            this.begin("ID");
            return 26;
          case 39:
            return 32;
          case 40:
            return 33;
          case 41:
            this.begin("acc_title");
            return 34;
          case 42:
            this.popState();
            return "acc_title_value";
          case 43:
            this.begin("acc_descr");
            return 36;
          case 44:
            this.popState();
            return "acc_descr_value";
          case 45:
            this.begin("acc_descr_multiline");
            break;
          case 46:
            this.popState();
            break;
          case 47:
            return "acc_descr_multiline_value";
          case 48:
            return 7;
          case 49:
            return 22;
          case 50:
            return 24;
          case 51:
            return 63;
          case 52:
            return 5;
          case 53:
            yy_.yytext = yy_.yytext.trim();
            return 69;
          case 54:
            return 72;
          case 55:
            return 73;
          case 56:
            return 70;
          case 57:
            return 71;
          case 58:
            return 74;
          case 59:
            return 75;
          case 60:
            return 76;
          case 61:
            return 77;
          case 62:
            return 78;
          case 63:
            return 67;
          case 64:
            return 68;
          case 65:
            return 5;
          case 66:
            return "INVALID";
        }
      },
      rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:((?!\n)\s)+)/i, /^(?:#[^\n]*)/i, /^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[0-9]+(?=[ \n]+))/i, /^(?:participant\b)/i, /^(?:actor\b)/i, /^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i, /^(?:as\b)/i, /^(?:(?:))/i, /^(?:loop\b)/i, /^(?:rect\b)/i, /^(?:opt\b)/i, /^(?:alt\b)/i, /^(?:else\b)/i, /^(?:par\b)/i, /^(?:and\b)/i, /^(?:critical\b)/i, /^(?:option\b)/i, /^(?:break\b)/i, /^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i, /^(?:end\b)/i, /^(?:left of\b)/i, /^(?:right of\b)/i, /^(?:links\b)/i, /^(?:link\b)/i, /^(?:properties\b)/i, /^(?:details\b)/i, /^(?:over\b)/i, /^(?:note\b)/i, /^(?:activate\b)/i, /^(?:deactivate\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:title:\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:sequenceDiagram\b)/i, /^(?:autonumber\b)/i, /^(?:off\b)/i, /^(?:,)/i, /^(?:;)/i, /^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i, /^(?:->>)/i, /^(?:-->>)/i, /^(?:->)/i, /^(?:-->)/i, /^(?:-[x])/i, /^(?:--[x])/i, /^(?:-[\)])/i, /^(?:--[\)])/i, /^(?::(?:(?:no)?wrap)?[^#\n;]+)/i, /^(?:\+)/i, /^(?:-)/i, /^(?:$)/i, /^(?:.)/i],
      conditions: { "acc_descr_multiline": { "rules": [46, 47], "inclusive": false }, "acc_descr": { "rules": [44], "inclusive": false }, "acc_title": { "rules": [42], "inclusive": false }, "open_directive": { "rules": [1, 8], "inclusive": false }, "type_directive": { "rules": [2, 3, 8], "inclusive": false }, "arg_directive": { "rules": [3, 4, 8], "inclusive": false }, "ID": { "rules": [7, 8, 14], "inclusive": false }, "ALIAS": { "rules": [7, 8, 15, 16], "inclusive": false }, "LINE": { "rules": [7, 8, 27], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 8, 9, 10, 11, 12, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 43, 45, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$2.parser = parser$2;
var sequenceDetector = (txt) => {
  return txt.match(/^\s*sequenceDiagram/) !== null;
};
var prevActor = void 0;
var actors$1 = {};
var messages = [];
var sequenceNumbersEnabled = false;
var wrapEnabled;
var parseDirective$3 = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var addActor = function(id5, name2, description2, type22) {
  const old = actors$1[id5];
  if (old && name2 === old.name && description2 == null)
    return;
  if (description2 == null || description2.text == null) {
    description2 = { text: name2, wrap: null, type: type22 };
  }
  if (type22 == null || description2.text == null) {
    description2 = { text: name2, wrap: null, type: type22 };
  }
  actors$1[id5] = {
    name: name2,
    description: description2.text,
    wrap: description2.wrap === void 0 && autoWrap() || !!description2.wrap,
    prevActor,
    links: {},
    properties: {},
    actorCnt: null,
    rectData: null,
    type: type22 || "participant"
  };
  if (prevActor && actors$1[prevActor]) {
    actors$1[prevActor].nextActor = id5;
  }
  prevActor = id5;
};
var activationCount = (part) => {
  let i;
  let count7 = 0;
  for (i = 0; i < messages.length; i++) {
    if (messages[i].type === LINETYPE.ACTIVE_START) {
      if (messages[i].from.actor === part) {
        count7++;
      }
    }
    if (messages[i].type === LINETYPE.ACTIVE_END) {
      if (messages[i].from.actor === part) {
        count7--;
      }
    }
  }
  return count7;
};
var addMessage = function(idFrom, idTo, message2, answer) {
  messages.push({
    from: idFrom,
    to: idTo,
    message: message2.text,
    wrap: message2.wrap === void 0 && autoWrap() || !!message2.wrap,
    answer
  });
};
var addSignal = function(idFrom, idTo, message2 = { text: void 0, wrap: void 0 }, messageType) {
  if (messageType === LINETYPE.ACTIVE_END) {
    const cnt2 = activationCount(idFrom.actor);
    if (cnt2 < 1) {
      let error = new Error("Trying to inactivate an inactive participant (" + idFrom.actor + ")");
      error.hash = {
        text: "->>-",
        token: "->>-",
        line: "1",
        loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },
        expected: ["'ACTIVE_PARTICIPANT'"]
      };
      throw error;
    }
  }
  messages.push({
    from: idFrom,
    to: idTo,
    message: message2.text,
    wrap: message2.wrap === void 0 && autoWrap() || !!message2.wrap,
    type: messageType
  });
  return true;
};
var getMessages = function() {
  return messages;
};
var getActors$1 = function() {
  return actors$1;
};
var getActor = function(id5) {
  return actors$1[id5];
};
var getActorKeys = function() {
  return Object.keys(actors$1);
};
var enableSequenceNumbers = function() {
  sequenceNumbersEnabled = true;
};
var disableSequenceNumbers = function() {
  sequenceNumbersEnabled = false;
};
var showSequenceNumbers = () => sequenceNumbersEnabled;
var setWrap = function(wrapSetting) {
  wrapEnabled = wrapSetting;
};
var autoWrap = () => {
  if (typeof wrapEnabled !== "undefined") {
    return wrapEnabled;
  }
  return getConfig$1().sequence.wrap;
};
var clear$2 = function() {
  actors$1 = {};
  messages = [];
  sequenceNumbersEnabled = false;
  clear$g();
};
var parseMessage = function(str) {
  const _str = str.trim();
  const message2 = {
    text: _str.replace(/^[:]?(?:no)?wrap:/, "").trim(),
    wrap: _str.match(/^[:]?wrap:/) !== null ? true : _str.match(/^[:]?nowrap:/) !== null ? false : void 0
  };
  log$1.debug("parseMessage:", message2);
  return message2;
};
var LINETYPE = {
  SOLID: 0,
  DOTTED: 1,
  NOTE: 2,
  SOLID_CROSS: 3,
  DOTTED_CROSS: 4,
  SOLID_OPEN: 5,
  DOTTED_OPEN: 6,
  LOOP_START: 10,
  LOOP_END: 11,
  ALT_START: 12,
  ALT_ELSE: 13,
  ALT_END: 14,
  OPT_START: 15,
  OPT_END: 16,
  ACTIVE_START: 17,
  ACTIVE_END: 18,
  PAR_START: 19,
  PAR_AND: 20,
  PAR_END: 21,
  RECT_START: 22,
  RECT_END: 23,
  SOLID_POINT: 24,
  DOTTED_POINT: 25,
  AUTONUMBER: 26,
  CRITICAL_START: 27,
  CRITICAL_OPTION: 28,
  CRITICAL_END: 29,
  BREAK_START: 30,
  BREAK_END: 31
};
var ARROWTYPE = {
  FILLED: 0,
  OPEN: 1
};
var PLACEMENT = {
  LEFTOF: 0,
  RIGHTOF: 1,
  OVER: 2
};
var addNote = function(actor, placement, message2) {
  ({
    actor,
    placement,
    message: message2.text,
    wrap: message2.wrap === void 0 && autoWrap() || !!message2.wrap
  });
  const actors2 = [].concat(actor, actor);
  messages.push({
    from: actors2[0],
    to: actors2[1],
    message: message2.text,
    wrap: message2.wrap === void 0 && autoWrap() || !!message2.wrap,
    type: LINETYPE.NOTE,
    placement
  });
};
var addLinks = function(actorId, text2) {
  const actor = getActor(actorId);
  try {
    let sanitizedText = sanitizeText$5(text2.text, getConfig$1());
    sanitizedText = sanitizedText.replace(/&amp;/g, "&");
    sanitizedText = sanitizedText.replace(/&equals;/g, "=");
    const links2 = JSON.parse(sanitizedText);
    insertLinks(actor, links2);
  } catch (e) {
    log$1.error("error while parsing actor link text", e);
  }
};
var addALink = function(actorId, text2) {
  const actor = getActor(actorId);
  try {
    const links2 = {};
    let sanitizedText = sanitizeText$5(text2.text, getConfig$1());
    var sep = sanitizedText.indexOf("@");
    sanitizedText = sanitizedText.replace(/&amp;/g, "&");
    sanitizedText = sanitizedText.replace(/&equals;/g, "=");
    var label = sanitizedText.slice(0, sep - 1).trim();
    var link5 = sanitizedText.slice(sep + 1).trim();
    links2[label] = link5;
    insertLinks(actor, links2);
  } catch (e) {
    log$1.error("error while parsing actor link text", e);
  }
};
function insertLinks(actor, links2) {
  if (actor.links == null) {
    actor.links = links2;
  } else {
    for (let key in links2) {
      actor.links[key] = links2[key];
    }
  }
}
var addProperties = function(actorId, text2) {
  const actor = getActor(actorId);
  try {
    let sanitizedText = sanitizeText$5(text2.text, getConfig$1());
    const properties = JSON.parse(sanitizedText);
    insertProperties(actor, properties);
  } catch (e) {
    log$1.error("error while parsing actor properties text", e);
  }
};
function insertProperties(actor, properties) {
  if (actor.properties == null) {
    actor.properties = properties;
  } else {
    for (let key in properties) {
      actor.properties[key] = properties[key];
    }
  }
}
var addDetails = function(actorId, text2) {
  const actor = getActor(actorId);
  const elem = document.getElementById(text2.text);
  try {
    const text22 = elem.innerHTML;
    const details = JSON.parse(text22);
    if (details["properties"]) {
      insertProperties(actor, details["properties"]);
    }
    if (details["links"]) {
      insertLinks(actor, details["links"]);
    }
  } catch (e) {
    log$1.error("error while parsing actor details text", e);
  }
};
var getActorProperty = function(actor, key) {
  if (typeof actor !== "undefined" && typeof actor.properties !== "undefined") {
    return actor.properties[key];
  }
  return void 0;
};
var apply2 = function(param) {
  if (param instanceof Array) {
    param.forEach(function(item) {
      apply2(item);
    });
  } else {
    switch (param.type) {
      case "sequenceIndex":
        messages.push({
          from: void 0,
          to: void 0,
          message: {
            start: param.sequenceIndex,
            step: param.sequenceIndexStep,
            visible: param.sequenceVisible
          },
          wrap: false,
          type: param.signalType
        });
        break;
      case "addParticipant":
        addActor(param.actor, param.actor, param.description, "participant");
        break;
      case "addActor":
        addActor(param.actor, param.actor, param.description, "actor");
        break;
      case "activeStart":
        addSignal(param.actor, void 0, void 0, param.signalType);
        break;
      case "activeEnd":
        addSignal(param.actor, void 0, void 0, param.signalType);
        break;
      case "addNote":
        addNote(param.actor, param.placement, param.text);
        break;
      case "addLinks":
        addLinks(param.actor, param.text);
        break;
      case "addALink":
        addALink(param.actor, param.text);
        break;
      case "addProperties":
        addProperties(param.actor, param.text);
        break;
      case "addDetails":
        addDetails(param.actor, param.text);
        break;
      case "addMessage":
        addSignal(param.from, param.to, param.msg, param.signalType);
        break;
      case "loopStart":
        addSignal(void 0, void 0, param.loopText, param.signalType);
        break;
      case "loopEnd":
        addSignal(void 0, void 0, void 0, param.signalType);
        break;
      case "rectStart":
        addSignal(void 0, void 0, param.color, param.signalType);
        break;
      case "rectEnd":
        addSignal(void 0, void 0, void 0, param.signalType);
        break;
      case "optStart":
        addSignal(void 0, void 0, param.optText, param.signalType);
        break;
      case "optEnd":
        addSignal(void 0, void 0, void 0, param.signalType);
        break;
      case "altStart":
        addSignal(void 0, void 0, param.altText, param.signalType);
        break;
      case "else":
        addSignal(void 0, void 0, param.altText, param.signalType);
        break;
      case "altEnd":
        addSignal(void 0, void 0, void 0, param.signalType);
        break;
      case "setAccTitle":
        setAccTitle(param.text);
        break;
      case "parStart":
        addSignal(void 0, void 0, param.parText, param.signalType);
        break;
      case "and":
        addSignal(void 0, void 0, param.parText, param.signalType);
        break;
      case "parEnd":
        addSignal(void 0, void 0, void 0, param.signalType);
        break;
      case "criticalStart":
        addSignal(void 0, void 0, param.criticalText, param.signalType);
        break;
      case "option":
        addSignal(void 0, void 0, param.optionText, param.signalType);
        break;
      case "criticalEnd":
        addSignal(void 0, void 0, void 0, param.signalType);
        break;
      case "breakStart":
        addSignal(void 0, void 0, param.breakText, param.signalType);
        break;
      case "breakEnd":
        addSignal(void 0, void 0, void 0, param.signalType);
        break;
    }
  }
};
var sequenceDb = {
  addActor,
  addMessage,
  addSignal,
  addLinks,
  addDetails,
  addProperties,
  autoWrap,
  setWrap,
  enableSequenceNumbers,
  disableSequenceNumbers,
  showSequenceNumbers,
  getMessages,
  getActors: getActors$1,
  getActor,
  getActorKeys,
  getActorProperty,
  getAccTitle,
  getDiagramTitle,
  setDiagramTitle,
  parseDirective: parseDirective$3,
  getConfig: () => getConfig$1().sequence,
  clear: clear$2,
  parseMessage,
  LINETYPE,
  ARROWTYPE,
  PLACEMENT,
  addNote,
  setAccTitle,
  apply: apply2,
  setAccDescription,
  getAccDescription
};
var interactionFunctions = [];
var addFunction = (func) => {
  interactionFunctions.push(func);
};
var attachFunctions = () => {
  interactionFunctions.forEach((f2) => {
    f2();
  });
  interactionFunctions = [];
};
var drawRect$1 = function(elem, rectData) {
  const rectElem = elem.append("rect");
  rectElem.attr("x", rectData.x);
  rectElem.attr("y", rectData.y);
  rectElem.attr("fill", rectData.fill);
  rectElem.attr("stroke", rectData.stroke);
  rectElem.attr("width", rectData.width);
  rectElem.attr("height", rectData.height);
  rectElem.attr("rx", rectData.rx);
  rectElem.attr("ry", rectData.ry);
  if (typeof rectData.class !== "undefined") {
    rectElem.attr("class", rectData.class);
  }
  return rectElem;
};
var addPopupInteraction = (id5, actorCnt2) => {
  addFunction(() => {
    const arr = document.querySelectorAll(id5);
    if (arr.length === 0)
      return;
    arr[0].addEventListener("mouseover", function() {
      popupMenuUpFunc("actor" + actorCnt2 + "_popup");
    });
    arr[0].addEventListener("mouseout", function() {
      popupMenuDownFunc("actor" + actorCnt2 + "_popup");
    });
  });
};
var drawPopup = function(elem, actor, minMenuWidth, textAttrs, forceMenus) {
  if (actor.links === void 0 || actor.links === null || Object.keys(actor.links).length === 0) {
    return { height: 0, width: 0 };
  }
  const links2 = actor.links;
  const actorCnt2 = actor.actorCnt;
  const rectData = actor.rectData;
  var displayValue = "none";
  if (forceMenus) {
    displayValue = "block !important";
  }
  const g = elem.append("g");
  g.attr("id", "actor" + actorCnt2 + "_popup");
  g.attr("class", "actorPopupMenu");
  g.attr("display", displayValue);
  addPopupInteraction("#actor" + actorCnt2 + "_popup", actorCnt2);
  var actorClass = "";
  if (typeof rectData.class !== "undefined") {
    actorClass = " " + rectData.class;
  }
  let menuWidth = rectData.width > minMenuWidth ? rectData.width : minMenuWidth;
  const rectElem = g.append("rect");
  rectElem.attr("class", "actorPopupMenuPanel" + actorClass);
  rectElem.attr("x", rectData.x);
  rectElem.attr("y", rectData.height);
  rectElem.attr("fill", rectData.fill);
  rectElem.attr("stroke", rectData.stroke);
  rectElem.attr("width", menuWidth);
  rectElem.attr("height", rectData.height);
  rectElem.attr("rx", rectData.rx);
  rectElem.attr("ry", rectData.ry);
  if (links2 != null) {
    var linkY = 20;
    for (let key in links2) {
      var linkElem = g.append("a");
      var sanitizedLink = (0, import_sanitize_url.sanitizeUrl)(links2[key]);
      linkElem.attr("xlink:href", sanitizedLink);
      linkElem.attr("target", "_blank");
      _drawMenuItemTextCandidateFunc(textAttrs)(
        key,
        linkElem,
        rectData.x + 10,
        rectData.height + linkY,
        menuWidth,
        20,
        { class: "actor" },
        textAttrs
      );
      linkY += 30;
    }
  }
  rectElem.attr("height", linkY);
  return { height: rectData.height + linkY, width: menuWidth };
};
var drawImage = function(elem, x7, y7, link5) {
  const imageElem = elem.append("image");
  imageElem.attr("x", x7);
  imageElem.attr("y", y7);
  var sanitizedLink = (0, import_sanitize_url.sanitizeUrl)(link5);
  imageElem.attr("xlink:href", sanitizedLink);
};
var drawEmbeddedImage = function(elem, x7, y7, link5) {
  const imageElem = elem.append("use");
  imageElem.attr("x", x7);
  imageElem.attr("y", y7);
  var sanitizedLink = (0, import_sanitize_url.sanitizeUrl)(link5);
  imageElem.attr("xlink:href", "#" + sanitizedLink);
};
var popupMenu = function(popid) {
  return "var pu = document.getElementById('" + popid + "'); if (pu != null) { pu.style.display = 'block'; }";
};
var popdownMenu = function(popid) {
  return "var pu = document.getElementById('" + popid + "'); if (pu != null) { pu.style.display = 'none'; }";
};
var popupMenuUpFunc = function(popupId) {
  var pu = document.getElementById(popupId);
  if (pu != null) {
    pu.style.display = "block";
  }
};
var popupMenuDownFunc = function(popupId) {
  var pu = document.getElementById(popupId);
  if (pu != null) {
    pu.style.display = "none";
  }
};
var drawText$1 = function(elem, textData) {
  let prevTextHeight = 0, textHeight = 0;
  const lines = textData.text.split(common.lineBreakRegex);
  let textElems = [];
  let dy = 0;
  let yfunc = () => textData.y;
  if (typeof textData.valign !== "undefined" && typeof textData.textMargin !== "undefined" && textData.textMargin > 0) {
    switch (textData.valign) {
      case "top":
      case "start":
        yfunc = () => Math.round(textData.y + textData.textMargin);
        break;
      case "middle":
      case "center":
        yfunc = () => Math.round(textData.y + (prevTextHeight + textHeight + textData.textMargin) / 2);
        break;
      case "bottom":
      case "end":
        yfunc = () => Math.round(
          textData.y + (prevTextHeight + textHeight + 2 * textData.textMargin) - textData.textMargin
        );
        break;
    }
  }
  if (typeof textData.anchor !== "undefined" && typeof textData.textMargin !== "undefined" && typeof textData.width !== "undefined") {
    switch (textData.anchor) {
      case "left":
      case "start":
        textData.x = Math.round(textData.x + textData.textMargin);
        textData.anchor = "start";
        textData.dominantBaseline = "middle";
        textData.alignmentBaseline = "middle";
        break;
      case "middle":
      case "center":
        textData.x = Math.round(textData.x + textData.width / 2);
        textData.anchor = "middle";
        textData.dominantBaseline = "middle";
        textData.alignmentBaseline = "middle";
        break;
      case "right":
      case "end":
        textData.x = Math.round(textData.x + textData.width - textData.textMargin);
        textData.anchor = "end";
        textData.dominantBaseline = "middle";
        textData.alignmentBaseline = "middle";
        break;
    }
  }
  for (let i = 0; i < lines.length; i++) {
    let line2 = lines[i];
    if (typeof textData.textMargin !== "undefined" && textData.textMargin === 0 && typeof textData.fontSize !== "undefined") {
      dy = i * textData.fontSize;
    }
    const textElem = elem.append("text");
    textElem.attr("x", textData.x);
    textElem.attr("y", yfunc());
    if (typeof textData.anchor !== "undefined") {
      textElem.attr("text-anchor", textData.anchor).attr("dominant-baseline", textData.dominantBaseline).attr("alignment-baseline", textData.alignmentBaseline);
    }
    if (typeof textData.fontFamily !== "undefined") {
      textElem.style("font-family", textData.fontFamily);
    }
    if (typeof textData.fontSize !== "undefined") {
      textElem.style("font-size", textData.fontSize);
    }
    if (typeof textData.fontWeight !== "undefined") {
      textElem.style("font-weight", textData.fontWeight);
    }
    if (typeof textData.fill !== "undefined") {
      textElem.attr("fill", textData.fill);
    }
    if (typeof textData.class !== "undefined") {
      textElem.attr("class", textData.class);
    }
    if (typeof textData.dy !== "undefined") {
      textElem.attr("dy", textData.dy);
    } else if (dy !== 0) {
      textElem.attr("dy", dy);
    }
    if (textData.tspan) {
      const span = textElem.append("tspan");
      span.attr("x", textData.x);
      if (typeof textData.fill !== "undefined") {
        span.attr("fill", textData.fill);
      }
      span.text(line2);
    } else {
      textElem.text(line2);
    }
    if (typeof textData.valign !== "undefined" && typeof textData.textMargin !== "undefined" && textData.textMargin > 0) {
      textHeight += (textElem._groups || textElem)[0][0].getBBox().height;
      prevTextHeight = textHeight;
    }
    textElems.push(textElem);
  }
  return textElems;
};
var drawLabel$1 = function(elem, txtObject) {
  function genPoints(x7, y7, width2, height2, cut) {
    return x7 + "," + y7 + " " + (x7 + width2) + "," + y7 + " " + (x7 + width2) + "," + (y7 + height2 - cut) + " " + (x7 + width2 - cut * 1.2) + "," + (y7 + height2) + " " + x7 + "," + (y7 + height2);
  }
  const polygon = elem.append("polygon");
  polygon.attr("points", genPoints(txtObject.x, txtObject.y, txtObject.width, txtObject.height, 7));
  polygon.attr("class", "labelBox");
  txtObject.y = txtObject.y + txtObject.height / 2;
  drawText$1(elem, txtObject);
  return polygon;
};
var actorCnt = -1;
var fixLifeLineHeights = (diagram, bounds2) => {
  if (!diagram.selectAll)
    return;
  diagram.selectAll(".actor-line").attr("class", "200").attr("y2", bounds2 - 55);
};
var drawActorTypeParticipant = function(elem, actor, conf2) {
  const center3 = actor.x + actor.width / 2;
  const boxpluslineGroup = elem.append("g");
  var g = boxpluslineGroup;
  if (actor.y === 0) {
    actorCnt++;
    g.append("line").attr("id", "actor" + actorCnt).attr("x1", center3).attr("y1", 5).attr("x2", center3).attr("y2", 2e3).attr("class", "actor-line").attr("stroke-width", "0.5px").attr("stroke", "#999");
    g = boxpluslineGroup.append("g");
    actor.actorCnt = actorCnt;
    if (actor.links != null) {
      g.attr("id", "root-" + actorCnt);
      addPopupInteraction("#root-" + actorCnt, actorCnt);
    }
  }
  const rect2 = getNoteRect$1();
  var cssclass = "actor";
  if (actor.properties != null && actor.properties["class"]) {
    cssclass = actor.properties["class"];
  } else {
    rect2.fill = "#eaeaea";
  }
  rect2.x = actor.x;
  rect2.y = actor.y;
  rect2.width = actor.width;
  rect2.height = actor.height;
  rect2.class = cssclass;
  rect2.rx = 3;
  rect2.ry = 3;
  const rectElem = drawRect$1(g, rect2);
  actor.rectData = rect2;
  if (actor.properties != null && actor.properties["icon"]) {
    const iconSrc = actor.properties["icon"].trim();
    if (iconSrc.charAt(0) === "@") {
      drawEmbeddedImage(g, rect2.x + rect2.width - 20, rect2.y + 10, iconSrc.substr(1));
    } else {
      drawImage(g, rect2.x + rect2.width - 20, rect2.y + 10, iconSrc);
    }
  }
  _drawTextCandidateFunc$1(conf2)(
    actor.description,
    g,
    rect2.x,
    rect2.y,
    rect2.width,
    rect2.height,
    { class: "actor" },
    conf2
  );
  let height2 = actor.height;
  if (rectElem.node) {
    const bounds2 = rectElem.node().getBBox();
    actor.height = bounds2.height;
    height2 = bounds2.height;
  }
  return height2;
};
var drawActorTypeActor = function(elem, actor, conf2) {
  const center3 = actor.x + actor.width / 2;
  if (actor.y === 0) {
    actorCnt++;
    elem.append("line").attr("id", "actor" + actorCnt).attr("x1", center3).attr("y1", 80).attr("x2", center3).attr("y2", 2e3).attr("class", "actor-line").attr("stroke-width", "0.5px").attr("stroke", "#999");
  }
  const actElem = elem.append("g");
  actElem.attr("class", "actor-man");
  const rect2 = getNoteRect$1();
  rect2.x = actor.x;
  rect2.y = actor.y;
  rect2.fill = "#eaeaea";
  rect2.width = actor.width;
  rect2.height = actor.height;
  rect2.class = "actor";
  rect2.rx = 3;
  rect2.ry = 3;
  actElem.append("line").attr("id", "actor-man-torso" + actorCnt).attr("x1", center3).attr("y1", actor.y + 25).attr("x2", center3).attr("y2", actor.y + 45);
  actElem.append("line").attr("id", "actor-man-arms" + actorCnt).attr("x1", center3 - 18).attr("y1", actor.y + 33).attr("x2", center3 + 18).attr("y2", actor.y + 33);
  actElem.append("line").attr("x1", center3 - 18).attr("y1", actor.y + 60).attr("x2", center3).attr("y2", actor.y + 45);
  actElem.append("line").attr("x1", center3).attr("y1", actor.y + 45).attr("x2", center3 + 16).attr("y2", actor.y + 60);
  const circle22 = actElem.append("circle");
  circle22.attr("cx", actor.x + actor.width / 2);
  circle22.attr("cy", actor.y + 10);
  circle22.attr("r", 15);
  circle22.attr("width", actor.width);
  circle22.attr("height", actor.height);
  const bounds2 = actElem.node().getBBox();
  actor.height = bounds2.height;
  _drawTextCandidateFunc$1(conf2)(
    actor.description,
    actElem,
    rect2.x,
    rect2.y + 35,
    rect2.width,
    rect2.height,
    { class: "actor" },
    conf2
  );
  return actor.height;
};
var drawActor = function(elem, actor, conf2) {
  switch (actor.type) {
    case "actor":
      return drawActorTypeActor(elem, actor, conf2);
    case "participant":
      return drawActorTypeParticipant(elem, actor, conf2);
  }
};
var anchorElement = function(elem) {
  return elem.append("g");
};
var drawActivation = function(elem, bounds2, verticalPos, conf2, actorActivations2) {
  const rect2 = getNoteRect$1();
  const g = bounds2.anchored;
  rect2.x = bounds2.startx;
  rect2.y = bounds2.starty;
  rect2.class = "activation" + actorActivations2 % 3;
  rect2.width = bounds2.stopx - bounds2.startx;
  rect2.height = verticalPos - bounds2.starty;
  drawRect$1(g, rect2);
};
var drawLoop = function(elem, loopModel, labelText, conf2) {
  const {
    boxMargin,
    boxTextMargin,
    labelBoxHeight,
    labelBoxWidth,
    messageFontFamily: fontFamily,
    messageFontSize: fontSize,
    messageFontWeight: fontWeight
  } = conf2;
  const g = elem.append("g");
  const drawLoopLine = function(startx, starty, stopx, stopy) {
    return g.append("line").attr("x1", startx).attr("y1", starty).attr("x2", stopx).attr("y2", stopy).attr("class", "loopLine");
  };
  drawLoopLine(loopModel.startx, loopModel.starty, loopModel.stopx, loopModel.starty);
  drawLoopLine(loopModel.stopx, loopModel.starty, loopModel.stopx, loopModel.stopy);
  drawLoopLine(loopModel.startx, loopModel.stopy, loopModel.stopx, loopModel.stopy);
  drawLoopLine(loopModel.startx, loopModel.starty, loopModel.startx, loopModel.stopy);
  if (typeof loopModel.sections !== "undefined") {
    loopModel.sections.forEach(function(item) {
      drawLoopLine(loopModel.startx, item.y, loopModel.stopx, item.y).style(
        "stroke-dasharray",
        "3, 3"
      );
    });
  }
  let txt = getTextObj$1();
  txt.text = labelText;
  txt.x = loopModel.startx;
  txt.y = loopModel.starty;
  txt.fontFamily = fontFamily;
  txt.fontSize = fontSize;
  txt.fontWeight = fontWeight;
  txt.anchor = "middle";
  txt.valign = "middle";
  txt.tspan = false;
  txt.width = labelBoxWidth || 50;
  txt.height = labelBoxHeight || 20;
  txt.textMargin = boxTextMargin;
  txt.class = "labelText";
  drawLabel$1(g, txt);
  txt = getTextObj$1();
  txt.text = loopModel.title;
  txt.x = loopModel.startx + labelBoxWidth / 2 + (loopModel.stopx - loopModel.startx) / 2;
  txt.y = loopModel.starty + boxMargin + boxTextMargin;
  txt.anchor = "middle";
  txt.valign = "middle";
  txt.textMargin = boxTextMargin;
  txt.class = "loopText";
  txt.fontFamily = fontFamily;
  txt.fontSize = fontSize;
  txt.fontWeight = fontWeight;
  txt.wrap = true;
  let textElem = drawText$1(g, txt);
  if (typeof loopModel.sectionTitles !== "undefined") {
    loopModel.sectionTitles.forEach(function(item, idx) {
      if (item.message) {
        txt.text = item.message;
        txt.x = loopModel.startx + (loopModel.stopx - loopModel.startx) / 2;
        txt.y = loopModel.sections[idx].y + boxMargin + boxTextMargin;
        txt.class = "loopText";
        txt.anchor = "middle";
        txt.valign = "middle";
        txt.tspan = false;
        txt.fontFamily = fontFamily;
        txt.fontSize = fontSize;
        txt.fontWeight = fontWeight;
        txt.wrap = loopModel.wrap;
        textElem = drawText$1(g, txt);
        let sectionHeight = Math.round(
          textElem.map((te) => (te._groups || te)[0][0].getBBox().height).reduce((acc, curr) => acc + curr)
        );
        loopModel.sections[idx].height += sectionHeight - (boxMargin + boxTextMargin);
      }
    });
  }
  loopModel.height = Math.round(loopModel.stopy - loopModel.starty);
  return g;
};
var drawBackgroundRect$1 = function(elem, bounds2) {
  const rectElem = drawRect$1(elem, {
    x: bounds2.startx,
    y: bounds2.starty,
    width: bounds2.stopx - bounds2.startx,
    height: bounds2.stopy - bounds2.starty,
    fill: bounds2.fill,
    class: "rect"
  });
  rectElem.lower();
};
var insertDatabaseIcon = function(elem) {
  elem.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr(
    "d",
    "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z"
  );
};
var insertComputerIcon = function(elem) {
  elem.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr(
    "d",
    "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"
  );
};
var insertClockIcon = function(elem) {
  elem.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr(
    "d",
    "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"
  );
};
var insertArrowHead = function(elem) {
  elem.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z");
};
var insertArrowFilledHead = function(elem) {
  elem.append("defs").append("marker").attr("id", "filled-head").attr("refX", 18).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
};
var insertSequenceNumber = function(elem) {
  elem.append("defs").append("marker").attr("id", "sequencenumber").attr("refX", 15).attr("refY", 15).attr("markerWidth", 60).attr("markerHeight", 40).attr("orient", "auto").append("circle").attr("cx", 15).attr("cy", 15).attr("r", 6);
};
var insertArrowCrossHead = function(elem) {
  const defs = elem.append("defs");
  const marker = defs.append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 16).attr("refY", 4);
  marker.append("path").attr("fill", "black").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 9,2 V 6 L16,4 Z");
  marker.append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 0,1 L 6,7 M 6,1 L 0,7");
};
var getTextObj$1 = function() {
  return {
    x: 0,
    y: 0,
    fill: void 0,
    anchor: void 0,
    style: "#666",
    width: void 0,
    height: void 0,
    textMargin: 0,
    rx: 0,
    ry: 0,
    tspan: true,
    valign: void 0
  };
};
var getNoteRect$1 = function() {
  return {
    x: 0,
    y: 0,
    fill: "#EDF2AE",
    stroke: "#666",
    width: 100,
    anchor: "start",
    height: 100,
    rx: 0,
    ry: 0
  };
};
var _drawTextCandidateFunc$1 = function() {
  function byText(content, g, x7, y7, width2, height2, textAttrs) {
    const text2 = g.append("text").attr("x", x7 + width2 / 2).attr("y", y7 + height2 / 2 + 5).style("text-anchor", "middle").text(content);
    _setTextAttrs(text2, textAttrs);
  }
  function byTspan(content, g, x7, y7, width2, height2, textAttrs, conf2) {
    const { actorFontSize, actorFontFamily, actorFontWeight } = conf2;
    let _actorFontSize = actorFontSize && actorFontSize.replace ? actorFontSize.replace("px", "") : actorFontSize;
    const lines = content.split(common.lineBreakRegex);
    for (let i = 0; i < lines.length; i++) {
      const dy = i * _actorFontSize - _actorFontSize * (lines.length - 1) / 2;
      const text2 = g.append("text").attr("x", x7 + width2 / 2).attr("y", y7).style("text-anchor", "middle").style("font-size", actorFontSize).style("font-weight", actorFontWeight).style("font-family", actorFontFamily);
      text2.append("tspan").attr("x", x7 + width2 / 2).attr("dy", dy).text(lines[i]);
      text2.attr("y", y7 + height2 / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");
      _setTextAttrs(text2, textAttrs);
    }
  }
  function byFo(content, g, x7, y7, width2, height2, textAttrs, conf2) {
    const s3 = g.append("switch");
    const f2 = s3.append("foreignObject").attr("x", x7).attr("y", y7).attr("width", width2).attr("height", height2);
    const text2 = f2.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    text2.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);
    byTspan(content, s3, x7, y7, width2, height2, textAttrs, conf2);
    _setTextAttrs(text2, textAttrs);
  }
  function _setTextAttrs(toText, fromTextAttrsDict) {
    for (const key in fromTextAttrsDict) {
      if (fromTextAttrsDict.hasOwnProperty(key)) {
        toText.attr(key, fromTextAttrsDict[key]);
      }
    }
  }
  return function(conf2) {
    return conf2.textPlacement === "fo" ? byFo : conf2.textPlacement === "old" ? byText : byTspan;
  };
}();
var _drawMenuItemTextCandidateFunc = function() {
  function byText(content, g, x7, y7, width2, height2, textAttrs) {
    const text2 = g.append("text").attr("x", x7).attr("y", y7).style("text-anchor", "start").text(content);
    _setTextAttrs(text2, textAttrs);
  }
  function byTspan(content, g, x7, y7, width2, height2, textAttrs, conf2) {
    const { actorFontSize, actorFontFamily, actorFontWeight } = conf2;
    const lines = content.split(common.lineBreakRegex);
    for (let i = 0; i < lines.length; i++) {
      const dy = i * actorFontSize - actorFontSize * (lines.length - 1) / 2;
      const text2 = g.append("text").attr("x", x7).attr("y", y7).style("text-anchor", "start").style("font-size", actorFontSize).style("font-weight", actorFontWeight).style("font-family", actorFontFamily);
      text2.append("tspan").attr("x", x7).attr("dy", dy).text(lines[i]);
      text2.attr("y", y7 + height2 / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");
      _setTextAttrs(text2, textAttrs);
    }
  }
  function byFo(content, g, x7, y7, width2, height2, textAttrs, conf2) {
    const s3 = g.append("switch");
    const f2 = s3.append("foreignObject").attr("x", x7).attr("y", y7).attr("width", width2).attr("height", height2);
    const text2 = f2.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    text2.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);
    byTspan(content, s3, x7, y7, width2, height2, textAttrs, conf2);
    _setTextAttrs(text2, textAttrs);
  }
  function _setTextAttrs(toText, fromTextAttrsDict) {
    for (const key in fromTextAttrsDict) {
      if (fromTextAttrsDict.hasOwnProperty(key)) {
        toText.attr(key, fromTextAttrsDict[key]);
      }
    }
  }
  return function(conf2) {
    return conf2.textPlacement === "fo" ? byFo : conf2.textPlacement === "old" ? byText : byTspan;
  };
}();
var svgDraw$1 = {
  drawRect: drawRect$1,
  drawText: drawText$1,
  drawLabel: drawLabel$1,
  drawActor,
  drawPopup,
  drawImage,
  drawEmbeddedImage,
  anchorElement,
  drawActivation,
  drawLoop,
  drawBackgroundRect: drawBackgroundRect$1,
  insertArrowHead,
  insertArrowFilledHead,
  insertSequenceNumber,
  insertArrowCrossHead,
  insertDatabaseIcon,
  insertComputerIcon,
  insertClockIcon,
  getTextObj: getTextObj$1,
  getNoteRect: getNoteRect$1,
  popupMenu,
  popdownMenu,
  fixLifeLineHeights,
  sanitizeUrl: import_sanitize_url.sanitizeUrl
};
var conf$4 = {};
var bounds$1 = {
  data: {
    startx: void 0,
    stopx: void 0,
    starty: void 0,
    stopy: void 0
  },
  verticalPos: 0,
  sequenceItems: [],
  activations: [],
  models: {
    getHeight: function() {
      return Math.max.apply(
        null,
        this.actors.length === 0 ? [0] : this.actors.map((actor) => actor.height || 0)
      ) + (this.loops.length === 0 ? 0 : this.loops.map((it) => it.height || 0).reduce((acc, h) => acc + h)) + (this.messages.length === 0 ? 0 : this.messages.map((it) => it.height || 0).reduce((acc, h) => acc + h)) + (this.notes.length === 0 ? 0 : this.notes.map((it) => it.height || 0).reduce((acc, h) => acc + h));
    },
    clear: function() {
      this.actors = [];
      this.loops = [];
      this.messages = [];
      this.notes = [];
    },
    addActor: function(actorModel) {
      this.actors.push(actorModel);
    },
    addLoop: function(loopModel) {
      this.loops.push(loopModel);
    },
    addMessage: function(msgModel) {
      this.messages.push(msgModel);
    },
    addNote: function(noteModel) {
      this.notes.push(noteModel);
    },
    lastActor: function() {
      return this.actors[this.actors.length - 1];
    },
    lastLoop: function() {
      return this.loops[this.loops.length - 1];
    },
    lastMessage: function() {
      return this.messages[this.messages.length - 1];
    },
    lastNote: function() {
      return this.notes[this.notes.length - 1];
    },
    actors: [],
    loops: [],
    messages: [],
    notes: []
  },
  init: function() {
    this.sequenceItems = [];
    this.activations = [];
    this.models.clear();
    this.data = {
      startx: void 0,
      stopx: void 0,
      starty: void 0,
      stopy: void 0
    };
    this.verticalPos = 0;
    setConf$4(getConfig$1());
  },
  updateVal: function(obj, key, val, fun) {
    if (typeof obj[key] === "undefined") {
      obj[key] = val;
    } else {
      obj[key] = fun(val, obj[key]);
    }
  },
  updateBounds: function(startx, starty, stopx, stopy) {
    const _self = this;
    let cnt2 = 0;
    function updateFn(type22) {
      return function updateItemBounds(item) {
        cnt2++;
        const n = _self.sequenceItems.length - cnt2 + 1;
        _self.updateVal(item, "starty", starty - n * conf$4.boxMargin, Math.min);
        _self.updateVal(item, "stopy", stopy + n * conf$4.boxMargin, Math.max);
        _self.updateVal(bounds$1.data, "startx", startx - n * conf$4.boxMargin, Math.min);
        _self.updateVal(bounds$1.data, "stopx", stopx + n * conf$4.boxMargin, Math.max);
        if (!(type22 === "activation")) {
          _self.updateVal(item, "startx", startx - n * conf$4.boxMargin, Math.min);
          _self.updateVal(item, "stopx", stopx + n * conf$4.boxMargin, Math.max);
          _self.updateVal(bounds$1.data, "starty", starty - n * conf$4.boxMargin, Math.min);
          _self.updateVal(bounds$1.data, "stopy", stopy + n * conf$4.boxMargin, Math.max);
        }
      };
    }
    this.sequenceItems.forEach(updateFn());
    this.activations.forEach(updateFn("activation"));
  },
  insert: function(startx, starty, stopx, stopy) {
    const _startx = Math.min(startx, stopx);
    const _stopx = Math.max(startx, stopx);
    const _starty = Math.min(starty, stopy);
    const _stopy = Math.max(starty, stopy);
    this.updateVal(bounds$1.data, "startx", _startx, Math.min);
    this.updateVal(bounds$1.data, "starty", _starty, Math.min);
    this.updateVal(bounds$1.data, "stopx", _stopx, Math.max);
    this.updateVal(bounds$1.data, "stopy", _stopy, Math.max);
    this.updateBounds(_startx, _starty, _stopx, _stopy);
  },
  newActivation: function(message2, diagram, actors2) {
    const actorRect = actors2[message2.from.actor];
    const stackedSize = actorActivations(message2.from.actor).length || 0;
    const x7 = actorRect.x + actorRect.width / 2 + (stackedSize - 1) * conf$4.activationWidth / 2;
    this.activations.push({
      startx: x7,
      starty: this.verticalPos + 2,
      stopx: x7 + conf$4.activationWidth,
      stopy: void 0,
      actor: message2.from.actor,
      anchored: svgDraw$1.anchorElement(diagram)
    });
  },
  endActivation: function(message2) {
    const lastActorActivationIdx = this.activations.map(function(activation) {
      return activation.actor;
    }).lastIndexOf(message2.from.actor);
    return this.activations.splice(lastActorActivationIdx, 1)[0];
  },
  createLoop: function(title2 = { message: void 0, wrap: false, width: void 0 }, fill) {
    return {
      startx: void 0,
      starty: this.verticalPos,
      stopx: void 0,
      stopy: void 0,
      title: title2.message,
      wrap: title2.wrap,
      width: title2.width,
      height: 0,
      fill
    };
  },
  newLoop: function(title2 = { message: void 0, wrap: false, width: void 0 }, fill) {
    this.sequenceItems.push(this.createLoop(title2, fill));
  },
  endLoop: function() {
    return this.sequenceItems.pop();
  },
  addSectionToLoop: function(message2) {
    const loop = this.sequenceItems.pop();
    loop.sections = loop.sections || [];
    loop.sectionTitles = loop.sectionTitles || [];
    loop.sections.push({ y: bounds$1.getVerticalPos(), height: 0 });
    loop.sectionTitles.push(message2);
    this.sequenceItems.push(loop);
  },
  bumpVerticalPos: function(bump) {
    this.verticalPos = this.verticalPos + bump;
    this.data.stopy = this.verticalPos;
  },
  getVerticalPos: function() {
    return this.verticalPos;
  },
  getBounds: function() {
    return { bounds: this.data, models: this.models };
  }
};
var drawNote$1 = function(elem, noteModel) {
  bounds$1.bumpVerticalPos(conf$4.boxMargin);
  noteModel.height = conf$4.boxMargin;
  noteModel.starty = bounds$1.getVerticalPos();
  const rect2 = svgDraw$1.getNoteRect();
  rect2.x = noteModel.startx;
  rect2.y = noteModel.starty;
  rect2.width = noteModel.width || conf$4.width;
  rect2.class = "note";
  const g = elem.append("g");
  const rectElem = svgDraw$1.drawRect(g, rect2);
  const textObj = svgDraw$1.getTextObj();
  textObj.x = noteModel.startx;
  textObj.y = noteModel.starty;
  textObj.width = rect2.width;
  textObj.dy = "1em";
  textObj.text = noteModel.message;
  textObj.class = "noteText";
  textObj.fontFamily = conf$4.noteFontFamily;
  textObj.fontSize = conf$4.noteFontSize;
  textObj.fontWeight = conf$4.noteFontWeight;
  textObj.anchor = conf$4.noteAlign;
  textObj.textMargin = conf$4.noteMargin;
  textObj.valign = "center";
  const textElem = drawText$1(g, textObj);
  const textHeight = Math.round(
    textElem.map((te) => (te._groups || te)[0][0].getBBox().height).reduce((acc, curr) => acc + curr)
  );
  rectElem.attr("height", textHeight + 2 * conf$4.noteMargin);
  noteModel.height += textHeight + 2 * conf$4.noteMargin;
  bounds$1.bumpVerticalPos(textHeight + 2 * conf$4.noteMargin);
  noteModel.stopy = noteModel.starty + textHeight + 2 * conf$4.noteMargin;
  noteModel.stopx = noteModel.startx + rect2.width;
  bounds$1.insert(noteModel.startx, noteModel.starty, noteModel.stopx, noteModel.stopy);
  bounds$1.models.addNote(noteModel);
};
var messageFont = (cnf) => {
  return {
    fontFamily: cnf.messageFontFamily,
    fontSize: cnf.messageFontSize,
    fontWeight: cnf.messageFontWeight
  };
};
var noteFont = (cnf) => {
  return {
    fontFamily: cnf.noteFontFamily,
    fontSize: cnf.noteFontSize,
    fontWeight: cnf.noteFontWeight
  };
};
var actorFont = (cnf) => {
  return {
    fontFamily: cnf.actorFontFamily,
    fontSize: cnf.actorFontSize,
    fontWeight: cnf.actorFontWeight
  };
};
var boundMessage = function(diagram, msgModel) {
  bounds$1.bumpVerticalPos(10);
  const { startx, stopx, message: message2 } = msgModel;
  const lines = common.splitBreaks(message2).length;
  const textDims = utils.calculateTextDimensions(message2, messageFont(conf$4));
  const lineHeight = textDims.height / lines;
  msgModel.height += lineHeight;
  bounds$1.bumpVerticalPos(lineHeight);
  let lineStarty;
  let totalOffset = textDims.height - 10;
  const textWidth = textDims.width;
  if (startx === stopx) {
    lineStarty = bounds$1.getVerticalPos() + totalOffset;
    if (!conf$4.rightAngles) {
      totalOffset += conf$4.boxMargin;
      lineStarty = bounds$1.getVerticalPos() + totalOffset;
    }
    totalOffset += 30;
    const dx = Math.max(textWidth / 2, conf$4.width / 2);
    bounds$1.insert(
      startx - dx,
      bounds$1.getVerticalPos() - 10 + totalOffset,
      stopx + dx,
      bounds$1.getVerticalPos() + 30 + totalOffset
    );
  } else {
    totalOffset += conf$4.boxMargin;
    lineStarty = bounds$1.getVerticalPos() + totalOffset;
    bounds$1.insert(startx, lineStarty - 10, stopx, lineStarty);
  }
  bounds$1.bumpVerticalPos(totalOffset);
  msgModel.height += totalOffset;
  msgModel.stopy = msgModel.starty + msgModel.height;
  bounds$1.insert(msgModel.fromBounds, msgModel.starty, msgModel.toBounds, msgModel.stopy);
  return lineStarty;
};
var drawMessage = function(diagram, msgModel, lineStarty, diagObj) {
  const { startx, stopx, starty, message: message2, type: type22, sequenceIndex, sequenceVisible } = msgModel;
  const textDims = utils.calculateTextDimensions(message2, messageFont(conf$4));
  const textObj = svgDraw$1.getTextObj();
  textObj.x = startx;
  textObj.y = starty + 10;
  textObj.width = stopx - startx;
  textObj.class = "messageText";
  textObj.dy = "1em";
  textObj.text = message2;
  textObj.fontFamily = conf$4.messageFontFamily;
  textObj.fontSize = conf$4.messageFontSize;
  textObj.fontWeight = conf$4.messageFontWeight;
  textObj.anchor = conf$4.messageAlign;
  textObj.valign = "center";
  textObj.textMargin = conf$4.wrapPadding;
  textObj.tspan = false;
  drawText$1(diagram, textObj);
  const textWidth = textDims.width;
  let line2;
  if (startx === stopx) {
    if (conf$4.rightAngles) {
      line2 = diagram.append("path").attr(
        "d",
        `M  ${startx},${lineStarty} H ${startx + Math.max(conf$4.width / 2, textWidth / 2)} V ${lineStarty + 25} H ${startx}`
      );
    } else {
      line2 = diagram.append("path").attr(
        "d",
        "M " + startx + "," + lineStarty + " C " + (startx + 60) + "," + (lineStarty - 10) + " " + (startx + 60) + "," + (lineStarty + 30) + " " + startx + "," + (lineStarty + 20)
      );
    }
  } else {
    line2 = diagram.append("line");
    line2.attr("x1", startx);
    line2.attr("y1", lineStarty);
    line2.attr("x2", stopx);
    line2.attr("y2", lineStarty);
  }
  if (type22 === diagObj.db.LINETYPE.DOTTED || type22 === diagObj.db.LINETYPE.DOTTED_CROSS || type22 === diagObj.db.LINETYPE.DOTTED_POINT || type22 === diagObj.db.LINETYPE.DOTTED_OPEN) {
    line2.style("stroke-dasharray", "3, 3");
    line2.attr("class", "messageLine1");
  } else {
    line2.attr("class", "messageLine0");
  }
  let url = "";
  if (conf$4.arrowMarkerAbsolute) {
    url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
    url = url.replace(/\(/g, "\\(");
    url = url.replace(/\)/g, "\\)");
  }
  line2.attr("stroke-width", 2);
  line2.attr("stroke", "none");
  line2.style("fill", "none");
  if (type22 === diagObj.db.LINETYPE.SOLID || type22 === diagObj.db.LINETYPE.DOTTED) {
    line2.attr("marker-end", "url(" + url + "#arrowhead)");
  }
  if (type22 === diagObj.db.LINETYPE.SOLID_POINT || type22 === diagObj.db.LINETYPE.DOTTED_POINT) {
    line2.attr("marker-end", "url(" + url + "#filled-head)");
  }
  if (type22 === diagObj.db.LINETYPE.SOLID_CROSS || type22 === diagObj.db.LINETYPE.DOTTED_CROSS) {
    line2.attr("marker-end", "url(" + url + "#crosshead)");
  }
  if (sequenceVisible || conf$4.showSequenceNumbers) {
    line2.attr("marker-start", "url(" + url + "#sequencenumber)");
    diagram.append("text").attr("x", startx).attr("y", lineStarty + 4).attr("font-family", "sans-serif").attr("font-size", "12px").attr("text-anchor", "middle").attr("class", "sequenceNumber").text(sequenceIndex);
  }
};
var drawActors = function(diagram, actors2, actorKeys, verticalPos, configuration, messages2) {
  if (configuration.hideUnusedParticipants === true) {
    const newActors = /* @__PURE__ */ new Set();
    messages2.forEach((message2) => {
      newActors.add(message2.from);
      newActors.add(message2.to);
    });
    actorKeys = actorKeys.filter((actorKey) => newActors.has(actorKey));
  }
  let prevWidth = 0;
  let prevMargin = 0;
  let maxHeight = 0;
  for (let i = 0; i < actorKeys.length; i++) {
    const actor = actors2[actorKeys[i]];
    actor.width = actor.width || conf$4.width;
    actor.height = Math.max(actor.height || conf$4.height, conf$4.height);
    actor.margin = actor.margin || conf$4.actorMargin;
    actor.x = prevWidth + prevMargin;
    actor.y = verticalPos;
    const height2 = svgDraw$1.drawActor(diagram, actor, conf$4);
    maxHeight = Math.max(maxHeight, height2);
    bounds$1.insert(actor.x, verticalPos, actor.x + actor.width, actor.height);
    prevWidth += actor.width;
    prevMargin += actor.margin;
    bounds$1.models.addActor(actor);
  }
  bounds$1.bumpVerticalPos(maxHeight);
};
var drawActorsPopup = function(diagram, actors2, actorKeys, doc) {
  let maxHeight = 0;
  let maxWidth = 0;
  for (let i = 0; i < actorKeys.length; i++) {
    const actor = actors2[actorKeys[i]];
    const minMenuWidth = getRequiredPopupWidth(actor);
    const menuDimensions = svgDraw$1.drawPopup(
      diagram,
      actor,
      minMenuWidth,
      conf$4,
      conf$4.forceMenus,
      doc
    );
    if (menuDimensions.height > maxHeight) {
      maxHeight = menuDimensions.height;
    }
    if (menuDimensions.width + actor.x > maxWidth) {
      maxWidth = menuDimensions.width + actor.x;
    }
  }
  return { maxHeight, maxWidth };
};
var setConf$4 = function(cnf) {
  assignWithDepth(conf$4, cnf);
  if (cnf.fontFamily) {
    conf$4.actorFontFamily = conf$4.noteFontFamily = conf$4.messageFontFamily = cnf.fontFamily;
  }
  if (cnf.fontSize) {
    conf$4.actorFontSize = conf$4.noteFontSize = conf$4.messageFontSize = cnf.fontSize;
  }
  if (cnf.fontWeight) {
    conf$4.actorFontWeight = conf$4.noteFontWeight = conf$4.messageFontWeight = cnf.fontWeight;
  }
};
var actorActivations = function(actor) {
  return bounds$1.activations.filter(function(activation) {
    return activation.actor === actor;
  });
};
var activationBounds = function(actor, actors2) {
  const actorObj = actors2[actor];
  const activations = actorActivations(actor);
  const left3 = activations.reduce(function(acc, activation) {
    return Math.min(acc, activation.startx);
  }, actorObj.x + actorObj.width / 2);
  const right3 = activations.reduce(function(acc, activation) {
    return Math.max(acc, activation.stopx);
  }, actorObj.x + actorObj.width / 2);
  return [left3, right3];
};
function adjustLoopHeightForWrap(loopWidths, msg, preMargin, postMargin, addLoopFn) {
  bounds$1.bumpVerticalPos(preMargin);
  let heightAdjust = postMargin;
  if (msg.id && msg.message && loopWidths[msg.id]) {
    const loopWidth = loopWidths[msg.id].width;
    const textConf = messageFont(conf$4);
    msg.message = utils.wrapLabel(`[${msg.message}]`, loopWidth - 2 * conf$4.wrapPadding, textConf);
    msg.width = loopWidth;
    msg.wrap = true;
    const textDims = utils.calculateTextDimensions(msg.message, textConf);
    const totalOffset = Math.max(textDims.height, conf$4.labelBoxHeight);
    heightAdjust = postMargin + totalOffset;
    log$1.debug(`${totalOffset} - ${msg.message}`);
  }
  addLoopFn(msg);
  bounds$1.bumpVerticalPos(heightAdjust);
}
var draw$4 = function(_text, id5, _version, diagObj) {
  const { securityLevel, sequence } = getConfig$1();
  conf$4 = sequence;
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
  bounds$1.init();
  log$1.debug(diagObj.db);
  const diagram = securityLevel === "sandbox" ? root22.select(`[id="${id5}"]`) : select_default5(`[id="${id5}"]`);
  const actors2 = diagObj.db.getActors();
  const actorKeys = diagObj.db.getActorKeys();
  const messages2 = diagObj.db.getMessages();
  const title2 = diagObj.db.getDiagramTitle();
  const maxMessageWidthPerActor = getMaxMessageWidthPerActor(actors2, messages2, diagObj);
  conf$4.height = calculateActorMargins(actors2, maxMessageWidthPerActor);
  svgDraw$1.insertComputerIcon(diagram);
  svgDraw$1.insertDatabaseIcon(diagram);
  svgDraw$1.insertClockIcon(diagram);
  drawActors(diagram, actors2, actorKeys, 0, conf$4, messages2);
  const loopWidths = calculateLoopBounds(messages2, actors2, maxMessageWidthPerActor, diagObj);
  svgDraw$1.insertArrowHead(diagram);
  svgDraw$1.insertArrowCrossHead(diagram);
  svgDraw$1.insertArrowFilledHead(diagram);
  svgDraw$1.insertSequenceNumber(diagram);
  function activeEnd(msg, verticalPos) {
    const activationData = bounds$1.endActivation(msg);
    if (activationData.starty + 18 > verticalPos) {
      activationData.starty = verticalPos - 6;
      verticalPos += 12;
    }
    svgDraw$1.drawActivation(
      diagram,
      activationData,
      verticalPos,
      conf$4,
      actorActivations(msg.from.actor).length
    );
    bounds$1.insert(activationData.startx, verticalPos - 10, activationData.stopx, verticalPos);
  }
  let sequenceIndex = 1;
  let sequenceIndexStep = 1;
  const messagesToDraw = [];
  messages2.forEach(function(msg) {
    let loopModel, noteModel, msgModel;
    switch (msg.type) {
      case diagObj.db.LINETYPE.NOTE:
        noteModel = msg.noteModel;
        drawNote$1(diagram, noteModel);
        break;
      case diagObj.db.LINETYPE.ACTIVE_START:
        bounds$1.newActivation(msg, diagram, actors2);
        break;
      case diagObj.db.LINETYPE.ACTIVE_END:
        activeEnd(msg, bounds$1.getVerticalPos());
        break;
      case diagObj.db.LINETYPE.LOOP_START:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin,
          conf$4.boxMargin + conf$4.boxTextMargin,
          (message2) => bounds$1.newLoop(message2)
        );
        break;
      case diagObj.db.LINETYPE.LOOP_END:
        loopModel = bounds$1.endLoop();
        svgDraw$1.drawLoop(diagram, loopModel, "loop", conf$4);
        bounds$1.bumpVerticalPos(loopModel.stopy - bounds$1.getVerticalPos());
        bounds$1.models.addLoop(loopModel);
        break;
      case diagObj.db.LINETYPE.RECT_START:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin,
          conf$4.boxMargin,
          (message2) => bounds$1.newLoop(void 0, message2.message)
        );
        break;
      case diagObj.db.LINETYPE.RECT_END:
        loopModel = bounds$1.endLoop();
        svgDraw$1.drawBackgroundRect(diagram, loopModel);
        bounds$1.models.addLoop(loopModel);
        bounds$1.bumpVerticalPos(loopModel.stopy - bounds$1.getVerticalPos());
        break;
      case diagObj.db.LINETYPE.OPT_START:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin,
          conf$4.boxMargin + conf$4.boxTextMargin,
          (message2) => bounds$1.newLoop(message2)
        );
        break;
      case diagObj.db.LINETYPE.OPT_END:
        loopModel = bounds$1.endLoop();
        svgDraw$1.drawLoop(diagram, loopModel, "opt", conf$4);
        bounds$1.bumpVerticalPos(loopModel.stopy - bounds$1.getVerticalPos());
        bounds$1.models.addLoop(loopModel);
        break;
      case diagObj.db.LINETYPE.ALT_START:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin,
          conf$4.boxMargin + conf$4.boxTextMargin,
          (message2) => bounds$1.newLoop(message2)
        );
        break;
      case diagObj.db.LINETYPE.ALT_ELSE:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin + conf$4.boxTextMargin,
          conf$4.boxMargin,
          (message2) => bounds$1.addSectionToLoop(message2)
        );
        break;
      case diagObj.db.LINETYPE.ALT_END:
        loopModel = bounds$1.endLoop();
        svgDraw$1.drawLoop(diagram, loopModel, "alt", conf$4);
        bounds$1.bumpVerticalPos(loopModel.stopy - bounds$1.getVerticalPos());
        bounds$1.models.addLoop(loopModel);
        break;
      case diagObj.db.LINETYPE.PAR_START:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin,
          conf$4.boxMargin + conf$4.boxTextMargin,
          (message2) => bounds$1.newLoop(message2)
        );
        break;
      case diagObj.db.LINETYPE.PAR_AND:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin + conf$4.boxTextMargin,
          conf$4.boxMargin,
          (message2) => bounds$1.addSectionToLoop(message2)
        );
        break;
      case diagObj.db.LINETYPE.PAR_END:
        loopModel = bounds$1.endLoop();
        svgDraw$1.drawLoop(diagram, loopModel, "par", conf$4);
        bounds$1.bumpVerticalPos(loopModel.stopy - bounds$1.getVerticalPos());
        bounds$1.models.addLoop(loopModel);
        break;
      case diagObj.db.LINETYPE.AUTONUMBER:
        sequenceIndex = msg.message.start || sequenceIndex;
        sequenceIndexStep = msg.message.step || sequenceIndexStep;
        if (msg.message.visible)
          diagObj.db.enableSequenceNumbers();
        else
          diagObj.db.disableSequenceNumbers();
        break;
      case diagObj.db.LINETYPE.CRITICAL_START:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin,
          conf$4.boxMargin + conf$4.boxTextMargin,
          (message2) => bounds$1.newLoop(message2)
        );
        break;
      case diagObj.db.LINETYPE.CRITICAL_OPTION:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin + conf$4.boxTextMargin,
          conf$4.boxMargin,
          (message2) => bounds$1.addSectionToLoop(message2)
        );
        break;
      case diagObj.db.LINETYPE.CRITICAL_END:
        loopModel = bounds$1.endLoop();
        svgDraw$1.drawLoop(diagram, loopModel, "critical", conf$4);
        bounds$1.bumpVerticalPos(loopModel.stopy - bounds$1.getVerticalPos());
        bounds$1.models.addLoop(loopModel);
        break;
      case diagObj.db.LINETYPE.BREAK_START:
        adjustLoopHeightForWrap(
          loopWidths,
          msg,
          conf$4.boxMargin,
          conf$4.boxMargin + conf$4.boxTextMargin,
          (message2) => bounds$1.newLoop(message2)
        );
        break;
      case diagObj.db.LINETYPE.BREAK_END:
        loopModel = bounds$1.endLoop();
        svgDraw$1.drawLoop(diagram, loopModel, "break", conf$4);
        bounds$1.bumpVerticalPos(loopModel.stopy - bounds$1.getVerticalPos());
        bounds$1.models.addLoop(loopModel);
        break;
      default:
        try {
          msgModel = msg.msgModel;
          msgModel.starty = bounds$1.getVerticalPos();
          msgModel.sequenceIndex = sequenceIndex;
          msgModel.sequenceVisible = diagObj.db.showSequenceNumbers();
          const lineStarty = boundMessage(diagram, msgModel);
          messagesToDraw.push({ messageModel: msgModel, lineStarty });
          bounds$1.models.addMessage(msgModel);
        } catch (e) {
          log$1.error("error while drawing message", e);
        }
    }
    if ([
      diagObj.db.LINETYPE.SOLID_OPEN,
      diagObj.db.LINETYPE.DOTTED_OPEN,
      diagObj.db.LINETYPE.SOLID,
      diagObj.db.LINETYPE.DOTTED,
      diagObj.db.LINETYPE.SOLID_CROSS,
      diagObj.db.LINETYPE.DOTTED_CROSS,
      diagObj.db.LINETYPE.SOLID_POINT,
      diagObj.db.LINETYPE.DOTTED_POINT
    ].includes(msg.type)) {
      sequenceIndex = sequenceIndex + sequenceIndexStep;
    }
  });
  messagesToDraw.forEach((e) => drawMessage(diagram, e.messageModel, e.lineStarty, diagObj));
  if (conf$4.mirrorActors) {
    bounds$1.bumpVerticalPos(conf$4.boxMargin * 2);
    drawActors(diagram, actors2, actorKeys, bounds$1.getVerticalPos(), conf$4, messages2);
    bounds$1.bumpVerticalPos(conf$4.boxMargin);
    fixLifeLineHeights(diagram, bounds$1.getVerticalPos());
  }
  const requiredBoxSize = drawActorsPopup(diagram, actors2, actorKeys, doc);
  const { bounds: box } = bounds$1.getBounds();
  log$1.debug("For line height fix Querying: #" + id5 + " .actor-line");
  const actorLines = selectAll_default5("#" + id5 + " .actor-line");
  actorLines.attr("y2", box.stopy);
  let boxHeight = box.stopy - box.starty;
  if (boxHeight < requiredBoxSize.maxHeight) {
    boxHeight = requiredBoxSize.maxHeight;
  }
  let height2 = boxHeight + 2 * conf$4.diagramMarginY;
  if (conf$4.mirrorActors) {
    height2 = height2 - conf$4.boxMargin + conf$4.bottomMarginAdj;
  }
  let boxWidth = box.stopx - box.startx;
  if (boxWidth < requiredBoxSize.maxWidth) {
    boxWidth = requiredBoxSize.maxWidth;
  }
  const width2 = boxWidth + 2 * conf$4.diagramMarginX;
  if (title2) {
    diagram.append("text").text(title2).attr("x", (box.stopx - box.startx) / 2 - 2 * conf$4.diagramMarginX).attr("y", -25);
  }
  configureSvgSize(diagram, height2, width2, conf$4.useMaxWidth);
  const extraVertForTitle = title2 ? 40 : 0;
  diagram.attr(
    "viewBox",
    box.startx - conf$4.diagramMarginX + " -" + (conf$4.diagramMarginY + extraVertForTitle) + " " + width2 + " " + (height2 + extraVertForTitle)
  );
  addSVGAccessibilityFields(diagObj.db, diagram, id5);
  log$1.debug(`models:`, bounds$1.models);
};
var getMaxMessageWidthPerActor = function(actors2, messages2, diagObj) {
  const maxMessageWidthPerActor = {};
  messages2.forEach(function(msg) {
    if (actors2[msg.to] && actors2[msg.from]) {
      const actor = actors2[msg.to];
      if (msg.placement === diagObj.db.PLACEMENT.LEFTOF && !actor.prevActor) {
        return;
      }
      if (msg.placement === diagObj.db.PLACEMENT.RIGHTOF && !actor.nextActor) {
        return;
      }
      const isNote = msg.placement !== void 0;
      const isMessage = !isNote;
      const textFont = isNote ? noteFont(conf$4) : messageFont(conf$4);
      const wrappedMessage = msg.wrap ? utils.wrapLabel(msg.message, conf$4.width - 2 * conf$4.wrapPadding, textFont) : msg.message;
      const messageDimensions = utils.calculateTextDimensions(wrappedMessage, textFont);
      const messageWidth = messageDimensions.width + 2 * conf$4.wrapPadding;
      if (isMessage && msg.from === actor.nextActor) {
        maxMessageWidthPerActor[msg.to] = Math.max(
          maxMessageWidthPerActor[msg.to] || 0,
          messageWidth
        );
      } else if (isMessage && msg.from === actor.prevActor) {
        maxMessageWidthPerActor[msg.from] = Math.max(
          maxMessageWidthPerActor[msg.from] || 0,
          messageWidth
        );
      } else if (isMessage && msg.from === msg.to) {
        maxMessageWidthPerActor[msg.from] = Math.max(
          maxMessageWidthPerActor[msg.from] || 0,
          messageWidth / 2
        );
        maxMessageWidthPerActor[msg.to] = Math.max(
          maxMessageWidthPerActor[msg.to] || 0,
          messageWidth / 2
        );
      } else if (msg.placement === diagObj.db.PLACEMENT.RIGHTOF) {
        maxMessageWidthPerActor[msg.from] = Math.max(
          maxMessageWidthPerActor[msg.from] || 0,
          messageWidth
        );
      } else if (msg.placement === diagObj.db.PLACEMENT.LEFTOF) {
        maxMessageWidthPerActor[actor.prevActor] = Math.max(
          maxMessageWidthPerActor[actor.prevActor] || 0,
          messageWidth
        );
      } else if (msg.placement === diagObj.db.PLACEMENT.OVER) {
        if (actor.prevActor) {
          maxMessageWidthPerActor[actor.prevActor] = Math.max(
            maxMessageWidthPerActor[actor.prevActor] || 0,
            messageWidth / 2
          );
        }
        if (actor.nextActor) {
          maxMessageWidthPerActor[msg.from] = Math.max(
            maxMessageWidthPerActor[msg.from] || 0,
            messageWidth / 2
          );
        }
      }
    }
  });
  log$1.debug("maxMessageWidthPerActor:", maxMessageWidthPerActor);
  return maxMessageWidthPerActor;
};
var getRequiredPopupWidth = function(actor) {
  let requiredPopupWidth = 0;
  const textFont = actorFont(conf$4);
  for (const key in actor.links) {
    const labelDimensions = utils.calculateTextDimensions(key, textFont);
    const labelWidth = labelDimensions.width + 2 * conf$4.wrapPadding + 2 * conf$4.boxMargin;
    if (requiredPopupWidth < labelWidth) {
      requiredPopupWidth = labelWidth;
    }
  }
  return requiredPopupWidth;
};
var calculateActorMargins = function(actors2, actorToMessageWidth) {
  let maxHeight = 0;
  Object.keys(actors2).forEach((prop) => {
    const actor = actors2[prop];
    if (actor.wrap) {
      actor.description = utils.wrapLabel(
        actor.description,
        conf$4.width - 2 * conf$4.wrapPadding,
        actorFont(conf$4)
      );
    }
    const actDims = utils.calculateTextDimensions(actor.description, actorFont(conf$4));
    actor.width = actor.wrap ? conf$4.width : Math.max(conf$4.width, actDims.width + 2 * conf$4.wrapPadding);
    actor.height = actor.wrap ? Math.max(actDims.height, conf$4.height) : conf$4.height;
    maxHeight = Math.max(maxHeight, actor.height);
  });
  for (const actorKey in actorToMessageWidth) {
    const actor = actors2[actorKey];
    if (!actor) {
      continue;
    }
    const nextActor = actors2[actor.nextActor];
    if (!nextActor) {
      continue;
    }
    const messageWidth = actorToMessageWidth[actorKey];
    const actorWidth = messageWidth + conf$4.actorMargin - actor.width / 2 - nextActor.width / 2;
    actor.margin = Math.max(actorWidth, conf$4.actorMargin);
  }
  return Math.max(maxHeight, conf$4.height);
};
var buildNoteModel = function(msg, actors2, diagObj) {
  const startx = actors2[msg.from].x;
  const stopx = actors2[msg.to].x;
  const shouldWrap = msg.wrap && msg.message;
  let textDimensions = utils.calculateTextDimensions(
    shouldWrap ? utils.wrapLabel(msg.message, conf$4.width, noteFont(conf$4)) : msg.message,
    noteFont(conf$4)
  );
  const noteModel = {
    width: shouldWrap ? conf$4.width : Math.max(conf$4.width, textDimensions.width + 2 * conf$4.noteMargin),
    height: 0,
    startx: actors2[msg.from].x,
    stopx: 0,
    starty: 0,
    stopy: 0,
    message: msg.message
  };
  if (msg.placement === diagObj.db.PLACEMENT.RIGHTOF) {
    noteModel.width = shouldWrap ? Math.max(conf$4.width, textDimensions.width) : Math.max(
      actors2[msg.from].width / 2 + actors2[msg.to].width / 2,
      textDimensions.width + 2 * conf$4.noteMargin
    );
    noteModel.startx = startx + (actors2[msg.from].width + conf$4.actorMargin) / 2;
  } else if (msg.placement === diagObj.db.PLACEMENT.LEFTOF) {
    noteModel.width = shouldWrap ? Math.max(conf$4.width, textDimensions.width + 2 * conf$4.noteMargin) : Math.max(
      actors2[msg.from].width / 2 + actors2[msg.to].width / 2,
      textDimensions.width + 2 * conf$4.noteMargin
    );
    noteModel.startx = startx - noteModel.width + (actors2[msg.from].width - conf$4.actorMargin) / 2;
  } else if (msg.to === msg.from) {
    textDimensions = utils.calculateTextDimensions(
      shouldWrap ? utils.wrapLabel(msg.message, Math.max(conf$4.width, actors2[msg.from].width), noteFont(conf$4)) : msg.message,
      noteFont(conf$4)
    );
    noteModel.width = shouldWrap ? Math.max(conf$4.width, actors2[msg.from].width) : Math.max(actors2[msg.from].width, conf$4.width, textDimensions.width + 2 * conf$4.noteMargin);
    noteModel.startx = startx + (actors2[msg.from].width - noteModel.width) / 2;
  } else {
    noteModel.width = Math.abs(startx + actors2[msg.from].width / 2 - (stopx + actors2[msg.to].width / 2)) + conf$4.actorMargin;
    noteModel.startx = startx < stopx ? startx + actors2[msg.from].width / 2 - conf$4.actorMargin / 2 : stopx + actors2[msg.to].width / 2 - conf$4.actorMargin / 2;
  }
  if (shouldWrap) {
    noteModel.message = utils.wrapLabel(
      msg.message,
      noteModel.width - 2 * conf$4.wrapPadding,
      noteFont(conf$4)
    );
  }
  log$1.debug(
    `NM:[${noteModel.startx},${noteModel.stopx},${noteModel.starty},${noteModel.stopy}:${noteModel.width},${noteModel.height}=${msg.message}]`
  );
  return noteModel;
};
var buildMessageModel = function(msg, actors2, diagObj) {
  let process = false;
  if ([
    diagObj.db.LINETYPE.SOLID_OPEN,
    diagObj.db.LINETYPE.DOTTED_OPEN,
    diagObj.db.LINETYPE.SOLID,
    diagObj.db.LINETYPE.DOTTED,
    diagObj.db.LINETYPE.SOLID_CROSS,
    diagObj.db.LINETYPE.DOTTED_CROSS,
    diagObj.db.LINETYPE.SOLID_POINT,
    diagObj.db.LINETYPE.DOTTED_POINT
  ].includes(msg.type)) {
    process = true;
  }
  if (!process) {
    return {};
  }
  const fromBounds = activationBounds(msg.from, actors2);
  const toBounds = activationBounds(msg.to, actors2);
  const fromIdx = fromBounds[0] <= toBounds[0] ? 1 : 0;
  const toIdx = fromBounds[0] < toBounds[0] ? 0 : 1;
  const allBounds = fromBounds.concat(toBounds);
  const boundedWidth = Math.abs(toBounds[toIdx] - fromBounds[fromIdx]);
  if (msg.wrap && msg.message) {
    msg.message = utils.wrapLabel(
      msg.message,
      Math.max(boundedWidth + 2 * conf$4.wrapPadding, conf$4.width),
      messageFont(conf$4)
    );
  }
  const msgDims = utils.calculateTextDimensions(msg.message, messageFont(conf$4));
  return {
    width: Math.max(
      msg.wrap ? 0 : msgDims.width + 2 * conf$4.wrapPadding,
      boundedWidth + 2 * conf$4.wrapPadding,
      conf$4.width
    ),
    height: 0,
    startx: fromBounds[fromIdx],
    stopx: toBounds[toIdx],
    starty: 0,
    stopy: 0,
    message: msg.message,
    type: msg.type,
    wrap: msg.wrap,
    fromBounds: Math.min.apply(null, allBounds),
    toBounds: Math.max.apply(null, allBounds)
  };
};
var calculateLoopBounds = function(messages2, actors2, _maxWidthPerActor, diagObj) {
  const loops = {};
  const stack = [];
  let current, noteModel, msgModel;
  messages2.forEach(function(msg) {
    msg.id = utils.random({ length: 10 });
    switch (msg.type) {
      case diagObj.db.LINETYPE.LOOP_START:
      case diagObj.db.LINETYPE.ALT_START:
      case diagObj.db.LINETYPE.OPT_START:
      case diagObj.db.LINETYPE.PAR_START:
      case diagObj.db.LINETYPE.CRITICAL_START:
      case diagObj.db.LINETYPE.BREAK_START:
        stack.push({
          id: msg.id,
          msg: msg.message,
          from: Number.MAX_SAFE_INTEGER,
          to: Number.MIN_SAFE_INTEGER,
          width: 0
        });
        break;
      case diagObj.db.LINETYPE.ALT_ELSE:
      case diagObj.db.LINETYPE.PAR_AND:
      case diagObj.db.LINETYPE.CRITICAL_OPTION:
        if (msg.message) {
          current = stack.pop();
          loops[current.id] = current;
          loops[msg.id] = current;
          stack.push(current);
        }
        break;
      case diagObj.db.LINETYPE.LOOP_END:
      case diagObj.db.LINETYPE.ALT_END:
      case diagObj.db.LINETYPE.OPT_END:
      case diagObj.db.LINETYPE.PAR_END:
      case diagObj.db.LINETYPE.CRITICAL_END:
      case diagObj.db.LINETYPE.BREAK_END:
        current = stack.pop();
        loops[current.id] = current;
        break;
      case diagObj.db.LINETYPE.ACTIVE_START:
        {
          const actorRect = actors2[msg.from ? msg.from.actor : msg.to.actor];
          const stackedSize = actorActivations(msg.from ? msg.from.actor : msg.to.actor).length;
          const x7 = actorRect.x + actorRect.width / 2 + (stackedSize - 1) * conf$4.activationWidth / 2;
          const toAdd = {
            startx: x7,
            stopx: x7 + conf$4.activationWidth,
            actor: msg.from.actor,
            enabled: true
          };
          bounds$1.activations.push(toAdd);
        }
        break;
      case diagObj.db.LINETYPE.ACTIVE_END:
        {
          const lastActorActivationIdx = bounds$1.activations.map((a3) => a3.actor).lastIndexOf(msg.from.actor);
          delete bounds$1.activations.splice(lastActorActivationIdx, 1)[0];
        }
        break;
    }
    const isNote = msg.placement !== void 0;
    if (isNote) {
      noteModel = buildNoteModel(msg, actors2, diagObj);
      msg.noteModel = noteModel;
      stack.forEach((stk) => {
        current = stk;
        current.from = Math.min(current.from, noteModel.startx);
        current.to = Math.max(current.to, noteModel.startx + noteModel.width);
        current.width = Math.max(current.width, Math.abs(current.from - current.to)) - conf$4.labelBoxWidth;
      });
    } else {
      msgModel = buildMessageModel(msg, actors2, diagObj);
      msg.msgModel = msgModel;
      if (msgModel.startx && msgModel.stopx && stack.length > 0) {
        stack.forEach((stk) => {
          current = stk;
          if (msgModel.startx === msgModel.stopx) {
            const from2 = actors2[msg.from];
            const to = actors2[msg.to];
            current.from = Math.min(
              from2.x - msgModel.width / 2,
              from2.x - from2.width / 2,
              current.from
            );
            current.to = Math.max(to.x + msgModel.width / 2, to.x + from2.width / 2, current.to);
            current.width = Math.max(current.width, Math.abs(current.to - current.from)) - conf$4.labelBoxWidth;
          } else {
            current.from = Math.min(msgModel.startx, current.from);
            current.to = Math.max(msgModel.stopx, current.to);
            current.width = Math.max(current.width, msgModel.width) - conf$4.labelBoxWidth;
          }
        });
      }
    }
  });
  bounds$1.activations = [];
  log$1.debug("Loop type widths:", loops);
  return loops;
};
var sequenceRenderer = {
  bounds: bounds$1,
  drawActors,
  drawActorsPopup,
  setConf: setConf$4,
  draw: draw$4
};
var parser$1 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 2], $V1 = [1, 3], $V2 = [1, 5], $V3 = [1, 7], $V4 = [2, 5], $V5 = [1, 15], $V6 = [1, 17], $V7 = [1, 19], $V8 = [1, 20], $V9 = [1, 21], $Va = [1, 22], $Vb = [1, 33], $Vc = [1, 23], $Vd = [1, 24], $Ve = [1, 25], $Vf = [1, 26], $Vg = [1, 27], $Vh = [1, 30], $Vi = [1, 31], $Vj = [1, 32], $Vk = [1, 35], $Vl = [1, 36], $Vm = [1, 37], $Vn = [1, 38], $Vo = [1, 34], $Vp = [1, 41], $Vq = [1, 4, 5, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50], $Vr = [1, 4, 5, 12, 13, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50], $Vs = [1, 4, 5, 7, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50], $Vt = [4, 5, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "SPACE": 4, "NL": 5, "directive": 6, "SD": 7, "document": 8, "line": 9, "statement": 10, "idStatement": 11, "DESCR": 12, "-->": 13, "HIDE_EMPTY": 14, "scale": 15, "WIDTH": 16, "COMPOSIT_STATE": 17, "STRUCT_START": 18, "STRUCT_STOP": 19, "STATE_DESCR": 20, "AS": 21, "ID": 22, "FORK": 23, "JOIN": 24, "CHOICE": 25, "CONCURRENT": 26, "note": 27, "notePosition": 28, "NOTE_TEXT": 29, "direction": 30, "acc_title": 31, "acc_title_value": 32, "acc_descr": 33, "acc_descr_value": 34, "acc_descr_multiline_value": 35, "openDirective": 36, "typeDirective": 37, "closeDirective": 38, ":": 39, "argDirective": 40, "direction_tb": 41, "direction_bt": 42, "direction_rl": 43, "direction_lr": 44, "eol": 45, ";": 46, "EDGE_STATE": 47, "left_of": 48, "right_of": 49, "open_directive": 50, "type_directive": 51, "arg_directive": 52, "close_directive": 53, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 4: "SPACE", 5: "NL", 7: "SD", 12: "DESCR", 13: "-->", 14: "HIDE_EMPTY", 15: "scale", 16: "WIDTH", 17: "COMPOSIT_STATE", 18: "STRUCT_START", 19: "STRUCT_STOP", 20: "STATE_DESCR", 21: "AS", 22: "ID", 23: "FORK", 24: "JOIN", 25: "CHOICE", 26: "CONCURRENT", 27: "note", 29: "NOTE_TEXT", 31: "acc_title", 32: "acc_title_value", 33: "acc_descr", 34: "acc_descr_value", 35: "acc_descr_multiline_value", 39: ":", 41: "direction_tb", 42: "direction_bt", 43: "direction_rl", 44: "direction_lr", 46: ";", 47: "EDGE_STATE", 48: "left_of", 49: "right_of", 50: "open_directive", 51: "type_directive", 52: "arg_directive", 53: "close_directive" },
    productions_: [0, [3, 2], [3, 2], [3, 2], [3, 2], [8, 0], [8, 2], [9, 2], [9, 1], [9, 1], [10, 1], [10, 2], [10, 3], [10, 4], [10, 1], [10, 2], [10, 1], [10, 4], [10, 3], [10, 6], [10, 1], [10, 1], [10, 1], [10, 1], [10, 4], [10, 4], [10, 1], [10, 1], [10, 2], [10, 2], [10, 1], [6, 3], [6, 5], [30, 1], [30, 1], [30, 1], [30, 1], [45, 1], [45, 1], [11, 1], [11, 1], [28, 1], [28, 1], [36, 1], [37, 1], [40, 1], [38, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 4:
          yy.setRootDoc($$[$0]);
          return $$[$0];
        case 5:
          this.$ = [];
          break;
        case 6:
          if ($$[$0] != "nl") {
            $$[$0 - 1].push($$[$0]);
            this.$ = $$[$0 - 1];
          }
          break;
        case 7:
        case 8:
          this.$ = $$[$0];
          break;
        case 9:
          this.$ = "nl";
          break;
        case 10:
          this.$ = { stmt: "state", id: $$[$0], type: "default", description: "" };
          break;
        case 11:
          this.$ = { stmt: "state", id: $$[$0 - 1], type: "default", description: yy.trimColon($$[$0]) };
          break;
        case 12:
          this.$ = { stmt: "relation", state1: { stmt: "state", id: $$[$0 - 2], type: "default", description: "" }, state2: { stmt: "state", id: $$[$0], type: "default", description: "" } };
          break;
        case 13:
          this.$ = { stmt: "relation", state1: { stmt: "state", id: $$[$0 - 3], type: "default", description: "" }, state2: { stmt: "state", id: $$[$0 - 1], type: "default", description: "" }, description: $$[$0].substr(1).trim() };
          break;
        case 17:
          this.$ = { stmt: "state", id: $$[$0 - 3], type: "default", description: "", doc: $$[$0 - 1] };
          break;
        case 18:
          var id5 = $$[$0];
          var description2 = $$[$0 - 2].trim();
          if ($$[$0].match(":")) {
            var parts = $$[$0].split(":");
            id5 = parts[0];
            description2 = [description2, parts[1]];
          }
          this.$ = { stmt: "state", id: id5, type: "default", description: description2 };
          break;
        case 19:
          this.$ = { stmt: "state", id: $$[$0 - 3], type: "default", description: $$[$0 - 5], doc: $$[$0 - 1] };
          break;
        case 20:
          this.$ = { stmt: "state", id: $$[$0], type: "fork" };
          break;
        case 21:
          this.$ = { stmt: "state", id: $$[$0], type: "join" };
          break;
        case 22:
          this.$ = { stmt: "state", id: $$[$0], type: "choice" };
          break;
        case 23:
          this.$ = { stmt: "state", id: yy.getDividerId(), type: "divider" };
          break;
        case 24:
          this.$ = { stmt: "state", id: $$[$0 - 1].trim(), note: { position: $$[$0 - 2].trim(), text: $$[$0].trim() } };
          break;
        case 28:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 29:
        case 30:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 33:
          yy.setDirection("TB");
          this.$ = { stmt: "dir", value: "TB" };
          break;
        case 34:
          yy.setDirection("BT");
          this.$ = { stmt: "dir", value: "BT" };
          break;
        case 35:
          yy.setDirection("RL");
          this.$ = { stmt: "dir", value: "RL" };
          break;
        case 36:
          yy.setDirection("LR");
          this.$ = { stmt: "dir", value: "LR" };
          break;
        case 39:
        case 40:
          this.$ = $$[$0];
          break;
        case 43:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 44:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 45:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 46:
          yy.parseDirective("}%%", "close_directive", "state");
          break;
      }
    },
    table: [{ 3: 1, 4: $V0, 5: $V1, 6: 4, 7: $V2, 36: 6, 50: $V3 }, { 1: [3] }, { 3: 8, 4: $V0, 5: $V1, 6: 4, 7: $V2, 36: 6, 50: $V3 }, { 3: 9, 4: $V0, 5: $V1, 6: 4, 7: $V2, 36: 6, 50: $V3 }, { 3: 10, 4: $V0, 5: $V1, 6: 4, 7: $V2, 36: 6, 50: $V3 }, o([1, 4, 5, 14, 15, 17, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50], $V4, { 8: 11 }), { 37: 12, 51: [1, 13] }, { 51: [2, 43] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3] }, { 1: [2, 4], 4: $V5, 5: $V6, 6: 28, 9: 14, 10: 16, 11: 18, 14: $V7, 15: $V8, 17: $V9, 20: $Va, 22: $Vb, 23: $Vc, 24: $Vd, 25: $Ve, 26: $Vf, 27: $Vg, 30: 29, 31: $Vh, 33: $Vi, 35: $Vj, 36: 6, 41: $Vk, 42: $Vl, 43: $Vm, 44: $Vn, 47: $Vo, 50: $V3 }, { 38: 39, 39: [1, 40], 53: $Vp }, o([39, 53], [2, 44]), o($Vq, [2, 6]), { 6: 28, 10: 42, 11: 18, 14: $V7, 15: $V8, 17: $V9, 20: $Va, 22: $Vb, 23: $Vc, 24: $Vd, 25: $Ve, 26: $Vf, 27: $Vg, 30: 29, 31: $Vh, 33: $Vi, 35: $Vj, 36: 6, 41: $Vk, 42: $Vl, 43: $Vm, 44: $Vn, 47: $Vo, 50: $V3 }, o($Vq, [2, 8]), o($Vq, [2, 9]), o($Vq, [2, 10], { 12: [1, 43], 13: [1, 44] }), o($Vq, [2, 14]), { 16: [1, 45] }, o($Vq, [2, 16], { 18: [1, 46] }), { 21: [1, 47] }, o($Vq, [2, 20]), o($Vq, [2, 21]), o($Vq, [2, 22]), o($Vq, [2, 23]), { 28: 48, 29: [1, 49], 48: [1, 50], 49: [1, 51] }, o($Vq, [2, 26]), o($Vq, [2, 27]), { 32: [1, 52] }, { 34: [1, 53] }, o($Vq, [2, 30]), o($Vr, [2, 39]), o($Vr, [2, 40]), o($Vq, [2, 33]), o($Vq, [2, 34]), o($Vq, [2, 35]), o($Vq, [2, 36]), o($Vs, [2, 31]), { 40: 54, 52: [1, 55] }, o($Vs, [2, 46]), o($Vq, [2, 7]), o($Vq, [2, 11]), { 11: 56, 22: $Vb, 47: $Vo }, o($Vq, [2, 15]), o($Vt, $V4, { 8: 57 }), { 22: [1, 58] }, { 22: [1, 59] }, { 21: [1, 60] }, { 22: [2, 41] }, { 22: [2, 42] }, o($Vq, [2, 28]), o($Vq, [2, 29]), { 38: 61, 53: $Vp }, { 53: [2, 45] }, o($Vq, [2, 12], { 12: [1, 62] }), { 4: $V5, 5: $V6, 6: 28, 9: 14, 10: 16, 11: 18, 14: $V7, 15: $V8, 17: $V9, 19: [1, 63], 20: $Va, 22: $Vb, 23: $Vc, 24: $Vd, 25: $Ve, 26: $Vf, 27: $Vg, 30: 29, 31: $Vh, 33: $Vi, 35: $Vj, 36: 6, 41: $Vk, 42: $Vl, 43: $Vm, 44: $Vn, 47: $Vo, 50: $V3 }, o($Vq, [2, 18], { 18: [1, 64] }), { 29: [1, 65] }, { 22: [1, 66] }, o($Vs, [2, 32]), o($Vq, [2, 13]), o($Vq, [2, 17]), o($Vt, $V4, { 8: 67 }), o($Vq, [2, 24]), o($Vq, [2, 25]), { 4: $V5, 5: $V6, 6: 28, 9: 14, 10: 16, 11: 18, 14: $V7, 15: $V8, 17: $V9, 19: [1, 68], 20: $Va, 22: $Vb, 23: $Vc, 24: $Vd, 25: $Ve, 26: $Vf, 27: $Vg, 30: 29, 31: $Vh, 33: $Vi, 35: $Vj, 36: 6, 41: $Vk, 42: $Vl, 43: $Vm, 44: $Vn, 47: $Vo, 50: $V3 }, o($Vq, [2, 19])],
    defaultActions: { 7: [2, 43], 8: [2, 1], 9: [2, 2], 10: [2, 3], 50: [2, 41], 51: [2, 42], 55: [2, 45] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: { "case-insensitive": true },
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            return 41;
          case 1:
            return 42;
          case 2:
            return 43;
          case 3:
            return 44;
          case 4:
            this.begin("open_directive");
            return 50;
          case 5:
            this.begin("type_directive");
            return 51;
          case 6:
            this.popState();
            this.begin("arg_directive");
            return 39;
          case 7:
            this.popState();
            this.popState();
            return 53;
          case 8:
            return 52;
          case 9:
            break;
          case 10:
            break;
          case 11:
            return 5;
          case 12:
            break;
          case 13:
            break;
          case 14:
            break;
          case 15:
            break;
          case 16:
            this.pushState("SCALE");
            return 15;
          case 17:
            return 16;
          case 18:
            this.popState();
            break;
          case 19:
            this.begin("acc_title");
            return 31;
          case 20:
            this.popState();
            return "acc_title_value";
          case 21:
            this.begin("acc_descr");
            return 33;
          case 22:
            this.popState();
            return "acc_descr_value";
          case 23:
            this.begin("acc_descr_multiline");
            break;
          case 24:
            this.popState();
            break;
          case 25:
            return "acc_descr_multiline_value";
          case 26:
            this.pushState("STATE");
            break;
          case 27:
            this.popState();
            yy_.yytext = yy_.yytext.slice(0, -8).trim();
            return 23;
          case 28:
            this.popState();
            yy_.yytext = yy_.yytext.slice(0, -8).trim();
            return 24;
          case 29:
            this.popState();
            yy_.yytext = yy_.yytext.slice(0, -10).trim();
            return 25;
          case 30:
            this.popState();
            yy_.yytext = yy_.yytext.slice(0, -8).trim();
            return 23;
          case 31:
            this.popState();
            yy_.yytext = yy_.yytext.slice(0, -8).trim();
            return 24;
          case 32:
            this.popState();
            yy_.yytext = yy_.yytext.slice(0, -10).trim();
            return 25;
          case 33:
            return 41;
          case 34:
            return 42;
          case 35:
            return 43;
          case 36:
            return 44;
          case 37:
            this.begin("STATE_STRING");
            break;
          case 38:
            this.popState();
            this.pushState("STATE_ID");
            return "AS";
          case 39:
            this.popState();
            return "ID";
          case 40:
            this.popState();
            break;
          case 41:
            return "STATE_DESCR";
          case 42:
            return 17;
          case 43:
            this.popState();
            break;
          case 44:
            this.popState();
            this.pushState("struct");
            return 18;
          case 45:
            this.popState();
            return 19;
          case 46:
            break;
          case 47:
            this.begin("NOTE");
            return 27;
          case 48:
            this.popState();
            this.pushState("NOTE_ID");
            return 48;
          case 49:
            this.popState();
            this.pushState("NOTE_ID");
            return 49;
          case 50:
            this.popState();
            this.pushState("FLOATING_NOTE");
            break;
          case 51:
            this.popState();
            this.pushState("FLOATING_NOTE_ID");
            return "AS";
          case 52:
            break;
          case 53:
            return "NOTE_TEXT";
          case 54:
            this.popState();
            return "ID";
          case 55:
            this.popState();
            this.pushState("NOTE_TEXT");
            return 22;
          case 56:
            this.popState();
            yy_.yytext = yy_.yytext.substr(2).trim();
            return 29;
          case 57:
            this.popState();
            yy_.yytext = yy_.yytext.slice(0, -8).trim();
            return 29;
          case 58:
            return 7;
          case 59:
            return 7;
          case 60:
            return 14;
          case 61:
            return 47;
          case 62:
            return 22;
          case 63:
            yy_.yytext = yy_.yytext.trim();
            return 12;
          case 64:
            return 13;
          case 65:
            return 26;
          case 66:
            return 5;
          case 67:
            return "INVALID";
        }
      },
      rules: [/^(?:.*direction\s+TB[^\n]*)/i, /^(?:.*direction\s+BT[^\n]*)/i, /^(?:.*direction\s+RL[^\n]*)/i, /^(?:.*direction\s+LR[^\n]*)/i, /^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:[\s]+)/i, /^(?:((?!\n)\s)+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:scale\s+)/i, /^(?:\d+)/i, /^(?:\s+width\b)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:state\s+)/i, /^(?:.*<<fork>>)/i, /^(?:.*<<join>>)/i, /^(?:.*<<choice>>)/i, /^(?:.*\[\[fork\]\])/i, /^(?:.*\[\[join\]\])/i, /^(?:.*\[\[choice\]\])/i, /^(?:.*direction\s+TB[^\n]*)/i, /^(?:.*direction\s+BT[^\n]*)/i, /^(?:.*direction\s+RL[^\n]*)/i, /^(?:.*direction\s+LR[^\n]*)/i, /^(?:["])/i, /^(?:\s*as\s+)/i, /^(?:[^\n\{]*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\n\s\{]+)/i, /^(?:\n)/i, /^(?:\{)/i, /^(?:\})/i, /^(?:[\n])/i, /^(?:note\s+)/i, /^(?:left of\b)/i, /^(?:right of\b)/i, /^(?:")/i, /^(?:\s*as\s*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\n]*)/i, /^(?:\s*[^:\n\s\-]+)/i, /^(?:\s*:[^:\n;]+)/i, /^(?:[\s\S]*?end note\b)/i, /^(?:stateDiagram\s+)/i, /^(?:stateDiagram-v2\s+)/i, /^(?:hide empty description\b)/i, /^(?:\[\*\])/i, /^(?:[^:\n\s\-\{]+)/i, /^(?:\s*:[^:\n;]+)/i, /^(?:-->)/i, /^(?:--)/i, /^(?:$)/i, /^(?:.)/i],
      conditions: { "LINE": { "rules": [13, 14], "inclusive": false }, "close_directive": { "rules": [13, 14], "inclusive": false }, "arg_directive": { "rules": [7, 8, 13, 14], "inclusive": false }, "type_directive": { "rules": [6, 7, 13, 14], "inclusive": false }, "open_directive": { "rules": [5, 13, 14], "inclusive": false }, "struct": { "rules": [13, 14, 26, 33, 34, 35, 36, 45, 46, 47, 61, 62, 63, 64, 65], "inclusive": false }, "FLOATING_NOTE_ID": { "rules": [54], "inclusive": false }, "FLOATING_NOTE": { "rules": [51, 52, 53], "inclusive": false }, "NOTE_TEXT": { "rules": [56, 57], "inclusive": false }, "NOTE_ID": { "rules": [55], "inclusive": false }, "NOTE": { "rules": [48, 49, 50], "inclusive": false }, "acc_descr_multiline": { "rules": [24, 25], "inclusive": false }, "acc_descr": { "rules": [22], "inclusive": false }, "acc_title": { "rules": [20], "inclusive": false }, "SCALE": { "rules": [17, 18], "inclusive": false }, "ALIAS": { "rules": [], "inclusive": false }, "STATE_ID": { "rules": [39], "inclusive": false }, "STATE_STRING": { "rules": [40, 41], "inclusive": false }, "FORK_STATE": { "rules": [], "inclusive": false }, "STATE": { "rules": [13, 14, 27, 28, 29, 30, 31, 32, 37, 38, 42, 43, 44], "inclusive": false }, "ID": { "rules": [13, 14], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 9, 10, 11, 12, 14, 15, 16, 19, 21, 23, 26, 44, 47, 58, 59, 60, 61, 62, 63, 64, 66, 67], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser$1.parser = parser$1;
var stateDetector = (txt, config2) => {
  var _a;
  if (((_a = config2 == null ? void 0 : config2.state) == null ? void 0 : _a.defaultRenderer) === "dagre-wrapper")
    return false;
  return txt.match(/^\s*stateDiagram/) !== null;
};
var stateDetectorV2 = (text2, config2) => {
  var _a;
  if (text2.match(/^\s*stateDiagram-v2/) !== null)
    return true;
  if (text2.match(/^\s*stateDiagram/) && ((_a = config2 == null ? void 0 : config2.state) == null ? void 0 : _a.defaultRenderer) === "dagre-wrapper")
    return true;
  return false;
};
var clone2 = (o) => JSON.parse(JSON.stringify(o));
var rootDoc = [];
var parseDirective$2 = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var setRootDoc = (o) => {
  log$1.info("Setting root doc", o);
  rootDoc = o;
};
var getRootDoc = () => rootDoc;
var docTranslator = (parent, node2, first) => {
  if (node2.stmt === "relation") {
    docTranslator(parent, node2.state1, true);
    docTranslator(parent, node2.state2, false);
  } else {
    if (node2.stmt === "state") {
      if (node2.id === "[*]") {
        node2.id = first ? parent.id + "_start" : parent.id + "_end";
        node2.start = first;
      }
    }
    if (node2.doc) {
      const doc = [];
      let i = 0;
      let currentDoc = [];
      for (i = 0; i < node2.doc.length; i++) {
        if (node2.doc[i].type === "divider") {
          const newNode = clone2(node2.doc[i]);
          newNode.doc = clone2(currentDoc);
          doc.push(newNode);
          currentDoc = [];
        } else {
          currentDoc.push(node2.doc[i]);
        }
      }
      if (doc.length > 0 && currentDoc.length > 0) {
        const newNode = {
          stmt: "state",
          id: generateId$1(),
          type: "divider",
          doc: clone2(currentDoc)
        };
        doc.push(clone2(newNode));
        node2.doc = doc;
      }
      node2.doc.forEach((docNode) => docTranslator(node2, docNode, true));
    }
  }
};
var getRootDocV2 = () => {
  docTranslator({ id: "root" }, { id: "root", doc: rootDoc }, true);
  return { id: "root", doc: rootDoc };
};
var extract = (_doc) => {
  let doc;
  if (_doc.doc) {
    doc = _doc.doc;
  } else {
    doc = _doc;
  }
  log$1.info(doc);
  clear$1(true);
  log$1.info("Extract", doc);
  doc.forEach((item) => {
    if (item.stmt === "state") {
      addState(item.id, item.type, item.doc, item.description, item.note);
    }
    if (item.stmt === "relation") {
      addRelation(item.state1.id, item.state2.id, item.description);
    }
  });
};
var newDoc = () => {
  return {
    relations: [],
    states: {},
    documents: {}
  };
};
var documents = {
  root: newDoc()
};
var currentDocument = documents.root;
var startCnt = 0;
var addState = function(id5, type22, doc, descr, note2) {
  if (typeof currentDocument.states[id5] === "undefined") {
    currentDocument.states[id5] = {
      id: id5,
      descriptions: [],
      type: type22,
      doc,
      note: note2
    };
  } else {
    if (!currentDocument.states[id5].doc) {
      currentDocument.states[id5].doc = doc;
    }
    if (!currentDocument.states[id5].type) {
      currentDocument.states[id5].type = type22;
    }
  }
  if (descr) {
    log$1.info("Adding state ", id5, descr);
    if (typeof descr === "string")
      addDescription(id5, descr.trim());
    if (typeof descr === "object") {
      descr.forEach((des) => addDescription(id5, des.trim()));
    }
  }
  if (note2) {
    currentDocument.states[id5].note = note2;
    currentDocument.states[id5].note.text = common.sanitizeText(
      currentDocument.states[id5].note.text,
      getConfig$1()
    );
  }
};
var clear$1 = function(saveCommon) {
  documents = {
    root: newDoc()
  };
  currentDocument = documents.root;
  currentDocument = documents.root;
  startCnt = 0;
  classes = [];
  if (!saveCommon) {
    clear$g();
  }
};
var getState = function(id5) {
  return currentDocument.states[id5];
};
var getStates = function() {
  return currentDocument.states;
};
var logDocuments = function() {
  log$1.info("Documents = ", documents);
};
var getRelations = function() {
  return currentDocument.relations;
};
var addRelation = function(_id1, _id2, title2) {
  let id1 = _id1;
  let id22 = _id2;
  let type1 = "default";
  let type22 = "default";
  if (_id1 === "[*]") {
    startCnt++;
    id1 = "start" + startCnt;
    type1 = "start";
  }
  if (_id2 === "[*]") {
    id22 = "end" + startCnt;
    type22 = "end";
  }
  addState(id1, type1);
  addState(id22, type22);
  currentDocument.relations.push({
    id1,
    id2: id22,
    title: common.sanitizeText(title2, getConfig$1())
  });
};
var addDescription = function(id5, _descr) {
  const theState = currentDocument.states[id5];
  let descr = _descr;
  if (descr[0] === ":") {
    descr = descr.substr(1).trim();
  }
  theState.descriptions.push(common.sanitizeText(descr, getConfig$1()));
};
var cleanupLabel = function(label) {
  if (label.substring(0, 1) === ":") {
    return label.substr(2).trim();
  } else {
    return label.trim();
  }
};
var lineType = {
  LINE: 0,
  DOTTED_LINE: 1
};
var dividerCnt = 0;
var getDividerId = () => {
  dividerCnt++;
  return "divider-id-" + dividerCnt;
};
var classes = [];
var getClasses$1 = () => classes;
var direction = "TB";
var getDirection = () => direction;
var setDirection = (dir) => {
  direction = dir;
};
var relationType = {
  AGGREGATION: 0,
  EXTENSION: 1,
  COMPOSITION: 2,
  DEPENDENCY: 3
};
var trimColon = (str) => str && str[0] === ":" ? str.substr(1).trim() : str.trim();
var stateDb = {
  parseDirective: parseDirective$2,
  getConfig: () => getConfig$1().state,
  addState,
  clear: clear$1,
  getState,
  getStates,
  getRelations,
  getClasses: getClasses$1,
  getDirection,
  addRelation,
  getDividerId,
  setDirection,
  cleanupLabel,
  lineType,
  relationType,
  logDocuments,
  getRootDoc,
  setRootDoc,
  getRootDocV2,
  extract,
  trimColon,
  getAccTitle,
  setAccTitle,
  getAccDescription,
  setAccDescription
};
var drawStartState = (g) => g.append("circle").attr("class", "start-state").attr("r", getConfig$1().state.sizeUnit).attr("cx", getConfig$1().state.padding + getConfig$1().state.sizeUnit).attr("cy", getConfig$1().state.padding + getConfig$1().state.sizeUnit);
var drawDivider = (g) => g.append("line").style("stroke", "grey").style("stroke-dasharray", "3").attr("x1", getConfig$1().state.textHeight).attr("class", "divider").attr("x2", getConfig$1().state.textHeight * 2).attr("y1", 0).attr("y2", 0);
var drawSimpleState = (g, stateDef) => {
  const state = g.append("text").attr("x", 2 * getConfig$1().state.padding).attr("y", getConfig$1().state.textHeight + 2 * getConfig$1().state.padding).attr("font-size", getConfig$1().state.fontSize).attr("class", "state-title").text(stateDef.id);
  const classBox = state.node().getBBox();
  g.insert("rect", ":first-child").attr("x", getConfig$1().state.padding).attr("y", getConfig$1().state.padding).attr("width", classBox.width + 2 * getConfig$1().state.padding).attr("height", classBox.height + 2 * getConfig$1().state.padding).attr("rx", getConfig$1().state.radius);
  return state;
};
var drawDescrState = (g, stateDef) => {
  const addTspan2 = function(textEl, txt, isFirst2) {
    const tSpan = textEl.append("tspan").attr("x", 2 * getConfig$1().state.padding).text(txt);
    if (!isFirst2) {
      tSpan.attr("dy", getConfig$1().state.textHeight);
    }
  };
  const title2 = g.append("text").attr("x", 2 * getConfig$1().state.padding).attr("y", getConfig$1().state.textHeight + 1.3 * getConfig$1().state.padding).attr("font-size", getConfig$1().state.fontSize).attr("class", "state-title").text(stateDef.descriptions[0]);
  const titleBox = title2.node().getBBox();
  const titleHeight = titleBox.height;
  const description2 = g.append("text").attr("x", getConfig$1().state.padding).attr(
    "y",
    titleHeight + getConfig$1().state.padding * 0.4 + getConfig$1().state.dividerMargin + getConfig$1().state.textHeight
  ).attr("class", "state-description");
  let isFirst = true;
  let isSecond = true;
  stateDef.descriptions.forEach(function(descr) {
    if (!isFirst) {
      addTspan2(description2, descr, isSecond);
      isSecond = false;
    }
    isFirst = false;
  });
  const descrLine = g.append("line").attr("x1", getConfig$1().state.padding).attr("y1", getConfig$1().state.padding + titleHeight + getConfig$1().state.dividerMargin / 2).attr("y2", getConfig$1().state.padding + titleHeight + getConfig$1().state.dividerMargin / 2).attr("class", "descr-divider");
  const descrBox = description2.node().getBBox();
  const width2 = Math.max(descrBox.width, titleBox.width);
  descrLine.attr("x2", width2 + 3 * getConfig$1().state.padding);
  g.insert("rect", ":first-child").attr("x", getConfig$1().state.padding).attr("y", getConfig$1().state.padding).attr("width", width2 + 2 * getConfig$1().state.padding).attr("height", descrBox.height + titleHeight + 2 * getConfig$1().state.padding).attr("rx", getConfig$1().state.radius);
  return g;
};
var addTitleAndBox = (g, stateDef, altBkg) => {
  const pad7 = getConfig$1().state.padding;
  const dblPad = 2 * getConfig$1().state.padding;
  const orgBox = g.node().getBBox();
  const orgWidth = orgBox.width;
  const orgX = orgBox.x;
  const title2 = g.append("text").attr("x", 0).attr("y", getConfig$1().state.titleShift).attr("font-size", getConfig$1().state.fontSize).attr("class", "state-title").text(stateDef.id);
  const titleBox = title2.node().getBBox();
  const titleWidth = titleBox.width + dblPad;
  let width2 = Math.max(titleWidth, orgWidth);
  if (width2 === orgWidth) {
    width2 = width2 + dblPad;
  }
  let startX;
  const graphBox = g.node().getBBox();
  if (stateDef.doc)
    ;
  startX = orgX - pad7;
  if (titleWidth > orgWidth) {
    startX = (orgWidth - width2) / 2 + pad7;
  }
  if (Math.abs(orgX - graphBox.x) < pad7) {
    if (titleWidth > orgWidth) {
      startX = orgX - (titleWidth - orgWidth) / 2;
    }
  }
  const lineY = 1 - getConfig$1().state.textHeight;
  g.insert("rect", ":first-child").attr("x", startX).attr("y", lineY).attr("class", altBkg ? "alt-composit" : "composit").attr("width", width2).attr(
    "height",
    graphBox.height + getConfig$1().state.textHeight + getConfig$1().state.titleShift + 1
  ).attr("rx", "0");
  title2.attr("x", startX + pad7);
  if (titleWidth <= orgWidth)
    title2.attr("x", orgX + (width2 - dblPad) / 2 - titleWidth / 2 + pad7);
  g.insert("rect", ":first-child").attr("x", startX).attr(
    "y",
    getConfig$1().state.titleShift - getConfig$1().state.textHeight - getConfig$1().state.padding
  ).attr("width", width2).attr("height", getConfig$1().state.textHeight * 3).attr("rx", getConfig$1().state.radius);
  g.insert("rect", ":first-child").attr("x", startX).attr(
    "y",
    getConfig$1().state.titleShift - getConfig$1().state.textHeight - getConfig$1().state.padding
  ).attr("width", width2).attr("height", graphBox.height + 3 + 2 * getConfig$1().state.textHeight).attr("rx", getConfig$1().state.radius);
  return g;
};
var drawEndState = (g) => {
  g.append("circle").attr("class", "end-state-outer").attr("r", getConfig$1().state.sizeUnit + getConfig$1().state.miniPadding).attr(
    "cx",
    getConfig$1().state.padding + getConfig$1().state.sizeUnit + getConfig$1().state.miniPadding
  ).attr(
    "cy",
    getConfig$1().state.padding + getConfig$1().state.sizeUnit + getConfig$1().state.miniPadding
  );
  return g.append("circle").attr("class", "end-state-inner").attr("r", getConfig$1().state.sizeUnit).attr("cx", getConfig$1().state.padding + getConfig$1().state.sizeUnit + 2).attr("cy", getConfig$1().state.padding + getConfig$1().state.sizeUnit + 2);
};
var drawForkJoinState = (g, stateDef) => {
  let width2 = getConfig$1().state.forkWidth;
  let height2 = getConfig$1().state.forkHeight;
  if (stateDef.parentId) {
    let tmp = width2;
    width2 = height2;
    height2 = tmp;
  }
  return g.append("rect").style("stroke", "black").style("fill", "black").attr("width", width2).attr("height", height2).attr("x", getConfig$1().state.padding).attr("y", getConfig$1().state.padding);
};
var _drawLongText = (_text, x7, y7, g) => {
  let textHeight = 0;
  const textElem = g.append("text");
  textElem.style("text-anchor", "start");
  textElem.attr("class", "noteText");
  let text2 = _text.replace(/\r\n/g, "<br/>");
  text2 = text2.replace(/\n/g, "<br/>");
  const lines = text2.split(common.lineBreakRegex);
  let tHeight = 1.25 * getConfig$1().state.noteMargin;
  for (const line2 of lines) {
    const txt = line2.trim();
    if (txt.length > 0) {
      const span = textElem.append("tspan");
      span.text(txt);
      if (tHeight === 0) {
        const textBounds = span.node().getBBox();
        tHeight += textBounds.height;
      }
      textHeight += tHeight;
      span.attr("x", x7 + getConfig$1().state.noteMargin);
      span.attr("y", y7 + textHeight + 1.25 * getConfig$1().state.noteMargin);
    }
  }
  return { textWidth: textElem.node().getBBox().width, textHeight };
};
var drawNote = (text2, g) => {
  g.attr("class", "state-note");
  const note2 = g.append("rect").attr("x", 0).attr("y", getConfig$1().state.padding);
  const rectElem = g.append("g");
  const { textWidth, textHeight } = _drawLongText(text2, 0, 0, rectElem);
  note2.attr("height", textHeight + 2 * getConfig$1().state.noteMargin);
  note2.attr("width", textWidth + getConfig$1().state.noteMargin * 2);
  return note2;
};
var drawState = function(elem, stateDef) {
  const id5 = stateDef.id;
  const stateInfo = {
    id: id5,
    label: stateDef.id,
    width: 0,
    height: 0
  };
  const g = elem.append("g").attr("id", id5).attr("class", "stateGroup");
  if (stateDef.type === "start")
    drawStartState(g);
  if (stateDef.type === "end")
    drawEndState(g);
  if (stateDef.type === "fork" || stateDef.type === "join")
    drawForkJoinState(g, stateDef);
  if (stateDef.type === "note")
    drawNote(stateDef.note.text, g);
  if (stateDef.type === "divider")
    drawDivider(g);
  if (stateDef.type === "default" && stateDef.descriptions.length === 0)
    drawSimpleState(g, stateDef);
  if (stateDef.type === "default" && stateDef.descriptions.length > 0)
    drawDescrState(g, stateDef);
  const stateBox = g.node().getBBox();
  stateInfo.width = stateBox.width + 2 * getConfig$1().state.padding;
  stateInfo.height = stateBox.height + 2 * getConfig$1().state.padding;
  return stateInfo;
};
var edgeCount = 0;
var drawEdge = function(elem, path5, relation) {
  const getRelationType = function(type22) {
    switch (type22) {
      case stateDb.relationType.AGGREGATION:
        return "aggregation";
      case stateDb.relationType.EXTENSION:
        return "extension";
      case stateDb.relationType.COMPOSITION:
        return "composition";
      case stateDb.relationType.DEPENDENCY:
        return "dependency";
    }
  };
  path5.points = path5.points.filter((p) => !Number.isNaN(p.y));
  const lineData = path5.points;
  const lineFunction = line_default2().x(function(d) {
    return d.x;
  }).y(function(d) {
    return d.y;
  }).curve(basis_default5);
  const svgPath = elem.append("path").attr("d", lineFunction(lineData)).attr("id", "edge" + edgeCount).attr("class", "transition");
  let url = "";
  if (getConfig$1().state.arrowMarkerAbsolute) {
    url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
    url = url.replace(/\(/g, "\\(");
    url = url.replace(/\)/g, "\\)");
  }
  svgPath.attr(
    "marker-end",
    "url(" + url + "#" + getRelationType(stateDb.relationType.DEPENDENCY) + "End)"
  );
  if (typeof relation.title !== "undefined") {
    const label = elem.append("g").attr("class", "stateLabel");
    const { x: x7, y: y7 } = utils.calcLabelPosition(path5.points);
    const rows = common.getRows(relation.title);
    let titleHeight = 0;
    const titleRows = [];
    let maxWidth = 0;
    let minX = 0;
    for (let i = 0; i <= rows.length; i++) {
      const title2 = label.append("text").attr("text-anchor", "middle").text(rows[i]).attr("x", x7).attr("y", y7 + titleHeight);
      const boundstmp = title2.node().getBBox();
      maxWidth = Math.max(maxWidth, boundstmp.width);
      minX = Math.min(minX, boundstmp.x);
      log$1.info(boundstmp.x, x7, y7 + titleHeight);
      if (titleHeight === 0) {
        const titleBox = title2.node().getBBox();
        titleHeight = titleBox.height;
        log$1.info("Title height", titleHeight, y7);
      }
      titleRows.push(title2);
    }
    let boxHeight = titleHeight * rows.length;
    if (rows.length > 1) {
      const heightAdj = (rows.length - 1) * titleHeight * 0.5;
      titleRows.forEach((title2, i) => title2.attr("y", y7 + i * titleHeight - heightAdj));
      boxHeight = titleHeight * rows.length;
    }
    const bounds2 = label.node().getBBox();
    label.insert("rect", ":first-child").attr("class", "box").attr("x", x7 - maxWidth / 2 - getConfig$1().state.padding / 2).attr("y", y7 - boxHeight / 2 - getConfig$1().state.padding / 2 - 3.5).attr("width", maxWidth + getConfig$1().state.padding).attr("height", boxHeight + getConfig$1().state.padding);
    log$1.info(bounds2);
  }
  edgeCount++;
};
var conf$3;
var transformationLog = {};
var setConf$3 = function() {
};
var insertMarkers = function(elem) {
  elem.append("defs").append("marker").attr("id", "dependencyEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
};
var draw$3 = function(text2, id5, _version, diagObj) {
  conf$3 = getConfig$1().state;
  const securityLevel = getConfig$1().securityLevel;
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
  log$1.debug("Rendering diagram " + text2);
  const diagram = root22.select(`[id='${id5}']`);
  insertMarkers(diagram);
  const graph = new import_graphlib.default.Graph({
    multigraph: true,
    compound: true,
    rankdir: "RL"
  });
  graph.setDefaultEdgeLabel(function() {
    return {};
  });
  const rootDoc2 = diagObj.db.getRootDoc();
  renderDoc(rootDoc2, diagram, void 0, false, root22, doc, diagObj);
  const padding2 = conf$3.padding;
  const bounds2 = diagram.node().getBBox();
  const width2 = bounds2.width + padding2 * 2;
  const height2 = bounds2.height + padding2 * 2;
  const svgWidth = width2 * 1.75;
  configureSvgSize(diagram, height2, svgWidth, conf$3.useMaxWidth);
  diagram.attr(
    "viewBox",
    `${bounds2.x - conf$3.padding}  ${bounds2.y - conf$3.padding} ` + width2 + " " + height2
  );
  addSVGAccessibilityFields(diagObj.db, diagram, id5);
};
var getLabelWidth = (text2) => {
  return text2 ? text2.length * conf$3.fontSizeFactor : 1;
};
var renderDoc = (doc, diagram, parentId, altBkg, root22, domDocument, diagObj) => {
  const graph = new import_graphlib.default.Graph({
    compound: true,
    multigraph: true
  });
  let i;
  let edgeFreeDoc = true;
  for (i = 0; i < doc.length; i++) {
    if (doc[i].stmt === "relation") {
      edgeFreeDoc = false;
      break;
    }
  }
  if (parentId)
    graph.setGraph({
      rankdir: "LR",
      multigraph: true,
      compound: true,
      ranker: "tight-tree",
      ranksep: edgeFreeDoc ? 1 : conf$3.edgeLengthFactor,
      nodeSep: edgeFreeDoc ? 1 : 50,
      isMultiGraph: true
    });
  else {
    graph.setGraph({
      rankdir: "TB",
      multigraph: true,
      compound: true,
      ranksep: edgeFreeDoc ? 1 : conf$3.edgeLengthFactor,
      nodeSep: edgeFreeDoc ? 1 : 50,
      ranker: "tight-tree",
      isMultiGraph: true
    });
  }
  graph.setDefaultEdgeLabel(function() {
    return {};
  });
  diagObj.db.extract(doc);
  const states = diagObj.db.getStates();
  const relations2 = diagObj.db.getRelations();
  const keys = Object.keys(states);
  for (let i2 = 0; i2 < keys.length; i2++) {
    const stateDef = states[keys[i2]];
    if (parentId) {
      stateDef.parentId = parentId;
    }
    let node2;
    if (stateDef.doc) {
      let sub = diagram.append("g").attr("id", stateDef.id).attr("class", "stateGroup");
      node2 = renderDoc(stateDef.doc, sub, stateDef.id, !altBkg, root22, domDocument, diagObj);
      {
        sub = addTitleAndBox(sub, stateDef, altBkg);
        let boxBounds = sub.node().getBBox();
        node2.width = boxBounds.width;
        node2.height = boxBounds.height + conf$3.padding / 2;
        transformationLog[stateDef.id] = { y: conf$3.compositTitleSize };
      }
    } else {
      node2 = drawState(diagram, stateDef);
    }
    if (stateDef.note) {
      const noteDef = {
        descriptions: [],
        id: stateDef.id + "-note",
        note: stateDef.note,
        type: "note"
      };
      const note2 = drawState(diagram, noteDef);
      if (stateDef.note.position === "left of") {
        graph.setNode(node2.id + "-note", note2);
        graph.setNode(node2.id, node2);
      } else {
        graph.setNode(node2.id, node2);
        graph.setNode(node2.id + "-note", note2);
      }
      graph.setParent(node2.id, node2.id + "-group");
      graph.setParent(node2.id + "-note", node2.id + "-group");
    } else {
      graph.setNode(node2.id, node2);
    }
  }
  log$1.debug("Count=", graph.nodeCount(), graph);
  let cnt2 = 0;
  relations2.forEach(function(relation) {
    cnt2++;
    log$1.debug("Setting edge", relation);
    graph.setEdge(
      relation.id1,
      relation.id2,
      {
        relation,
        width: getLabelWidth(relation.title),
        height: conf$3.labelHeight * common.getRows(relation.title).length,
        labelpos: "c"
      },
      "id" + cnt2
    );
  });
  import_dagre.default.layout(graph);
  log$1.debug("Graph after layout", graph.nodes());
  const svgElem = diagram.node();
  graph.nodes().forEach(function(v2) {
    if (typeof v2 !== "undefined" && typeof graph.node(v2) !== "undefined") {
      log$1.warn("Node " + v2 + ": " + JSON.stringify(graph.node(v2)));
      root22.select("#" + svgElem.id + " #" + v2).attr(
        "transform",
        "translate(" + (graph.node(v2).x - graph.node(v2).width / 2) + "," + (graph.node(v2).y + (transformationLog[v2] ? transformationLog[v2].y : 0) - graph.node(v2).height / 2) + " )"
      );
      root22.select("#" + svgElem.id + " #" + v2).attr("data-x-shift", graph.node(v2).x - graph.node(v2).width / 2);
      const dividers = domDocument.querySelectorAll("#" + svgElem.id + " #" + v2 + " .divider");
      dividers.forEach((divider2) => {
        const parent = divider2.parentElement;
        let pWidth = 0;
        let pShift = 0;
        if (parent) {
          if (parent.parentElement)
            pWidth = parent.parentElement.getBBox().width;
          pShift = parseInt(parent.getAttribute("data-x-shift"), 10);
          if (Number.isNaN(pShift)) {
            pShift = 0;
          }
        }
        divider2.setAttribute("x1", 0 - pShift + 8);
        divider2.setAttribute("x2", pWidth - pShift - 8);
      });
    } else {
      log$1.debug("No Node " + v2 + ": " + JSON.stringify(graph.node(v2)));
    }
  });
  let stateBox = svgElem.getBBox();
  graph.edges().forEach(function(e) {
    if (typeof e !== "undefined" && typeof graph.edge(e) !== "undefined") {
      log$1.debug("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(graph.edge(e)));
      drawEdge(diagram, graph.edge(e), graph.edge(e).relation);
    }
  });
  stateBox = svgElem.getBBox();
  const stateInfo = {
    id: parentId ? parentId : "root",
    label: parentId ? parentId : "root",
    width: 0,
    height: 0
  };
  stateInfo.width = stateBox.width + 2 * conf$3.padding;
  stateInfo.height = stateBox.height + 2 * conf$3.padding;
  log$1.debug("Doc rendered", stateInfo, graph);
  return stateInfo;
};
var stateRenderer = {
  setConf: setConf$3,
  draw: draw$3
};
var conf$2 = {};
var setConf$2 = function(cnf) {
  const keys = Object.keys(cnf);
  for (let i = 0; i < keys.length; i++) {
    conf$2[keys[i]] = cnf[keys[i]];
  }
};
var nodeDb = {};
var getClasses = function(text2, diag) {
  log$1.trace("Extracting classes");
  diag.sb.clear();
  diag.parser.parse(text2);
  return diag.sb.getClasses();
};
var setupNode = (g, parent, node2, altFlag) => {
  if (node2.id !== "root") {
    let shape = "rect";
    if (node2.start === true) {
      shape = "start";
    }
    if (node2.start === false) {
      shape = "end";
    }
    if (node2.type !== "default") {
      shape = node2.type;
    }
    if (!nodeDb[node2.id]) {
      nodeDb[node2.id] = {
        id: node2.id,
        shape,
        description: common.sanitizeText(node2.id, getConfig$1()),
        classes: "statediagram-state"
      };
    }
    if (node2.description) {
      if (Array.isArray(nodeDb[node2.id].description)) {
        nodeDb[node2.id].shape = "rectWithTitle";
        nodeDb[node2.id].description.push(node2.description);
      } else {
        if (nodeDb[node2.id].description.length > 0) {
          nodeDb[node2.id].shape = "rectWithTitle";
          if (nodeDb[node2.id].description === node2.id) {
            nodeDb[node2.id].description = [node2.description];
          } else {
            nodeDb[node2.id].description = [nodeDb[node2.id].description, node2.description];
          }
        } else {
          nodeDb[node2.id].shape = "rect";
          nodeDb[node2.id].description = node2.description;
        }
      }
      nodeDb[node2.id].description = common.sanitizeTextOrArray(
        nodeDb[node2.id].description,
        getConfig$1()
      );
    }
    if (nodeDb[node2.id].description.length === 1 && nodeDb[node2.id].shape === "rectWithTitle") {
      nodeDb[node2.id].shape = "rect";
    }
    if (!nodeDb[node2.id].type && node2.doc) {
      log$1.info("Setting cluster for ", node2.id, getDir(node2));
      nodeDb[node2.id].type = "group";
      nodeDb[node2.id].dir = getDir(node2);
      nodeDb[node2.id].shape = node2.type === "divider" ? "divider" : "roundedWithTitle";
      nodeDb[node2.id].classes = nodeDb[node2.id].classes + " " + (altFlag ? "statediagram-cluster statediagram-cluster-alt" : "statediagram-cluster");
    }
    const nodeData = {
      labelStyle: "",
      shape: nodeDb[node2.id].shape,
      labelText: nodeDb[node2.id].description,
      classes: nodeDb[node2.id].classes,
      style: "",
      id: node2.id,
      dir: nodeDb[node2.id].dir,
      domId: "state-" + node2.id + "-" + cnt,
      type: nodeDb[node2.id].type,
      padding: 15
    };
    if (node2.note) {
      const noteData = {
        labelStyle: "",
        shape: "note",
        labelText: node2.note.text,
        classes: "statediagram-note",
        style: "",
        id: node2.id + "----note-" + cnt,
        domId: "state-" + node2.id + "----note-" + cnt,
        type: nodeDb[node2.id].type,
        padding: 15
      };
      const groupData = {
        labelStyle: "",
        shape: "noteGroup",
        labelText: node2.note.text,
        classes: nodeDb[node2.id].classes,
        style: "",
        id: node2.id + "----parent",
        domId: "state-" + node2.id + "----parent-" + cnt,
        type: "group",
        padding: 0
      };
      cnt++;
      g.setNode(node2.id + "----parent", groupData);
      g.setNode(noteData.id, noteData);
      g.setNode(node2.id, nodeData);
      g.setParent(node2.id, node2.id + "----parent");
      g.setParent(noteData.id, node2.id + "----parent");
      let from2 = node2.id;
      let to = noteData.id;
      if (node2.note.position === "left of") {
        from2 = noteData.id;
        to = node2.id;
      }
      g.setEdge(from2, to, {
        arrowhead: "none",
        arrowType: "",
        style: "fill:none",
        labelStyle: "",
        classes: "transition note-edge",
        arrowheadStyle: "fill: #333",
        labelpos: "c",
        labelType: "text",
        thickness: "normal"
      });
    } else {
      g.setNode(node2.id, nodeData);
    }
  }
  if (parent) {
    if (parent.id !== "root") {
      log$1.trace("Setting node ", node2.id, " to be child of its parent ", parent.id);
      g.setParent(node2.id, parent.id);
    }
  }
  if (node2.doc) {
    log$1.trace("Adding nodes children ");
    setupDoc(g, node2, node2.doc, !altFlag);
  }
};
var cnt = 0;
var setupDoc = (g, parent, doc, altFlag) => {
  log$1.trace("items", doc);
  doc.forEach((item) => {
    if (item.stmt === "state" || item.stmt === "default") {
      setupNode(g, parent, item, altFlag);
    } else if (item.stmt === "relation") {
      setupNode(g, parent, item.state1, altFlag);
      setupNode(g, parent, item.state2, altFlag);
      const edgeData = {
        id: "edge" + cnt,
        arrowhead: "normal",
        arrowTypeEnd: "arrow_barb",
        style: "fill:none",
        labelStyle: "",
        label: common.sanitizeText(item.description, getConfig$1()),
        arrowheadStyle: "fill: #333",
        labelpos: "c",
        labelType: "text",
        thickness: "normal",
        classes: "transition"
      };
      let startId = item.state1.id;
      let endId = item.state2.id;
      g.setEdge(startId, endId, edgeData, cnt);
      cnt++;
    }
  });
};
var getDir = (nodes, defaultDir) => {
  let dir = defaultDir || "TB";
  if (nodes.doc) {
    for (let i = 0; i < nodes.doc.length; i++) {
      const node2 = nodes.doc[i];
      if (node2.stmt === "dir") {
        dir = node2.value;
      }
    }
  }
  return dir;
};
var draw$2 = function(text2, id5, _version, diag) {
  log$1.info("Drawing state diagram (v2)", id5);
  nodeDb = {};
  diag.db.getDirection();
  const { securityLevel, state: conf2 } = getConfig$1();
  const nodeSpacing = conf2.nodeSpacing || 50;
  const rankSpacing = conf2.rankSpacing || 50;
  log$1.info(diag.db.getRootDocV2());
  diag.db.extract(diag.db.getRootDocV2());
  log$1.info(diag.db.getRootDocV2());
  const g = new import_graphlib.default.Graph({
    multigraph: true,
    compound: true
  }).setGraph({
    rankdir: getDir(diag.db.getRootDocV2()),
    nodesep: nodeSpacing,
    ranksep: rankSpacing,
    marginx: 8,
    marginy: 8
  }).setDefaultEdgeLabel(function() {
    return {};
  });
  setupNode(g, void 0, diag.db.getRootDocV2(), true);
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  const svg4 = root22.select(`[id="${id5}"]`);
  const element = root22.select("#" + id5 + " g");
  render$1(element, g, ["barb"], "statediagram", id5);
  const padding2 = 8;
  const bounds2 = svg4.node().getBBox();
  const width2 = bounds2.width + padding2 * 2;
  const height2 = bounds2.height + padding2 * 2;
  svg4.attr("class", "statediagram");
  const svgBounds = svg4.node().getBBox();
  configureSvgSize(svg4, height2, width2, conf2.useMaxWidth);
  const vBox = `${svgBounds.x - padding2} ${svgBounds.y - padding2} ${width2} ${height2}`;
  log$1.debug(`viewBox ${vBox}`);
  svg4.attr("viewBox", vBox);
  const labels = document.querySelectorAll('[id="' + id5 + '"] .edgeLabel .label');
  for (let k3 = 0; k3 < labels.length; k3++) {
    const label = labels[k3];
    const dim = label.getBBox();
    const rect2 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    rect2.setAttribute("rx", 0);
    rect2.setAttribute("ry", 0);
    rect2.setAttribute("width", dim.width);
    rect2.setAttribute("height", dim.height);
    label.insertBefore(rect2, label.firstChild);
  }
  addSVGAccessibilityFields(diag.db, svg4, id5);
};
var stateRendererV2 = {
  setConf: setConf$2,
  getClasses,
  draw: draw$2
};
var parser3 = function() {
  var o = function(k3, v2, o2, l) {
    for (o2 = o2 || {}, l = k3.length; l--; o2[k3[l]] = v2)
      ;
    return o2;
  }, $V0 = [1, 2], $V1 = [1, 5], $V2 = [6, 9, 11, 17, 18, 20, 22, 23, 24, 26], $V3 = [1, 15], $V4 = [1, 16], $V5 = [1, 17], $V6 = [1, 18], $V7 = [1, 19], $V8 = [1, 20], $V9 = [1, 24], $Va = [4, 6, 9, 11, 17, 18, 20, 22, 23, 24, 26];
  var parser22 = {
    trace: function trace() {
    },
    yy: {},
    symbols_: { "error": 2, "start": 3, "journey": 4, "document": 5, "EOF": 6, "directive": 7, "line": 8, "SPACE": 9, "statement": 10, "NEWLINE": 11, "openDirective": 12, "typeDirective": 13, "closeDirective": 14, ":": 15, "argDirective": 16, "title": 17, "acc_title": 18, "acc_title_value": 19, "acc_descr": 20, "acc_descr_value": 21, "acc_descr_multiline_value": 22, "section": 23, "taskName": 24, "taskData": 25, "open_directive": 26, "type_directive": 27, "arg_directive": 28, "close_directive": 29, "$accept": 0, "$end": 1 },
    terminals_: { 2: "error", 4: "journey", 6: "EOF", 9: "SPACE", 11: "NEWLINE", 15: ":", 17: "title", 18: "acc_title", 19: "acc_title_value", 20: "acc_descr", 21: "acc_descr_value", 22: "acc_descr_multiline_value", 23: "section", 24: "taskName", 25: "taskData", 26: "open_directive", 27: "type_directive", 28: "arg_directive", 29: "close_directive" },
    productions_: [0, [3, 3], [3, 2], [5, 0], [5, 2], [8, 2], [8, 1], [8, 1], [8, 1], [7, 4], [7, 6], [10, 1], [10, 2], [10, 2], [10, 1], [10, 1], [10, 2], [10, 1], [12, 1], [13, 1], [16, 1], [14, 1]],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
      var $0 = $$.length - 1;
      switch (yystate) {
        case 1:
          return $$[$0 - 1];
        case 3:
          this.$ = [];
          break;
        case 4:
          $$[$0 - 1].push($$[$0]);
          this.$ = $$[$0 - 1];
          break;
        case 5:
        case 6:
          this.$ = $$[$0];
          break;
        case 7:
        case 8:
          this.$ = [];
          break;
        case 11:
          yy.setDiagramTitle($$[$0].substr(6));
          this.$ = $$[$0].substr(6);
          break;
        case 12:
          this.$ = $$[$0].trim();
          yy.setAccTitle(this.$);
          break;
        case 13:
        case 14:
          this.$ = $$[$0].trim();
          yy.setAccDescription(this.$);
          break;
        case 15:
          yy.addSection($$[$0].substr(8));
          this.$ = $$[$0].substr(8);
          break;
        case 16:
          yy.addTask($$[$0 - 1], $$[$0]);
          this.$ = "task";
          break;
        case 18:
          yy.parseDirective("%%{", "open_directive");
          break;
        case 19:
          yy.parseDirective($$[$0], "type_directive");
          break;
        case 20:
          $$[$0] = $$[$0].trim().replace(/'/g, '"');
          yy.parseDirective($$[$0], "arg_directive");
          break;
        case 21:
          yy.parseDirective("}%%", "close_directive", "journey");
          break;
      }
    },
    table: [{ 3: 1, 4: $V0, 7: 3, 12: 4, 26: $V1 }, { 1: [3] }, o($V2, [2, 3], { 5: 6 }), { 3: 7, 4: $V0, 7: 3, 12: 4, 26: $V1 }, { 13: 8, 27: [1, 9] }, { 27: [2, 18] }, { 6: [1, 10], 7: 21, 8: 11, 9: [1, 12], 10: 13, 11: [1, 14], 12: 4, 17: $V3, 18: $V4, 20: $V5, 22: $V6, 23: $V7, 24: $V8, 26: $V1 }, { 1: [2, 2] }, { 14: 22, 15: [1, 23], 29: $V9 }, o([15, 29], [2, 19]), o($V2, [2, 8], { 1: [2, 1] }), o($V2, [2, 4]), { 7: 21, 10: 25, 12: 4, 17: $V3, 18: $V4, 20: $V5, 22: $V6, 23: $V7, 24: $V8, 26: $V1 }, o($V2, [2, 6]), o($V2, [2, 7]), o($V2, [2, 11]), { 19: [1, 26] }, { 21: [1, 27] }, o($V2, [2, 14]), o($V2, [2, 15]), { 25: [1, 28] }, o($V2, [2, 17]), { 11: [1, 29] }, { 16: 30, 28: [1, 31] }, { 11: [2, 21] }, o($V2, [2, 5]), o($V2, [2, 12]), o($V2, [2, 13]), o($V2, [2, 16]), o($Va, [2, 9]), { 14: 32, 29: $V9 }, { 29: [2, 20] }, { 11: [1, 33] }, o($Va, [2, 10])],
    defaultActions: { 5: [2, 18], 7: [2, 2], 24: [2, 21], 31: [2, 20] },
    parseError: function parseError(str, hash2) {
      if (hash2.recoverable) {
        this.trace(str);
      } else {
        var error = new Error(str);
        error.hash = hash2;
        throw error;
      }
    },
    parse: function parse22(input) {
      var self2 = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF4 = 1;
      var args = lstack.slice.call(arguments, 1);
      var lexer2 = Object.create(this.lexer);
      var sharedState = { yy: {} };
      for (var k3 in this.yy) {
        if (Object.prototype.hasOwnProperty.call(this.yy, k3)) {
          sharedState.yy[k3] = this.yy[k3];
        }
      }
      lexer2.setInput(input, sharedState.yy);
      sharedState.yy.lexer = lexer2;
      sharedState.yy.parser = this;
      if (typeof lexer2.yylloc == "undefined") {
        lexer2.yylloc = {};
      }
      var yyloc = lexer2.yylloc;
      lstack.push(yyloc);
      var ranges2 = lexer2.options && lexer2.options.ranges;
      if (typeof sharedState.yy.parseError === "function") {
        this.parseError = sharedState.yy.parseError;
      } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
      }
      function lex() {
        var token2;
        token2 = tstack.pop() || lexer2.lex() || EOF4;
        if (typeof token2 !== "number") {
          if (token2 instanceof Array) {
            tstack = token2;
            token2 = tstack.pop();
          }
          token2 = self2.symbols_[token2] || token2;
        }
        return token2;
      }
      var symbol, state, action, r, yyval = {}, p, len, newState, expected;
      while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
          action = this.defaultActions[state];
        } else {
          if (symbol === null || typeof symbol == "undefined") {
            symbol = lex();
          }
          action = table[state] && table[state][symbol];
        }
        if (typeof action === "undefined" || !action.length || !action[0]) {
          var errStr = "";
          expected = [];
          for (p in table[state]) {
            if (this.terminals_[p] && p > TERROR) {
              expected.push("'" + this.terminals_[p] + "'");
            }
          }
          if (lexer2.showPosition) {
            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
          } else {
            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF4 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
          }
          this.parseError(errStr, {
            text: lexer2.match,
            token: this.terminals_[symbol] || symbol,
            line: lexer2.yylineno,
            loc: yyloc,
            expected
          });
        }
        if (action[0] instanceof Array && action.length > 1) {
          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
        }
        switch (action[0]) {
          case 1:
            stack.push(symbol);
            vstack.push(lexer2.yytext);
            lstack.push(lexer2.yylloc);
            stack.push(action[1]);
            symbol = null;
            {
              yyleng = lexer2.yyleng;
              yytext = lexer2.yytext;
              yylineno = lexer2.yylineno;
              yyloc = lexer2.yylloc;
            }
            break;
          case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
              first_line: lstack[lstack.length - (len || 1)].first_line,
              last_line: lstack[lstack.length - 1].last_line,
              first_column: lstack[lstack.length - (len || 1)].first_column,
              last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges2) {
              yyval._$.range = [
                lstack[lstack.length - (len || 1)].range[0],
                lstack[lstack.length - 1].range[1]
              ];
            }
            r = this.performAction.apply(yyval, [
              yytext,
              yyleng,
              yylineno,
              sharedState.yy,
              action[1],
              vstack,
              lstack
            ].concat(args));
            if (typeof r !== "undefined") {
              return r;
            }
            if (len) {
              stack = stack.slice(0, -1 * len * 2);
              vstack = vstack.slice(0, -1 * len);
              lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
          case 3:
            return true;
        }
      }
      return true;
    }
  };
  var lexer = function() {
    var lexer2 = {
      EOF: 1,
      parseError: function parseError(str, hash2) {
        if (this.yy.parser) {
          this.yy.parser.parseError(str, hash2);
        } else {
          throw new Error(str);
        }
      },
      setInput: function(input, yy) {
        this.yy = yy || this.yy || {};
        this._input = input;
        this._more = this._backtrack = this.done = false;
        this.yylineno = this.yyleng = 0;
        this.yytext = this.matched = this.match = "";
        this.conditionStack = ["INITIAL"];
        this.yylloc = {
          first_line: 1,
          first_column: 0,
          last_line: 1,
          last_column: 0
        };
        if (this.options.ranges) {
          this.yylloc.range = [0, 0];
        }
        this.offset = 0;
        return this;
      },
      input: function() {
        var ch = this._input[0];
        this.yytext += ch;
        this.yyleng++;
        this.offset++;
        this.match += ch;
        this.matched += ch;
        var lines = ch.match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno++;
          this.yylloc.last_line++;
        } else {
          this.yylloc.last_column++;
        }
        if (this.options.ranges) {
          this.yylloc.range[1]++;
        }
        this._input = this._input.slice(1);
        return ch;
      },
      unput: function(ch) {
        var len = ch.length;
        var lines = ch.split(/(?:\r\n?|\n)/g);
        this._input = ch + this._input;
        this.yytext = this.yytext.substr(0, this.yytext.length - len);
        this.offset -= len;
        var oldLines = this.match.split(/(?:\r\n?|\n)/g);
        this.match = this.match.substr(0, this.match.length - 1);
        this.matched = this.matched.substr(0, this.matched.length - 1);
        if (lines.length - 1) {
          this.yylineno -= lines.length - 1;
        }
        var r = this.yylloc.range;
        this.yylloc = {
          first_line: this.yylloc.first_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.first_column,
          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
        };
        if (this.options.ranges) {
          this.yylloc.range = [r[0], r[0] + this.yyleng - len];
        }
        this.yyleng = this.yytext.length;
        return this;
      },
      more: function() {
        this._more = true;
        return this;
      },
      reject: function() {
        if (this.options.backtrack_lexer) {
          this._backtrack = true;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
        return this;
      },
      less: function(n) {
        this.unput(this.match.slice(n));
      },
      pastInput: function() {
        var past = this.matched.substr(0, this.matched.length - this.match.length);
        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
      },
      upcomingInput: function() {
        var next2 = this.match;
        if (next2.length < 20) {
          next2 += this._input.substr(0, 20 - next2.length);
        }
        return (next2.substr(0, 20) + (next2.length > 20 ? "..." : "")).replace(/\n/g, "");
      },
      showPosition: function() {
        var pre = this.pastInput();
        var c22 = new Array(pre.length + 1).join("-");
        return pre + this.upcomingInput() + "\n" + c22 + "^";
      },
      test_match: function(match2, indexed_rule) {
        var token2, lines, backup;
        if (this.options.backtrack_lexer) {
          backup = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          };
          if (this.options.ranges) {
            backup.yylloc.range = this.yylloc.range.slice(0);
          }
        }
        lines = match2[0].match(/(?:\r\n?|\n).*/g);
        if (lines) {
          this.yylineno += lines.length;
        }
        this.yylloc = {
          first_line: this.yylloc.last_line,
          last_line: this.yylineno + 1,
          first_column: this.yylloc.last_column,
          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match2[0].length
        };
        this.yytext += match2[0];
        this.match += match2[0];
        this.matches = match2;
        this.yyleng = this.yytext.length;
        if (this.options.ranges) {
          this.yylloc.range = [this.offset, this.offset += this.yyleng];
        }
        this._more = false;
        this._backtrack = false;
        this._input = this._input.slice(match2[0].length);
        this.matched += match2[0];
        token2 = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
        if (this.done && this._input) {
          this.done = false;
        }
        if (token2) {
          return token2;
        } else if (this._backtrack) {
          for (var k3 in backup) {
            this[k3] = backup[k3];
          }
          return false;
        }
        return false;
      },
      next: function() {
        if (this.done) {
          return this.EOF;
        }
        if (!this._input) {
          this.done = true;
        }
        var token2, match2, tempMatch, index6;
        if (!this._more) {
          this.yytext = "";
          this.match = "";
        }
        var rules = this._currentRules();
        for (var i = 0; i < rules.length; i++) {
          tempMatch = this._input.match(this.rules[rules[i]]);
          if (tempMatch && (!match2 || tempMatch[0].length > match2[0].length)) {
            match2 = tempMatch;
            index6 = i;
            if (this.options.backtrack_lexer) {
              token2 = this.test_match(tempMatch, rules[i]);
              if (token2 !== false) {
                return token2;
              } else if (this._backtrack) {
                match2 = false;
                continue;
              } else {
                return false;
              }
            } else if (!this.options.flex) {
              break;
            }
          }
        }
        if (match2) {
          token2 = this.test_match(match2, rules[index6]);
          if (token2 !== false) {
            return token2;
          }
          return false;
        }
        if (this._input === "") {
          return this.EOF;
        } else {
          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        }
      },
      lex: function lex() {
        var r = this.next();
        if (r) {
          return r;
        } else {
          return this.lex();
        }
      },
      begin: function begin(condition) {
        this.conditionStack.push(condition);
      },
      popState: function popState() {
        var n = this.conditionStack.length - 1;
        if (n > 0) {
          return this.conditionStack.pop();
        } else {
          return this.conditionStack[0];
        }
      },
      _currentRules: function _currentRules() {
        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
        } else {
          return this.conditions["INITIAL"].rules;
        }
      },
      topState: function topState(n) {
        n = this.conditionStack.length - 1 - Math.abs(n || 0);
        if (n >= 0) {
          return this.conditionStack[n];
        } else {
          return "INITIAL";
        }
      },
      pushState: function pushState(condition) {
        this.begin(condition);
      },
      stateStackSize: function stateStackSize() {
        return this.conditionStack.length;
      },
      options: { "case-insensitive": true },
      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
        switch ($avoiding_name_collisions) {
          case 0:
            this.begin("open_directive");
            return 26;
          case 1:
            this.begin("type_directive");
            return 27;
          case 2:
            this.popState();
            this.begin("arg_directive");
            return 15;
          case 3:
            this.popState();
            this.popState();
            return 29;
          case 4:
            return 28;
          case 5:
            break;
          case 6:
            break;
          case 7:
            return 11;
          case 8:
            break;
          case 9:
            break;
          case 10:
            return 4;
          case 11:
            return 17;
          case 12:
            this.begin("acc_title");
            return 18;
          case 13:
            this.popState();
            return "acc_title_value";
          case 14:
            this.begin("acc_descr");
            return 20;
          case 15:
            this.popState();
            return "acc_descr_value";
          case 16:
            this.begin("acc_descr_multiline");
            break;
          case 17:
            this.popState();
            break;
          case 18:
            return "acc_descr_multiline_value";
          case 19:
            return 23;
          case 20:
            return 24;
          case 21:
            return 25;
          case 22:
            return 15;
          case 23:
            return 6;
          case 24:
            return "INVALID";
        }
      },
      rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:journey\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:section\s[^#:\n;]+)/i, /^(?:[^#:\n;]+)/i, /^(?::[^#\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i],
      conditions: { "open_directive": { "rules": [1], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "acc_descr_multiline": { "rules": [17, 18], "inclusive": false }, "acc_descr": { "rules": [15], "inclusive": false }, "acc_title": { "rules": [13], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 7, 8, 9, 10, 11, 12, 14, 16, 19, 20, 21, 22, 23, 24], "inclusive": true } }
    };
    return lexer2;
  }();
  parser22.lexer = lexer;
  function Parser() {
    this.yy = {};
  }
  Parser.prototype = parser22;
  parser22.Parser = Parser;
  return new Parser();
}();
parser3.parser = parser3;
var journeyDetector = (txt) => {
  return txt.match(/^\s*journey/) !== null;
};
var currentSection = "";
var sections = [];
var tasks = [];
var rawTasks = [];
var parseDirective$1 = function(statement, context, type22) {
  mermaidAPI.parseDirective(this, statement, context, type22);
};
var clear = function() {
  sections.length = 0;
  tasks.length = 0;
  currentSection = "";
  rawTasks.length = 0;
  clear$g();
};
var addSection = function(txt) {
  currentSection = txt;
  sections.push(txt);
};
var getSections = function() {
  return sections;
};
var getTasks = function() {
  let allItemsProcessed = compileTasks();
  const maxDepth2 = 100;
  let iterationCount = 0;
  while (!allItemsProcessed && iterationCount < maxDepth2) {
    allItemsProcessed = compileTasks();
    iterationCount++;
  }
  tasks.push(...rawTasks);
  return tasks;
};
var updateActors = function() {
  const tempActors = [];
  tasks.forEach((task) => {
    if (task.people) {
      tempActors.push(...task.people);
    }
  });
  const unique = new Set(tempActors);
  return [...unique].sort();
};
var addTask = function(descr, taskData) {
  const pieces = taskData.substr(1).split(":");
  let score2 = 0;
  let peeps = [];
  if (pieces.length === 1) {
    score2 = Number(pieces[0]);
    peeps = [];
  } else {
    score2 = Number(pieces[0]);
    peeps = pieces[1].split(",");
  }
  const peopleList = peeps.map((s3) => s3.trim());
  const rawTask = {
    section: currentSection,
    type: currentSection,
    people: peopleList,
    task: descr,
    score: score2
  };
  rawTasks.push(rawTask);
};
var addTaskOrg = function(descr) {
  const newTask = {
    section: currentSection,
    type: currentSection,
    description: descr,
    task: descr,
    classes: []
  };
  tasks.push(newTask);
};
var compileTasks = function() {
  const compileTask = function(pos) {
    return rawTasks[pos].processed;
  };
  let allProcessed = true;
  for (let i = 0; i < rawTasks.length; i++) {
    compileTask(i);
    allProcessed = allProcessed && rawTasks[i].processed;
  }
  return allProcessed;
};
var getActors = function() {
  return updateActors();
};
var journeyDb = {
  parseDirective: parseDirective$1,
  getConfig: () => getConfig$1().journey,
  clear,
  setDiagramTitle,
  getDiagramTitle,
  setAccTitle,
  getAccTitle,
  setAccDescription,
  getAccDescription,
  addSection,
  getSections,
  getTasks,
  addTask,
  addTaskOrg,
  getActors
};
var drawRect = function(elem, rectData) {
  const rectElem = elem.append("rect");
  rectElem.attr("x", rectData.x);
  rectElem.attr("y", rectData.y);
  rectElem.attr("fill", rectData.fill);
  rectElem.attr("stroke", rectData.stroke);
  rectElem.attr("width", rectData.width);
  rectElem.attr("height", rectData.height);
  rectElem.attr("rx", rectData.rx);
  rectElem.attr("ry", rectData.ry);
  if (typeof rectData.class !== "undefined") {
    rectElem.attr("class", rectData.class);
  }
  return rectElem;
};
var drawFace = function(element, faceData) {
  const radius = 15;
  const circleElement = element.append("circle").attr("cx", faceData.cx).attr("cy", faceData.cy).attr("class", "face").attr("r", radius).attr("stroke-width", 2).attr("overflow", "visible");
  const face = element.append("g");
  face.append("circle").attr("cx", faceData.cx - radius / 3).attr("cy", faceData.cy - radius / 3).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666");
  face.append("circle").attr("cx", faceData.cx + radius / 3).attr("cy", faceData.cy - radius / 3).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666");
  function smile(face2) {
    const arc$1 = arc_default().startAngle(Math.PI / 2).endAngle(3 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2);
    face2.append("path").attr("class", "mouth").attr("d", arc$1).attr("transform", "translate(" + faceData.cx + "," + (faceData.cy + 2) + ")");
  }
  function sad(face2) {
    const arc$1 = arc_default().startAngle(3 * Math.PI / 2).endAngle(5 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2);
    face2.append("path").attr("class", "mouth").attr("d", arc$1).attr("transform", "translate(" + faceData.cx + "," + (faceData.cy + 7) + ")");
  }
  function ambivalent(face2) {
    face2.append("line").attr("class", "mouth").attr("stroke", 2).attr("x1", faceData.cx - 5).attr("y1", faceData.cy + 7).attr("x2", faceData.cx + 5).attr("y2", faceData.cy + 7).attr("class", "mouth").attr("stroke-width", "1px").attr("stroke", "#666");
  }
  if (faceData.score > 3) {
    smile(face);
  } else if (faceData.score < 3) {
    sad(face);
  } else {
    ambivalent(face);
  }
  return circleElement;
};
var drawCircle = function(element, circleData) {
  const circleElement = element.append("circle");
  circleElement.attr("cx", circleData.cx);
  circleElement.attr("cy", circleData.cy);
  circleElement.attr("class", "actor-" + circleData.pos);
  circleElement.attr("fill", circleData.fill);
  circleElement.attr("stroke", circleData.stroke);
  circleElement.attr("r", circleData.r);
  if (typeof circleElement.class !== "undefined") {
    circleElement.attr("class", circleElement.class);
  }
  if (typeof circleData.title !== "undefined") {
    circleElement.append("title").text(circleData.title);
  }
  return circleElement;
};
var drawText = function(elem, textData) {
  const nText = textData.text.replace(/<br\s*\/?>/gi, " ");
  const textElem = elem.append("text");
  textElem.attr("x", textData.x);
  textElem.attr("y", textData.y);
  textElem.attr("class", "legend");
  textElem.style("text-anchor", textData.anchor);
  if (typeof textData.class !== "undefined") {
    textElem.attr("class", textData.class);
  }
  const span = textElem.append("tspan");
  span.attr("x", textData.x + textData.textMargin * 2);
  span.text(nText);
  return textElem;
};
var drawLabel = function(elem, txtObject) {
  function genPoints(x7, y7, width2, height2, cut) {
    return x7 + "," + y7 + " " + (x7 + width2) + "," + y7 + " " + (x7 + width2) + "," + (y7 + height2 - cut) + " " + (x7 + width2 - cut * 1.2) + "," + (y7 + height2) + " " + x7 + "," + (y7 + height2);
  }
  const polygon = elem.append("polygon");
  polygon.attr("points", genPoints(txtObject.x, txtObject.y, 50, 20, 7));
  polygon.attr("class", "labelBox");
  txtObject.y = txtObject.y + txtObject.labelMargin;
  txtObject.x = txtObject.x + 0.5 * txtObject.labelMargin;
  drawText(elem, txtObject);
};
var drawSection = function(elem, section, conf2) {
  const g = elem.append("g");
  const rect2 = getNoteRect();
  rect2.x = section.x;
  rect2.y = section.y;
  rect2.fill = section.fill;
  rect2.width = conf2.width;
  rect2.height = conf2.height;
  rect2.class = "journey-section section-type-" + section.num;
  rect2.rx = 3;
  rect2.ry = 3;
  drawRect(g, rect2);
  _drawTextCandidateFunc(conf2)(
    section.text,
    g,
    rect2.x,
    rect2.y,
    rect2.width,
    rect2.height,
    { class: "journey-section section-type-" + section.num },
    conf2,
    section.colour
  );
};
var taskCount = -1;
var drawTask = function(elem, task, conf2) {
  const center3 = task.x + conf2.width / 2;
  const g = elem.append("g");
  taskCount++;
  const maxHeight = 300 + 5 * 30;
  g.append("line").attr("id", "task" + taskCount).attr("x1", center3).attr("y1", task.y).attr("x2", center3).attr("y2", maxHeight).attr("class", "task-line").attr("stroke-width", "1px").attr("stroke-dasharray", "4 2").attr("stroke", "#666");
  drawFace(g, {
    cx: center3,
    cy: 300 + (5 - task.score) * 30,
    score: task.score
  });
  const rect2 = getNoteRect();
  rect2.x = task.x;
  rect2.y = task.y;
  rect2.fill = task.fill;
  rect2.width = conf2.width;
  rect2.height = conf2.height;
  rect2.class = "task task-type-" + task.num;
  rect2.rx = 3;
  rect2.ry = 3;
  drawRect(g, rect2);
  let xPos = task.x + 14;
  task.people.forEach((person) => {
    const colour = task.actors[person].color;
    const circle22 = {
      cx: xPos,
      cy: task.y,
      r: 7,
      fill: colour,
      stroke: "#000",
      title: person,
      pos: task.actors[person].position
    };
    drawCircle(g, circle22);
    xPos += 10;
  });
  _drawTextCandidateFunc(conf2)(
    task.task,
    g,
    rect2.x,
    rect2.y,
    rect2.width,
    rect2.height,
    { class: "task" },
    conf2,
    task.colour
  );
};
var drawBackgroundRect = function(elem, bounds2) {
  const rectElem = drawRect(elem, {
    x: bounds2.startx,
    y: bounds2.starty,
    width: bounds2.stopx - bounds2.startx,
    height: bounds2.stopy - bounds2.starty,
    fill: bounds2.fill,
    class: "rect"
  });
  rectElem.lower();
};
var getTextObj = function() {
  return {
    x: 0,
    y: 0,
    fill: void 0,
    "text-anchor": "start",
    width: 100,
    height: 100,
    textMargin: 0,
    rx: 0,
    ry: 0
  };
};
var getNoteRect = function() {
  return {
    x: 0,
    y: 0,
    width: 100,
    anchor: "start",
    height: 100,
    rx: 0,
    ry: 0
  };
};
var _drawTextCandidateFunc = function() {
  function byText(content, g, x7, y7, width2, height2, textAttrs, colour) {
    const text2 = g.append("text").attr("x", x7 + width2 / 2).attr("y", y7 + height2 / 2 + 5).style("font-color", colour).style("text-anchor", "middle").text(content);
    _setTextAttrs(text2, textAttrs);
  }
  function byTspan(content, g, x7, y7, width2, height2, textAttrs, conf2, colour) {
    const { taskFontSize, taskFontFamily } = conf2;
    const lines = content.split(/<br\s*\/?>/gi);
    for (let i = 0; i < lines.length; i++) {
      const dy = i * taskFontSize - taskFontSize * (lines.length - 1) / 2;
      const text2 = g.append("text").attr("x", x7 + width2 / 2).attr("y", y7).attr("fill", colour).style("text-anchor", "middle").style("font-size", taskFontSize).style("font-family", taskFontFamily);
      text2.append("tspan").attr("x", x7 + width2 / 2).attr("dy", dy).text(lines[i]);
      text2.attr("y", y7 + height2 / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");
      _setTextAttrs(text2, textAttrs);
    }
  }
  function byFo(content, g, x7, y7, width2, height2, textAttrs, conf2) {
    const body = g.append("switch");
    const f2 = body.append("foreignObject").attr("x", x7).attr("y", y7).attr("width", width2).attr("height", height2).attr("position", "fixed");
    const text2 = f2.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    text2.append("div").attr("class", "label").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);
    byTspan(content, body, x7, y7, width2, height2, textAttrs, conf2);
    _setTextAttrs(text2, textAttrs);
  }
  function _setTextAttrs(toText, fromTextAttrsDict) {
    for (const key in fromTextAttrsDict) {
      if (key in fromTextAttrsDict) {
        toText.attr(key, fromTextAttrsDict[key]);
      }
    }
  }
  return function(conf2) {
    return conf2.textPlacement === "fo" ? byFo : conf2.textPlacement === "old" ? byText : byTspan;
  };
}();
var initGraphics = function(graphics) {
  graphics.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 5).attr("refY", 2).attr("markerWidth", 6).attr("markerHeight", 4).attr("orient", "auto").append("path").attr("d", "M 0,0 V 4 L6,2 Z");
};
var svgDraw = {
  drawRect,
  drawCircle,
  drawSection,
  drawText,
  drawLabel,
  drawTask,
  drawBackgroundRect,
  getTextObj,
  getNoteRect,
  initGraphics
};
var setConf$1 = function(cnf) {
  const keys = Object.keys(cnf);
  keys.forEach(function(key) {
    conf$1[key] = cnf[key];
  });
};
var actors = {};
function drawActorLegend(diagram) {
  const conf2 = getConfig$1().journey;
  let yPos = 60;
  Object.keys(actors).forEach((person) => {
    const colour = actors[person].color;
    const circleData = {
      cx: 20,
      cy: yPos,
      r: 7,
      fill: colour,
      stroke: "#000",
      pos: actors[person].position
    };
    svgDraw.drawCircle(diagram, circleData);
    const labelData = {
      x: 40,
      y: yPos + 7,
      fill: "#666",
      text: person,
      textMargin: conf2.boxTextMargin | 5
    };
    svgDraw.drawText(diagram, labelData);
    yPos += 20;
  });
}
var conf$1 = getConfig$1().journey;
var LEFT_MARGIN = conf$1.leftMargin;
var draw$1 = function(text2, id5, version22, diagObj) {
  const conf2 = getConfig$1().journey;
  diagObj.db.clear();
  diagObj.parser.parse(text2 + "\n");
  const securityLevel = getConfig$1().securityLevel;
  let sandboxElement;
  if (securityLevel === "sandbox") {
    sandboxElement = select_default5("#i" + id5);
  }
  const root22 = securityLevel === "sandbox" ? select_default5(sandboxElement.nodes()[0].contentDocument.body) : select_default5("body");
  bounds.init();
  const diagram = root22.select("#" + id5);
  svgDraw.initGraphics(diagram);
  const tasks2 = diagObj.db.getTasks();
  const title2 = diagObj.db.getDiagramTitle();
  const actorNames = diagObj.db.getActors();
  for (const member in actors)
    delete actors[member];
  let actorPos = 0;
  actorNames.forEach((actorName) => {
    actors[actorName] = {
      color: conf2.actorColours[actorPos % conf2.actorColours.length],
      position: actorPos
    };
    actorPos++;
  });
  drawActorLegend(diagram);
  bounds.insert(0, 0, LEFT_MARGIN, Object.keys(actors).length * 50);
  drawTasks(diagram, tasks2, 0);
  const box = bounds.getBounds();
  if (title2) {
    diagram.append("text").text(title2).attr("x", LEFT_MARGIN).attr("font-size", "4ex").attr("font-weight", "bold").attr("y", 25);
  }
  const height2 = box.stopy - box.starty + 2 * conf2.diagramMarginY;
  const width2 = LEFT_MARGIN + box.stopx + 2 * conf2.diagramMarginX;
  configureSvgSize(diagram, height2, width2, conf2.useMaxWidth);
  diagram.append("line").attr("x1", LEFT_MARGIN).attr("y1", conf2.height * 4).attr("x2", width2 - LEFT_MARGIN - 4).attr("y2", conf2.height * 4).attr("stroke-width", 4).attr("stroke", "black").attr("marker-end", "url(#arrowhead)");
  const extraVertForTitle = title2 ? 70 : 0;
  diagram.attr("viewBox", `${box.startx} -25 ${width2} ${height2 + extraVertForTitle}`);
  diagram.attr("preserveAspectRatio", "xMinYMin meet");
  diagram.attr("height", height2 + extraVertForTitle + 25);
  addSVGAccessibilityFields(diagObj.db, diagram, id5);
};
var bounds = {
  data: {
    startx: void 0,
    stopx: void 0,
    starty: void 0,
    stopy: void 0
  },
  verticalPos: 0,
  sequenceItems: [],
  init: function() {
    this.sequenceItems = [];
    this.data = {
      startx: void 0,
      stopx: void 0,
      starty: void 0,
      stopy: void 0
    };
    this.verticalPos = 0;
  },
  updateVal: function(obj, key, val, fun) {
    if (typeof obj[key] === "undefined") {
      obj[key] = val;
    } else {
      obj[key] = fun(val, obj[key]);
    }
  },
  updateBounds: function(startx, starty, stopx, stopy) {
    const conf2 = getConfig$1().journey;
    const _self = this;
    let cnt2 = 0;
    function updateFn(type22) {
      return function updateItemBounds(item) {
        cnt2++;
        const n = _self.sequenceItems.length - cnt2 + 1;
        _self.updateVal(item, "starty", starty - n * conf2.boxMargin, Math.min);
        _self.updateVal(item, "stopy", stopy + n * conf2.boxMargin, Math.max);
        _self.updateVal(bounds.data, "startx", startx - n * conf2.boxMargin, Math.min);
        _self.updateVal(bounds.data, "stopx", stopx + n * conf2.boxMargin, Math.max);
        if (!(type22 === "activation")) {
          _self.updateVal(item, "startx", startx - n * conf2.boxMargin, Math.min);
          _self.updateVal(item, "stopx", stopx + n * conf2.boxMargin, Math.max);
          _self.updateVal(bounds.data, "starty", starty - n * conf2.boxMargin, Math.min);
          _self.updateVal(bounds.data, "stopy", stopy + n * conf2.boxMargin, Math.max);
        }
      };
    }
    this.sequenceItems.forEach(updateFn());
  },
  insert: function(startx, starty, stopx, stopy) {
    const _startx = Math.min(startx, stopx);
    const _stopx = Math.max(startx, stopx);
    const _starty = Math.min(starty, stopy);
    const _stopy = Math.max(starty, stopy);
    this.updateVal(bounds.data, "startx", _startx, Math.min);
    this.updateVal(bounds.data, "starty", _starty, Math.min);
    this.updateVal(bounds.data, "stopx", _stopx, Math.max);
    this.updateVal(bounds.data, "stopy", _stopy, Math.max);
    this.updateBounds(_startx, _starty, _stopx, _stopy);
  },
  bumpVerticalPos: function(bump) {
    this.verticalPos = this.verticalPos + bump;
    this.data.stopy = this.verticalPos;
  },
  getVerticalPos: function() {
    return this.verticalPos;
  },
  getBounds: function() {
    return this.data;
  }
};
var fills = conf$1.sectionFills;
var textColours = conf$1.sectionColours;
var drawTasks = function(diagram, tasks2, verticalPos) {
  const conf2 = getConfig$1().journey;
  let lastSection = "";
  const sectionVHeight = conf2.height * 2 + conf2.diagramMarginY;
  const taskPos = verticalPos + sectionVHeight;
  let sectionNumber = 0;
  let fill = "#CCC";
  let colour = "black";
  let num = 0;
  for (let i = 0; i < tasks2.length; i++) {
    const task = tasks2[i];
    if (lastSection !== task.section) {
      fill = fills[sectionNumber % fills.length];
      num = sectionNumber % fills.length;
      colour = textColours[sectionNumber % textColours.length];
      const section = {
        x: i * conf2.taskMargin + i * conf2.width + LEFT_MARGIN,
        y: 50,
        text: task.section,
        fill,
        num,
        colour
      };
      svgDraw.drawSection(diagram, section, conf2);
      lastSection = task.section;
      sectionNumber++;
    }
    const taskActors = task.people.reduce((acc, actorName) => {
      if (actors[actorName]) {
        acc[actorName] = actors[actorName];
      }
      return acc;
    }, {});
    task.x = i * conf2.taskMargin + i * conf2.width + LEFT_MARGIN;
    task.y = taskPos;
    task.width = conf2.diagramMarginX;
    task.height = conf2.diagramMarginY;
    task.colour = colour;
    task.fill = fill;
    task.num = num;
    task.actors = taskActors;
    svgDraw.drawTask(diagram, task, conf2);
    bounds.insert(task.x, task.y, task.x + task.width + conf2.taskMargin, 300 + 5 * 30);
  }
};
var journeyRenderer = {
  setConf: setConf$1,
  draw: draw$1
};
var conf = {};
var setConf = function(cnf) {
  conf = { ...conf, ...cnf };
};
var draw = (text2, id5, mermaidVersion) => {
  try {
    log$1.debug("Renering svg for syntax error\n");
    const svg4 = select_default5("#" + id5);
    const g = svg4.append("g");
    g.append("path").attr("class", "error-icon").attr(
      "d",
      "m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"
    );
    g.append("path").attr("class", "error-icon").attr(
      "d",
      "m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"
    );
    g.append("path").attr("class", "error-icon").attr(
      "d",
      "m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"
    );
    g.append("path").attr("class", "error-icon").attr(
      "d",
      "m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"
    );
    g.append("path").attr("class", "error-icon").attr(
      "d",
      "m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"
    );
    g.append("path").attr("class", "error-icon").attr(
      "d",
      "m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"
    );
    g.append("text").attr("class", "error-text").attr("x", 1440).attr("y", 250).attr("font-size", "150px").style("text-anchor", "middle").text("Syntax error in graph");
    g.append("text").attr("class", "error-text").attr("x", 1250).attr("y", 400).attr("font-size", "100px").style("text-anchor", "middle").text("mermaid version " + mermaidVersion);
    svg4.attr("height", 100);
    svg4.attr("width", 500);
    svg4.attr("viewBox", "768 0 912 512");
  } catch (e) {
    log$1.error("Error while rendering info diagram");
    log$1.error(getErrorMessage(e));
  }
};
var errorRenderer = {
  setConf,
  draw
};
var hasLoadedDiagrams = false;
var addDiagrams = () => {
  if (hasLoadedDiagrams) {
    return;
  }
  hasLoadedDiagrams = true;
  registerDiagram(
    "error",
    {
      db: {
        clear: () => {
        }
      },
      styles: getStyles$b,
      renderer: errorRenderer,
      parser: {
        parser: { yy: {} },
        parse: () => {
        }
      },
      init: () => {
      }
    },
    (text2) => text2.toLowerCase().trim() === "error"
  );
  registerDiagram(
    "c4",
    {
      parser: parser$a,
      db: c4Db,
      renderer: c4Renderer,
      styles: getStyles$2,
      init: (cnf) => {
        c4Renderer.setConf(cnf.c4);
      }
    },
    c4Detector
  );
  registerDiagram(
    "class",
    {
      parser: parser$9,
      db: classDb,
      renderer: classRenderer,
      styles: getStyles$d,
      init: (cnf) => {
        if (!cnf.class) {
          cnf.class = {};
        }
        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
        classDb.clear();
      }
    },
    classDetector
  );
  registerDiagram(
    "classDiagram",
    {
      parser: parser$9,
      db: classDb,
      renderer: classRendererV2,
      styles: getStyles$d,
      init: (cnf) => {
        if (!cnf.class) {
          cnf.class = {};
        }
        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
        classDb.clear();
      }
    },
    classDetectorV2
  );
  registerDiagram(
    "er",
    {
      parser: parser$8,
      db: erDb,
      renderer: erRenderer,
      styles: getStyles$c
    },
    erDetector
  );
  registerDiagram(
    "gantt",
    {
      parser: parser$6,
      db: ganttDb,
      renderer: ganttRenderer,
      styles: getStyles$9
    },
    ganttDetector
  );
  registerDiagram(
    "info",
    {
      parser: parser$5,
      db: infoDb,
      renderer: infoRenderer,
      styles: getStyles$8
    },
    infoDetector
  );
  registerDiagram(
    "pie",
    {
      parser: parser$4,
      db: pieDb,
      renderer: pieRenderer,
      styles: getStyles$7
    },
    pieDetector
  );
  registerDiagram(
    "requirement",
    {
      parser: parser$3,
      db: requirementDb,
      renderer: requirementRenderer,
      styles: getStyles$6
    },
    requirementDetector
  );
  registerDiagram(
    "sequence",
    {
      parser: parser$2,
      db: sequenceDb,
      renderer: sequenceRenderer,
      styles: getStyles$5,
      init: (cnf) => {
        if (!cnf.sequence) {
          cnf.sequence = {};
        }
        cnf.sequence.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
        if ("sequenceDiagram" in cnf) {
          throw new Error(
            "`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config."
          );
        }
        sequenceDb.setWrap(cnf.wrap);
        sequenceRenderer.setConf(cnf.sequence);
      }
    },
    sequenceDetector
  );
  registerDiagram(
    "state",
    {
      parser: parser$1,
      db: stateDb,
      renderer: stateRenderer,
      styles: getStyles$4,
      init: (cnf) => {
        if (!cnf.state) {
          cnf.state = {};
        }
        cnf.state.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
        stateDb.clear();
      }
    },
    stateDetector
  );
  registerDiagram(
    "stateDiagram",
    {
      parser: parser$1,
      db: stateDb,
      renderer: stateRendererV2,
      styles: getStyles$4,
      init: (cnf) => {
        if (!cnf.state) {
          cnf.state = {};
        }
        cnf.state.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
        stateDb.clear();
      }
    },
    stateDetectorV2
  );
  registerDiagram(
    "journey",
    {
      parser: parser3,
      db: journeyDb,
      renderer: journeyRenderer,
      styles: getStyles$3,
      init: (cnf) => {
        journeyRenderer.setConf(cnf.journey);
        journeyDb.clear();
      }
    },
    journeyDetector
  );
  registerDiagram(
    "flowchart",
    {
      parser: parser$7,
      db: flowDb,
      renderer: flowRendererV2,
      styles: getStyles$a,
      init: (cnf) => {
        if (!cnf.flowchart) {
          cnf.flowchart = {};
        }
        cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
        flowRenderer.setConf(cnf.flowchart);
        flowDb.clear();
        flowDb.setGen("gen-1");
      }
    },
    flowDetector
  );
  registerDiagram(
    "flowchart-v2",
    {
      parser: parser$7,
      db: flowDb,
      renderer: flowRendererV2,
      styles: getStyles$a,
      init: (cnf) => {
        if (!cnf.flowchart) {
          cnf.flowchart = {};
        }
        cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
        setConfig({ flowchart: { arrowMarkerAbsolute: cnf.arrowMarkerAbsolute } });
        flowRendererV2.setConf(cnf.flowchart);
        flowDb.clear();
        flowDb.setGen("gen-2");
      }
    },
    flowDetectorV2
  );
  registerDiagram(
    "gitGraph",
    { parser: parser$b, db: gitGraphDb, renderer: gitGraphRenderer, styles: getStyles },
    gitGraphDetector
  );
};
var Diagram2 = class {
  constructor(txt, parseError) {
    __publicField(this, "type", "graph");
    __publicField(this, "parser");
    __publicField(this, "renderer");
    __publicField(this, "db");
    __publicField(this, "detectTypeFailed", false);
    var _a, _b;
    this.txt = txt;
    const cnf = getConfig$1();
    this.txt = txt;
    try {
      this.type = detectType(txt, cnf);
    } catch (e) {
      this.handleError(e, parseError);
      this.type = "error";
      this.detectTypeFailed = true;
    }
    const diagram = getDiagram(this.type);
    log$1.debug("Type " + this.type);
    this.db = diagram.db;
    (_b = (_a = this.db).clear) == null ? void 0 : _b.call(_a);
    this.renderer = diagram.renderer;
    this.parser = diagram.parser;
    this.parser.parser.yy = this.db;
    if (diagram.init) {
      diagram.init(cnf);
      log$1.debug("Initialized diagram " + this.type, cnf);
    }
    this.txt += "\n";
    this.parse(this.txt, parseError);
  }
  parse(text2, parseError) {
    if (this.detectTypeFailed) {
      return false;
    }
    try {
      text2 = text2 + "\n";
      this.db.clear();
      this.parser.parse(text2);
      return true;
    } catch (error) {
      this.handleError(error, parseError);
    }
    return false;
  }
  handleError(error, parseError) {
    if (parseError) {
      if (isDetailedError(error)) {
        parseError(error.str, error.hash);
      } else {
        parseError(error);
      }
    } else {
      throw error;
    }
  }
  getParser() {
    return this.parser;
  }
  getType() {
    return this.type;
  }
};
var getDiagramFromText = (txt, parseError) => {
  const type22 = detectType(txt, getConfig$1());
  try {
    getDiagram(type22);
    return new Diagram2(txt, parseError);
  } catch (error) {
    if (!(error instanceof DiagramNotFoundError)) {
      log$1.error(error);
      throw error;
    }
    const loader = getDiagramLoader(type22);
    if (!loader) {
      throw new Error(`Loader for ${type22} not found.`);
    }
    return loader().then(({ diagram }) => {
      registerDiagram(type22, diagram, void 0, diagram.injectUtils);
      return new Diagram2(txt, parseError);
    });
  }
};
function parse$1(text2, parseError) {
  addDiagrams();
  const diagram = new Diagram2(text2, parseError);
  return diagram.parse(text2, parseError);
}
async function parseAsync$1(text2, parseError) {
  addDiagrams();
  const diagram = await getDiagramFromText(text2, parseError);
  return diagram.parse(text2, parseError);
}
var encodeEntities = function(text2) {
  let txt = text2;
  txt = txt.replace(/style.*:\S*#.*;/g, function(s3) {
    const innerTxt = s3.substring(0, s3.length - 1);
    return innerTxt;
  });
  txt = txt.replace(/classDef.*:\S*#.*;/g, function(s3) {
    const innerTxt = s3.substring(0, s3.length - 1);
    return innerTxt;
  });
  txt = txt.replace(/#\w+;/g, function(s3) {
    const innerTxt = s3.substring(1, s3.length - 1);
    const isInt = /^\+?\d+$/.test(innerTxt);
    if (isInt) {
      return "\uFB02\xB0\xB0" + innerTxt + "\xB6\xDF";
    } else {
      return "\uFB02\xB0" + innerTxt + "\xB6\xDF";
    }
  });
  return txt;
};
var decodeEntities = function(text2) {
  let txt = text2;
  txt = txt.replace(/ﬂ°°/g, function() {
    return "&#";
  });
  txt = txt.replace(/ﬂ°/g, function() {
    return "&";
  });
  txt = txt.replace(/¶ß/g, function() {
    return ";";
  });
  return txt;
};
var render = function(id5, text2, cb, container) {
  var _a;
  addDiagrams();
  reset();
  text2 = text2.replace(/\r\n?/g, "\n");
  const graphInit = utils.detectInit(text2);
  if (graphInit) {
    directiveSanitizer(graphInit);
    addDirective(graphInit);
  }
  const cnf = getConfig$1();
  log$1.debug(cnf);
  if (text2.length > cnf.maxTextSize) {
    text2 = "graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa";
  }
  let root22 = select_default5("body");
  if (typeof container !== "undefined") {
    if (container) {
      container.innerHTML = "";
    }
    if (cnf.securityLevel === "sandbox") {
      const iframe = select_default5(container).append("iframe").attr("id", "i" + id5).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");
      root22 = select_default5(iframe.nodes()[0].contentDocument.body);
      root22.node().style.margin = 0;
    } else {
      root22 = select_default5(container);
    }
    root22.append("div").attr("id", "d" + id5).attr("style", "font-family: " + cnf.fontFamily).append("svg").attr("id", id5).attr("width", "100%").attr("xmlns", "http://www.w3.org/2000/svg").attr("xmlns:xlink", "http://www.w3.org/1999/xlink").append("g");
  } else {
    const existingSvg = document.getElementById(id5);
    if (existingSvg) {
      existingSvg.remove();
    }
    let element2;
    if (cnf.securityLevel === "sandbox") {
      element2 = document.querySelector("#i" + id5);
    } else {
      element2 = document.querySelector("#d" + id5);
    }
    if (element2) {
      element2.remove();
    }
    if (cnf.securityLevel === "sandbox") {
      const iframe = select_default5("body").append("iframe").attr("id", "i" + id5).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");
      root22 = select_default5(iframe.nodes()[0].contentDocument.body);
      root22.node().style.margin = 0;
    } else {
      root22 = select_default5("body");
    }
    root22.append("div").attr("id", "d" + id5).append("svg").attr("id", id5).attr("width", "100%").attr("xmlns", "http://www.w3.org/2000/svg").append("g");
  }
  text2 = encodeEntities(text2);
  let diag;
  let parseEncounteredException;
  try {
    diag = getDiagramFromText(text2);
    if ("then" in diag) {
      throw new Error("Diagram is a promise");
    }
  } catch (error) {
    diag = new Diagram2("error");
    parseEncounteredException = error;
  }
  const element = root22.select("#d" + id5).node();
  const graphType = diag.type;
  const svg4 = element.firstChild;
  const firstChild = svg4.firstChild;
  let userStyles = "";
  if (cnf.themeCSS !== void 0) {
    userStyles += `
${cnf.themeCSS}`;
  }
  if (cnf.fontFamily !== void 0) {
    userStyles += `
:root { --mermaid-font-family: ${cnf.fontFamily}}`;
  }
  if (cnf.altFontFamily !== void 0) {
    userStyles += `
:root { --mermaid-alt-font-family: ${cnf.altFontFamily}}`;
  }
  if (graphType === "flowchart" || graphType === "flowchart-v2" || graphType === "graph") {
    const classes2 = flowRenderer.getClasses(text2, diag);
    const htmlLabels = cnf.htmlLabels || ((_a = cnf.flowchart) == null ? void 0 : _a.htmlLabels);
    for (const className in classes2) {
      if (htmlLabels) {
        userStyles += `
.${className} > * { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} span { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
      } else {
        userStyles += `
.${className} path { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} rect { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} polygon { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} ellipse { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} circle { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        if (classes2[className].textStyles) {
          userStyles += `
.${className} tspan { ${classes2[className].textStyles.join(
            " !important; "
          )} !important; }`;
        }
      }
    }
  }
  const stylis = (selector, styles) => serialize(compile(`${selector}{${styles}}`), stringify);
  const rules = stylis(`#${id5}`, getStyles$1(graphType, userStyles, cnf.themeVariables));
  const style1 = document.createElement("style");
  style1.innerHTML = `#${id5} ` + rules;
  svg4.insertBefore(style1, firstChild);
  try {
    diag.renderer.draw(text2, id5, pkg.version, diag);
  } catch (e) {
    errorRenderer.draw(text2, id5, pkg.version);
    throw e;
  }
  root22.select(`[id="${id5}"]`).selectAll("foreignobject > *").attr("xmlns", "http://www.w3.org/1999/xhtml");
  let svgCode = root22.select("#d" + id5).node().innerHTML;
  log$1.debug("cnf.arrowMarkerAbsolute", cnf.arrowMarkerAbsolute);
  if (!evaluate(cnf.arrowMarkerAbsolute) && cnf.securityLevel !== "sandbox") {
    svgCode = svgCode.replace(/marker-end="url\(.*?#/g, 'marker-end="url(#', "g");
  }
  svgCode = decodeEntities(svgCode);
  svgCode = svgCode.replace(/<br>/g, "<br/>");
  if (cnf.securityLevel === "sandbox") {
    const svgEl = root22.select("#d" + id5 + " svg").node();
    const width2 = "100%";
    let height2 = "100%";
    if (svgEl) {
      height2 = svgEl.viewBox.baseVal.height + "px";
    }
    svgCode = `<iframe style="width:${width2};height:${height2};border:0;margin:0;" src="data:text/html;base64,${btoa(
      '<body style="margin:0">' + svgCode + "</body>"
    )}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`;
  } else {
    if (cnf.securityLevel !== "loose") {
      svgCode = purify.sanitize(svgCode, {
        ADD_TAGS: ["foreignobject"],
        ADD_ATTR: ["dominant-baseline"]
      });
    }
  }
  if (typeof cb !== "undefined") {
    switch (graphType) {
      case "flowchart":
      case "flowchart-v2":
        cb(svgCode, flowDb.bindFunctions);
        break;
      case "gantt":
        cb(svgCode, ganttDb.bindFunctions);
        break;
      case "class":
      case "classDiagram":
        cb(svgCode, classDb.bindFunctions);
        break;
      default:
        cb(svgCode);
    }
  } else {
    log$1.debug("CB = undefined!");
  }
  attachFunctions();
  const tmpElementSelector = cnf.securityLevel === "sandbox" ? "#i" + id5 : "#d" + id5;
  const node2 = select_default5(tmpElementSelector).node();
  if (node2 && "remove" in node2) {
    node2.remove();
  }
  if (parseEncounteredException) {
    throw parseEncounteredException;
  }
  return svgCode;
};
var renderAsync$1 = async function(id5, text2, cb, container) {
  var _a;
  addDiagrams();
  reset();
  text2 = text2.replace(/\r\n?/g, "\n");
  const graphInit = utils.detectInit(text2);
  if (graphInit) {
    directiveSanitizer(graphInit);
    addDirective(graphInit);
  }
  const cnf = getConfig$1();
  log$1.debug(cnf);
  if (text2.length > cnf.maxTextSize) {
    text2 = "graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa";
  }
  let root22 = select_default5("body");
  if (typeof container !== "undefined") {
    if (container) {
      container.innerHTML = "";
    }
    if (cnf.securityLevel === "sandbox") {
      const iframe = select_default5(container).append("iframe").attr("id", "i" + id5).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");
      root22 = select_default5(iframe.nodes()[0].contentDocument.body);
      root22.node().style.margin = 0;
    } else {
      root22 = select_default5(container);
    }
    root22.append("div").attr("id", "d" + id5).attr("style", "font-family: " + cnf.fontFamily).append("svg").attr("id", id5).attr("width", "100%").attr("xmlns", "http://www.w3.org/2000/svg").attr("xmlns:xlink", "http://www.w3.org/1999/xlink").append("g");
  } else {
    const existingSvg = document.getElementById(id5);
    if (existingSvg) {
      existingSvg.remove();
    }
    let element2;
    if (cnf.securityLevel === "sandbox") {
      element2 = document.querySelector("#i" + id5);
    } else {
      element2 = document.querySelector("#d" + id5);
    }
    if (element2) {
      element2.remove();
    }
    if (cnf.securityLevel === "sandbox") {
      const iframe = select_default5("body").append("iframe").attr("id", "i" + id5).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");
      root22 = select_default5(iframe.nodes()[0].contentDocument.body);
      root22.node().style.margin = 0;
    } else {
      root22 = select_default5("body");
    }
    root22.append("div").attr("id", "d" + id5).append("svg").attr("id", id5).attr("width", "100%").attr("xmlns", "http://www.w3.org/2000/svg").append("g");
  }
  text2 = encodeEntities(text2);
  let diag;
  let parseEncounteredException;
  try {
    diag = await getDiagramFromText(text2);
  } catch (error) {
    diag = new Diagram2("error");
    parseEncounteredException = error;
  }
  const element = root22.select("#d" + id5).node();
  const graphType = diag.type;
  const svg4 = element.firstChild;
  const firstChild = svg4.firstChild;
  let userStyles = "";
  if (cnf.themeCSS !== void 0) {
    userStyles += `
${cnf.themeCSS}`;
  }
  if (cnf.fontFamily !== void 0) {
    userStyles += `
:root { --mermaid-font-family: ${cnf.fontFamily}}`;
  }
  if (cnf.altFontFamily !== void 0) {
    userStyles += `
:root { --mermaid-alt-font-family: ${cnf.altFontFamily}}`;
  }
  if (graphType === "flowchart" || graphType === "flowchart-v2" || graphType === "graph") {
    const classes2 = flowRenderer.getClasses(text2, diag);
    const htmlLabels = cnf.htmlLabels || ((_a = cnf.flowchart) == null ? void 0 : _a.htmlLabels);
    for (const className in classes2) {
      if (htmlLabels) {
        userStyles += `
.${className} > * { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} span { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
      } else {
        userStyles += `
.${className} path { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} rect { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} polygon { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} ellipse { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        userStyles += `
.${className} circle { ${classes2[className].styles.join(
          " !important; "
        )} !important; }`;
        if (classes2[className].textStyles) {
          userStyles += `
.${className} tspan { ${classes2[className].textStyles.join(
            " !important; "
          )} !important; }`;
        }
      }
    }
  }
  const stylis = (selector, styles) => serialize(compile(`${selector}{${styles}}`), stringify);
  const rules = stylis(`#${id5}`, getStyles$1(graphType, userStyles, cnf.themeVariables));
  const style1 = document.createElement("style");
  style1.innerHTML = `#${id5} ` + rules;
  svg4.insertBefore(style1, firstChild);
  try {
    await diag.renderer.draw(text2, id5, pkg.version, diag);
  } catch (e) {
    errorRenderer.draw(text2, id5, pkg.version);
    throw e;
  }
  root22.select(`[id="${id5}"]`).selectAll("foreignobject > *").attr("xmlns", "http://www.w3.org/1999/xhtml");
  let svgCode = root22.select("#d" + id5).node().innerHTML;
  log$1.debug("cnf.arrowMarkerAbsolute", cnf.arrowMarkerAbsolute);
  if (!evaluate(cnf.arrowMarkerAbsolute) && cnf.securityLevel !== "sandbox") {
    svgCode = svgCode.replace(/marker-end="url\(.*?#/g, 'marker-end="url(#', "g");
  }
  svgCode = decodeEntities(svgCode);
  svgCode = svgCode.replace(/<br>/g, "<br/>");
  if (cnf.securityLevel === "sandbox") {
    const svgEl = root22.select("#d" + id5 + " svg").node();
    const width2 = "100%";
    let height2 = "100%";
    if (svgEl) {
      height2 = svgEl.viewBox.baseVal.height + "px";
    }
    svgCode = `<iframe style="width:${width2};height:${height2};border:0;margin:0;" src="data:text/html;base64,${btoa(
      '<body style="margin:0">' + svgCode + "</body>"
    )}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`;
  } else {
    if (cnf.securityLevel !== "loose") {
      svgCode = purify.sanitize(svgCode, {
        ADD_TAGS: ["foreignobject"],
        ADD_ATTR: ["dominant-baseline"]
      });
    }
  }
  if (typeof cb !== "undefined") {
    switch (graphType) {
      case "flowchart":
      case "flowchart-v2":
        cb(svgCode, flowDb.bindFunctions);
        break;
      case "gantt":
        cb(svgCode, ganttDb.bindFunctions);
        break;
      case "class":
      case "classDiagram":
        cb(svgCode, classDb.bindFunctions);
        break;
      default:
        cb(svgCode);
    }
  } else {
    log$1.debug("CB = undefined!");
  }
  attachFunctions();
  const tmpElementSelector = cnf.securityLevel === "sandbox" ? "#i" + id5 : "#d" + id5;
  const node2 = select_default5(tmpElementSelector).node();
  if (node2 && "remove" in node2) {
    node2.remove();
  }
  if (parseEncounteredException) {
    throw parseEncounteredException;
  }
  return svgCode;
};
var currentDirective = {};
var parseDirective = function(p, statement, context, type22) {
  try {
    if (statement !== void 0) {
      statement = statement.trim();
      switch (context) {
        case "open_directive":
          currentDirective = {};
          break;
        case "type_directive":
          if (!currentDirective)
            throw new Error("currentDirective is undefined");
          currentDirective.type = statement.toLowerCase();
          break;
        case "arg_directive":
          if (!currentDirective)
            throw new Error("currentDirective is undefined");
          currentDirective.args = JSON.parse(statement);
          break;
        case "close_directive":
          handleDirective(p, currentDirective, type22);
          currentDirective = void 0;
          break;
      }
    }
  } catch (error) {
    log$1.error(
      `Error while rendering sequenceDiagram directive: ${statement} jison context: ${context}`
    );
    log$1.error(error.message);
  }
};
var handleDirective = function(p, directive2, type22) {
  log$1.debug(`Directive type=${directive2.type} with args:`, directive2.args);
  switch (directive2.type) {
    case "init":
    case "initialize": {
      ["config"].forEach((prop) => {
        if (typeof directive2.args[prop] !== "undefined") {
          if (type22 === "flowchart-v2") {
            type22 = "flowchart";
          }
          directive2.args[type22] = directive2.args[prop];
          delete directive2.args[prop];
        }
      });
      log$1.debug("sanitize in handleDirective", directive2.args);
      directiveSanitizer(directive2.args);
      log$1.debug("sanitize in handleDirective (done)", directive2.args);
      addDirective(directive2.args);
      break;
    }
    case "wrap":
    case "nowrap":
      if (p && p["setWrap"]) {
        p.setWrap(directive2.type === "wrap");
      }
      break;
    case "themeCss":
      log$1.warn("themeCss encountered");
      break;
    default:
      log$1.warn(
        `Unhandled directive: source: '%%{${directive2.type}: ${JSON.stringify(
          directive2.args ? directive2.args : {}
        )}}%%`,
        directive2
      );
      break;
  }
};
function initialize$1(options2 = {}) {
  if (options2.fontFamily) {
    if (!options2.themeVariables) {
      options2.themeVariables = {};
    }
    options2.themeVariables.fontFamily = options2.fontFamily;
  }
  saveConfigFromInitialize(options2);
  if ((options2 == null ? void 0 : options2.theme) && options2.theme in theme) {
    options2.themeVariables = theme[options2.theme].getThemeVariables(
      options2.themeVariables
    );
  } else if (options2) {
    options2.themeVariables = theme.default.getThemeVariables(options2.themeVariables);
  }
  const config2 = typeof options2 === "object" ? setSiteConfig(options2) : getSiteConfig();
  setLogLevel$1(config2.logLevel);
  addDiagrams();
}
var mermaidAPI = Object.freeze({
  render,
  renderAsync: renderAsync$1,
  parse: parse$1,
  parseAsync: parseAsync$1,
  parseDirective,
  initialize: initialize$1,
  getConfig: getConfig$1,
  setConfig,
  getSiteConfig,
  updateSiteConfig,
  reset: () => {
    reset();
  },
  globalReset: () => {
    reset(defaultConfig);
  },
  defaultConfig
});
setLogLevel$1(getConfig$1().logLevel);
reset(getConfig$1());
var init5 = async function(config2, nodes, callback) {
  try {
    const conf2 = mermaidAPI.getConfig();
    if ((conf2 == null ? void 0 : conf2.lazyLoadedDiagrams) && conf2.lazyLoadedDiagrams.length > 0) {
      await initThrowsErrorsAsync(config2, nodes, callback);
    } else {
      initThrowsErrors(config2, nodes, callback);
    }
  } catch (e) {
    log$1.warn("Syntax Error rendering");
    if (isDetailedError(e)) {
      log$1.warn(e.str);
    }
    if (mermaid.parseError) {
      mermaid.parseError(e);
    }
  }
};
var handleError = (error, errors, parseError) => {
  log$1.warn(error);
  if (isDetailedError(error)) {
    if (parseError) {
      parseError(error.str, error.hash);
    }
    errors.push({ ...error, message: error.str, error });
  } else {
    if (parseError) {
      parseError(error);
    }
    if (error instanceof Error) {
      errors.push({
        str: error.message,
        message: error.message,
        hash: error.name,
        error
      });
    }
  }
};
var initThrowsErrors = function(config2, nodes, callback) {
  const conf2 = mermaidAPI.getConfig();
  if (config2) {
    mermaid.sequenceConfig = config2;
  }
  log$1.debug(`${!callback ? "No " : ""}Callback function found`);
  let nodesToProcess;
  if (typeof nodes === "undefined") {
    nodesToProcess = document.querySelectorAll(".mermaid");
  } else if (typeof nodes === "string") {
    nodesToProcess = document.querySelectorAll(nodes);
  } else if (nodes instanceof HTMLElement) {
    nodesToProcess = [nodes];
  } else if (nodes instanceof NodeList) {
    nodesToProcess = nodes;
  } else {
    throw new Error("Invalid argument nodes for mermaid.init");
  }
  log$1.debug(`Found ${nodesToProcess.length} diagrams`);
  if (typeof (config2 == null ? void 0 : config2.startOnLoad) !== "undefined") {
    log$1.debug("Start On Load: " + (config2 == null ? void 0 : config2.startOnLoad));
    mermaidAPI.updateSiteConfig({ startOnLoad: config2 == null ? void 0 : config2.startOnLoad });
  }
  const idGenerator = new utils.initIdGenerator(conf2.deterministicIds, conf2.deterministicIDSeed);
  let txt;
  const errors = [];
  for (const element of Array.from(nodesToProcess)) {
    log$1.info("Rendering diagram: " + element.id);
    if (element.getAttribute("data-processed")) {
      continue;
    }
    element.setAttribute("data-processed", "true");
    const id5 = `mermaid-${idGenerator.next()}`;
    txt = element.innerHTML;
    txt = utils.entityDecode(txt).trim().replace(/<br\s*\/?>/gi, "<br/>");
    const init22 = utils.detectInit(txt);
    if (init22) {
      log$1.debug("Detected early reinit: ", init22);
    }
    try {
      mermaidAPI.render(
        id5,
        txt,
        (svgCode, bindFunctions2) => {
          element.innerHTML = svgCode;
          if (typeof callback !== "undefined") {
            callback(id5);
          }
          if (bindFunctions2)
            bindFunctions2(element);
        },
        element
      );
    } catch (error) {
      handleError(error, errors, mermaid.parseError);
    }
  }
  if (errors.length > 0) {
    throw errors[0];
  }
};
var lazyLoadingPromise = void 0;
var registerLazyLoadedDiagrams = async (conf2) => {
  var _a;
  if (lazyLoadingPromise === void 0) {
    lazyLoadingPromise = Promise.allSettled(
      ((_a = conf2 == null ? void 0 : conf2.lazyLoadedDiagrams) != null ? _a : []).map(async (diagram) => {
        const { id: id5, detector, loadDiagram } = await import(diagram);
        addDetector(id5, detector, loadDiagram);
      })
    );
  }
  return await lazyLoadingPromise;
};
var loadingPromise = void 0;
var loadExternalDiagrams = async (conf2) => {
  var _a, _b;
  if (loadingPromise === void 0) {
    log$1.debug(`Loading ${(_a = conf2 == null ? void 0 : conf2.lazyLoadedDiagrams) == null ? void 0 : _a.length} external diagrams`);
    loadingPromise = Promise.allSettled(
      ((_b = conf2 == null ? void 0 : conf2.lazyLoadedDiagrams) != null ? _b : []).map(async (url) => {
        const { id: id5, detector, loadDiagram } = await import(url);
        const { diagram } = await loadDiagram();
        registerDiagram(id5, diagram, detector, diagram.injectUtils);
      })
    );
  }
  await loadingPromise;
};
var initThrowsErrorsAsync = async function(config2, nodes, callback) {
  const conf2 = mermaidAPI.getConfig();
  const registerLazyLoadedDiagramsErrors = [];
  for (const registerResult of await registerLazyLoadedDiagrams(conf2)) {
    if (registerResult.status == "rejected") {
      registerLazyLoadedDiagramsErrors.push(registerResult.reason);
    }
  }
  if (config2) {
    mermaid.sequenceConfig = config2;
  }
  log$1.debug(`${!callback ? "No " : ""}Callback function found`);
  let nodesToProcess;
  if (typeof nodes === "undefined") {
    nodesToProcess = document.querySelectorAll(".mermaid");
  } else if (typeof nodes === "string") {
    nodesToProcess = document.querySelectorAll(nodes);
  } else if (nodes instanceof HTMLElement) {
    nodesToProcess = [nodes];
  } else if (nodes instanceof NodeList) {
    nodesToProcess = nodes;
  } else {
    throw new Error("Invalid argument nodes for mermaid.init");
  }
  log$1.debug(`Found ${nodesToProcess.length} diagrams`);
  if (typeof (config2 == null ? void 0 : config2.startOnLoad) !== "undefined") {
    log$1.debug("Start On Load: " + (config2 == null ? void 0 : config2.startOnLoad));
    mermaidAPI.updateSiteConfig({ startOnLoad: config2 == null ? void 0 : config2.startOnLoad });
  }
  const idGenerator = new utils.initIdGenerator(conf2.deterministicIds, conf2.deterministicIDSeed);
  let txt;
  const errors = [];
  for (const element of Array.from(nodesToProcess)) {
    log$1.info("Rendering diagram: " + element.id);
    if (element.getAttribute("data-processed")) {
      continue;
    }
    element.setAttribute("data-processed", "true");
    const id5 = `mermaid-${idGenerator.next()}`;
    txt = element.innerHTML;
    txt = utils.entityDecode(txt).trim().replace(/<br\s*\/?>/gi, "<br/>");
    const init22 = utils.detectInit(txt);
    if (init22) {
      log$1.debug("Detected early reinit: ", init22);
    }
    try {
      await mermaidAPI.renderAsync(
        id5,
        txt,
        (svgCode, bindFunctions2) => {
          element.innerHTML = svgCode;
          if (typeof callback !== "undefined") {
            callback(id5);
          }
          if (bindFunctions2)
            bindFunctions2(element);
        },
        element
      );
    } catch (error) {
      handleError(error, errors, mermaid.parseError);
    }
  }
  const allErrors = [...registerLazyLoadedDiagramsErrors, ...errors];
  if (allErrors.length > 0) {
    throw allErrors[0];
  }
};
var initialize = function(config2) {
  mermaidAPI.initialize(config2);
};
var initializeAsync = async function(config2) {
  if (config2.loadExternalDiagramsAtStartup) {
    await loadExternalDiagrams(config2);
  } else {
    await registerLazyLoadedDiagrams(config2);
  }
  mermaidAPI.initialize(config2);
};
var contentLoaded = function() {
  if (mermaid.startOnLoad) {
    const { startOnLoad } = mermaidAPI.getConfig();
    if (startOnLoad) {
      mermaid.init();
    }
  }
};
if (typeof document !== "undefined") {
  window.addEventListener("load", contentLoaded, false);
}
var setParseErrorHandler = function(newParseErrorHandler) {
  mermaid.parseError = newParseErrorHandler;
};
var parse3 = (txt) => {
  return mermaidAPI.parse(txt, mermaid.parseError);
};
var executionQueue = [];
var executionQueueRunning = false;
var executeQueue = async () => {
  if (executionQueueRunning) {
    return;
  }
  executionQueueRunning = true;
  while (executionQueue.length > 0) {
    const f2 = executionQueue.shift();
    if (f2) {
      try {
        await f2();
      } catch (e) {
        log$1.error("Error executing queue", e);
      }
    }
  }
  executionQueueRunning = false;
};
var parseAsync = (txt) => {
  return new Promise((resolve, reject) => {
    const performCall = () => new Promise((res, rej) => {
      mermaidAPI.parseAsync(txt, mermaid.parseError).then(
        (r) => {
          res(r);
          resolve(r);
        },
        (e) => {
          log$1.error("Error parsing", e);
          rej(e);
          reject(e);
        }
      );
    });
    executionQueue.push(performCall);
    executeQueue();
  });
};
var renderAsync = (id5, text2, cb, container) => {
  return new Promise((resolve, reject) => {
    const performCall = () => new Promise((res, rej) => {
      mermaidAPI.renderAsync(id5, text2, cb, container).then(
        (r) => {
          res(r);
          resolve(r);
        },
        (e) => {
          log$1.error("Error parsing", e);
          rej(e);
          reject(e);
        }
      );
    });
    executionQueue.push(performCall);
    executeQueue();
  });
};
var mermaid = {
  startOnLoad: true,
  diagrams: {},
  mermaidAPI,
  parse: parse3,
  parseAsync,
  render: mermaidAPI.render,
  renderAsync,
  init: init5,
  initThrowsErrors,
  initThrowsErrorsAsync,
  initialize,
  initializeAsync,
  parseError: void 0,
  contentLoaded,
  setParseErrorHandler
};

// dep:mermaid
var mermaid_default = mermaid;
export {
  mermaid_default as default
};
/*!
 * Wait for document loaded before starting the execution
 */
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */
/*! Check if previously processed */
/**
 * @license
 * Copyright (c) 2012-2013 Chris Pettitt
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
//# sourceMappingURL=mermaid.js.map
